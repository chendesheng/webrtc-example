webpackJsonp([3],{1001:function(t,e,n){"use strict";var o=n(392);n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i}),n.d(e,"e",function(){return r}),n.d(e,"c",function(){return s}),n.d(e,"d",function(){return l});var a=function(t,e){return{type:o.a,payload:e,meta:t}},i=function(t,e){return{type:o.d,payload:e,meta:t}},r=function(t,e){return{type:o.b,payload:e,meta:t}},s=function(t,e,n,a){return{type:o.e,payload:{fileName:n,url:e,isImage:a},meta:t}},l=function(t,e){return{type:o.c,payload:e,meta:t}}},1029:function(t,e,n){"use strict";var o=n(3),a=n.n(o),i=n(22),r=n.n(i),s=n(14),l=n.n(s),d=n(16),u=n.n(d),p=n(21),c=n.n(p),f=n(20),h=n.n(f),m=n(1),g=n.n(m),v=n(172),C=n(53),y=n(35),b=n.n(y),_=n(70),S=n(969),N=n.n(S),A=n(2),T=n(350),k=n(983),P=function(t){switch(t){case T.d:return"Audio Chat";case T.f:return"Audio Chat...";case T.e:return"Video Chat";case T.g:return"Video Chat...";case T.b:return"Audio Chat";default:return""}},w=function(t){return t===T.d||t===T.e},M=function(t){return t===T.d||t===T.e||t===T.f||t===T.g||t===T.b||t===T.c},I=function(t){return t===T.c},U=function(t){return t===T.b||t===T.c},E=function(t){return t===T.b||t===T.f||t===T.d?A.b.requestAudioChat:A.b.requestVideoChat},D=function(t,e){var n=t.getTime(),o=e.getTime();if(n<o)return"";var a=n-o;return v.default.utc(a).format(a<36e5?"mm:ss":"HH:mm:ss")},V=function(t){function e(t){l()(this,e);var n=c()(this,(e.__proto__||r()(e)).call(this,t));return U(t.audioVideoChatStatus)?n.state={timespan:D(new Date,t.audioVideoChatStartTime)}:n.state={timespan:""},n}return h()(e,t),u()(e,[{key:"componentWillMount",value:function(){U(this.props.audioVideoChatStatus)&&this.startClock()}},{key:"componentWillReceiveProps",value:function(t){var e=this.props.audioVideoChatStatus,n=t.audioVideoChatStatus;e!==n&&(U(e)&&!U(n)&&clearInterval(this.clock),!U(e)&&U(n)&&this.startClock())}},{key:"componentDidUpdate",value:function(){var t=this.props,e=t.p2pChat;if(null!=e&&I(t.audioVideoChatStatus)&&this.videoContainer){var n=e.getLocalVideo();n&&(n.id="localVideo",n.className=N.a.localVideo,null==document.getElementById(n.id)&&this.videoContainer.appendChild(n));var o=e.getRemoteVideo();o&&(o.id="remoteVideo",o.className=N.a.remoteVideo,null==document.getElementById(o.id)&&this.videoContainer.appendChild(o))}}},{key:"componentWillUnmount",value:function(){clearInterval(this.clock),this.props.p2pChat&&(this.props.p2pChat.getLocalVideo().remove(),this.props.p2pChat.getRemoteVideo().remove())}},{key:"startClock",value:function(){var t=this;this.clock=setInterval(function(){return t.setState({timespan:D(new Date,t.props.audioVideoChatStartTime)})},1e3)}},{key:"render",value:function(){var t=this,e=this.props,n=I(e.audioVideoChatStatus),o=this.state.timespan;return a()("div",{className:b()(N.a.chatVideoContainer,n&&N.a.videoChatting)},void 0,a()("div",{className:N.a.chatVideoItem},void 0,n&&g.a.createElement("div",{className:N.a.videoContainer,ref:function(e){t.videoContainer=e}}),n&&a()("div",{className:N.a.chattingInfo},void 0,a()("div",{className:N.a.time},void 0,o.toString())),!n&&a()("div",{className:N.a.avatarContainer},void 0,a()(k.a,{isContactOrUserOpen:e.isContactOrUserOpen,avatarLink:e.avatarLink,identityType:e.identityType})),!n&&a()("div",{className:N.a.visitorName},void 0,e.chatTo),!n&&a()("div",{className:N.a.notice},void 0,a()(_.a,{type:E(e.audioVideoChatStatus)}),P(e.audioVideoChatStatus)+" "+o),a()("div",{className:N.a.action},void 0,w(e.audioVideoChatStatus)&&a()(C.a,{className:N.a.accept,onClick:e.onAcceptClick,type:"noborder"},void 0,a()(_.a,{type:A.b.acceptChat})),M(e.audioVideoChatStatus)&&a()(C.a,{className:N.a.refuse,type:"noborder",onClick:e.onRefuseClick},void 0,a()(_.a,{type:A.b.refuseChat})))))}}]),e}(g.a.Component);e.a=V},1030:function(t,e,n){"use strict";var o=n(3),a=n.n(o),i=n(22),r=n.n(i),s=n(14),l=n.n(s),d=n(16),u=n.n(d),p=n(21),c=n.n(p),f=n(20),h=n.n(f),m=n(23),g=n.n(m),v=n(120),C=n.n(v),y=n(6),b=n.n(y),_=n(1),S=n.n(_),N=n(35),A=n.n(N),T=n(126),k=(n.n(T),n(381)),P=n(53),w=n(969),M=n.n(w),I=n(171),U=n(1031),E=n(2),D=n(70),V=n(1029),O=n(350),F=n(778),x=function(t){var e;return(e={},g()(e,k.b,M.a.chatContentsmall),g()(e,k.a,M.a.chatContentmiddle),g()(e,k.c,M.a.chatContentlarge),e)[t]},L=function(t){return b()(t.last())&&0!==t.last().length?t.last()[0].sender:""},R=function(t){return b()(t.last())&&0!==t.last().length?t.last()[t.last().length-1].message||t.last()[t.last().length-1].fileName:""},j=a()(P.a,{type:"noborder"},void 0,"Not Now"),W=function(t){function e(t){l()(this,e);var n=c()(this,(e.__proto__||r()(e)).call(this,t));return n.state={ifShowGotoMeetingNotify:!1},n.update=n.update.bind(n),n.selectChatMessage=n.selectChatMessage.bind(n),n.closeGotoMeetingNotify=n.closeGotoMeetingNotify.bind(n),n.scrollBottom=n.scrollBottom.bind(n),n.getScrollHeight=n.getScrollHeight.bind(n),n.canShowNotify=!1,n.scrollTop=t.scrollTop,n.timer=null,n.ifScrollBottom=!1,n.notifyVisitor=L(t.messages),n.notifyMessage=R(t.messages),n}return h()(e,t),u()(e,[{key:"componentDidMount",value:function(){this.parent.scrollTop=this.getScrollHeight(),this.parent.addEventListener("scroll",this.update,!1),document.body.addEventListener("keydown",this.selectChatMessage,!1)}},{key:"componentWillReceiveProps",value:function(t){var e=t.messages;this.notifyVisitor=L(e),this.notifyMessage=R(e),this.props.g2mStartUrl===t.g2mStartUrl||this.state.ifShowGotoMeetingNotify||this.setState({ifShowGotoMeetingNotify:!0}),this.scrollTop=t.scrollTop}},{key:"shouldComponentUpdate",value:function(t,e){return t.id!==this.props.id||t.selectedFontSize!==this.props.selectedFontSize||t.typingMessage!==this.props.typingMessage||t.textDirectionIfRTL!==this.props.textDirectionIfRTL||t.errorMessageForChat!==this.props.errorMessageForChat||t.g2mStartUrl!==this.props.g2mStartUrl||t.ifShowNotify!==this.props.ifShowNotify||t.audioVideoChatWidth!==this.props.audioVideoChatWidth||t.audioVideoChatStatus!==this.props.audioVideoChatStatus||e.ifShowGotoMeetingNotify!==this.state.ifShowGotoMeetingNotify||!C()(this.props.messages.toJS(),t.messages.toJS())}},{key:"componentDidUpdate",value:function(t){var e=this.props.messages;e===t.messages&&this.props.typingMessage===t.typingMessage||(this.parent.scrollTop=this.getScrollHeight())}},{key:"componentWillUnmount",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null),this.parent.removeEventListener("scroll",this.update),document.body.removeEventListener("keydown",this.selectChatMessage)}},{key:"getScrollHeight",value:function(){return this.scrollTop===-1?this.parent.scrollHeight:this.scrollTop}},{key:"update",value:function(t){var e=this;this.scrollTop=t.target.scrollTop;var n=t.target.clientHeight,o=t.target.scrollHeight;this.canShowNotify=this.scrollTop+n<o-20,!this.canShowNotify&&this.props.ifShowNotify&&this.props.updateIfShowNotify(!1),this.canShowNotify?this.ifScrollBottom=!1:(this.timer&&(clearTimeout(this.timer),this.timer=null),this.ifScrollBottom=!0,this.props.onScroll(this.props.id,-1)),this.props.onScroll&&!this.ifScrollBottom&&(this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout(function(){e.props.onScroll(e.props.id,e.scrollTop)},500))}},{key:"selectChatMessage",value:function(t){if(t.ctrlKey&&(65===t.keyCode||97===t.keyCode)&&(t.target===document.body||t.target===this.parent)){if(document.selection){var e=document.body.createTextRange();e.moveToElementText(this.parent),e.select()}else if(window.getSelection){var n=window.getSelection();n.rangeCount>0&&n.removeAllRanges();var o=document.createRange();o.selectNode(this.parent),n.addRange(o)}t.preventDefault(),t.stopPropagation()}}},{key:"closeGotoMeetingNotify",value:function(){this.setState({ifShowGotoMeetingNotify:!1}),this.props.clearG2mStartUrl()}},{key:"scrollBottom",value:function(){this.parent.scrollTop=this.container.getBoundingClientRect().height,this.ifScrollBottom=!0,this.props.onScroll(this.props.id,-1)}},{key:"render",value:function(){var t=this,e=this.props,n=a()("div",{className:M.a.chatContentContainer},void 0,S.a.createElement("div",{className:A()(M.a.chatContent,x(e.selectedFontSize),e.textDirectionIfRTL?M.a.directionRTL:"","contentMenu"),ref:function(e){t.parent=e}},S.a.createElement("div",{ref:function(e){t.container=e}},e.messages.map(function(e,n){return a()(U.a,{messages:e,getSecureFormContent:t.props.getSecureFormContent,timezone:t.props.timezone,timezoneOffset:t.props.timezoneOffset},n)})),""!==e.typingMessage?a()("div",{className:M.a.typingIndicator},void 0,a()("span",{},void 0,e.chatTo," is typing: "),e.typingMessage,"...",a()(D.a,{type:E.b.typing,size:13})):null),this.props.ifShowNotify&&this.props.scrollTop!==-1&&a()("div",{className:M.a.notify,onClick:this.scrollBottom},void 0,a()("span",{className:M.a.notifyName},void 0,this.notifyVisitor,":")," ",this.notifyMessage),e.g2mStartUrl&&this.state.ifShowGotoMeetingNotify?a()("div",{className:A()(M.a.notify,M.a.notifyG2M)},void 0,"You have created a new meeting.",a()("span",{className:M.a.action,onClick:this.closeGotoMeetingNotify},void 0,a()(I.a,{href:e.g2mStartUrl,newWindow:!0},void 0,"Start Meeting Immediately"),j)):"",e.errorMessageForChat?a()("div",{className:M.a.error},void 0,a()("span",{className:M.a.errorContent},void 0,e.errorMessageForChat),a()(P.a,{type:"noborder",onClick:e.hideErrorMessage},void 0,"Dismiss")):"");return a()("div",{className:M.a.chatContainer},void 0,e.audioVideoChatStatus&&e.audioVideoChatStatus!==O.a?a()(F.default,{resizerPosition:"left",width:e.audioVideoChatWidth,left_minWidth:110,right_minWidth:110,onStopResize:e.onAudioAndVideoStopResize},void 0,a()(V.a,{audioVideoChatStatus:e.audioVideoChatStatus,chatTo:e.chatTo,avatarLink:e.visitorAvatar,isContactOrUserOpen:e.isContactOrUserOpen,identityType:e.identityType,onAcceptClick:this.props.onAudioVideoChatAccept,onRefuseClick:this.props.onAudioVideoChatRefuse,p2pChat:e.p2pChat,audioVideoChatStartTime:e.audioVideoChatStartTime}),n):a()("div",{},void 0,n))}}]),e}(S.a.Component);e.a=W},1031:function(t,e,n){"use strict";var o=n(22),a=n.n(o),i=n(14),r=n.n(i),s=n(16),l=n.n(s),d=n(21),u=n.n(d),p=n(20),c=n.n(p),f=n(3),h=n.n(f),m=n(1),g=n.n(m),v=n(35),C=n.n(v),y=n(90),b=n(171),_=n(244),S=n(159),N=n(969),A=n.n(N),T=n(70),k=n(2),P=h()("i",{},void 0,"(Translation)"),w=h()("br",{}),M=h()("i",{},void 0,"(Original)"),I=function(t){if(t.translatedMessage&&""!==t.translatedMessage){var e="",n="";return e=S.e(t.translatedMessage,function(t,e){var n=0===t.indexOf("www.")?"http://"+t:t;return h()(b.a,{href:n,newWindow:!0},e,t)}),n=S.e(t.message,function(t,e){var n=0===t.indexOf("www.")?"http://"+t:t;return h()(b.a,{href:n,newWindow:!0},e,t)}),h()("p",{},t.id,e," ",P,w,h()("span",{className:A.a.translationMsg},void 0,n)," ",M)}return h()("p",{},t.id,S.e(t.message,function(t,e){var n=0===t.indexOf("www.")?"http://"+t:t;return h()(b.a,{href:n,newWindow:!0},e,t)}))},U=function(t){return t.url?h()("div",{},t.id,h()(b.a,{href:t.url,newWindow:!0},t.id,h()("img",{src:t.url,alt:t.filename,style:{maxWidth:400,maxHeight:400}}))):null},E=function(t){return h()("div",{},t.id,h()(b.a,{className:A.a.attachment,href:t.url,newWindow:!0},t.id,t.fileName))},D=function(t){return t.message?I(t):t.url?t.isImage?U(t):E(t):null},V=function(t){function e(){return r()(this,e),u()(this,(e.__proto__||a()(e)).apply(this,arguments))}return c()(e,t),l()(e,[{key:"componentDidMount",value:function(){var t=this.props.messages[0];t.type===_.d&&t.message.status===k.n.init&&this.props.getSecureFormContent(t.message.token,t.message.rsaKey)}},{key:"shouldComponentUpdate",value:function(t){return t.messages!==this.props.messages}},{key:"render",value:function(){var t=this.props.messages,e=t[0].sender,o=n.i(y.f)(t[0].time,"HH:mm",this.props.timezone,this.props.timezoneOffset),a=t[0].type;return a===_.b?h()("div",{className:C()(A.a.systemMeg)},void 0,t[0].message):h()("div",{className:C()(A.a.chatContentInfo,a===_.c?A.a.operator:A.a.visitor)},void 0,a===_.d?h()("div",{className:A.a.secureForm},void 0,t[0].message.status===k.n.downloading||t[0].message.status===k.n.init?h()(T.a,{type:k.b.loading,size:"small"}):t[0].message.content.map(function(t){return h()("div",{},void 0,t.name,": ",t.value)})):h()("div",{},void 0,h()("div",{},void 0,h()("span",{className:A.a.name},void 0,e+": "),h()("span",{className:A.a.time},void 0,o)),h()("div",{className:A.a.chatMeg},void 0,t.map(function(t){return D(t)}))))}}]),e}(g.a.Component);e.a=V},1032:function(t,e,n){"use strict";var o=n(3),a=n.n(o),i=n(1),r=(n.n(i),n(1056)),s=n.n(r),l=(n(53),function(t){return a()("div",{className:s.a.uploadProgressContainer},void 0,t.fileUploadProgressNumber>0&&t.fileUploadProgressNumber<100?a()("div",{className:s.a.uploadProgress},void 0,a()("span",{className:s.a.uploadFileName},void 0,t.fileName),a()("span",{className:s.a.uploadProgressPercent},void 0,t.fileUploadProgressNumber,"%"),a()("button",{className:s.a.cancelUpload,onClick:function(){return t.handleAbortUpload(t.file)}},void 0,"×")):"")});e.a=l},1034:function(t,e,n){"use strict";var o=n(48),a=n.n(o),i=n(3),r=n.n(i),s=n(22),l=n.n(s),d=n(14),u=n.n(d),p=n(16),c=n.n(p),f=n(21),h=n.n(f),m=n(20),g=n.n(m),v=n(394),C=n.n(v),y=n(1),b=n.n(y),_=n(35),S=n.n(_),N=n(1328),A=n.n(N),T=n(222),k=n.n(T),P=n(70),w=n(2),M=n(17),I=n(1032),U=n.i(M.e)("SendFile",["disabled"],["file","fileName","fileUploadProgressNumber","uploadedFileNumber","errorMessage"]),E=function(t){function e(t){u()(this,e);var o=h()(this,(e.__proto__||l()(e)).call(this,t));return o.beforeUpload=function(t){var e=o.props.siteInfo;return t.size<=1024*e.maxFileSize*1024?o.state.uploadedFileNumber>e.maxFileNum?(o.showErrorMessage("Error sending file: The max number of files you can send/receive during this chat session is\n                          "+e.maxFileNum+"."),!1):!o.props.beforeUpload||o.props.beforeUpload(t):(o.showErrorMessage("Error sending file: The max file size is "+e.maxFileSize+" MB."),!1)},o.onProgress=function(t,e){o.props.onProgress&&o.props.onProgress(t,e,o.upload),o.setState({file:e,fileName:e.name,fileUploadProgressNumber:100===t.percent?100:parseFloat(t.percent.toFixed(1))})},o.onSuccess=function(t,e){if(t&&("success"===t||t.isSuccess))return o.setState({uploadedFileNumber:o.state.uploadedFileNumber+1}),void(o.props.onSuccess&&o.props.onSuccess(t,e,o.getDownloadUrl(t.guid,e.name),o.props.siteInfo));var n=t.errorMessage||t;o.showErrorMessage("Error sending file: "+n)},o.getDownloadUrl=function(t,e){if(!o.props.siteInfo)return"";var a=o.props.siteInfo,i=a.downloadUrl,r=a.sessionId,s=a.siteId,l=a.privateMessage;return n.i(M.m)(i,r,s,l,t,e)},o.handleAbortUpload=function(t){o.upload&&o.upload.abort(t),o.setState({fileUploadProgressNumber:0})},o.state={file:null,fileName:"",fileUploadProgressNumber:0,uploadedFileNumber:0,errorMessage:""},o.upload=null,o.showErrorMessage=t.showErrorMessage.bind(null,t.chatId),o.uploadConfig={action:t.siteInfo.sendFileUploadUrl,multiple:!1,disabled:t.disabled,beforeUpload:o.beforeUpload,onStart:t.onStart||C.a,onSuccess:o.onSuccess,onProgress:o.onProgress,onError:t.onError||C.a},o}return g()(e,t),c()(e,[{key:"componentWillReceiveProps",value:function(t){this.uploadConfig.action=t.siteInfo.sendFileUploadUrl,this.uploadConfig.disabled=t.disabled,t.chatId!==this.props.chatId&&(this.showErrorMessage=this.props.showErrorMessage.bind(null,t.chatId))}},{key:"shouldComponentUpdate",value:function(t,e){return U(this.props,t,this.state,e)}},{key:"render",value:function(){var t=this;return this.uploadConfig.disabled=this.props.disabled,this.props.disabled||(100!==this.state.fileUploadProgressNumber&&0!==this.state.fileUploadProgressNumber?this.uploadConfig.disabled=!0:this.uploadConfig.disabled=!1),r()("div",{},void 0,r()(I.a,{file:this.state.file,fileName:this.state.fileName,fileUploadProgressNumber:this.state.fileUploadProgressNumber,handleAbortUpload:this.handleAbortUpload}),r()("span",{className:S()(k.a.fileupload,this.props.className),"data-tip":"Send a file from your local machine.","data-for":"chatContainer"},void 0,b.a.createElement(A.a,a()({ref:function(e){t.upload=e}},this.uploadConfig),r()(P.a,{type:w.b.sendFile}))))}}]),e}(y.Component);e.a=E},1039:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return i});var o=2,a=3,i=6},1056:function(t,e){t.exports={uploadProgressContainer:"FileUploadProgress__uploadProgressContainer--2X8I6",uploadProgress:"FileUploadProgress__uploadProgress--z1S5B",uploadProgressPercent:"FileUploadProgress__uploadProgressPercent--2Kuai",uploadProgressBarContainer:"FileUploadProgress__uploadProgressBarContainer--1y0Vz",uploadProgressBar:"FileUploadProgress__uploadProgressBar--1Y9LY",cancelUpload:"FileUploadProgress__cancelUpload--1YVmG",uploadFileName:"FileUploadProgress__uploadFileName--3j-Sc"}},1325:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(48),i=o(a),r=n(23),s=o(r),l=n(1),d=o(l),u=n(35),p=o(u),c=n(1329),f=o(c),h=n(999),m=o(h),g=d.default.createClass({displayName:"AjaxUploader",propTypes:{component:l.PropTypes.string,style:l.PropTypes.object,prefixCls:l.PropTypes.string,className:l.PropTypes.string,multiple:l.PropTypes.bool,disabled:l.PropTypes.bool,accept:l.PropTypes.string,children:l.PropTypes.any,onStart:l.PropTypes.func,data:l.PropTypes.oneOfType([l.PropTypes.object,l.PropTypes.func]),headers:l.PropTypes.object,beforeUpload:l.PropTypes.func,customRequest:l.PropTypes.func,withCredentials:l.PropTypes.bool},getInitialState:function(){return this.reqs={},{uid:(0,m.default)()}},componentWillUnmount:function(){this.abort()},onChange:function(t){var e=t.target.files;this.uploadFiles(e),this.reset()},onClick:function(){var t=this.refs.file;t&&t.click()},onKeyDown:function(t){"Enter"===t.key&&this.onClick()},onFileDrop:function(t){if("dragover"===t.type)return void t.preventDefault();var e=t.dataTransfer.files;this.uploadFiles(e),t.preventDefault()},uploadFiles:function(t){for(var e=Array.prototype.slice.call(t),n=e.length,o=0;o<n;o++){var a=e[o];a.uid=(0,m.default)(),this.upload(a,e)}},upload:function(t,e){var n=this,o=this.props;if(!o.beforeUpload)return setTimeout(function(){return n.post(t)},0);var a=o.beforeUpload(t,e);a&&a.then?a.then(function(e){var o=Object.prototype.toString.call(e);"[object File]"===o||"[object Blob]"===o?n.post(e):n.post(t)}):a!==!1&&setTimeout(function(){return n.post(t)},0)},post:function(t){var e=this;if(this.isMounted()){var n=this.props,o=n.data,a=n.onStart;"function"==typeof o&&(o=o(t));var i=t.uid,r=n.customRequest||f.default;this.reqs[i]=r({action:n.action,filename:n.name,file:t,data:o,headers:n.headers,withCredentials:n.withCredentials,onProgress:function(e){n.onProgress(e,t)},onSuccess:function(o){delete e.reqs[i],n.onSuccess(o,t)},onError:function(o,a){delete e.reqs[i],n.onError(o,a,t)}}),a(t)}},reset:function(){this.setState({uid:(0,m.default)()})},abort:function(t){var e=this.reqs;if(t){var n=t;t&&t.uid&&(n=t.uid),e[n]&&(e[n].abort(),delete e[n])}else Object.keys(e).forEach(function(t){e[t].abort(),delete e[t]})},render:function(){var t,e=this.props,n=e.component,o=e.prefixCls,a=e.className,r=e.disabled,l=e.style,u=e.multiple,c=e.accept,f=e.children,h=(0,p.default)((t={},(0,s.default)(t,o,!0),(0,s.default)(t,o+"-disabled",r),(0,s.default)(t,a,a),t)),m=r?{}:{onClick:this.onClick,onKeyDown:this.onKeyDown,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,tabIndex:"0"};return d.default.createElement(n,(0,i.default)({},m,{className:h,role:"button",style:l}),d.default.createElement("input",{type:"file",ref:"file",key:this.state.uid,style:{display:"none"},accept:c,multiple:u,onChange:this.onChange}),f)}});e.default=g,t.exports=e.default},1326:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(23),i=o(a),r=n(48),s=o(r),l=n(1),d=o(l),u=n(89),p=o(u),c=n(35),f=o(c),h=n(999),m=o(h),g=n(1330),v=o(g),C={position:"absolute",top:0,opacity:0,filter:"alpha(opacity=0)",left:0,zIndex:9999},y=d.default.createClass({displayName:"IframeUploader",propTypes:{component:l.PropTypes.string,style:l.PropTypes.object,disabled:l.PropTypes.bool,prefixCls:l.PropTypes.string,className:l.PropTypes.string,accept:l.PropTypes.string,onStart:l.PropTypes.func,multiple:l.PropTypes.bool,children:l.PropTypes.any,data:l.PropTypes.oneOfType([l.PropTypes.object,l.PropTypes.func]),action:l.PropTypes.string,name:l.PropTypes.string},getInitialState:function(){return this.file={},{uploading:!1}},componentDidMount:function(){this.updateIframeWH(),this.initIframe()},componentDidUpdate:function(){this.updateIframeWH()},onLoad:function(){if(this.state.uploading){var t=this.props,e=this.file,n=void 0;try{var o=this.getIframeDocument(),a=o.getElementsByTagName("script")[0];a&&a.parentNode===o.body&&o.body.removeChild(a),n=o.body.innerHTML,t.onSuccess(n,e)}catch(o){(0,v.default)(!1,"cross domain error for Upload. Maybe server should return document.domain script. see Note from https://github.com/react-component/upload"),n="cross-domain",t.onError(o,null,e)}this.endUpload()}},onChange:function(){var t=this,e=this.getFormInputNode(),n=this.file={uid:(0,m.default)(),name:e.value};this.startUpload();var o=this.props;if(!o.beforeUpload)return this.post(n);var a=o.beforeUpload(n);a&&a.then?a.then(function(){t.post(n)},function(){t.endUpload()}):a!==!1?this.post(n):this.endUpload()},getIframeNode:function(){return this.refs.iframe},getIframeDocument:function(){return this.getIframeNode().contentDocument},getFormNode:function(){return this.getIframeDocument().getElementById("form")},getFormInputNode:function(){return this.getIframeDocument().getElementById("input")},getFormDataNode:function(){return this.getIframeDocument().getElementById("data")},getFileForMultiple:function(t){return this.props.multiple?[t]:t},getIframeHTML:function(t){var e="",n="";return t&&(e='<script>document.domain="'+t+'";</script>',n='<input name="_documentDomain" value="'+t+'" />'),'\n    <!DOCTYPE html>\n    <html>\n    <head>\n    <meta http-equiv="X-UA-Compatible" content="IE=edge" />\n    <style>\n    body,html {padding:0;margin:0;border:0;overflow:hidden;}\n    </style>\n    '+e+'\n    </head>\n    <body>\n    <form method="post"\n    encType="multipart/form-data"\n    action="'+this.props.action+'" id="form"\n    style="display:block;height:9999px;position:relative;overflow:hidden;">\n    <input id="input" type="file"\n     name="'+this.props.name+'"\n     style="position:absolute;top:0;right:0;height:9999px;font-size:9999px;cursor:pointer;"/>\n    '+n+'\n    <span id="data"></span>\n    </form>\n    </body>\n    </html>\n    '},initIframeSrc:function(){this.domain&&(this.getIframeNode().src="javascript:void((function(){\n        var d = document;\n        d.open();\n        d.domain='"+this.domain+"';\n        d.write('');\n        d.close();\n      })())")},initIframe:function(){var t=this.getIframeNode(),e=t.contentWindow,n=void 0;this.domain=this.domain||"",this.initIframeSrc();try{n=e.document}catch(o){this.domain=document.domain,this.initIframeSrc(),e=t.contentWindow,n=e.document}n.open("text/html","replace"),n.write(this.getIframeHTML(this.domain)),n.close(),this.getFormInputNode().onchange=this.onChange},endUpload:function(){this.state.uploading&&(this.file={},this.state.uploading=!1,this.setState({uploading:!1}),this.initIframe())},startUpload:function(){this.state.uploading||(this.state.uploading=!0,this.setState({uploading:!0}))},updateIframeWH:function(){var t=p.default.findDOMNode(this),e=this.getIframeNode();e.style.height=t.offsetHeight+"px",e.style.width=t.offsetWidth+"px"},abort:function(t){if(t){var e=t;t&&t.uid&&(e=t.uid),e===this.file.uid&&this.endUpload()}else this.endUpload()},post:function(t){var e=this.getFormNode(),n=this.getFormDataNode(),o=this.props.data,a=this.props.onStart;"function"==typeof o&&(o=o(t));var i=[];for(var r in o)o.hasOwnProperty(r)&&i.push('<input name="'+r+'" value="'+o[r]+'"/>');n.innerHTML=i.join(""),e.submit(),n.innerHTML="",a(t)},render:function(){var t,e=this.props,n=e.component,o=e.disabled,a=e.className,r=e.prefixCls,l=e.children,u=e.style,p=(0,s.default)({},C,{display:this.state.uploading||o?"none":""}),c=(0,f.default)((t={},(0,i.default)(t,r,!0),(0,i.default)(t,r+"-disabled",o),(0,i.default)(t,a,a),t));return d.default.createElement(n,{className:c,style:(0,s.default)({position:"relative",zIndex:0},u)},d.default.createElement("iframe",{ref:"iframe",onLoad:this.onLoad,style:p}),l)}});e.default=y,t.exports=e.default},1327:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function a(){}Object.defineProperty(e,"__esModule",{value:!0});var i=n(48),r=o(i),s=n(1),l=o(s),d=n(1325),u=o(d),p=n(1326),c=o(p),f=l.default.createClass({displayName:"Upload",propTypes:{component:s.PropTypes.string,style:s.PropTypes.object,prefixCls:s.PropTypes.string,action:s.PropTypes.string,name:s.PropTypes.string,multipart:s.PropTypes.bool,onError:s.PropTypes.func,onSuccess:s.PropTypes.func,onProgress:s.PropTypes.func,onStart:s.PropTypes.func,data:s.PropTypes.oneOfType([s.PropTypes.object,s.PropTypes.func]),headers:s.PropTypes.object,accept:s.PropTypes.string,multiple:s.PropTypes.bool,disabled:s.PropTypes.bool,beforeUpload:s.PropTypes.func,customRequest:s.PropTypes.func,onReady:s.PropTypes.func,withCredentials:s.PropTypes.bool,supportServerRender:s.PropTypes.bool},getDefaultProps:function(){return{component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onProgress:a,onReady:a,onStart:a,onError:a,onSuccess:a,supportServerRender:!1,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1}},getInitialState:function(){return{Component:null}},componentDidMount:function(){this.props.supportServerRender&&this.setState({Component:this.getComponent()},this.props.onReady)},getComponent:function(){return"undefined"!=typeof FormData?u.default:c.default},abort:function(t){this.refs.inner.abort(t)},render:function(){if(this.props.supportServerRender){var t=this.state.Component;return t?l.default.createElement(t,(0,r.default)({},this.props,{ref:"inner"})):null}var e=this.getComponent();return l.default.createElement(e,(0,r.default)({},this.props,{ref:"inner"}))}});e.default=f,t.exports=e.default},1328:function(t,e,n){"use strict";t.exports=n(1327)},1329:function(t,e,n){"use strict";function o(t,e){var n="cannot post "+t.action+" "+e.status+"'",o=new Error(n);return o.status=e.status,o.method="post",o.url=t.action,o}function a(t){var e=t.responseText||t.response;if(!e)return e;try{return JSON.parse(e)}catch(t){return e}}function i(t){var e=new XMLHttpRequest;e.upload&&(e.upload.onprogress=function(e){e.total>0&&(e.percent=e.loaded/e.total*100),t.onProgress(e)});var n=new FormData;t.data&&Object.keys(t.data).map(function(e){n.append(e,t.data[e])}),n.append(t.filename,t.file),e.onerror=function(e){t.onError(e)},e.onload=function(){return e.status<200||e.status>=300?t.onError(o(t,e),a(e)):void t.onSuccess(a(e))},e.open("post",t.action,!0),t.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);var i=t.headers||{};null!==i["X-Requested-With"]&&e.setRequestHeader("X-Requested-With","XMLHttpRequest");for(var r in i)i.hasOwnProperty(r)&&null!==i[r]&&e.setRequestHeader(r,i[r]);return e.send(n),{abort:function(){e.abort()}}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i,t.exports=e.default},1330:function(t,e,n){"use strict";var o=function(){};t.exports=o},1336:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAilBMVEXk4+Hrxq/+/v/7+/v////c29kAAADh4N770rTl5OL19fX9/f75+Pnj4uDe3dvg393w8PDr6ur30bbX1tUuJkLj1szw1MAmIyHyy69TT1Da2dfTsZc8NzQSEhHpwqfx39S6nIfOzcx+bmJ+e4FkY2bsyrTAvrvz6OGop6XU09GfhXKZlpg8OUXTwbuiAaQiAAACS0lEQVRIx5XW6XqrIBAGYFwARQTRuGY1SbP23P/tncE0apSS9PuTBnmfYWgLIv/PQf41a/DHabIrkAwL+nEEzoA0gsYfh4oGCKZxaAiCzEdjin8jKIZVxOhjoufLrK4FRR8SROX1cCkJuYhZITOB0cOarAmkPsFmorckpu2K9Cl1pTcE0bYk43y34+cGgmj2KghZn0YTDCSWRzLNuh36mRNET3rSfrlxNstNGlQ7vQ21jG0EipRVMCTVe9HS30ksVqRMg3EqIPd+ZSZSkmXwmhshBzspJyJYEnLsmzGS/ZRsxv0be9lNSVBCFdvC6uWMrMjF1ovcz0lt3WQk73OyX2Hb70WebjNy21uJSOft73a5lQTOjGwqO0kDQ4S1l8IgCmH9S84NZXLb/wusrDAUsRIoYytiPC7mZdKh+d9OmNxSxHyO0UmZAtPwDYnFy6aluXh39EGV3BlM6uTiXRVE8dbpTeo4Z2zvBa4JrM6O41QdqOAntsWj839KAEh89viXM2TrRYmQPXohqAMhj7zoPIgv7rqupzqEXom+uIRQPHLdyPWLoYjvg3G5ovqmQQPRBQRKvCjSz32/X1rRvRvAWBQloUZPAjejVNx7iG4Se5gi8gfjMY1kR6QUIeO8E8+XDl48VuWPDU9g8d29Dz1MBUT9U6NvP4bFWJMGS85+ljXMOSwWi6M3Nh1hQr+QZI1iTButnkkWOmo0op8DCa/dm1LCWAJL61T3hCe8BvENn6NBGGaJ0qTFKkkUsD762x3IgTHFxlGJUnphf85/sQNaCyykOPwAAAAASUVORK5CYII="},1337:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAA81BMVEXl5OLk4+HkroMAAADj4uDc29npvZX///8AABXh4N7sw53rwZrg390AABTwyqbqv5jxzartxaDvyKPf3twJCQni4d/z0K7Z2Nbms4jjrX/01LPnvJUIBxwhICDz17wzNDQaGhr29fXnuI4SEhHjxan8/PzW1dNQUFQVFSjfqHTs6uplMFDgzryVkJjJyMe/v751dXng1MmTdFvYomjhuJO6s7NfX2uPi4o3NUNDNSivrq+/mHenpqh9fIVjX14oKDlzW0bR0dNuPVpAQE5TQjTTpoHTnV6dnZuHX3iEZ0/x5NjWy8NVHECfhW1nUD17UGykgGLFXp0kAAADGUlEQVRIx5XWZ3uqMBgGYGNYgTgBcRQBEfVo3VWrnXavM/7/rzlvQCm2iPb5ULgCt29CSkhK/HFSYssw+KNjGC0gBq+So6PyBiOqzh0dXWWEJ1wqNiimjSP8XoLgFzl0PEGcTuhsQb6bfQTpZLh6tvBK/VYoniBoXmiWaWPtmadfKsUSEEMLa5ptuq5rX7eojg4QxNFLDWuuZpqWbdmmNdq5Hkc4AsJ2Xc3WTCZMyxpGboghiAxcIJqG4WCy/rmmPSAogXBqG7sYm39ub5cPk3+TJbaxa6n6foLIEGP88JgO82hCw3NYJo6MMH7d3l4uw58KFG1Tbj+h13gZ3F5TZIhQTl9AP9X9hKNtfMGAoMiFYjabLcpCGp55OJhYojGRUwDkS5BsIbc8QK6XvpB9Ua1XwdwmEhj+7bZX+VK1Wq9X88UJthLGgkh/khaCIoxAStmL5CdGZpOGEIwkIKV89hEvEufFeBWEnBwQGEwJiKwNEsnpJCAbU8rni4WHJkUJT6x5IbCxsEnJ+4Gp+d2kSVPZPNsQNpEAssWCfJZUBToWkI3xhXI2ThzLuCZsDCBIQZZzNV5PfF+aQmhYQAifQ4l/Kw2f5BT/H1mWlZyg8Ilv5baMj1hygnBKueQVhoyFjWFhJ3xkWYpdx7ZlwkSL7Fn6yDgXFdGR7CXv04g4ezpMOPX0aVrbivJTenygY7C+tmbl6bThg1plOq0v+MhS/o3Ad4UOzq/GvyCVSsU/OOfXBg0/GrsEwZpPjauONHcalTB18Ua66Rvso4G+EPbhUgejjiRJbfGtvI3iiaypM5+phJX6JKxAq38v+TkXxXojSK0riiebViilo5AgnQ7bm0vwk7CDqPvDl0E4Uth+xRNCA6Lr6lUIIA6Yt7xcqLOTdeTCzUpVA0LoXIpmwHYqzrvqseNl9MrJwt9d8FRdSdEiUp/tbV56vT70SxztEOnS35Dw/PkumXte92/vrvdBup53v0vu/W2PsYLzqLnxnO5L7+7uw+k6XmdHZKQhkHVrnslkTjKfkVJrZwZVXhyntY60+zeNgPw4/wFHP2pKD6eidQAAAABJRU5ErkJggg=="},1346:function(t,e,n){"use strict";var o=n(3),a=n.n(o),i=n(22),r=n.n(i),s=n(14),l=n.n(s),d=n(16),u=n.n(d),p=n(21),c=n.n(p),f=n(20),h=n.n(f),m=n(120),g=n.n(m),v=n(1),C=n.n(v),y=n(967),b=n.n(y),_=n(1462),S=(n(2),function(t){function e(){return l()(this,e),c()(this,(e.__proto__||r()(e)).apply(this,arguments))}return h()(e,t),u()(e,[{key:"shouldComponentUpdate",value:function(t){return!g()(t.agents,this.props.agents)}},{key:"render",value:function(){var t=this;return a()("div",{className:b.a.listsection},void 0,this.props.agents.map(function(e){return a()(_.a,{agent:e,onItemClick:t.props.onItemClick},e.id)}))}}]),e}(C.a.Component));e.a=S},1459:function(t,e,n){"use strict";var o=n(3),a=n.n(o),i=n(1),r=(n.n(i),n(967)),s=n.n(r),l=n(1346),d=n(1461),u=(n(2),function(t){return a()("div",{className:s.a.agentsSection},void 0,t.isDepartment?t.agentData.map(function(e){return a()(d.a,{department:e,onDepartmentClick:t.onDepartmentClick,onItemClick:t.onItemClick},e.id)}):a()(l.a,{agents:t.agentData,onItemClick:t.onItemClick}))});e.a=u},1460:function(t,e,n){"use strict";var o=n(3),a=n.n(o),i=n(22),r=n.n(i),s=n(14),l=n.n(s),d=n(16),u=n.n(d),p=n(21),c=n.n(p),f=n(20),h=n.n(f),m=n(137),g=n.n(m),v=n(1),C=(n.n(v),n(35)),y=n.n(C),b=n(967),_=n.n(b),S=n(983),N=n(1463),A=n(53),T=function(t){function e(t){l()(this,e);var n=c()(this,(e.__proto__||r()(e)).call(this));return n.avatarLink=g()(t.agent.avatarLink)?"":t.agent.avatarLink+"&"+Date.now(),n}return h()(e,t),u()(e,[{key:"componentWillReceiveProps",value:function(t){return g()(t.agent.avatarLink)?void(this.avatarLink=""):void(this.avatarLink=t.agent.avatarLink+"&"+Date.now())}},{key:"shouldComponentUpdate",value:function(t){return this.props.agent.avatarLink!==t.agent.avatarLink||this.props.agent.name!==t.agent.name||this.props.agent.ifDisableKickOff!==t.agent.ifDisableKickOff||this.props.agent.ifDisableSetAway!==t.agent.ifDisableSetAway}},{
key:"render",value:function(){var t=this;return a()("div",{},void 0,a()("div",{className:_.a.avatar},void 0,a()(S.a,{avatarLink:this.avatarLink}),a()("span",{},void 0,this.props.agent.name)),a()("div",{className:_.a.toolbar},void 0,a()(N.a,{onKickOff:function(){return t.props.onKickOff(t.props.agent)},className:_.a.commonbtn,disabled:this.props.agent.ifDisableKickOff}),a()(A.a,{text:"Set Away",type:"default",disabled:this.props.agent.ifDisableSetAway,onClick:function(){return t.props.onSetAway(t.props.agent)},className:y()(_.a.commonbtn,this.props.agent.ifDisableSetAway&&_.a.disable)})))}}]),e}(v.Component);e.a=T},1461:function(t,e,n){"use strict";var o=n(3),a=n.n(o),i=n(22),r=n.n(i),s=n(14),l=n.n(s),d=n(16),u=n.n(d),p=n(21),c=n.n(p),f=n(20),h=n.n(f),m=n(120),g=n.n(m),v=n(1),C=n.n(v),y=n(35),b=n.n(y),_=n(967),S=n.n(_),N=n(70),A=n(2),T=n(1346),k=function(t){function e(){return l()(this,e),c()(this,(e.__proto__||r()(e)).apply(this,arguments))}return h()(e,t),u()(e,[{key:"shouldComponentUpdate",value:function(t){return t.department.name!==this.props.department.name||t.department.selected!==this.props.department.selected||t.department.opened!==this.props.department.opened||!g()(this.props.department.agents,t.department.agents)}},{key:"render",value:function(){var t=this;return a()("div",{className:b()(S.a.departmentsection,this.props.department.selected&&S.a.selectedDpt,this.props.department.opened&&S.a.opened)},void 0,a()("div",{className:S.a.departmentitem,onClick:function(e){e.stopPropagation(),t.props.onDepartmentClick(t.props.department)}},void 0,a()("div",{className:S.a.icon},void 0,this.props.department.agents.length>0&&a()(N.a,{type:A.b.arrowDown,className:S.a.depSpread})),a()("div",{className:S.a.description},void 0,a()("span",{},void 0,this.props.department.name),a()("span",{className:S.a.departmentNum},void 0,"(Online: "+this.props.department.onlineNum+", Away: "+this.props.department.awayNum+")"))),this.props.department.opened&&a()(T.a,{agents:this.props.department.agents,onItemClick:this.props.onItemClick}))}}]),e}(C.a.Component);e.a=k},1462:function(t,e,n){"use strict";var o=n(3),a=n.n(o),i=n(22),r=n.n(i),s=n(14),l=n.n(s),d=n(16),u=n.n(d),p=n(21),c=n.n(p),f=n(20),h=n.n(f),m=n(120),g=n.n(m),v=n(1),C=n.n(v),y=n(35),b=n.n(y),_=n(967),S=n.n(_),N=n(70),A=(n(2),n(831)),T=function(t){function e(){return l()(this,e),c()(this,(e.__proto__||r()(e)).apply(this,arguments))}return h()(e,t),u()(e,[{key:"shouldComponentUpdate",value:function(t){return!g()(t.agent,this.props.agent)}},{key:"render",value:function(){var t=this;return a()("div",{className:b()(S.a.agentitem,this.props.agent.selected&&S.a.selected),onClick:function(e){e.stopPropagation(),t.props.onItemClick(t.props.agent)}},void 0,a()(N.a,{type:this.props.agent.icon.type,color:this.props.agent.icon.color,size:16}),a()("span",{className:S.a.agentName},void 0,this.props.agent.name),a()("span",{className:S.a.agentDescription},void 0,this.props.agent.description),a()(A.a,{number:this.props.agent.unreadMessage,customClass:S.a.unreadmessage}))}}]),e}(C.a.Component);e.a=T},1463:function(t,e,n){"use strict";var o=n(3),a=n.n(o),i=n(22),r=n.n(i),s=n(14),l=n.n(s),d=n(16),u=n.n(d),p=n(21),c=n.n(p),f=n(20),h=n.n(f),m=n(1),g=n.n(m),v=n(35),C=n.n(v),y=n(53),b=n(967),_=n.n(b),S=n(1499),N=function(t){function e(){l()(this,e);var t=c()(this,(e.__proto__||r()(e)).call(this));return t.state={open:!1},t.openModal=t.openModal.bind(t),t.closeModal=t.closeModal.bind(t),t}return h()(e,t),u()(e,[{key:"closeModal",value:function(){this.setState({open:!1})}},{key:"openModal",value:function(){this.setState({open:!0})}},{key:"render",value:function(){var t=this;return a()("div",{className:this.props.className},void 0,a()(y.a,{text:"Kick Off",type:"default",className:C()(_.a.btnAction,this.props.disabled&&_.a.disable),disabled:this.props.disabled,onClick:function(){return t.openModal()}}),this.state.open&&a()(S.a,{onKickOff:this.props.onKickOff,closeModal:this.closeModal}))}}]),e}(g.a.Component);e.a=N},1464:function(t,e,n){"use strict";var o=n(3),a=n.n(o),i=n(1),r=(n.n(i),n(967)),s=n.n(r),l=a()("h1",{},void 0,"You are alone here :("),d=function(t){return a()("div",{className:s.a.noDataSection},void 0,a()("div",{},void 0,l,"Need more hands? ",a()("span",{onClick:function(){return t.addMoreAgents(t.siteInfo)}},void 0,"Add Agents Now.")))};e.a=d},1499:function(t,e,n){"use strict";var o=n(3),a=n.n(o),i=n(22),r=n.n(i),s=n(14),l=n.n(s),d=n(16),u=n.n(d),p=n(21),c=n.n(p),f=n(20),h=n.n(f),m=n(1),g=n.n(m),v=n(101),C=n(100),y=n.n(C),b=a()("br",{}),_=function(t){function e(t){l()(this,e);var n=c()(this,(e.__proto__||r()(e)).call(this,t));return n.handleKickOff=n.handleKickOff.bind(n),n}return h()(e,t),u()(e,[{key:"handleKickOff",value:function(){this.props.onKickOff(),this.props.closeModal()}},{key:"render",value:function(){var t=this;return a()(v.a,{closeModal:this.props.closeModal,title:"Comm100 Live Chat",actions:{okProps:{text:"Yes",eventClick:function(){t.handleKickOff()}},cancelProps:{text:"No"}}},void 0,a()("span",{className:y.a.description},void 0,"If you kick off this agent, his ongoing chats will be ended.",b,"Are you sure you want to continue?"))}}]),e}(g.a.Component);e.a=_},1578:function(t,e,n){"use strict";function o(t,e,o){return n.i(v.l)(t,e,o,1,n.i(C.a)())}var a=n(4),i=n.n(a),r=n(52),s=n.n(r),l=n(994),d=n.n(l),u=n(71),p=(n.n(u),n(1034)),c=n(5),f=n(986),h=n(133),m=n(1001),g=n(72),v=n(17),C=n(629),y=n(2),b={},_=function(t){if(d()(c._41(t))||c._41(t)===y.l)return{chatId:y.l,ifDisplay:!0,disabled:!0,siteInfo:{}};var e=f.a(t),n=s()(e,2),a=n[0],r=n[1];if(!f.b(t,a,r)){var l=i()({},b);return l.disabled=!0,l}var u=c._73(t),p=c._75(t),h=c.F(t),m=o(u,p,h);return b={chatId:r,ifDisplay:!0,disabled:!f.c(t,a,r),siteInfo:{id:r,isAgent:a,sendFileUploadUrl:m,sessionId:p,siteId:h,privateMessage:1,sendToIds:f.d(t,a,r),downloadUrl:c._74(t),maxFileSize:c.Y(t)}}},S=function(t){return{onSuccess:function(e,o,a,i){t(m.c(f.e(i.id,i.sendToIds,i.isAgent),a,o.name,n.i(h.b)(o.name))),i.sendToIds.forEach(function(n){t(g.v(n,o.name,e.guid))})},showErrorMessage:function(e,n){t(m.d(e,n))}}};e.a=n.i(u.connect)(_,S)(p.a)},1579:function(t,e,n){"use strict";var o=n(48),a=n.n(o),i=n(994),r=n.n(i),s=n(71),l=(n.n(s),n(126)),d=n.n(l),u=n(1030),p=n(1001),c=n(986),f=n(5),h=n(2),m=n(381),g=n(350),v=function(t){return r()(f._41(t))||f._41(t)===h.l?{id:h.l,selectedFontSize:m.a,chatTo:"",typingMessage:"",scrollTop:-1,messages:d.a.List(),textDirectionIfRTL:f._71(t),errorMessageForChat:"",audioVideoChatStatus:g.a}:n.i(c.f)(t)},C=function(t,e){var n=e.dispatch,o={onScroll:function(t,e){n(p.e(t,e))},hideErrorMessage:function(){n(p.d(t.id,""))}};return a()({},t,o)};e.a=n.i(s.connect)(v,null,C)(u.a)},1580:function(t,e,n){"use strict";var o=n(994),a=n.n(o),i=n(71),r=(n.n(i),n(1460)),s=n(986),l=n(72),d=n(2),u=n(644),p=n(5),c=function(t){return a()(p._41(t))||p._41(t)===d.l?{agent:{id:d.l,ifCurrentAgent:!1,avatarLink:"",name:"",ifDisableKickOff:!0,ifDisableSetAway:!0}}:n.i(s.g)(t)},f=function(t){return{onKickOff:function(e){return e.ifCurrentAgent?void t(n.i(l.a)()):(t(n.i(l.w)(e.id,d.a.offline)),void t(n.i(u.b)(e.id,!0)))},onSetAway:function(e){t(n.i(l.w)(e.id,d.a.away)),e.ifCurrentAgent&&t(n.i(l.c)({status:d.a.away}))}}};e.a=n.i(i.connect)(c,f)(r.a)},1581:function(t,e,n){"use strict";var o=n(71),a=(n.n(o),n(1459)),i=n(399),r=n(644),s=function(t){return n.i(i.b)(t)},l=function(t){return{onDepartmentClick:function(e){n.i(i.a)(!1),t(n.i(r.c)(e.id))},onItemClick:function(e){t(n.i(r.b)(e.id))}}};e.a=n.i(o.connect)(s,l)(a.a)},1582:function(t,e,n){"use strict";var o=n(71),a=(n.n(o),n(1464)),i=n(382),r=function(t){var e=i.b(t),n=e.isWeb,o=e.loginUrl,a=e.autoLoginUrl,r=e.addAgentsUrl;return{siteInfo:{isWeb:n,loginUrl:o,autoLoginUrl:a,addAgentsUrl:r}}},s=function(){return{addMoreAgents:function(t){i.e(t)}}};e.a=n.i(o.connect)(r,s)(a.a)},1594:function(t,e,n){"use strict";var o=n(92),a=n.n(o),i=n(3),r=n.n(i),s=n(1),l=(n.n(s),n(383)),d=n(386);e.a=function(){return r()(l.a,{modules:{AgentChatTextEditor:function(){return n.i(l.b)(new a.a(function(t,e){n.e(1).then(function(e){t(n(1357))}.bind(null,n)).catch(n.oe).catch(e)}))}},loading:d.a},void 0,function(t){var e=t.AgentChatTextEditor;return r()(e,{})})}},845:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),a=n.n(o),i=n(22),r=n.n(i),s=n(14),l=n.n(s),d=n(16),u=n.n(d),p=n(21),c=n.n(p),f=n(20),h=n.n(f),m=n(1),g=n.n(m),v=n(35),C=n.n(v),y=n(158),b=n.n(y),_=n(778),S=n(1581),N=n(1580),A=n(1594),T=n(1579),k=n(1578),P=n(967),w=n.n(P),M=n(1582),I=a()(S.a,{}),U=a()(N.a,{}),E=a()(T.a,{}),D=a()("ul",{},void 0,a()(k.a,{})),V=a()(A.a,{}),O=a()(M.a,{}),F=function(t){function e(){return l()(this,e),c()(this,(e.__proto__||r()(e)).apply(this,arguments))}return h()(e,t),u()(e,[{key:"shouldComponentUpdate",value:function(t){return t.agentNumber!==this.props.agentNumber||t.selectedAgentChatId!==this.props.selectedAgentChatId||t.agentsWidth!==this.props.agentsWidth}},{key:"render",value:function(){var t=this.props,e=t.agentsWidth,n=t.agentNumber,o=t.onAgentsStopResize;return a()("div",{className:b.a.layoutContent,id:"agents"},void 0,n>1?a()(_.default,{resizerPosition:"left",width:e,left_minWidth:190,left_maxWidth:350,right_minWidth:360,onStopResize:o},void 0,I,a()("div",{},void 0,a()("div",{className:C()(w.a.headerSection,b.a.clearfix)},void 0,U),a()("div",{className:w.a.chatWindowContainer},void 0,E,a()("div",{className:w.a.toolbarSection},void 0,D),a()("div",{style:{position:"absolute",width:"100%",height:175,bottom:0,minHeight:40}},void 0,V)))):O)}}]),e}(g.a.Component);e.default=F},967:function(t,e){t.exports={agentsSection:"agents__agentsSection--1KkTb",agentitem:"agents__agentitem--SS3Ah",selected:"agents__selected--sUXrP",unreadmessage:"agents__unreadmessage--2cbvf",description:"agents__description--37w0c",departmentsection:"agents__departmentsection--UCbdl",departmentitem:"agents__departmentitem--tAErL",selectedDpt:"agents__selectedDpt--3IyOf",agentName:"agents__agentName--2BEiY",listsection:"agents__listsection--7IpN9",opened:"agents__opened--3Kpp0",depSpread:"agents__depSpread--ZQjQ7",icon:"agents__icon--2EXnq",departmentNum:"agents__departmentNum--22zw1",agentDescription:"agents__agentDescription--aVF_w",chatContainer:"agents__chatContainer--1PjMq",headerSection:"agents__headerSection--1lCQD",messagesSection:"agents__messagesSection--37nkw",toolbarSection:"agents__toolbarSection--k6wTG",inputSection:"agents__inputSection--3Hrwt",avatar:"agents__avatar--ulse_",toolbar:"agents__toolbar--3991m",commonbtn:"agents__commonbtn--2Seh-",disable:"agents__disable--22B9f",noDataSection:"agents__noDataSection--gf-of",chatWindowContainer:"agents__chatWindowContainer--2RFOV"}},969:function(t,e){t.exports={chatContainer:"ChatContent__chatContainer--1oxtQ",chatContentContainer:"ChatContent__chatContentContainer--3fAaw",chatVideoContainer:"ChatContent__chatVideoContainer--2Q872",chatVideoItem:"ChatContent__chatVideoItem--C1bJl",chatContent:"ChatContent__chatContent--3lHVq",directionRTL:"ChatContent__directionRTL--y-RND",systemMeg:"ChatContent__systemMeg--1akET",chatMeg:"ChatContent__chatMeg--1xqJM",translationMsg:"ChatContent__translationMsg--34tcn",attachment:"ChatContent__attachment--1ONEF",chatContentInfo:"ChatContent__chatContentInfo--17_KL",name:"ChatContent__name--2_SRW",time:"ChatContent__time--3BqgY",operator:"ChatContent__operator--13jwF",visitor:"ChatContent__visitor--1vjfa",secureForm:"ChatContent__secureForm--LAEtE",typingIndicator:"ChatContent__typingIndicator--Njccd",chatContentsmall:"ChatContent__chatContentsmall--2nRGa",chatContentmiddle:"ChatContent__chatContentmiddle--1j4wB",chatContentlarge:"ChatContent__chatContentlarge--u101R",notify:"ChatContent__notify--3IFoV",notifyG2M:"ChatContent__notifyG2M--2Kneq",notifyName:"ChatContent__notifyName--2eGs0",error:"ChatContent__error--31HZ8",errorContent:"ChatContent__errorContent--1sK1Q",action:"ChatContent__action--3JAej",avatarContainer:"ChatContent__avatarContainer--1iP34",visitorName:"ChatContent__visitorName--XjBhL",notice:"ChatContent__notice--1NI9M",accept:"ChatContent__accept--2nUzs",refuse:"ChatContent__refuse--1fghu",chattingInfo:"ChatContent__chattingInfo--3Z8YS",videoContainer:"ChatContent__videoContainer--3rse-",localVideo:"ChatContent__localVideo--3H6-Z",remoteVideo:"ChatContent__remoteVideo--ZJRKg",videoChatting:"ChatContent__videoChatting--3JKjR"}},973:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAMAAAAOusbgAAAAPFBMVEW0tLSxsbGjoqKsrKy/v7+op6fS0tL4+Pj8/Pzz8/Po6Oi7urvY19fu7u7////ExMTLy8u3t7fc3Nzh4eFYEd3tAAACPElEQVR4XuzNRxEAIBAEQX57gYx/r7igeEwb6PIJAAAAYI16mqybPPbMV+0t1lyXZAVhIGyiyEWIoO//rufPqUptzc4gs0n4XqAr0B0DWFOgH5S8GRSbPf1COpV1d09vSJpVn4XeE7Kabg70kaJjs3ZTD39q6BbqE6q1Livb6jJBeLVveooXddhOzylNTncLNMAlJ1yIsdzmncYoUo72NIhQpjKNEmWEPQ0jssuVxkkSwom+QKCLHPQNu22WmAK2K82AkKftfb3Rd2TbMDEJTNsW41edCaCPszU1s84SBp0ZoM8Ck4Xtl3qW8Aqz4gSTGgjCpJaJkz4SFy5/JNBXnG7WIMDCpu6KuM6ZBDKb2rZpNpwzZhZcLc9sTEWYcmjzzi0CHH684HXKwTw6XGSINMTGBZtm+Uacct0UHYKYMCR6SmjoFjmg0ENOxEUSiE+ThLBYKrPuusgCa6Ee4WRdOcBdPT831hXFnZ4+cDnWla75Q9HlQPaVOIDtvas6+VW69tqwe3TQGfBrZ3fVpoKrV6/WmF20Kw4CVw+yZ7hqu9JM0S/YvuSN67V8uj5u6hDuQ0H2CtQn5KbzS0Ifvyv9ktAnirmsRhqjnOaybHC1HzD6BlcJrq7Bt5v+hN9lg6tr8CYgywYX6Be6Bt89CRKuQye4fXxuAsHVMfiZSIlYR4Or6TIOri6/t9HasbLaVicyoAi8jEs97jYyAV6DRCa82msnE+pLyReZkMHU1ExaO6Y2tLVDE9yLMBrxX+4fqbwdFs0D+1MAAAAASUVORK5CYII="},983:function(t,e,n){"use strict";var o=n(3),a=n.n(o),i=n(1),r=(n.n(i),n(1039)),s=function(t){var e=t.identityType,o=n(973),i="Visitor";if(t.isContactOrUserOpen)switch(e){case r.a:o=n(1337),i="User";break;case r.b:o=n(1336),i="Contact";break;case r.c:o=n(973),i="Visitor";break;default:o=n(973),i=""}return a()("img",{"data-tip":i,"data-for":"chatContainer",src:t.avatarLink?t.avatarLink:o,alt:""})};e.a=s},986:function(t,e,n){"use strict";function o(t,e){var n=_.N(t);return e.get("messages").map(function(e){return e.map(function(e,o){var a=d()({},e,{id:e.agentId+"_"+o,type:e.agentId===n.id?S.c:S.a,sender:_._76(t,e.agentId).name});return a})})}function a(t,e,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(v()(n))return T.content;var i=a?n.id:-n.id;if(T.content=d()({},e),m()(n)){T.content.id=i,T.content.chatTo=n.name;var r=_._43(t,i);r&&(T.content.messages=o(t,r),T.content.scrollTop=r.get("scrollTop"),T.content.errorMessageForChat=r.get("errorMessageForChat"))}return T.content}function i(t){var e={id:-1,selectedFontSize:b.a,chatTo:"",typingMessage:"",scrollTop:-1,messages:y.a.List(),textDirectionIfRTL:_._71(t),errorMessageForChat:""},n=_._41(t).toString().split("_");if(n.length>1){var o=_._76(t,f()(n[1]));return a(t,e,o)}if("0"!==n[0]){var i=_.h(t,Math.abs(n[0]));return a(t,e,i,!1)}return a(t,e,{id:N.m,name:"All Available"},!1)}function r(t,e){return _._77(t)+"?siteId="+_.F(t)+"&operatorId="+e}function s(t){var e=_._41(t).toString(),n=e.split("_"),o=n.length>1?_._76(t,f()(n[1])):_.h(t,Math.abs(n[0]));if(!v()(T.header)&&v()(o)&&(1!==n.length||Math.abs(n[0])!==N.m)){var a={agent:d()({},T.header.agent)};return a.agent.ifDisableKickOff=!0,a.agent.ifDisableSetAway=!0,a}var i=f()(n.length>1?n[1]:n[0]);return T.header={agent:{id:i,ifCurrentAgent:i===_.u(t),avatarLink:n.length>1?r(t,n[1]):"",name:v()(o)?"All Available":o.name,ifDisableKickOff:!_._28(t,A.h)||1===n.length||n.length>1&&_._76(t,i).status===N.a.offline,ifDisableSetAway:!_._28(t,A.i)||1===n.length||n.length>1&&_._76(t,i).status!==N.a.online}},T.header}var l=n(4),d=n.n(l),u=n(54),p=n.n(u),c=n(179),f=n.n(c),h=n(391),m=n.n(h),g=n(56),v=n.n(g),C=n(126),y=n.n(C),b=n(381),_=n(5),S=n(244),N=n(2),A=n(352);e.f=i,e.g=s,n.d(e,"a",function(){return k}),n.d(e,"c",function(){return P}),n.d(e,"d",function(){return w}),n.d(e,"e",function(){return M}),n.d(e,"b",function(){return I});var T={},k=function(t){var e=_._41(t).toString().split("_");return e.length>1?[!0,f()(e[1])]:[!1,f()(e[0])]},P=function(t,e,n){if(e){if(!_._28(t,A.j))return!1;var o=_._76(t,n);return!(!o||n===_.u(t))&&o.status!==N.a.offline}return!0},w=function(t,e,n){if(e)return[n];var o=_.u(t),a=[];if(n===N.m)return p()(_._33(t),function(t){o!==t.id&&t.status!==N.a.offline&&a.push(t.id)}),a;var i=_.h(t,n);return i?(p()(i.agentIds,function(e){var n=_._76(t,e);n&&o!==n.id&&n.status!==N.a.offline&&a.push(e)}),a):[]},M=function(t,e,n){return n?e:e.concat(t)},I=function(t,e,n){var o=Math.abs(n),a=e?_._76(t,o):_.h(t,o);return!(!v()(a)||o!==N.m)||!v()(a)}},994:function(t,e){function n(t){return null===t}t.exports=n},999:function(t,e,n){"use strict";function o(){return"rc-upload-"+a+"-"+ ++i}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var a=+new Date,i=0;t.exports=e.default}});
//# sourceMappingURL=agent-chat.cda33.js.map