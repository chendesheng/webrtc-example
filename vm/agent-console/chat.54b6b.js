webpackJsonp([2],Array(847).concat([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),r=n.n(o),i=n(1),s=(n.n(i),n(376)),a=n.n(s),c=n(158),u=n.n(c),l=n(778),d=n(1588),p=n(1587),f=n(1586),h=n(1585),g=n(1595),v=n(1591),m=n(1723),C=n.n(m),y=n(1041),b=r()(d.a,{}),w=r()(p.a,{}),S=r()(f.a,{}),T=r()(h.a,{}),I=r()(g.a,{}),x=r()(y.a,{}),k=r()(v.a,{}),E=function(e){var t=e.selectedChatId,n=e.chatItemWidth,o=e.onChatItemStopResize,i=e.chatDetailWidth,s=e.onChatDetailStopResize;return r()("div",{className:u.a.layoutContent,id:"chats"},void 0,t?r()(l.default,{resizerPosition:"left",width:n,left_minWidth:240,left_maxWidth:350,right_minWidth:640,onStopResize:o},void 0,b,r()("div",{},void 0,w,r()("div",{className:u.a.chatwindowContainer},void 0,r()(l.default,{resizerPosition:"right",width:i,right_minWidth:265,right_maxWidth:500,left_minWidth:350,onStopResize:s},void 0,r()("div",{},void 0,S,T,r()("div",{style:{position:"absolute",width:"100%",height:175,bottom:0,minHeight:40}},void 0,I)),x)),r()(a.a,{id:"chatContainer",multiline:!0,effect:"solid",place:"bottom",class:C.a.tooltip}))):k)};t.default=E},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){function o(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}function r(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(e,t){if(r()<t)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=s.prototype):(null===e&&(e=new s(t)),e.length=t),e}function s(e,t,n){if(!(s.TYPED_ARRAY_SUPPORT||this instanceof s))return new s(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return a(this,e,t,n)}function a(e,t,n,o){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?f(e,t,n,o):"string"==typeof t?d(e,t,n):h(e,t)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function u(e,t,n,o){return c(t),t<=0?i(e,t):void 0!==n?"string"==typeof o?i(e,t).fill(n,o):i(e,t).fill(n):i(e,t)}function l(e,t){if(c(t),e=i(e,t<0?0:0|g(t)),!s.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!s.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var o=0|m(t,n);e=i(e,o);var r=e.write(t,n);return r!==o&&(e=e.slice(0,r)),e}function p(e,t){var n=t.length<0?0:0|g(t.length);e=i(e,n);for(var o=0;o<n;o+=1)e[o]=255&t[o];return e}function f(e,t,n,o){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(o||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===o?new Uint8Array(t):void 0===o?new Uint8Array(t,n):new Uint8Array(t,n,o),s.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=s.prototype):e=p(e,t),e}function h(e,t){if(s.isBuffer(t)){var n=0|g(t.length);return e=i(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||J(t.length)?i(e,0):p(e,t);if("Buffer"===t.type&&$(t.data))return p(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function g(e){if(e>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|e}function v(e){return+e!=e&&(e=0),s.alloc(+e)}function m(e,t){if(s.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var o=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return X(e).length;default:if(o)return q(e).length;t=(""+t).toLowerCase(),o=!0}}function C(e,t,n){var o=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return N(this,t,n);case"utf8":case"utf-8":return _(this,t,n);case"ascii":return M(this,t,n);case"latin1":case"binary":return R(this,t,n);case"base64":return P(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,n);default:if(o)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),o=!0}}function y(e,t,n){var o=e[t];e[t]=e[n],e[n]=o}function b(e,t,n,o,r){if(0===e.length)return-1;if("string"==typeof n?(o=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t&&(t=s.from(t,o)),s.isBuffer(t))return 0===t.length?-1:w(e,t,n,o,r);if("number"==typeof t)return t&=255,s.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):w(e,[t],n,o,r);throw new TypeError("val must be string, number or Buffer")}function w(e,t,n,o,r){function i(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}var s=1,a=e.length,c=t.length;if(void 0!==o&&(o=String(o).toLowerCase(),"ucs2"===o||"ucs-2"===o||"utf16le"===o||"utf-16le"===o)){if(e.length<2||t.length<2)return-1;s=2,a/=2,c/=2,n/=2}var u;if(r){var l=-1;for(u=n;u<a;u++)if(i(e,u)===i(t,l===-1?0:u-l)){if(l===-1&&(l=u),u-l+1===c)return l*s}else l!==-1&&(u-=u-l),l=-1}else for(n+c>a&&(n=a-c),u=n;u>=0;u--){for(var d=!0,p=0;p<c;p++)if(i(e,u+p)!==i(t,p)){d=!1;break}if(d)return u}return-1}function S(e,t,n,o){n=Number(n)||0;var r=e.length-n;o?(o=Number(o),o>r&&(o=r)):o=r;var i=t.length;if(i%2!==0)throw new TypeError("Invalid hex string");o>i/2&&(o=i/2);for(var s=0;s<o;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function T(e,t,n,o){return K(q(t,e.length-n),e,n,o)}function I(e,t,n,o){return K(H(t),e,n,o)}function x(e,t,n,o){return I(e,t,n,o)}function k(e,t,n,o){return K(X(t),e,n,o)}function E(e,t,n,o){return K(Y(t,e.length-n),e,n,o)}function P(e,t,n){return 0===t&&n===e.length?Q.fromByteArray(e):Q.fromByteArray(e.slice(t,n))}function _(e,t,n){n=Math.min(e.length,n);for(var o=[],r=t;r<n;){var i=e[r],s=null,a=i>239?4:i>223?3:i>191?2:1;if(r+a<=n){var c,u,l,d;switch(a){case 1:i<128&&(s=i);break;case 2:c=e[r+1],128===(192&c)&&(d=(31&i)<<6|63&c,d>127&&(s=d));break;case 3:c=e[r+1],u=e[r+2],128===(192&c)&&128===(192&u)&&(d=(15&i)<<12|(63&c)<<6|63&u,d>2047&&(d<55296||d>57343)&&(s=d));break;case 4:c=e[r+1],u=e[r+2],l=e[r+3],128===(192&c)&&128===(192&u)&&128===(192&l)&&(d=(15&i)<<18|(63&c)<<12|(63&u)<<6|63&l,d>65535&&d<1114112&&(s=d))}}null===s?(s=65533,a=1):s>65535&&(s-=65536,o.push(s>>>10&1023|55296),s=56320|1023&s),o.push(s),r+=a}return A(o)}function A(e){var t=e.length;if(t<=ee)return String.fromCharCode.apply(String,e);for(var n="",o=0;o<t;)n+=String.fromCharCode.apply(String,e.slice(o,o+=ee));return n}function M(e,t,n){var o="";n=Math.min(e.length,n);for(var r=t;r<n;++r)o+=String.fromCharCode(127&e[r]);return o}function R(e,t,n){var o="";n=Math.min(e.length,n);for(var r=t;r<n;++r)o+=String.fromCharCode(e[r]);return o}function N(e,t,n){var o=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>o)&&(n=o);for(var r="",i=t;i<n;++i)r+=z(e[i]);return r}function D(e,t,n){for(var o=e.slice(t,n),r="",i=0;i<o.length;i+=2)r+=String.fromCharCode(o[i]+256*o[i+1]);return r}function U(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,n,o,r,i){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<i)throw new RangeError('"value" argument is out of bounds');if(n+o>e.length)throw new RangeError("Index out of range")}function L(e,t,n,o){t<0&&(t=65535+t+1);for(var r=0,i=Math.min(e.length-n,2);r<i;++r)e[n+r]=(t&255<<8*(o?r:1-r))>>>8*(o?r:1-r)}function B(e,t,n,o){t<0&&(t=4294967295+t+1);for(var r=0,i=Math.min(e.length-n,4);r<i;++r)e[n+r]=t>>>8*(o?r:3-r)&255}function F(e,t,n,o,r,i){if(n+o>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function j(e,t,n,o,r){return r||F(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),Z.write(e,t,n,o,23,4),n+4}function V(e,t,n,o,r){return r||F(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),Z.write(e,t,n,o,52,8),n+8}function G(e){if(e=W(e).replace(te,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function W(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function z(e){return e<16?"0"+e.toString(16):e.toString(16)}function q(e,t){t=t||1/0;for(var n,o=e.length,r=null,i=[],s=0;s<o;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===o){(t-=3)>-1&&i.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),r=n;continue}n=(r-55296<<10|n-56320)+65536}else r&&(t-=3)>-1&&i.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function H(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function Y(e,t){for(var n,o,r,i=[],s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),o=n>>8,r=n%256,i.push(r),i.push(o);return i}function X(e){return Q.toByteArray(G(e))}function K(e,t,n,o){for(var r=0;r<o&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}function J(e){return e!==e}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var Q=n(1601),Z=n(1746),$=n(1611);t.Buffer=s,t.SlowBuffer=v,t.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:o(),t.kMaxLength=r(),s.poolSize=8192,s._augment=function(e){return e.__proto__=s.prototype,e},s.from=function(e,t,n){return a(null,e,t,n)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})),s.alloc=function(e,t,n){return u(null,e,t,n)},s.allocUnsafe=function(e){return l(null,e)},s.allocUnsafeSlow=function(e){return l(null,e)},s.isBuffer=function(e){return!(null==e||!e._isBuffer)},s.compare=function(e,t){if(!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,o=t.length,r=0,i=Math.min(n,o);r<i;++r)if(e[r]!==t[r]){n=e[r],o=t[r];break}return n<o?-1:o<n?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!$(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var o=s.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var i=e[n];if(!s.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(o,r),r+=i.length}return o},s.byteLength=m,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},s.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?_(this,0,e):C.apply(this,arguments)},s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},s.prototype.compare=function(e,t,n,o,r){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===o&&(o=0),void 0===r&&(r=this.length),t<0||n>e.length||o<0||r>this.length)throw new RangeError("out of range index");if(o>=r&&t>=n)return 0;if(o>=r)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,o>>>=0,r>>>=0,this===e)return 0;for(var i=r-o,a=n-t,c=Math.min(i,a),u=this.slice(o,r),l=e.slice(t,n),d=0;d<c;++d)if(u[d]!==l[d]){i=u[d],a=l[d];break}return i<a?-1:a<i?1:0},s.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1},s.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},s.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},s.prototype.write=function(e,t,n,o){if(void 0===t)o="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)o=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===o&&(o="utf8")):(o=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");o||(o="utf8");for(var i=!1;;)switch(o){case"hex":return S(this,e,t,n);case"utf8":case"utf-8":return T(this,e,t,n);case"ascii":return I(this,e,t,n);case"latin1":case"binary":return x(this,e,t,n);case"base64":return k(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),i=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ee=4096;s.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);var o;if(s.TYPED_ARRAY_SUPPORT)o=this.subarray(e,t),o.__proto__=s.prototype;else{var r=t-e;o=new s(r,void 0);for(var i=0;i<r;++i)o[i]=this[i+e]}return o},s.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||U(e,t,this.length);for(var o=this[e],r=1,i=0;++i<t&&(r*=256);)o+=this[e+i]*r;return o},s.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||U(e,t,this.length);for(var o=this[e+--t],r=1;t>0&&(r*=256);)o+=this[e+--t]*r;return o},s.prototype.readUInt8=function(e,t){return t||U(e,1,this.length),this[e]},s.prototype.readUInt16LE=function(e,t){return t||U(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUInt16BE=function(e,t){return t||U(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUInt32LE=function(e,t){return t||U(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUInt32BE=function(e,t){return t||U(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||U(e,t,this.length);for(var o=this[e],r=1,i=0;++i<t&&(r*=256);)o+=this[e+i]*r;return r*=128,o>=r&&(o-=Math.pow(2,8*t)),o},s.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||U(e,t,this.length);for(var o=t,r=1,i=this[e+--o];o>0&&(r*=256);)i+=this[e+--o]*r;return r*=128,i>=r&&(i-=Math.pow(2,8*t)),i},s.prototype.readInt8=function(e,t){return t||U(e,1,this.length),128&this[e]?(255-this[e]+1)*-1:this[e]},s.prototype.readInt16LE=function(e,t){t||U(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(e,t){t||U(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(e,t){return t||U(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return t||U(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return t||U(e,4,this.length),Z.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return t||U(e,4,this.length),Z.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return t||U(e,8,this.length),Z.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return t||U(e,8,this.length),Z.read(this,e,!1,52,8)},s.prototype.writeUIntLE=function(e,t,n,o){if(e=+e,t|=0,n|=0,!o){var r=Math.pow(2,8*n)-1;O(this,e,t,n,r,0)}var i=1,s=0;for(this[t]=255&e;++s<n&&(i*=256);)this[t+s]=e/i&255;return t+n},s.prototype.writeUIntBE=function(e,t,n,o){if(e=+e,t|=0,n|=0,!o){var r=Math.pow(2,8*n)-1;O(this,e,t,n,r,0)}var i=n-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+n},s.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,1,255,0),s.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},s.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},s.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},s.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):B(this,e,t,!0),t+4},s.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):B(this,e,t,!1),t+4},s.prototype.writeIntLE=function(e,t,n,o){if(e=+e,t|=0,!o){var r=Math.pow(2,8*n-1);O(this,e,t,n,r-1,-r)}var i=0,s=1,a=0;for(this[t]=255&e;++i<n&&(s*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+n},s.prototype.writeIntBE=function(e,t,n,o){if(e=+e,t|=0,!o){var r=Math.pow(2,8*n-1);O(this,e,t,n,r-1,-r)}var i=n-1,s=1,a=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+n},s.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,1,127,-128),s.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},s.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},s.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):B(this,e,t,!0),t+4},s.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):B(this,e,t,!1),t+4},s.prototype.writeFloatLE=function(e,t,n){return j(this,e,t,!0,n)},s.prototype.writeFloatBE=function(e,t,n){return j(this,e,t,!1,n)},s.prototype.writeDoubleLE=function(e,t,n){return V(this,e,t,!0,n)},s.prototype.writeDoubleBE=function(e,t,n){return V(this,e,t,!1,n)},s.prototype.copy=function(e,t,n,o){if(n||(n=0),o||0===o||(o=this.length),t>=e.length&&(t=e.length),t||(t=0),o>0&&o<n&&(o=n),o===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),e.length-t<o-n&&(o=e.length-t+n);var r,i=o-n;if(this===e&&n<t&&t<o)for(r=i-1;r>=0;--r)e[r+t]=this[r+n];else if(i<1e3||!s.TYPED_ARRAY_SUPPORT)for(r=0;r<i;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},s.prototype.fill=function(e,t,n,o){if("string"==typeof e){if("string"==typeof t?(o=t,t=0,n=this.length):"string"==typeof n&&(o=n,n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==o&&"string"!=typeof o)throw new TypeError("encoding must be a string");if("string"==typeof o&&!s.isEncoding(o))throw new TypeError("Unknown encoding: "+o)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var i;if("number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var a=s.isBuffer(e)?e:q(new s(e,o).toString()),c=a.length;for(i=0;i<n-t;++i)this[i+t]=a[i%c]}return this};var te=/[^+\/0-9A-Za-z-_]/g}).call(t,n(223))},,,,,,,,,,,,,function(e,t){e.exports={chatAction:"ChatAction__chatAction--2avGg",chatActionIcon:"ChatAction__chatActionIcon--WDUxk",iconActive:"ChatAction__iconActive--2eXsX",chatActionIconDisabled:"ChatAction__chatActionIconDisabled--3wdpU"}},,,,function(e,t,n){"use strict";var o=n(48),r=n.n(o),i=n(1),s=n.n(i),a=n(35),c=n.n(a),u=n(992),l=n.n(u),d=function(e){var t=e.input,n=e.rows,o=e.cols,i=e.isDisabled,a=e.placeholder,u=e.type,d=e.maxLength,p=e.className,f=e.meta;return s.a.createElement("textarea",r()({},t,{cols:o,rows:n,disabled:!!i&&"disabled",className:c()(p,l.a.multipleText,f.touched&&f.invalid&&l.a.error),type:u,placeholder:a,maxLength:d}))};t.a=d},,function(e,t){e.exports={chatitemcontainer:"ChatItem__chatitemcontainer--3vaYa",acceptStyle:"ChatItem__acceptStyle--8iD0p",selected:"ChatItem__selected--3tHXg",captureitem:"ChatItem__captureitem--2P6yE",statusitem:"ChatItem__statusitem--1sZXs",detailitem:"ChatItem__detailitem--39Qkw",infoitem:"ChatItem__infoitem--iKpEA",segmentitem:"ChatItem__segmentitem--2MEGr",pinnStyle:"ChatItem__pinnStyle--3S_e8",pinned:"ChatItem__pinned--3K6vH",nopinned:"ChatItem__nopinned--9EuB_",deleteIcon:"ChatItem__deleteIcon--yBJ47",nobutton:"ChatItem__nobutton--J4KGQ",chatItemDetail:"ChatItem__chatItemDetail--CsTN4",chatItemPrompt:"ChatItem__chatItemPrompt--1r4Y6",visitorName:"ChatItem__visitorName--hjA5p",visitorDepartment:"ChatItem__visitorDepartment--3nz8W",refuseBtn:"ChatItem__refuseBtn--3WP-K",acceptBtn:"ChatItem__acceptBtn--1IHiU",wrapupbtn:"ChatItem__wrapupbtn--3G4nl",actioncontainer:"ChatItem__actioncontainer--usX52",promptNumber:"ChatItem__promptNumber--1L3Zb",chatItemSegment:"ChatItem__chatItemSegment--3qLnK",chatItemConfig:"ChatItem__chatItemConfig--3EoD2",configitem:"ChatItem__configitem--1lgRL",selectedicon:"ChatItem__selectedicon--1l-hw",chatconfigpanel:"ChatItem__chatconfigpanel--2XWd5",itemContainer:"ChatItem__itemContainer--3Uyme",configPanel:"ChatItem__configPanel--2344w",configicon:"ChatItem__configicon--7WIYr",idleStyle:"ChatItem__idleStyle--37Eqo",idleUnderProptNum:"ChatItem__idleUnderProptNum--1Wopt",showChatViaList:"ChatItem__showChatViaList--2lBhv",showChatViaGroup:"ChatItem__showChatViaGroup--1MV56",groupNameWraper:"ChatItem__groupNameWraper--3TdpC",groupSection:"ChatItem__groupSection--3xKcD",groupSpread:"ChatItem__groupSpread--2X8v4",opened:"ChatItem__opened--2Us0v",noChatSection:"ChatItem__noChatSection--2g_GD"}},,function(e,t,n){"use strict";var o=!0,r={disableLog:function(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(o=e,e?"adapter.js logging disabled":"adapter.js logging enabled")},log:function(){if("object"==typeof window){if(o)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}},extractVersion:function(e,t,n){var o=e.match(t);return o&&o.length>=n&&parseInt(o[n],10)},detectBrowser:function(){var e={};if(e.browser=null,e.version=null,"undefined"==typeof window||!window.navigator)return e.browser="Not a browser.",e;if(navigator.mozGetUserMedia)e.browser="firefox",e.version=this.extractVersion(navigator.userAgent,/Firefox\/(\d+)\./,1);else if(navigator.webkitGetUserMedia)if(window.webkitRTCPeerConnection)e.browser="chrome",e.version=this.extractVersion(navigator.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!navigator.userAgent.match(/Version\/(\d+).(\d+)/))return e.browser="Unsupported webkit-based browser with GUM support but no WebRTC support.",e;e.browser="safari",e.version=this.extractVersion(navigator.userAgent,/AppleWebKit\/(\d+)\./,1)}else if(navigator.mediaDevices&&navigator.userAgent.match(/Edge\/(\d+).(\d+)$/))e.browser="edge",e.version=this.extractVersion(navigator.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!navigator.mediaDevices||!navigator.userAgent.match(/AppleWebKit\/(\d+)\./))return e.browser="Not a supported browser.",e;e.browser="safari",e.version=this.extractVersion(navigator.userAgent,/AppleWebKit\/(\d+)\./,1)}return e},shimCreateObjectURL:function(){if("object"==typeof window&&window.HTMLMediaElement&&"srcObject"in window.HTMLMediaElement.prototype){var e=URL.createObjectURL.bind(URL),t=URL.revokeObjectURL.bind(URL),n=new Map,o=0;URL.createObjectURL=function(t){if("getTracks"in t){var r="polyblob:"+ ++o;return n.set(r,t),console.log("URL.createObjectURL(stream) is deprecated! Use elem.srcObject = stream instead!"),r}return e(t)},URL.revokeObjectURL=function(e){t(e),n.delete(e)};var r=Object.getOwnPropertyDescriptor(window.HTMLMediaElement.prototype,"src");Object.defineProperty(window.HTMLMediaElement.prototype,"src",{get:function(){return r.get.apply(this)},set:function(e){return this.srcObject=n.get(e)||null,r.set.apply(this,[e])}});var i=HTMLMediaElement.prototype.setAttribute;HTMLMediaElement.prototype.setAttribute=function(){return 2===arguments.length&&"src"===(""+arguments[0]).toLowerCase()&&(this.srcObject=n.get(arguments[1])||null),i.apply(this,arguments)}}}};e.exports={log:r.log,disableLog:r.disableLog,browserDetails:r.detectBrowser(),extractVersion:r.extractVersion,shimCreateObjectURL:r.shimCreateObjectURL,detectBrowser:r.detectBrowser.bind(r)}},,,,function(e,t){e.exports={chatContainer:"ChatContent__chatContainer--1oxtQ",chatContentContainer:"ChatContent__chatContentContainer--3fAaw",chatVideoContainer:"ChatContent__chatVideoContainer--2Q872",chatVideoItem:"ChatContent__chatVideoItem--C1bJl",chatContent:"ChatContent__chatContent--3lHVq",directionRTL:"ChatContent__directionRTL--y-RND",systemMeg:"ChatContent__systemMeg--1akET",chatMeg:"ChatContent__chatMeg--1xqJM",translationMsg:"ChatContent__translationMsg--34tcn",attachment:"ChatContent__attachment--1ONEF",chatContentInfo:"ChatContent__chatContentInfo--17_KL",name:"ChatContent__name--2_SRW",time:"ChatContent__time--3BqgY",operator:"ChatContent__operator--13jwF",visitor:"ChatContent__visitor--1vjfa",secureForm:"ChatContent__secureForm--LAEtE",typingIndicator:"ChatContent__typingIndicator--Njccd",chatContentsmall:"ChatContent__chatContentsmall--2nRGa",chatContentmiddle:"ChatContent__chatContentmiddle--1j4wB",chatContentlarge:"ChatContent__chatContentlarge--u101R",notify:"ChatContent__notify--3IFoV",notifyG2M:"ChatContent__notifyG2M--2Kneq",notifyName:"ChatContent__notifyName--2eGs0",error:"ChatContent__error--31HZ8",errorContent:"ChatContent__errorContent--1sK1Q",action:"ChatContent__action--3JAej",avatarContainer:"ChatContent__avatarContainer--1iP34",visitorName:"ChatContent__visitorName--XjBhL",notice:"ChatContent__notice--1NI9M",accept:"ChatContent__accept--2nUzs",refuse:"ChatContent__refuse--1fghu",chattingInfo:"ChatContent__chattingInfo--3Z8YS",videoContainer:"ChatContent__videoContainer--3rse-",localVideo:"ChatContent__localVideo--3H6-Z",remoteVideo:"ChatContent__remoteVideo--ZJRKg",videoChatting:"ChatContent__videoChatting--3JKjR"}},,,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAMAAAAOusbgAAAAPFBMVEW0tLSxsbGjoqKsrKy/v7+op6fS0tL4+Pj8/Pzz8/Po6Oi7urvY19fu7u7////ExMTLy8u3t7fc3Nzh4eFYEd3tAAACPElEQVR4XuzNRxEAIBAEQX57gYx/r7igeEwb6PIJAAAAYI16mqybPPbMV+0t1lyXZAVhIGyiyEWIoO//rufPqUptzc4gs0n4XqAr0B0DWFOgH5S8GRSbPf1COpV1d09vSJpVn4XeE7Kabg70kaJjs3ZTD39q6BbqE6q1Livb6jJBeLVveooXddhOzylNTncLNMAlJ1yIsdzmncYoUo72NIhQpjKNEmWEPQ0jssuVxkkSwom+QKCLHPQNu22WmAK2K82AkKftfb3Rd2TbMDEJTNsW41edCaCPszU1s84SBp0ZoM8Ck4Xtl3qW8Aqz4gSTGgjCpJaJkz4SFy5/JNBXnG7WIMDCpu6KuM6ZBDKb2rZpNpwzZhZcLc9sTEWYcmjzzi0CHH684HXKwTw6XGSINMTGBZtm+Uacct0UHYKYMCR6SmjoFjmg0ENOxEUSiE+ThLBYKrPuusgCa6Ee4WRdOcBdPT831hXFnZ4+cDnWla75Q9HlQPaVOIDtvas6+VW69tqwe3TQGfBrZ3fVpoKrV6/WmF20Kw4CVw+yZ7hqu9JM0S/YvuSN67V8uj5u6hDuQ0H2CtQn5KbzS0Ifvyv9ktAnirmsRhqjnOaybHC1HzD6BlcJrq7Bt5v+hN9lg6tr8CYgywYX6Be6Bt89CRKuQye4fXxuAsHVMfiZSIlYR4Or6TIOri6/t9HasbLaVicyoAi8jEs97jYyAV6DRCa82msnE+pLyReZkMHU1ExaO6Y2tLVDE9yLMBrxX+4fqbwdFs0D+1MAAAAASUVORK5CYII="},,,,,,,,,,function(e,t,n){"use strict";var o=n(3),r=n.n(o),i=n(1),s=(n.n(i),n(1039)),a=function(e){var t=e.identityType,o=n(973),i="Visitor";if(e.isContactOrUserOpen)switch(t){case s.a:o=n(1337),i="User";break;case s.b:o=n(1336),i="Contact";break;case s.c:o=n(973),i="Visitor";break;default:o=n(973),i=""}return r()("img",{"data-tip":i,"data-for":"chatContainer",src:e.avatarLink?e.avatarLink:o,alt:""})};t.a=a},function(e,t,n){"use strict";var o=n(4),r=n.n(o),i=n(31),s=n.n(i),a=n(172),c=n(384),u=n(90);n.d(t,"g",function(){return d}),n.d(t,"m",function(){return p}),n.d(t,"l",function(){return f}),n.d(t,"k",function(){return h}),n.d(t,"i",function(){return v}),n.d(t,"h",function(){return C}),n.d(t,"e",function(){return y}),n.d(t,"a",function(){return b}),n.d(t,"b",function(){return w}),n.d(t,"d",function(){return T}),n.d(t,"f",function(){return I}),n.d(t,"j",function(){return x}),n.d(t,"c",function(){return k});var l=function(e){if(e){var t=e.lastIndexOf("__c");if(t==-1||t!=e.length-3)return!0}return!1},d=function(e){var t=e.type,n=e.label,o=e.systemName;return l(o)&&t===c.a.reference?n.replace(" ID",""):n},p=function(e){if(!l(e.systemName)&&e.type===c.a.reference){if(null!=e.relatedObjects&&e.relatedObjects.length>0){var t=e.relatedObjects[0];if("Account"==t||"Contact"==t||"Queue"==t||"User"==t||"__c"==t.substr(t.length>3?t.length-3:0))return!0}return!1}return!0},f=function(e){return e?e.replace(/[^\d]/g,""):e},h=function(e){return e?e.replace(/[^\d\-\.]/g,""):e},g=/^(\w)+(\.\w+)*@(\w)+(\.\w+)+$/,v=function(e){return g.test(e)},m=/^-?\d+(\.\d*)?$/,C=function(e){return m.test(e)},y=function(e){if(!e)return"";var t=e.valueOf();t+=60*e.getTimezoneOffset()*1e3;var o=new Date(t);return n.i(u.e)(o,"yyyy-MM-ddThh:mm:00.000Z")},b=function(e){var t=parseInt(e.substr(0,4)),n=parseInt(e.substr(5,2)),o=parseInt(e.substr(8,2)),r=parseInt(e.substr(11,2)),i=parseInt(e.substr(14,2)),s=new Date(t,n-1,o,r,i,0,0),a=s.valueOf();a-=6e4*s.getTimezoneOffset();var c=new Date(a);return c},w=function(e){var t=parseInt(e.substr(0,4)),n=parseInt(e.substr(5,2)),o=parseInt(e.substr(8,2)),r=new Date(t,n-1,o,0,0,0,0),i=r.valueOf();i-=6e4*r.getTimezoneOffset();var s=new Date(i);return s},S=function(e,t,n){var o="";switch(t){case c.b:o=e.get("chatTimes");break;case c.c:o=e.get("city");break;case c.d:o=e.get("country");break;case c.e:o=e.get("currentPage");break;case c.f:o=e.get("searchEngineKeywords");break;case c.g:o=e.get("referrer");break;case c.h:o=e.get("searchEngine");break;case c.i:o=e.get("state");break;case c.j:o=e.get("visitorTimes");break;case c.k:o=e.get("latestEmail");break;case c.l:o=e.get("latestName");break;case c.m:o=e.get("prechatPhone");break;case c.n:o=e.get("prechatCompany");break;case c.o:o=e.get("ip");break;case c.p:o=e.get("language");break;case c.q:o=e.get("timezone");break;case c.r:o=e.get("landingPageUrl");break;case c.s:o=e.get("chatRequestingUrl");break;case c.t:o=e.get("prechatProductService");break;case c.u:o=e.get("state");break;case c.v:o=e.get("browser");break;case c.w:o=e.get("operatingSystem");break;case c.x:o=e.get("screenResolution");break;case c.y:o=e.get("flashVersion");break;case c.z:o=n;break;case c.A:o=y(e.get("chatBeginTime"));break;case c.B:o="";break;case c.C:o=""}return t.indexOf(c.D)?!function(){var n=t.substr(c.D.length),r=s()(e.get("customVariables"),function(e){return e.name===n});r&&(o=r.value)}():t.indexOf(c.E)&&!function(){var n=t.substr(c.E.length),r=s()(e.get("customFields"),function(e){return e.name===n});r&&(o=r.value,o&&(o=o.replace(/⊙/g,";")))}(),o},T=function(e,t,n){var o=e.filter(function(e){return e.comm100FieldName}).map(function(e){var o=S(t,e.comm100FieldName,n);return o?{name:e.sfFeildSystemName,value:o,displayValue:""}:null});return o.filter(function(e){return e})},I=function(e){return e.reduce(function(e,t){var n={};return t?(n[t.name]=t.value,r()(e,n)):e},{})},x=function(e,t){return I(e.map(function(e){var o=void 0;return t&&t.length>0&&(o=s()(t,function(t){return t.name===e.systemName})),e.type===c.a.bool?{name:e.systemName,value:!!o&&("boolean"==typeof o.value?o.value:"true"==o.value)}:e.type===c.a.dateTime?o&&o.value?{name:e.systemName,value:n.i(a.default)(b(o.value))}:{name:e.systemName,value:""}:e.type===c.a.date?o&&o.value?{name:e.systemName,value:n.i(a.default)(w(o.value))}:{name:e.systemName,value:""}:e.type===c.a.reference?{name:e.systemName,value:o?{id:o.value,value:o.displayValue}:{id:"",value:""}}:e.type===c.a.picklist&&e.required&&e.picklistValues.length>0?{name:e.systemName,value:o?o.value:e.picklistValues[0]}:{name:e.systemName,value:o?o.value:""}}))},k=function(e){if(e){var t=e.find(function(e){return"Id"===e.name});return t?t.value:""}return""}},function(e,t,n){"use strict";var o=n(3),r=n.n(o),i=n(1),s=(n.n(i),n(376)),a=n.n(s),c=n(784),u=n(1061),l=n.n(u),d=function(e){var t=e.effect,n=e.place,o=e.id;return r()(a.a,{effect:t,place:n,class:l.a.container,id:o})};d.rebuild=c.a(a.a.rebuild),d.show=a.a.show,d.hide=c.a(a.a.hide),t.a=d},,,,,,function(e,t){e.exports={chatHeader:"ChatHeader__chatHeader--2Px8C",visitorDetails:"ChatHeader__visitorDetails--2nE2E",avatar:"ChatHeader__avatar--3teOQ",details:"ChatHeader__details--98r8e",name:"ChatHeader__name--1dwu_",others:"ChatHeader__others--1ml66",action:"ChatHeader__action--ODKC9",btnAction:"ChatHeader__btnAction--3J-NO",btnAaction:"ChatHeader__btnAaction--1bGJL",tooltip:"ChatHeader__tooltip--2cHr7",marginRight10:"ChatHeader__marginRight10--1GaZY"}},function(e,t){e.exports={multipleText:"TextArea__multipleText--1J3OF",error:"TextArea__error--3le0n"}},,,,,,,function(e,t,n){"use strict";function o(){return"rc-upload-"+r+"-"+ ++i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=+new Date,i=0;e.exports=t.default},,,,function(e,t,n){"use strict";var o=n(3),r=n.n(o),i=n(1),s=(n.n(i),n(101)),a=n(100),c=n.n(a),u=function(e){return r()(s.a,{closeModal:e.closeModal,className:c.a.standbyNotice,title:"Notice",actions:{cancelProps:{text:"OK"}}},void 0,r()("div",{},void 0,e.text))};t.a=u},,function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"c",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"e",function(){return s}),n.d(t,"f",function(){return a}),n.d(t,"g",function(){return c}),n.d(t,"h",function(){return u}),n.d(t,"i",function(){return l}),n.d(t,"j",function(){return d}),n.d(t,"k",function(){return p}),n.d(t,"l",function(){return f}),n.d(t,"a",function(){return h}),n.d(t,"q",function(){return g}),n.d(t,"r",function(){return v}),n.d(t,"s",function(){return m}),n.d(t,"t",function(){return C}),n.d(t,"u",function(){return y}),n.d(t,"m",function(){return b}),n.d(t,"o",function(){return w}),n.d(t,"n",function(){return S}),n.d(t,"p",function(){return T});var o="Waiting for Chat",r="Chatting",i="Prechat",s="Manually Invited",a="Auto Invited",c="Offline Message",u="Refused by Agent",l="Refused by Visitor",d="Chat Ended",p="In Site",f="Out of Site",h="Transferring",g="Manually Invited",v="System Processing",m="Waiting for Chat (Source: Invitation)",C="Monitoring (Chat Ended)",y="Monitoring (Chatting)",b="Requesting Audio Chat",w="Requesting Video Chat",S="Audio Chatting",T="Video Chatting"},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var o=n(3),r=n.n(o),i=n(22),s=n.n(i),a=n(14),c=n.n(a),u=n(16),l=n.n(u),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(1),v=n.n(g),m=n(172),C=n(53),y=n(35),b=n.n(y),w=n(70),S=n(969),T=n.n(S),I=n(2),x=n(351),k=n(983),E=function(e){switch(e){case x.d:return"Audio Chat";case x.f:return"Audio Chat...";case x.e:return"Video Chat";case x.g:return"Video Chat...";case x.b:return"Audio Chat";default:return""}},P=function(e){return e===x.d||e===x.e},_=function(e){return e===x.d||e===x.e||e===x.f||e===x.g||e===x.b||e===x.c},A=function(e){return e===x.c},M=function(e){return e===x.b||e===x.c},R=function(e){return e===x.b||e===x.f||e===x.d?I.b.requestAudioChat:I.b.requestVideoChat},N=function(e,t){var n=e.getTime(),o=t.getTime();if(n<o)return"";var r=n-o;return m.default.utc(r).format(r<36e5?"mm:ss":"HH:mm:ss")},D=function(e){function t(e){c()(this,t);var n=p()(this,(t.__proto__||s()(t)).call(this,e));return M(e.audioVideoChatStatus)?n.state={timespan:N(new Date,e.audioVideoChatStartTime)}:n.state={timespan:""},n}return h()(t,e),l()(t,[{key:"componentWillMount",value:function(){M(this.props.audioVideoChatStatus)&&this.startClock()}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.audioVideoChatStatus,n=e.audioVideoChatStatus;t!==n&&(M(t)&&!M(n)&&clearInterval(this.clock),!M(t)&&M(n)&&this.startClock())}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.p2pChat;if(null!=t&&A(e.audioVideoChatStatus)&&this.videoContainer){var n=t.getLocalVideo();n&&(n.id="localVideo",n.className=T.a.localVideo,null==document.getElementById(n.id)&&this.videoContainer.appendChild(n));var o=t.getRemoteVideo();o&&(o.id="remoteVideo",o.className=T.a.remoteVideo,null==document.getElementById(o.id)&&this.videoContainer.appendChild(o))}}},{key:"componentWillUnmount",value:function(){clearInterval(this.clock),this.props.p2pChat&&(this.props.p2pChat.getLocalVideo().remove(),this.props.p2pChat.getRemoteVideo().remove())}},{key:"startClock",value:function(){var e=this;this.clock=setInterval(function(){return e.setState({timespan:N(new Date,e.props.audioVideoChatStartTime)})},1e3)}},{key:"render",value:function(){var e=this,t=this.props,n=A(t.audioVideoChatStatus),o=this.state.timespan;return r()("div",{className:b()(T.a.chatVideoContainer,n&&T.a.videoChatting)},void 0,r()("div",{className:T.a.chatVideoItem},void 0,n&&v.a.createElement("div",{className:T.a.videoContainer,ref:function(t){e.videoContainer=t}}),n&&r()("div",{className:T.a.chattingInfo},void 0,r()("div",{className:T.a.time},void 0,o.toString())),!n&&r()("div",{className:T.a.avatarContainer},void 0,r()(k.a,{isContactOrUserOpen:t.isContactOrUserOpen,avatarLink:t.avatarLink,identityType:t.identityType})),!n&&r()("div",{className:T.a.visitorName},void 0,t.chatTo),!n&&r()("div",{className:T.a.notice},void 0,r()(w.a,{type:R(t.audioVideoChatStatus)}),E(t.audioVideoChatStatus)+" "+o),r()("div",{className:T.a.action},void 0,P(t.audioVideoChatStatus)&&r()(C.a,{className:T.a.accept,onClick:t.onAcceptClick,type:"noborder"},void 0,r()(w.a,{type:I.b.acceptChat})),_(t.audioVideoChatStatus)&&r()(C.a,{className:T.a.refuse,type:"noborder",onClick:t.onRefuseClick},void 0,r()(w.a,{type:I.b.refuseChat})))))}}]),t}(v.a.Component);t.a=D},function(e,t,n){"use strict";var o=n(3),r=n.n(o),i=n(22),s=n.n(i),a=n(14),c=n.n(a),u=n(16),l=n.n(u),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(23),v=n.n(g),m=n(120),C=n.n(m),y=n(6),b=n.n(y),w=n(1),S=n.n(w),T=n(35),I=n.n(T),x=n(126),k=(n.n(x),n(381)),E=n(53),P=n(969),_=n.n(P),A=n(171),M=n(1031),R=n(2),N=n(70),D=n(1029),U=n(351),O=n(778),L=function(e){var t;return(t={},v()(t,k.b,_.a.chatContentsmall),v()(t,k.a,_.a.chatContentmiddle),v()(t,k.c,_.a.chatContentlarge),t)[e]},B=function(e){return b()(e.last())&&0!==e.last().length?e.last()[0].sender:""},F=function(e){return b()(e.last())&&0!==e.last().length?e.last()[e.last().length-1].message||e.last()[e.last().length-1].fileName:""},j=r()(E.a,{type:"noborder"},void 0,"Not Now"),V=function(e){function t(e){c()(this,t);var n=p()(this,(t.__proto__||s()(t)).call(this,e));return n.state={ifShowGotoMeetingNotify:!1},n.update=n.update.bind(n),n.selectChatMessage=n.selectChatMessage.bind(n),n.closeGotoMeetingNotify=n.closeGotoMeetingNotify.bind(n),n.scrollBottom=n.scrollBottom.bind(n),n.getScrollHeight=n.getScrollHeight.bind(n),n.canShowNotify=!1,n.scrollTop=e.scrollTop,n.timer=null,n.ifScrollBottom=!1,n.notifyVisitor=B(e.messages),n.notifyMessage=F(e.messages),n}return h()(t,e),l()(t,[{key:"componentDidMount",value:function(){this.parent.scrollTop=this.getScrollHeight(),this.parent.addEventListener("scroll",this.update,!1),document.body.addEventListener("keydown",this.selectChatMessage,!1)}},{key:"componentWillReceiveProps",value:function(e){var t=e.messages;this.notifyVisitor=B(t),this.notifyMessage=F(t),this.props.g2mStartUrl===e.g2mStartUrl||this.state.ifShowGotoMeetingNotify||this.setState({ifShowGotoMeetingNotify:!0}),this.scrollTop=e.scrollTop}},{key:"shouldComponentUpdate",value:function(e,t){return e.id!==this.props.id||e.selectedFontSize!==this.props.selectedFontSize||e.typingMessage!==this.props.typingMessage||e.textDirectionIfRTL!==this.props.textDirectionIfRTL||e.errorMessageForChat!==this.props.errorMessageForChat||e.g2mStartUrl!==this.props.g2mStartUrl||e.ifShowNotify!==this.props.ifShowNotify||e.audioVideoChatWidth!==this.props.audioVideoChatWidth||e.audioVideoChatStatus!==this.props.audioVideoChatStatus||t.ifShowGotoMeetingNotify!==this.state.ifShowGotoMeetingNotify||!C()(this.props.messages.toJS(),e.messages.toJS())}},{key:"componentDidUpdate",value:function(e){var t=this.props.messages;t===e.messages&&this.props.typingMessage===e.typingMessage||(this.parent.scrollTop=this.getScrollHeight())}},{key:"componentWillUnmount",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null),this.parent.removeEventListener("scroll",this.update),document.body.removeEventListener("keydown",this.selectChatMessage)}},{key:"getScrollHeight",value:function(){return this.scrollTop===-1?this.parent.scrollHeight:this.scrollTop}},{key:"update",value:function(e){var t=this;
this.scrollTop=e.target.scrollTop;var n=e.target.clientHeight,o=e.target.scrollHeight;this.canShowNotify=this.scrollTop+n<o-20,!this.canShowNotify&&this.props.ifShowNotify&&this.props.updateIfShowNotify(!1),this.canShowNotify?this.ifScrollBottom=!1:(this.timer&&(clearTimeout(this.timer),this.timer=null),this.ifScrollBottom=!0,this.props.onScroll(this.props.id,-1)),this.props.onScroll&&!this.ifScrollBottom&&(this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout(function(){t.props.onScroll(t.props.id,t.scrollTop)},500))}},{key:"selectChatMessage",value:function(e){if(e.ctrlKey&&(65===e.keyCode||97===e.keyCode)&&(e.target===document.body||e.target===this.parent)){if(document.selection){var t=document.body.createTextRange();t.moveToElementText(this.parent),t.select()}else if(window.getSelection){var n=window.getSelection();n.rangeCount>0&&n.removeAllRanges();var o=document.createRange();o.selectNode(this.parent),n.addRange(o)}e.preventDefault(),e.stopPropagation()}}},{key:"closeGotoMeetingNotify",value:function(){this.setState({ifShowGotoMeetingNotify:!1}),this.props.clearG2mStartUrl()}},{key:"scrollBottom",value:function(){this.parent.scrollTop=this.container.getBoundingClientRect().height,this.ifScrollBottom=!0,this.props.onScroll(this.props.id,-1)}},{key:"render",value:function(){var e=this,t=this.props,n=r()("div",{className:_.a.chatContentContainer},void 0,S.a.createElement("div",{className:I()(_.a.chatContent,L(t.selectedFontSize),t.textDirectionIfRTL?_.a.directionRTL:"","contentMenu"),ref:function(t){e.parent=t}},S.a.createElement("div",{ref:function(t){e.container=t}},t.messages.map(function(t,n){return r()(M.a,{messages:t,getSecureFormContent:e.props.getSecureFormContent,timezone:e.props.timezone,timezoneOffset:e.props.timezoneOffset},n)})),""!==t.typingMessage?r()("div",{className:_.a.typingIndicator},void 0,r()("span",{},void 0,t.chatTo," is typing: "),t.typingMessage,"...",r()(N.a,{type:R.b.typing,size:13})):null),this.props.ifShowNotify&&this.props.scrollTop!==-1&&r()("div",{className:_.a.notify,onClick:this.scrollBottom},void 0,r()("span",{className:_.a.notifyName},void 0,this.notifyVisitor,":")," ",this.notifyMessage),t.g2mStartUrl&&this.state.ifShowGotoMeetingNotify?r()("div",{className:I()(_.a.notify,_.a.notifyG2M)},void 0,"You have created a new meeting.",r()("span",{className:_.a.action,onClick:this.closeGotoMeetingNotify},void 0,r()(A.a,{href:t.g2mStartUrl,newWindow:!0},void 0,"Start Meeting Immediately"),j)):"",t.errorMessageForChat?r()("div",{className:_.a.error},void 0,r()("span",{className:_.a.errorContent},void 0,t.errorMessageForChat),r()(E.a,{type:"noborder",onClick:t.hideErrorMessage},void 0,"Dismiss")):"");return r()("div",{className:_.a.chatContainer},void 0,t.audioVideoChatStatus&&t.audioVideoChatStatus!==U.a?r()(O.default,{resizerPosition:"left",width:t.audioVideoChatWidth,left_minWidth:110,right_minWidth:110,onStopResize:t.onAudioAndVideoStopResize},void 0,r()(D.a,{audioVideoChatStatus:t.audioVideoChatStatus,chatTo:t.chatTo,avatarLink:t.visitorAvatar,isContactOrUserOpen:t.isContactOrUserOpen,identityType:t.identityType,onAcceptClick:this.props.onAudioVideoChatAccept,onRefuseClick:this.props.onAudioVideoChatRefuse,p2pChat:t.p2pChat,audioVideoChatStartTime:t.audioVideoChatStartTime}),n):r()("div",{},void 0,n))}}]),t}(S.a.Component);t.a=V},function(e,t,n){"use strict";var o=n(22),r=n.n(o),i=n(14),s=n.n(i),a=n(16),c=n.n(a),u=n(21),l=n.n(u),d=n(20),p=n.n(d),f=n(3),h=n.n(f),g=n(1),v=n.n(g),m=n(35),C=n.n(m),y=n(90),b=n(171),w=n(244),S=n(159),T=n(969),I=n.n(T),x=n(70),k=n(2),E=h()("i",{},void 0,"(Translation)"),P=h()("br",{}),_=h()("i",{},void 0,"(Original)"),A=function(e){if(e.translatedMessage&&""!==e.translatedMessage){var t="",n="";return t=S.e(e.translatedMessage,function(e,t){var n=0===e.indexOf("www.")?"http://"+e:e;return h()(b.a,{href:n,newWindow:!0},t,e)}),n=S.e(e.message,function(e,t){var n=0===e.indexOf("www.")?"http://"+e:e;return h()(b.a,{href:n,newWindow:!0},t,e)}),h()("p",{},e.id,t," ",E,P,h()("span",{className:I.a.translationMsg},void 0,n)," ",_)}return h()("p",{},e.id,S.e(e.message,function(e,t){var n=0===e.indexOf("www.")?"http://"+e:e;return h()(b.a,{href:n,newWindow:!0},t,e)}))},M=function(e){return e.url?h()("div",{},e.id,h()(b.a,{href:e.url,newWindow:!0},e.id,h()("img",{src:e.url,alt:e.filename,style:{maxWidth:400,maxHeight:400}}))):null},R=function(e){return h()("div",{},e.id,h()(b.a,{className:I.a.attachment,href:e.url,newWindow:!0},e.id,e.fileName))},N=function(e){return e.message?A(e):e.url?e.isImage?M(e):R(e):null},D=function(e){function t(){return s()(this,t),l()(this,(t.__proto__||r()(t)).apply(this,arguments))}return p()(t,e),c()(t,[{key:"componentDidMount",value:function(){var e=this.props.messages[0];e.type===w.d&&e.message.status===k.n.init&&this.props.getSecureFormContent(e.message.token,e.message.rsaKey)}},{key:"shouldComponentUpdate",value:function(e){return e.messages!==this.props.messages}},{key:"render",value:function(){var e=this.props.messages,t=e[0].sender,o=n.i(y.f)(e[0].time,"HH:mm",this.props.timezone,this.props.timezoneOffset),r=e[0].type;return r===w.b?h()("div",{className:C()(I.a.systemMeg)},void 0,e[0].message):h()("div",{className:C()(I.a.chatContentInfo,r===w.c?I.a.operator:I.a.visitor)},void 0,r===w.d?h()("div",{className:I.a.secureForm},void 0,e[0].message.status===k.n.downloading||e[0].message.status===k.n.init?h()(x.a,{type:k.b.loading,size:"small"}):e[0].message.content.map(function(e){return h()("div",{},void 0,e.name,": ",e.value)})):h()("div",{},void 0,h()("div",{},void 0,h()("span",{className:I.a.name},void 0,t+": "),h()("span",{className:I.a.time},void 0,o)),h()("div",{className:I.a.chatMeg},void 0,e.map(function(e){return N(e)}))))}}]),t}(v.a.Component);t.a=D},function(e,t,n){"use strict";var o=n(3),r=n.n(o),i=n(1),s=(n.n(i),n(1056)),a=n.n(s),c=(n(53),function(e){return r()("div",{className:a.a.uploadProgressContainer},void 0,e.fileUploadProgressNumber>0&&e.fileUploadProgressNumber<100?r()("div",{className:a.a.uploadProgress},void 0,r()("span",{className:a.a.uploadFileName},void 0,e.fileName),r()("span",{className:a.a.uploadProgressPercent},void 0,e.fileUploadProgressNumber,"%"),r()("button",{className:a.a.cancelUpload,onClick:function(){return e.handleAbortUpload(e.file)}},void 0,"×")):"")});t.a=c},function(e,t,n){"use strict";var o=n(3),r=n.n(o),i=n(1),s=(n.n(i),n(35)),a=n.n(s),c=n(379),u=n(222),l=n.n(u),d=function(e){var t="-"!==e.name?e.name:"Unknown",n="",o=e.name.toLowerCase();return n=o.indexOf("chrome")!==-1?"chrome":o.indexOf("ie")!==-1?"ie":o.indexOf("edge")!==-1?"edge":o.indexOf("firefox")!==-1?"firefox":o.indexOf("safari")!==-1?"safari":o.indexOf("opera")!==-1?"opera":"default",r()("span",{"data-tip":t,"data-for":"chatContainer"},void 0,r()(c.a,{className:a()(l.a["browser-"+n],l.a.iconOffsetDown)}))};t.a=d},function(e,t,n){"use strict";var o=n(48),r=n.n(o),i=n(3),s=n.n(i),a=n(22),c=n.n(a),u=n(14),l=n.n(u),d=n(16),p=n.n(d),f=n(21),h=n.n(f),g=n(20),v=n.n(g),m=n(394),C=n.n(m),y=n(1),b=n.n(y),w=n(35),S=n.n(w),T=n(1328),I=n.n(T),x=n(222),k=n.n(x),E=n(70),P=n(2),_=n(17),A=n(1032),M=n.i(_.e)("SendFile",["disabled"],["file","fileName","fileUploadProgressNumber","uploadedFileNumber","errorMessage"]),R=function(e){function t(e){l()(this,t);var o=h()(this,(t.__proto__||c()(t)).call(this,e));return o.beforeUpload=function(e){var t=o.props.siteInfo;return e.size<=1024*t.maxFileSize*1024?o.state.uploadedFileNumber>t.maxFileNum?(o.showErrorMessage("Error sending file: The max number of files you can send/receive during this chat session is\n                          "+t.maxFileNum+"."),!1):!o.props.beforeUpload||o.props.beforeUpload(e):(o.showErrorMessage("Error sending file: The max file size is "+t.maxFileSize+" MB."),!1)},o.onProgress=function(e,t){o.props.onProgress&&o.props.onProgress(e,t,o.upload),o.setState({file:t,fileName:t.name,fileUploadProgressNumber:100===e.percent?100:parseFloat(e.percent.toFixed(1))})},o.onSuccess=function(e,t){if(e&&("success"===e||e.isSuccess))return o.setState({uploadedFileNumber:o.state.uploadedFileNumber+1}),void(o.props.onSuccess&&o.props.onSuccess(e,t,o.getDownloadUrl(e.guid,t.name),o.props.siteInfo));var n=e.errorMessage||e;o.showErrorMessage("Error sending file: "+n)},o.getDownloadUrl=function(e,t){if(!o.props.siteInfo)return"";var r=o.props.siteInfo,i=r.downloadUrl,s=r.sessionId,a=r.siteId,c=r.privateMessage;return n.i(_.m)(i,s,a,c,e,t)},o.handleAbortUpload=function(e){o.upload&&o.upload.abort(e),o.setState({fileUploadProgressNumber:0})},o.state={file:null,fileName:"",fileUploadProgressNumber:0,uploadedFileNumber:0,errorMessage:""},o.upload=null,o.showErrorMessage=e.showErrorMessage.bind(null,e.chatId),o.uploadConfig={action:e.siteInfo.sendFileUploadUrl,multiple:!1,disabled:e.disabled,beforeUpload:o.beforeUpload,onStart:e.onStart||C.a,onSuccess:o.onSuccess,onProgress:o.onProgress,onError:e.onError||C.a},o}return v()(t,e),p()(t,[{key:"componentWillReceiveProps",value:function(e){this.uploadConfig.action=e.siteInfo.sendFileUploadUrl,this.uploadConfig.disabled=e.disabled,e.chatId!==this.props.chatId&&(this.showErrorMessage=this.props.showErrorMessage.bind(null,e.chatId))}},{key:"shouldComponentUpdate",value:function(e,t){return M(this.props,e,this.state,t)}},{key:"render",value:function(){var e=this;return this.uploadConfig.disabled=this.props.disabled,this.props.disabled||(100!==this.state.fileUploadProgressNumber&&0!==this.state.fileUploadProgressNumber?this.uploadConfig.disabled=!0:this.uploadConfig.disabled=!1),s()("div",{},void 0,s()(A.a,{file:this.state.file,fileName:this.state.fileName,fileUploadProgressNumber:this.state.fileUploadProgressNumber,handleAbortUpload:this.handleAbortUpload}),s()("span",{className:S()(k.a.fileupload,this.props.className),"data-tip":"Send a file from your local machine.","data-for":"chatContainer"},void 0,b.a.createElement(I.a,r()({ref:function(t){e.upload=t}},this.uploadConfig),s()(E.a,{type:P.b.sendFile}))))}}]),t}(y.Component);t.a=R},function(e,t,n){"use strict";var o=n(3),r=n.n(o),i=n(1),s=(n.n(i),n(35)),a=n.n(s),c=n(222),u=n.n(c),l=n(379),d=function(e){var t=e.city+", "+e.state+", "+e.countryName;if(!e.countryCode)return null;var o=e.countryCode.toLowerCase(),i=n(1338)("./"+o+".svg");return r()("span",{"data-tip":t,"data-for":e["data-for"]||"chatContainer"},void 0,r()(l.a,{className:a()(u.a.iconSmaller,u.a.iconOffsetDown),style:{backgroundImage:"url("+i+")"}}))};t.a=d},function(e,t,n){"use strict";var o=n(3),r=n.n(o),i=n(1),s=(n.n(i),n(35)),a=n.n(s),c=n(379),u=n(222),l=n.n(u),d=function(e){var t="-"!==e.name?e.name:"Unknown",n="",o=e.name.toLowerCase();return o.indexOf("windows")!==-1?(n="windows",o.indexOf("windows 10")===-1&&o.indexOf("windows 8")===-1||(n="windows8")):n=o.indexOf("mac")!==-1?"mac":o.indexOf("android")!==-1?"android":o.indexOf("ios")!==-1?"ios":o.indexOf("linux")!==-1?"linux":"default",r()("span",{"data-tip":t,"data-for":"chatContainer"},void 0,r()(c.a,{className:a()(l.a["os-"+n],l.a.iconOffsetDown)}))};t.a=d},,function(e,t,n){"use strict";var o=n(3),r=n.n(o),i=n(22),s=n.n(i),a=n(14),c=n.n(a),u=n(16),l=n.n(u),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(1),v=n.n(g),m=n(101),C=n(961),y=n(771),b=n(17),w=n.i(b.e)("ModalBanChat",["visitorId","realVisitorId","visitorIP","ifOpen"],["banType","comment"]),S=r()("div",{},void 0,"Comment:"),T=function(e){function t(e){c()(this,t);var n=p()(this,(t.__proto__||s()(t)).call(this,e));return n.state={banType:"0",comment:""},n.handleRadioChange=n.handleRadioChange.bind(n),n.handleTextAreaChange=n.handleTextAreaChange.bind(n),n.handleBanChat=n.handleBanChat.bind(n),n}return h()(t,e),l()(t,[{key:"shouldComponentUpdate",value:function(e,t){return w(this.props,e,this.state,t)}},{key:"handleRadioChange",value:function(e){this.setState({banType:e.target.value})}},{key:"handleTextAreaChange",value:function(e){this.setState({comment:e.target.value})}},{key:"handleBanChat",value:function(){var e={banType:this.state.banType,ip:this.props.visitorIP,comment:this.state.comment};this.props.onBanChat(this.props.visitorId,e),this.props.closeModal()}},{key:"render",value:function(){var e=this.props.realVisitorId,t=e>0?" (Visitor Id: "+e+")":"";return r()(m.a,{closeModal:this.props.closeModal,title:"Ban Visitor",actions:{okProps:{text:"OK",eventClick:this.handleBanChat},cancelProps:{text:"Cancel"}}},void 0,r()(y.a,{name:"banvisitor",radioOption:[{text:"Ban visitor from this Visitor Id."+t,value:"0",checked:"0"===this.state.banType},{text:"Ban visitor from this IP. (IP: "+this.props.visitorIP+")",value:"1",checked:"1"===this.state.banType}],handleChange:this.handleRadioChange}),S,r()(C.a,{meta:{},input:{onChange:this.handleTextAreaChange},name:"bancomment",cols:"40",rows:"5"}))}}]),t}(v.a.Component);t.a=T},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return i});var o=2,r=3,i=6},,function(e,t,n){"use strict";var o=n(92),r=n.n(o),i=n(3),s=n.n(i),a=n(1),c=(n.n(a),n(383)),u=n(386),l=n(354);t.a=function(){return s()(c.a,{modules:{VisitorDetailsTab:function(){return n.i(c.b)(new r.a(function(e,t){n.e(6).then(function(t){e(n(1006))}.bind(null,n)).catch(n.oe).catch(t)}))}},loading:u.a,retry:l.a},void 0,function(e){var t=e.VisitorDetailsTab;return s()(t,{})})}},,,,,,,,,,,,,,,function(e,t){e.exports={uploadProgressContainer:"FileUploadProgress__uploadProgressContainer--2X8I6",uploadProgress:"FileUploadProgress__uploadProgress--z1S5B",uploadProgressPercent:"FileUploadProgress__uploadProgressPercent--2Kuai",uploadProgressBarContainer:"FileUploadProgress__uploadProgressBarContainer--1y0Vz",uploadProgressBar:"FileUploadProgress__uploadProgressBar--1Y9LY",cancelUpload:"FileUploadProgress__cancelUpload--1YVmG",uploadFileName:"FileUploadProgress__uploadFileName--3j-Sc"}},,function(e,t){e.exports={promptWindow:"Prompt__promptWindow--1pSIE",close:"Prompt__close--1armJ",action:"Prompt__action--8U9t9",dropdown:"Prompt__dropdown--dWvdQ"}},,,function(e,t){e.exports={container:"Tooltip__container--202Gq"}},,,,,function(e,t){e.exports="agent-console/./resources/flags/ad.2w4fR.svg"},function(e,t){e.exports="agent-console/./resources/flags/ae.QKKnW.svg"},function(e,t){e.exports="agent-console/./resources/flags/af.34HyY.svg"},function(e,t){e.exports="agent-console/./resources/flags/ag.3oxDo.svg"},function(e,t){e.exports="agent-console/./resources/flags/ai.1ePWR.svg"},function(e,t){e.exports="agent-console/./resources/flags/al.1vueq.svg"},function(e,t){e.exports="agent-console/./resources/flags/am.47rmP.svg"},function(e,t){e.exports="agent-console/./resources/flags/ao.3jr2Q.svg"},function(e,t){e.exports="agent-console/./resources/flags/aq.3EaFW.svg"},function(e,t){e.exports="agent-console/./resources/flags/ar.2ETX6.svg"},function(e,t){e.exports="agent-console/./resources/flags/as.1p0xc.svg"},function(e,t){e.exports="agent-console/./resources/flags/at.2q7_9.svg"},function(e,t){e.exports="agent-console/./resources/flags/au.3DiLj.svg"},function(e,t){e.exports="agent-console/./resources/flags/aw.4BBWc.svg"},function(e,t){e.exports="agent-console/./resources/flags/ax.36jxg.svg"},function(e,t){e.exports="agent-console/./resources/flags/az.1qUdn.svg"},function(e,t){e.exports="agent-console/./resources/flags/ba.25bIN.svg"},function(e,t){e.exports="agent-console/./resources/flags/bb.BcX82.svg"},function(e,t){e.exports="agent-console/./resources/flags/bd.2fEO9.svg"},function(e,t){e.exports="agent-console/./resources/flags/be.26Thv.svg"},function(e,t){e.exports="agent-console/./resources/flags/bf.2lL_M.svg"},function(e,t){e.exports="agent-console/./resources/flags/bg.3FL0Z.svg"},function(e,t){e.exports="agent-console/./resources/flags/bh.2P2db.svg"},function(e,t){e.exports="agent-console/./resources/flags/bi.xNOIF.svg"},function(e,t){e.exports="agent-console/./resources/flags/bj.2RzLF.svg"},function(e,t){e.exports="agent-console/./resources/flags/bl.AXPio.svg"},function(e,t){e.exports="agent-console/./resources/flags/bm.9mtgH.svg"},function(e,t){e.exports="agent-console/./resources/flags/bn.3SkJy.svg"},function(e,t){e.exports="agent-console/./resources/flags/bo.3Pn4G.svg"},function(e,t){e.exports="agent-console/./resources/flags/bq.2b5iS.svg"},function(e,t){e.exports="agent-console/./resources/flags/br.31kAh.svg"},function(e,t){e.exports="agent-console/./resources/flags/bs.3x6BN.svg"},function(e,t){e.exports="agent-console/./resources/flags/bt.BqUXg.svg"},function(e,t){e.exports="agent-console/./resources/flags/bv.1omMS.svg"},function(e,t){e.exports="agent-console/./resources/flags/bw.fXfB3.svg"},function(e,t){e.exports="agent-console/./resources/flags/by.fkEtY.svg"},function(e,t){e.exports="agent-console/./resources/flags/bz.3zcxn.svg"},function(e,t){e.exports="agent-console/./resources/flags/ca.3yloD.svg"},function(e,t){e.exports="agent-console/./resources/flags/cc.1BE1c.svg"},function(e,t){e.exports="agent-console/./resources/flags/cd.1aL94.svg"},function(e,t){e.exports="agent-console/./resources/flags/cf.1KZPZ.svg"},function(e,t){e.exports="agent-console/./resources/flags/cg.5-Xxi.svg"},function(e,t){e.exports="agent-console/./resources/flags/ch.WYetg.svg"},function(e,t){e.exports="agent-console/./resources/flags/ci.1IYx6.svg"},function(e,t){e.exports="agent-console/./resources/flags/ck.3tyQv.svg"},function(e,t){e.exports="agent-console/./resources/flags/cl.2NI88.svg"},function(e,t){e.exports="agent-console/./resources/flags/cm.9MohG.svg"},function(e,t){e.exports="agent-console/./resources/flags/cn.1N1to.svg"},function(e,t){e.exports="agent-console/./resources/flags/co.1RsuP.svg"},function(e,t){e.exports="agent-console/./resources/flags/cr.3Yju6.svg"},function(e,t){e.exports="agent-console/./resources/flags/cu.3p081.svg"},function(e,t){e.exports="agent-console/./resources/flags/cv.1ygJ9.svg"},function(e,t){e.exports="agent-console/./resources/flags/cw.1RthL.svg"},function(e,t){e.exports="agent-console/./resources/flags/cx.38aoS.svg"},function(e,t){e.exports="agent-console/./resources/flags/cy.uMX3m.svg"},function(e,t){e.exports="agent-console/./resources/flags/cz.eJUf5.svg"},function(e,t){e.exports="agent-console/./resources/flags/de.2Ts3w.svg"},function(e,t){e.exports="agent-console/./resources/flags/dj.1fpHg.svg"},function(e,t){e.exports="agent-console/./resources/flags/dk.3juVM.svg"},function(e,t){e.exports="agent-console/./resources/flags/dm.1rpAy.svg"},function(e,t){e.exports="agent-console/./resources/flags/do.1DAN7.svg"},function(e,t){e.exports="agent-console/./resources/flags/dz.1vHVr.svg"},function(e,t){e.exports="agent-console/./resources/flags/ec.hwbbX.svg"},function(e,t){e.exports="agent-console/./resources/flags/ee.KILMu.svg"},function(e,t){e.exports="agent-console/./resources/flags/eg.3U_QX.svg"},function(e,t){e.exports="agent-console/./resources/flags/eh.2skcW.svg"},function(e,t){e.exports="agent-console/./resources/flags/er.3T2BO.svg"},function(e,t){e.exports="agent-console/./resources/flags/es.1iqTD.svg"},function(e,t){e.exports="agent-console/./resources/flags/et.17Ajh.svg"},function(e,t){e.exports="agent-console/./resources/flags/eu.3bw_3.svg"},function(e,t){e.exports="agent-console/./resources/flags/fi.3ztSq.svg"},function(e,t){e.exports="agent-console/./resources/flags/fj.1cU11.svg"},function(e,t){e.exports="agent-console/./resources/flags/fk.2QJ47.svg"},function(e,t){e.exports="agent-console/./resources/flags/fm.1CfPN.svg"},function(e,t){e.exports="agent-console/./resources/flags/fo.3iKwE.svg"},function(e,t){e.exports="agent-console/./resources/flags/fr.2piL-.svg"},function(e,t){e.exports="agent-console/./resources/flags/ga.3NQKi.svg"},function(e,t){e.exports="agent-console/./resources/flags/gb-eng.3CFDF.svg"},function(e,t){e.exports="agent-console/./resources/flags/gb-nir.36y8P.svg"},function(e,t){e.exports="agent-console/./resources/flags/gb-sct.1ByLH.svg"},function(e,t){e.exports="agent-console/./resources/flags/gb-wls._syZw.svg"},function(e,t){e.exports="agent-console/./resources/flags/gb.14AVo.svg"},function(e,t){e.exports="agent-console/./resources/flags/gd.1Stf-.svg"},function(e,t){e.exports="agent-console/./resources/flags/ge.2zNqV.svg"},function(e,t){e.exports="agent-console/./resources/flags/gf.qc_td.svg"},function(e,t){e.exports="agent-console/./resources/flags/gg.31NRj.svg"},function(e,t){e.exports="agent-console/./resources/flags/gh.1Tgnf.svg"},function(e,t){e.exports="agent-console/./resources/flags/gi.1nA7a.svg"},function(e,t){e.exports="agent-console/./resources/flags/gl.hATVw.svg"},function(e,t){e.exports="agent-console/./resources/flags/gm.xpnyt.svg"},function(e,t){e.exports="agent-console/./resources/flags/gn.1aCvk.svg"},function(e,t){e.exports="agent-console/./resources/flags/gp.2piL-.svg"},function(e,t){e.exports="agent-console/./resources/flags/gq.1oDwE.svg"},function(e,t){e.exports="agent-console/./resources/flags/gr.4ZgKs.svg"},function(e,t){e.exports="agent-console/./resources/flags/gs.2543W.svg"},function(e,t){e.exports="agent-console/./resources/flags/gt.35oze.svg"},function(e,t){e.exports="agent-console/./resources/flags/gu.2dYTQ.svg"},function(e,t){e.exports="agent-console/./resources/flags/gw.1LVc9.svg"},function(e,t){e.exports="agent-console/./resources/flags/gy.2vj9x.svg"},function(e,t){e.exports="agent-console/./resources/flags/hk.2v-pS.svg"},function(e,t){e.exports="agent-console/./resources/flags/hm.2wnFl.svg"},function(e,t){e.exports="agent-console/./resources/flags/hn.2ttXd.svg"},function(e,t){e.exports="agent-console/./resources/flags/hr.2lFUr.svg"},function(e,t){e.exports="agent-console/./resources/flags/ht.3E_g7.svg"},function(e,t){e.exports="agent-console/./resources/flags/hu.3JCUx.svg"},function(e,t){e.exports="agent-console/./resources/flags/id.ZZ8zx.svg"},function(e,t){e.exports="agent-console/./resources/flags/ie.3jKk2.svg"},function(e,t){e.exports="agent-console/./resources/flags/il.2IR-H.svg"},function(e,t){e.exports="agent-console/./resources/flags/im.2T3ee.svg"},function(e,t){e.exports="agent-console/./resources/flags/in.zCN5C.svg"},function(e,t){e.exports="agent-console/./resources/flags/io.3Hueg.svg"},function(e,t){e.exports="agent-console/./resources/flags/iq.2-x9U.svg"},function(e,t){e.exports="agent-console/./resources/flags/ir.1FkmY.svg"},function(e,t){e.exports="agent-console/./resources/flags/is.2-htH.svg"},function(e,t){e.exports="agent-console/./resources/flags/it.1pZzK.svg"},function(e,t){e.exports="agent-console/./resources/flags/je.1BsCZ.svg"},function(e,t){e.exports="agent-console/./resources/flags/jm.2Ls7t.svg"},function(e,t){e.exports="agent-console/./resources/flags/jo.1f_fj.svg"},function(e,t){e.exports="agent-console/./resources/flags/jp.UXaTU.svg"},function(e,t){e.exports="agent-console/./resources/flags/ke.hvJXJ.svg"},function(e,t){e.exports="agent-console/./resources/flags/kg.2mryN.svg"},function(e,t){e.exports="agent-console/./resources/flags/kh.2fKfl.svg"},function(e,t){e.exports="agent-console/./resources/flags/ki.rop2G.svg"},function(e,t){e.exports="agent-console/./resources/flags/km.DTOdx.svg"},function(e,t){e.exports="agent-console/./resources/flags/kn.EftCL.svg"},function(e,t){e.exports="agent-console/./resources/flags/kp.4J00M.svg"},function(e,t){e.exports="agent-console/./resources/flags/kr.pR_NP.svg"},function(e,t){e.exports="agent-console/./resources/flags/kw.2obiU.svg"},function(e,t){e.exports="agent-console/./resources/flags/ky.z-Miu.svg"},function(e,t){e.exports="agent-console/./resources/flags/kz.DQkxo.svg"},function(e,t){e.exports="agent-console/./resources/flags/la.2eB4J.svg"},function(e,t){e.exports="agent-console/./resources/flags/lb.30pnU.svg"},function(e,t){e.exports="agent-console/./resources/flags/lc.EKPVR.svg"},function(e,t){e.exports="agent-console/./resources/flags/li.2WpEC.svg"},function(e,t){e.exports="agent-console/./resources/flags/lk.k1C0H.svg"},function(e,t){e.exports="agent-console/./resources/flags/lr.2Uw0P.svg"},function(e,t){e.exports="agent-console/./resources/flags/ls.VBEQt.svg"},function(e,t){e.exports="agent-console/./resources/flags/lt.-y825.svg"},function(e,t){e.exports="agent-console/./resources/flags/lu.3uxLI.svg"},function(e,t){e.exports="agent-console/./resources/flags/lv.ZvSWw.svg"},function(e,t){e.exports="agent-console/./resources/flags/ly.3sE_g.svg"},function(e,t){e.exports="agent-console/./resources/flags/ma.1EL7B.svg"},function(e,t){e.exports="agent-console/./resources/flags/mc.2WhRw.svg"},function(e,t){e.exports="agent-console/./resources/flags/md.vsh0e.svg"},function(e,t){e.exports="agent-console/./resources/flags/me.1qPvt.svg"},function(e,t){e.exports="agent-console/./resources/flags/mf.2piL-.svg"},function(e,t){e.exports="agent-console/./resources/flags/mg.3xRR5.svg"},function(e,t){e.exports="agent-console/./resources/flags/mh.2wUrT.svg"},function(e,t){e.exports="agent-console/./resources/flags/mk.2BczB.svg"},function(e,t){e.exports="agent-console/./resources/flags/ml.1kv7-.svg"},function(e,t){e.exports="agent-console/./resources/flags/mm.2ffBN.svg"},function(e,t){e.exports="agent-console/./resources/flags/mn.lruf-.svg"},function(e,t){e.exports="agent-console/./resources/flags/mo.3sSWi.svg"},function(e,t){e.exports="agent-console/./resources/flags/mp.1O98X.svg"},function(e,t){e.exports="agent-console/./resources/flags/mq.1j0c-.svg"},function(e,t){e.exports="agent-console/./resources/flags/mr.2nSlc.svg"},function(e,t){e.exports="agent-console/./resources/flags/ms.2S4dH.svg"},function(e,t){e.exports="agent-console/./resources/flags/mt.3YVu7.svg"},function(e,t){e.exports="agent-console/./resources/flags/mu.2xe4w.svg"},function(e,t){e.exports="agent-console/./resources/flags/mv.1pAcK.svg"},function(e,t){e.exports="agent-console/./resources/flags/mw.2u2G-.svg"},function(e,t){e.exports="agent-console/./resources/flags/mx.3HHm5.svg"},function(e,t){e.exports="agent-console/./resources/flags/my.2ROqC.svg"},function(e,t){e.exports="agent-console/./resources/flags/mz.1madv.svg"},function(e,t){e.exports="agent-console/./resources/flags/na.3b9ka.svg"},function(e,t){e.exports="agent-console/./resources/flags/nc.2SMtj.svg"},function(e,t){e.exports="agent-console/./resources/flags/ne.2AJeB.svg"},function(e,t){e.exports="agent-console/./resources/flags/nf.3jVrH.svg"},function(e,t){e.exports="agent-console/./resources/flags/ng.1m-Ff.svg"},function(e,t){e.exports="agent-console/./resources/flags/ni.3edd4.svg"},function(e,t){e.exports="agent-console/./resources/flags/nl.2bwMS.svg"},function(e,t){e.exports="agent-console/./resources/flags/no.1IabM.svg"},function(e,t){e.exports="agent-console/./resources/flags/np.IB5s7.svg"},function(e,t){e.exports="agent-console/./resources/flags/nr.3s4iU.svg"},function(e,t){e.exports="agent-console/./resources/flags/nu.2WiGe.svg"},function(e,t){e.exports="agent-console/./resources/flags/nz.gV5t6.svg"},function(e,t){e.exports="agent-console/./resources/flags/om.2IQ-j.svg"},function(e,t){e.exports="agent-console/./resources/flags/pa.22K2M.svg"},function(e,t){e.exports="agent-console/./resources/flags/pe.1_GS_.svg"},function(e,t){e.exports="agent-console/./resources/flags/pf.3tk8E.svg"},function(e,t){e.exports="agent-console/./resources/flags/pg.3w7D2.svg"},function(e,t){e.exports="agent-console/./resources/flags/ph.1K-EN.svg"},function(e,t){e.exports="agent-console/./resources/flags/pk.7QViU.svg"},function(e,t){e.exports="agent-console/./resources/flags/pl.2a9yb.svg"},function(e,t){e.exports="agent-console/./resources/flags/pm.2SMtj.svg"},function(e,t){e.exports="agent-console/./resources/flags/pn.3mRNc.svg"},function(e,t){e.exports="agent-console/./resources/flags/pr.TkG0b.svg"},function(e,t){e.exports="agent-console/./resources/flags/ps.BcoId.svg"},function(e,t){e.exports="agent-console/./resources/flags/pt.3XLbQ.svg"},function(e,t){e.exports="agent-console/./resources/flags/pw.3J0Gx.svg"},function(e,t){e.exports="agent-console/./resources/flags/py.2SA6U.svg"},function(e,t){e.exports="agent-console/./resources/flags/qa.3CXHK.svg"},function(e,t){e.exports="agent-console/./resources/flags/re.2SMtj.svg"},function(e,t){e.exports="agent-console/./resources/flags/ro.1xgq6.svg"},function(e,t){e.exports="agent-console/./resources/flags/rs.28IQy.svg"},function(e,t){e.exports="agent-console/./resources/flags/ru.3RAq4.svg"},function(e,t){e.exports="agent-console/./resources/flags/rw.34cXU.svg"},function(e,t){e.exports="agent-console/./resources/flags/sa.2bh1V.svg"},function(e,t){e.exports="agent-console/./resources/flags/sb.2zDCO.svg"},function(e,t){e.exports="agent-console/./resources/flags/sc.1AnTz.svg"},function(e,t){e.exports="agent-console/./resources/flags/sd.c8kmJ.svg"},function(e,t){e.exports="agent-console/./resources/flags/se.31NU3.svg"},function(e,t){e.exports="agent-console/./resources/flags/sg.8o5QE.svg"},function(e,t){e.exports="agent-console/./resources/flags/sh.1nwc1.svg"},function(e,t){e.exports="agent-console/./resources/flags/si.s4x5x.svg"},function(e,t){e.exports="agent-console/./resources/flags/sj.2HjXs.svg"},function(e,t){e.exports="agent-console/./resources/flags/sk.1xk77.svg"},function(e,t){e.exports="agent-console/./resources/flags/sl.DGVaX.svg"},function(e,t){e.exports="agent-console/./resources/flags/sm.2jefN.svg"},function(e,t){e.exports="agent-console/./resources/flags/sn.1N8aE.svg"},function(e,t){e.exports="agent-console/./resources/flags/so.2wReU.svg"},function(e,t){e.exports="agent-console/./resources/flags/sr.tPEMt.svg"},function(e,t){e.exports="agent-console/./resources/flags/ss.3Geds.svg"},function(e,t){e.exports="agent-console/./resources/flags/st.1gBcE.svg"},function(e,t){e.exports="agent-console/./resources/flags/sv.3MFAg.svg"},function(e,t){e.exports="agent-console/./resources/flags/sx.1QgmA.svg"},function(e,t){e.exports="agent-console/./resources/flags/sy.EZ4pb.svg"},function(e,t){e.exports="agent-console/./resources/flags/sz.3eOag.svg"},function(e,t){e.exports="agent-console/./resources/flags/tc.2Q-RA.svg"},function(e,t){e.exports="agent-console/./resources/flags/td.XwVK8.svg"},function(e,t){e.exports="agent-console/./resources/flags/tf.3xaTz.svg"},function(e,t){e.exports="agent-console/./resources/flags/tg.Jykqh.svg"},function(e,t){e.exports="agent-console/./resources/flags/th.3ETCo.svg"},function(e,t){e.exports="agent-console/./resources/flags/tj.3zkP-.svg"},function(e,t){e.exports="agent-console/./resources/flags/tk.1YQsC.svg"},function(e,t){e.exports="agent-console/./resources/flags/tl.1GOaM.svg"},function(e,t){e.exports="agent-console/./resources/flags/tm.2Ekpc.svg"},function(e,t){e.exports="agent-console/./resources/flags/tn.3KaBy.svg"},function(e,t){e.exports="agent-console/./resources/flags/to.WnJJp.svg"},function(e,t){e.exports="agent-console/./resources/flags/tr.2NjR_.svg"},function(e,t){e.exports="agent-console/./resources/flags/tt.TUf9C.svg"},function(e,t){e.exports="agent-console/./resources/flags/tv.36m3F.svg"},function(e,t){e.exports="agent-console/./resources/flags/tw.2wleo.svg"},function(e,t){e.exports="agent-console/./resources/flags/tz.V_aqs.svg"},function(e,t){e.exports="agent-console/./resources/flags/ua.2llWW.svg"},function(e,t){e.exports="agent-console/./resources/flags/ug.3XVhp.svg"},function(e,t){e.exports="agent-console/./resources/flags/um.1Qc3K.svg"},function(e,t){e.exports="agent-console/./resources/flags/un.2zA6C.svg"},function(e,t){e.exports="agent-console/./resources/flags/us.1Qc3K.svg"},function(e,t){e.exports="agent-console/./resources/flags/uy.1Y1mC.svg"},function(e,t){e.exports="agent-console/./resources/flags/uz.2nIPH.svg"},function(e,t){e.exports="agent-console/./resources/flags/va.H-TnN.svg"},function(e,t){e.exports="agent-console/./resources/flags/vc.cEOJq.svg"},function(e,t){e.exports="agent-console/./resources/flags/ve.1-rAI.svg"},function(e,t){e.exports="agent-console/./resources/flags/vg.27WC7.svg"},function(e,t){e.exports="agent-console/./resources/flags/vi.j0S1B.svg"},function(e,t){e.exports="agent-console/./resources/flags/vn.2F_Zc.svg"},function(e,t){e.exports="agent-console/./resources/flags/vu.3UgNZ.svg"},function(e,t){e.exports="agent-console/./resources/flags/wf.3Mk2v.svg"},function(e,t){e.exports="agent-console/./resources/flags/ws.3o3sr.svg";
},function(e,t){e.exports="agent-console/./resources/flags/ye.2ilYd.svg"},function(e,t){e.exports="agent-console/./resources/flags/yt.2SMtj.svg"},function(e,t){e.exports="agent-console/./resources/flags/za.3BjEA.svg"},function(e,t){e.exports="agent-console/./resources/flags/zm.lNiy4.svg"},function(e,t){e.exports="agent-console/./resources/flags/zw.2-n04.svg"},function(e,t){e.exports="agent-console/./resources/flags/zz.1ITA-.svg"},,,,function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(48),i=o(r),s=n(23),a=o(s),c=n(1),u=o(c),l=n(35),d=o(l),p=n(1329),f=o(p),h=n(999),g=o(h),v=u.default.createClass({displayName:"AjaxUploader",propTypes:{component:c.PropTypes.string,style:c.PropTypes.object,prefixCls:c.PropTypes.string,className:c.PropTypes.string,multiple:c.PropTypes.bool,disabled:c.PropTypes.bool,accept:c.PropTypes.string,children:c.PropTypes.any,onStart:c.PropTypes.func,data:c.PropTypes.oneOfType([c.PropTypes.object,c.PropTypes.func]),headers:c.PropTypes.object,beforeUpload:c.PropTypes.func,customRequest:c.PropTypes.func,withCredentials:c.PropTypes.bool},getInitialState:function(){return this.reqs={},{uid:(0,g.default)()}},componentWillUnmount:function(){this.abort()},onChange:function(e){var t=e.target.files;this.uploadFiles(t),this.reset()},onClick:function(){var e=this.refs.file;e&&e.click()},onKeyDown:function(e){"Enter"===e.key&&this.onClick()},onFileDrop:function(e){if("dragover"===e.type)return void e.preventDefault();var t=e.dataTransfer.files;this.uploadFiles(t),e.preventDefault()},uploadFiles:function(e){for(var t=Array.prototype.slice.call(e),n=t.length,o=0;o<n;o++){var r=t[o];r.uid=(0,g.default)(),this.upload(r,t)}},upload:function(e,t){var n=this,o=this.props;if(!o.beforeUpload)return setTimeout(function(){return n.post(e)},0);var r=o.beforeUpload(e,t);r&&r.then?r.then(function(t){var o=Object.prototype.toString.call(t);"[object File]"===o||"[object Blob]"===o?n.post(t):n.post(e)}):r!==!1&&setTimeout(function(){return n.post(e)},0)},post:function(e){var t=this;if(this.isMounted()){var n=this.props,o=n.data,r=n.onStart;"function"==typeof o&&(o=o(e));var i=e.uid,s=n.customRequest||f.default;this.reqs[i]=s({action:n.action,filename:n.name,file:e,data:o,headers:n.headers,withCredentials:n.withCredentials,onProgress:function(t){n.onProgress(t,e)},onSuccess:function(o){delete t.reqs[i],n.onSuccess(o,e)},onError:function(o,r){delete t.reqs[i],n.onError(o,r,e)}}),r(e)}},reset:function(){this.setState({uid:(0,g.default)()})},abort:function(e){var t=this.reqs;if(e){var n=e;e&&e.uid&&(n=e.uid),t[n]&&(t[n].abort(),delete t[n])}else Object.keys(t).forEach(function(e){t[e].abort(),delete t[e]})},render:function(){var e,t=this.props,n=t.component,o=t.prefixCls,r=t.className,s=t.disabled,c=t.style,l=t.multiple,p=t.accept,f=t.children,h=(0,d.default)((e={},(0,a.default)(e,o,!0),(0,a.default)(e,o+"-disabled",s),(0,a.default)(e,r,r),e)),g=s?{}:{onClick:this.onClick,onKeyDown:this.onKeyDown,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,tabIndex:"0"};return u.default.createElement(n,(0,i.default)({},g,{className:h,role:"button",style:c}),u.default.createElement("input",{type:"file",ref:"file",key:this.state.uid,style:{display:"none"},accept:p,multiple:l,onChange:this.onChange}),f)}});t.default=v,e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(23),i=o(r),s=n(48),a=o(s),c=n(1),u=o(c),l=n(89),d=o(l),p=n(35),f=o(p),h=n(999),g=o(h),v=n(1330),m=o(v),C={position:"absolute",top:0,opacity:0,filter:"alpha(opacity=0)",left:0,zIndex:9999},y=u.default.createClass({displayName:"IframeUploader",propTypes:{component:c.PropTypes.string,style:c.PropTypes.object,disabled:c.PropTypes.bool,prefixCls:c.PropTypes.string,className:c.PropTypes.string,accept:c.PropTypes.string,onStart:c.PropTypes.func,multiple:c.PropTypes.bool,children:c.PropTypes.any,data:c.PropTypes.oneOfType([c.PropTypes.object,c.PropTypes.func]),action:c.PropTypes.string,name:c.PropTypes.string},getInitialState:function(){return this.file={},{uploading:!1}},componentDidMount:function(){this.updateIframeWH(),this.initIframe()},componentDidUpdate:function(){this.updateIframeWH()},onLoad:function(){if(this.state.uploading){var e=this.props,t=this.file,n=void 0;try{var o=this.getIframeDocument(),r=o.getElementsByTagName("script")[0];r&&r.parentNode===o.body&&o.body.removeChild(r),n=o.body.innerHTML,e.onSuccess(n,t)}catch(o){(0,m.default)(!1,"cross domain error for Upload. Maybe server should return document.domain script. see Note from https://github.com/react-component/upload"),n="cross-domain",e.onError(o,null,t)}this.endUpload()}},onChange:function(){var e=this,t=this.getFormInputNode(),n=this.file={uid:(0,g.default)(),name:t.value};this.startUpload();var o=this.props;if(!o.beforeUpload)return this.post(n);var r=o.beforeUpload(n);r&&r.then?r.then(function(){e.post(n)},function(){e.endUpload()}):r!==!1?this.post(n):this.endUpload()},getIframeNode:function(){return this.refs.iframe},getIframeDocument:function(){return this.getIframeNode().contentDocument},getFormNode:function(){return this.getIframeDocument().getElementById("form")},getFormInputNode:function(){return this.getIframeDocument().getElementById("input")},getFormDataNode:function(){return this.getIframeDocument().getElementById("data")},getFileForMultiple:function(e){return this.props.multiple?[e]:e},getIframeHTML:function(e){var t="",n="";return e&&(t='<script>document.domain="'+e+'";</script>',n='<input name="_documentDomain" value="'+e+'" />'),'\n    <!DOCTYPE html>\n    <html>\n    <head>\n    <meta http-equiv="X-UA-Compatible" content="IE=edge" />\n    <style>\n    body,html {padding:0;margin:0;border:0;overflow:hidden;}\n    </style>\n    '+t+'\n    </head>\n    <body>\n    <form method="post"\n    encType="multipart/form-data"\n    action="'+this.props.action+'" id="form"\n    style="display:block;height:9999px;position:relative;overflow:hidden;">\n    <input id="input" type="file"\n     name="'+this.props.name+'"\n     style="position:absolute;top:0;right:0;height:9999px;font-size:9999px;cursor:pointer;"/>\n    '+n+'\n    <span id="data"></span>\n    </form>\n    </body>\n    </html>\n    '},initIframeSrc:function(){this.domain&&(this.getIframeNode().src="javascript:void((function(){\n        var d = document;\n        d.open();\n        d.domain='"+this.domain+"';\n        d.write('');\n        d.close();\n      })())")},initIframe:function(){var e=this.getIframeNode(),t=e.contentWindow,n=void 0;this.domain=this.domain||"",this.initIframeSrc();try{n=t.document}catch(o){this.domain=document.domain,this.initIframeSrc(),t=e.contentWindow,n=t.document}n.open("text/html","replace"),n.write(this.getIframeHTML(this.domain)),n.close(),this.getFormInputNode().onchange=this.onChange},endUpload:function(){this.state.uploading&&(this.file={},this.state.uploading=!1,this.setState({uploading:!1}),this.initIframe())},startUpload:function(){this.state.uploading||(this.state.uploading=!0,this.setState({uploading:!0}))},updateIframeWH:function(){var e=d.default.findDOMNode(this),t=this.getIframeNode();t.style.height=e.offsetHeight+"px",t.style.width=e.offsetWidth+"px"},abort:function(e){if(e){var t=e;e&&e.uid&&(t=e.uid),t===this.file.uid&&this.endUpload()}else this.endUpload()},post:function(e){var t=this.getFormNode(),n=this.getFormDataNode(),o=this.props.data,r=this.props.onStart;"function"==typeof o&&(o=o(e));var i=[];for(var s in o)o.hasOwnProperty(s)&&i.push('<input name="'+s+'" value="'+o[s]+'"/>');n.innerHTML=i.join(""),t.submit(),n.innerHTML="",r(e)},render:function(){var e,t=this.props,n=t.component,o=t.disabled,r=t.className,s=t.prefixCls,c=t.children,l=t.style,d=(0,a.default)({},C,{display:this.state.uploading||o?"none":""}),p=(0,f.default)((e={},(0,i.default)(e,s,!0),(0,i.default)(e,s+"-disabled",o),(0,i.default)(e,r,r),e));return u.default.createElement(n,{className:p,style:(0,a.default)({position:"relative",zIndex:0},l)},u.default.createElement("iframe",{ref:"iframe",onLoad:this.onLoad,style:d}),c)}});t.default=y,e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(){}Object.defineProperty(t,"__esModule",{value:!0});var i=n(48),s=o(i),a=n(1),c=o(a),u=n(1325),l=o(u),d=n(1326),p=o(d),f=c.default.createClass({displayName:"Upload",propTypes:{component:a.PropTypes.string,style:a.PropTypes.object,prefixCls:a.PropTypes.string,action:a.PropTypes.string,name:a.PropTypes.string,multipart:a.PropTypes.bool,onError:a.PropTypes.func,onSuccess:a.PropTypes.func,onProgress:a.PropTypes.func,onStart:a.PropTypes.func,data:a.PropTypes.oneOfType([a.PropTypes.object,a.PropTypes.func]),headers:a.PropTypes.object,accept:a.PropTypes.string,multiple:a.PropTypes.bool,disabled:a.PropTypes.bool,beforeUpload:a.PropTypes.func,customRequest:a.PropTypes.func,onReady:a.PropTypes.func,withCredentials:a.PropTypes.bool,supportServerRender:a.PropTypes.bool},getDefaultProps:function(){return{component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onProgress:r,onReady:r,onStart:r,onError:r,onSuccess:r,supportServerRender:!1,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1}},getInitialState:function(){return{Component:null}},componentDidMount:function(){this.props.supportServerRender&&this.setState({Component:this.getComponent()},this.props.onReady)},getComponent:function(){return"undefined"!=typeof FormData?l.default:p.default},abort:function(e){this.refs.inner.abort(e)},render:function(){if(this.props.supportServerRender){var e=this.state.Component;return e?c.default.createElement(e,(0,s.default)({},this.props,{ref:"inner"})):null}var t=this.getComponent();return c.default.createElement(t,(0,s.default)({},this.props,{ref:"inner"}))}});t.default=f,e.exports=t.default},function(e,t,n){"use strict";e.exports=n(1327)},function(e,t,n){"use strict";function o(e,t){var n="cannot post "+e.action+" "+t.status+"'",o=new Error(n);return o.status=t.status,o.method="post",o.url=e.action,o}function r(e){var t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch(e){return t}}function i(e){var t=new XMLHttpRequest;t.upload&&(t.upload.onprogress=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),e.onProgress(t)});var n=new FormData;e.data&&Object.keys(e.data).map(function(t){n.append(t,e.data[t])}),n.append(e.filename,e.file),t.onerror=function(t){e.onError(t)},t.onload=function(){return t.status<200||t.status>=300?e.onError(o(e,t),r(t)):void e.onSuccess(r(t))},t.open("post",e.action,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);var i=e.headers||{};null!==i["X-Requested-With"]&&t.setRequestHeader("X-Requested-With","XMLHttpRequest");for(var s in i)i.hasOwnProperty(s)&&null!==i[s]&&t.setRequestHeader(s,i[s]);return t.send(n),{abort:function(){t.abort()}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,e.exports=t.default},function(e,t,n){"use strict";var o=function(){};e.exports=o},,,,,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAilBMVEXk4+Hrxq/+/v/7+/v////c29kAAADh4N770rTl5OL19fX9/f75+Pnj4uDe3dvg393w8PDr6ur30bbX1tUuJkLj1szw1MAmIyHyy69TT1Da2dfTsZc8NzQSEhHpwqfx39S6nIfOzcx+bmJ+e4FkY2bsyrTAvrvz6OGop6XU09GfhXKZlpg8OUXTwbuiAaQiAAACS0lEQVRIx5XW6XqrIBAGYFwARQTRuGY1SbP23P/tncE0apSS9PuTBnmfYWgLIv/PQf41a/DHabIrkAwL+nEEzoA0gsYfh4oGCKZxaAiCzEdjin8jKIZVxOhjoufLrK4FRR8SROX1cCkJuYhZITOB0cOarAmkPsFmorckpu2K9Cl1pTcE0bYk43y34+cGgmj2KghZn0YTDCSWRzLNuh36mRNET3rSfrlxNstNGlQ7vQ21jG0EipRVMCTVe9HS30ksVqRMg3EqIPd+ZSZSkmXwmhshBzspJyJYEnLsmzGS/ZRsxv0be9lNSVBCFdvC6uWMrMjF1ovcz0lt3WQk73OyX2Hb70WebjNy21uJSOft73a5lQTOjGwqO0kDQ4S1l8IgCmH9S84NZXLb/wusrDAUsRIoYytiPC7mZdKh+d9OmNxSxHyO0UmZAtPwDYnFy6aluXh39EGV3BlM6uTiXRVE8dbpTeo4Z2zvBa4JrM6O41QdqOAntsWj839KAEh89viXM2TrRYmQPXohqAMhj7zoPIgv7rqupzqEXom+uIRQPHLdyPWLoYjvg3G5ovqmQQPRBQRKvCjSz32/X1rRvRvAWBQloUZPAjejVNx7iG4Se5gi8gfjMY1kR6QUIeO8E8+XDl48VuWPDU9g8d29Dz1MBUT9U6NvP4bFWJMGS85+ljXMOSwWi6M3Nh1hQr+QZI1iTButnkkWOmo0op8DCa/dm1LCWAJL61T3hCe8BvENn6NBGGaJ0qTFKkkUsD762x3IgTHFxlGJUnphf85/sQNaCyykOPwAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAA81BMVEXl5OLk4+HkroMAAADj4uDc29npvZX///8AABXh4N7sw53rwZrg390AABTwyqbqv5jxzartxaDvyKPf3twJCQni4d/z0K7Z2Nbms4jjrX/01LPnvJUIBxwhICDz17wzNDQaGhr29fXnuI4SEhHjxan8/PzW1dNQUFQVFSjfqHTs6uplMFDgzryVkJjJyMe/v751dXng1MmTdFvYomjhuJO6s7NfX2uPi4o3NUNDNSivrq+/mHenpqh9fIVjX14oKDlzW0bR0dNuPVpAQE5TQjTTpoHTnV6dnZuHX3iEZ0/x5NjWy8NVHECfhW1nUD17UGykgGLFXp0kAAADGUlEQVRIx5XWZ3uqMBgGYGNYgTgBcRQBEfVo3VWrnXavM/7/rzlvQCm2iPb5ULgCt29CSkhK/HFSYssw+KNjGC0gBq+So6PyBiOqzh0dXWWEJ1wqNiimjSP8XoLgFzl0PEGcTuhsQb6bfQTpZLh6tvBK/VYoniBoXmiWaWPtmadfKsUSEEMLa5ptuq5rX7eojg4QxNFLDWuuZpqWbdmmNdq5Hkc4AsJ2Xc3WTCZMyxpGboghiAxcIJqG4WCy/rmmPSAogXBqG7sYm39ub5cPk3+TJbaxa6n6foLIEGP88JgO82hCw3NYJo6MMH7d3l4uw58KFG1Tbj+h13gZ3F5TZIhQTl9AP9X9hKNtfMGAoMiFYjabLcpCGp55OJhYojGRUwDkS5BsIbc8QK6XvpB9Ua1XwdwmEhj+7bZX+VK1Wq9X88UJthLGgkh/khaCIoxAStmL5CdGZpOGEIwkIKV89hEvEufFeBWEnBwQGEwJiKwNEsnpJCAbU8rni4WHJkUJT6x5IbCxsEnJ+4Gp+d2kSVPZPNsQNpEAssWCfJZUBToWkI3xhXI2ThzLuCZsDCBIQZZzNV5PfF+aQmhYQAifQ4l/Kw2f5BT/H1mWlZyg8Ilv5baMj1hygnBKueQVhoyFjWFhJ3xkWYpdx7ZlwkSL7Fn6yDgXFdGR7CXv04g4ezpMOPX0aVrbivJTenygY7C+tmbl6bThg1plOq0v+MhS/o3Ad4UOzq/GvyCVSsU/OOfXBg0/GrsEwZpPjauONHcalTB18Ua66Rvso4G+EPbhUgejjiRJbfGtvI3iiaypM5+phJX6JKxAq38v+TkXxXojSK0riiebViilo5AgnQ7bm0vwk7CDqPvDl0E4Uth+xRNCA6Lr6lUIIA6Yt7xcqLOTdeTCzUpVA0LoXIpmwHYqzrvqseNl9MrJwt9d8FRdSdEiUp/tbV56vT70SxztEOnS35Dw/PkumXte92/vrvdBup53v0vu/W2PsYLzqLnxnO5L7+7uw+k6XmdHZKQhkHVrnslkTjKfkVJrZwZVXhyntY60+zeNgPw4/wFHP2pKD6eidQAAAABJRU5ErkJggg=="},function(e,t,n){function o(e){return n(r(e))}function r(e){var t=i[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var i={"./ad.svg":1066,"./ae.svg":1067,"./af.svg":1068,"./ag.svg":1069,"./ai.svg":1070,"./al.svg":1071,"./am.svg":1072,"./ao.svg":1073,"./aq.svg":1074,"./ar.svg":1075,"./as.svg":1076,"./at.svg":1077,"./au.svg":1078,"./aw.svg":1079,"./ax.svg":1080,"./az.svg":1081,"./ba.svg":1082,"./bb.svg":1083,"./bd.svg":1084,"./be.svg":1085,"./bf.svg":1086,"./bg.svg":1087,"./bh.svg":1088,"./bi.svg":1089,"./bj.svg":1090,"./bl.svg":1091,"./bm.svg":1092,"./bn.svg":1093,"./bo.svg":1094,"./bq.svg":1095,"./br.svg":1096,"./bs.svg":1097,"./bt.svg":1098,"./bv.svg":1099,"./bw.svg":1100,"./by.svg":1101,"./bz.svg":1102,"./ca.svg":1103,"./cc.svg":1104,"./cd.svg":1105,"./cf.svg":1106,"./cg.svg":1107,"./ch.svg":1108,"./ci.svg":1109,"./ck.svg":1110,"./cl.svg":1111,"./cm.svg":1112,"./cn.svg":1113,"./co.svg":1114,"./cr.svg":1115,"./cu.svg":1116,"./cv.svg":1117,"./cw.svg":1118,"./cx.svg":1119,"./cy.svg":1120,"./cz.svg":1121,"./de.svg":1122,"./dj.svg":1123,"./dk.svg":1124,"./dm.svg":1125,"./do.svg":1126,"./dz.svg":1127,"./ec.svg":1128,"./ee.svg":1129,"./eg.svg":1130,"./eh.svg":1131,"./er.svg":1132,"./es.svg":1133,"./et.svg":1134,"./eu.svg":1135,"./fi.svg":1136,"./fj.svg":1137,"./fk.svg":1138,"./fm.svg":1139,"./fo.svg":1140,"./fr.svg":1141,"./ga.svg":1142,"./gb-eng.svg":1143,"./gb-nir.svg":1144,"./gb-sct.svg":1145,"./gb-wls.svg":1146,"./gb.svg":1147,"./gd.svg":1148,"./ge.svg":1149,"./gf.svg":1150,"./gg.svg":1151,"./gh.svg":1152,"./gi.svg":1153,"./gl.svg":1154,"./gm.svg":1155,"./gn.svg":1156,"./gp.svg":1157,"./gq.svg":1158,"./gr.svg":1159,"./gs.svg":1160,"./gt.svg":1161,"./gu.svg":1162,"./gw.svg":1163,"./gy.svg":1164,"./hk.svg":1165,"./hm.svg":1166,"./hn.svg":1167,"./hr.svg":1168,"./ht.svg":1169,"./hu.svg":1170,"./id.svg":1171,"./ie.svg":1172,"./il.svg":1173,"./im.svg":1174,"./in.svg":1175,"./io.svg":1176,"./iq.svg":1177,"./ir.svg":1178,"./is.svg":1179,"./it.svg":1180,"./je.svg":1181,"./jm.svg":1182,"./jo.svg":1183,"./jp.svg":1184,"./ke.svg":1185,"./kg.svg":1186,"./kh.svg":1187,"./ki.svg":1188,"./km.svg":1189,"./kn.svg":1190,"./kp.svg":1191,"./kr.svg":1192,"./kw.svg":1193,"./ky.svg":1194,"./kz.svg":1195,"./la.svg":1196,"./lb.svg":1197,"./lc.svg":1198,"./li.svg":1199,"./lk.svg":1200,"./lr.svg":1201,"./ls.svg":1202,"./lt.svg":1203,"./lu.svg":1204,"./lv.svg":1205,"./ly.svg":1206,"./ma.svg":1207,"./mc.svg":1208,"./md.svg":1209,"./me.svg":1210,"./mf.svg":1211,"./mg.svg":1212,"./mh.svg":1213,"./mk.svg":1214,"./ml.svg":1215,"./mm.svg":1216,"./mn.svg":1217,"./mo.svg":1218,"./mp.svg":1219,"./mq.svg":1220,"./mr.svg":1221,"./ms.svg":1222,"./mt.svg":1223,"./mu.svg":1224,"./mv.svg":1225,"./mw.svg":1226,"./mx.svg":1227,"./my.svg":1228,"./mz.svg":1229,"./na.svg":1230,"./nc.svg":1231,"./ne.svg":1232,"./nf.svg":1233,"./ng.svg":1234,"./ni.svg":1235,"./nl.svg":1236,"./no.svg":1237,"./np.svg":1238,"./nr.svg":1239,"./nu.svg":1240,"./nz.svg":1241,"./om.svg":1242,"./pa.svg":1243,"./pe.svg":1244,"./pf.svg":1245,"./pg.svg":1246,"./ph.svg":1247,"./pk.svg":1248,"./pl.svg":1249,"./pm.svg":1250,"./pn.svg":1251,"./pr.svg":1252,"./ps.svg":1253,"./pt.svg":1254,"./pw.svg":1255,"./py.svg":1256,"./qa.svg":1257,"./re.svg":1258,"./ro.svg":1259,"./rs.svg":1260,"./ru.svg":1261,"./rw.svg":1262,"./sa.svg":1263,"./sb.svg":1264,"./sc.svg":1265,"./sd.svg":1266,"./se.svg":1267,"./sg.svg":1268,"./sh.svg":1269,"./si.svg":1270,"./sj.svg":1271,"./sk.svg":1272,"./sl.svg":1273,"./sm.svg":1274,"./sn.svg":1275,"./so.svg":1276,"./sr.svg":1277,"./ss.svg":1278,"./st.svg":1279,"./sv.svg":1280,"./sx.svg":1281,"./sy.svg":1282,"./sz.svg":1283,"./tc.svg":1284,"./td.svg":1285,"./tf.svg":1286,"./tg.svg":1287,"./th.svg":1288,"./tj.svg":1289,"./tk.svg":1290,"./tl.svg":1291,"./tm.svg":1292,"./tn.svg":1293,"./to.svg":1294,"./tr.svg":1295,"./tt.svg":1296,"./tv.svg":1297,"./tw.svg":1298,"./tz.svg":1299,"./ua.svg":1300,"./ug.svg":1301,"./um.svg":1302,"./un.svg":1303,"./us.svg":1304,"./uy.svg":1305,"./uz.svg":1306,"./va.svg":1307,"./vc.svg":1308,"./ve.svg":1309,"./vg.svg":1310,"./vi.svg":1311,"./vn.svg":1312,"./vu.svg":1313,"./wf.svg":1314,"./ws.svg":1315,"./ye.svg":1316,"./yt.svg":1317,"./za.svg":1318,"./zm.svg":1319,"./zw.svg":1320,"./zz.svg":1321};o.keys=function(){return Object.keys(i)},o.resolve=r,e.exports=o,o.id=1338},,,,,,,,,function(e,t,n){"use strict";var o=n(3),r=n.n(o),i=n(1),s=(n.n(i),n(963)),a=n.n(s),c=n(1465),u=function(e){return r()("div",{className:a.a.showChatViaList},void 0,e.chats.map(function(t){return r()(c.a,{chatItem:t,enableRefuseChat:e.enableRefuseChat,ifEnableSegmentation:e.ifEnableSegmentation,isShowUnreposiveTime:e.isShowUnreposiveTime,isShowDepartment:e.isShowDepartment,onClickPin:e.onClickPin,onItemClick:e.onItemClick,onAcceptChat:e.onAcceptChat,onRefusedChat:e.onRefusedChat,onWrapUp:e.onWrapUp,onDeleteItem:e.onDeleteItem},t.chatId)}))};t.a=u},,,,,,,function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return r});var o=1,r=2},,function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"d",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return s});var o=1,r=2,i=3,s=4},,,function(e,t,n){"use strict";function o(e){function t(){null==a&&(a=[b],p&&p(a))}function n(){clearInterval(u),m=!1,a=null,v=0}function o(){n(),p=null,l=null,d=null}function r(){m&&d&&d()}function i(e){f.send(c()(e))}function s(){try{o(),f.onerror=null,f.close()}catch(e){console.error(e)}}var a,u,l,d,p,f,h=e.url,g=e.chat,v=0,m=!1,C=h.indexOf("localhost")===-1?"wss://":"ws://";f=new WebSocket(C+h+"?chatId="+g);var y=0;f.onopen=function(){console.log("open"),u=setInterval(function(){y++,f.send("ping"),y>=3&&clearInterval(u)},2e4)},f.onmessage=function(e){var n=JSON.parse(e.data);null!=n.count?(console.log(n),0===v&&n.count>1&&(t(),console.log("send start"),i({start:1})),v=n.count,v<2&&(m=!1)):n.start?(t(),console.log("receive start"),m=!0,r()):n.s?(200!==n.s&&console.error(n),null==a&&(a=n.d?n.d.iceServers||[]:[],console.log("get ice servers:",a),a.push(b),p&&p(a))):l&&l(n)},f.onclose=function(){o()};var b={urls:"stun:stun.l.google.com:19302"};this.send=i,this.close=s,this.onRemoteStart=function(e){d=e,r()},this.onMessage=function(e){l=e},this.onGetIceServers=function(e){p=e,a&&e&&e(a)}}function r(e){function t(e,t){console.log(t);var o=e.peerConn,r=e.signalingChannel;t.offer&&(console.log("receive offer:",t.offer),console.log("pc.signalingState:",o.signalingState),o.setRemoteDescription(new RTCSessionDescription(t.offer)).then(function(){return o.createAnswer()}).then(function(e){return o.setLocalDescription(e)}).then(function(){return r.send({answer:o.localDescription}),s.a.resolve()}).catch(function(t){console.error(t),n(e)})),t.answer&&(console.log("receive answer:",t.answer),console.log("pc.signalingState:",o.signalingState),o.setRemoteDescription(new RTCSessionDescription(t.answer)).then(function(){return console.log("set answer success"),s.a.resolve()}).catch(function(t){console.log(t),n(e)})),t.candidate&&(console.log("receive candidate:",t.candidate),console.log("pc.iceGatheringState",o.iceGatheringState),o.addIceCandidate(new RTCIceCandidate(t.candidate)).catch(function(){n(e)})),t.stop&&(console.log("receive stop"),this.stop()),t.restart&&(console.log("receive restart"),n(e,!0))}function n(e,t){x++,console.log("restart:",x),t||e.signalingChannel.send({restart:1}),x<=5?(l(e),d()):(l(e),c(),f("error","P2PChat Error: restart more than 5 times"))}function r(e){var t=e.peerConn,o=e.signalingChannel;console.log("sendOffer"),t.createOffer().then(function(e){return console.log("create offer:",e),t.setLocalDescription(e)}).then(function(){return console.log("send offer:",t.localDescription),o.send({offer:t.localDescription}),s.a.resolve()}).catch(function(t){console.error(t),n(e)})}function i(e){return navigator.mediaDevices.getUserMedia({audio:!0,video:!!e&&{facingMode:"user"}}).then(function(e){return c(),console.log("add local stream"),v=e,y.autoplay=!0,y.muted=!0,y.srcObject=v,s.a.resolve()})}function a(){return conn.peerConn?(conn.peerConn.getStats().then(console.log),conn.peerConn.getStats()):s.a.resolve()}function c(){v&&h(v),v=null,y.srcObject=null}function u(){m&&h(m),m=null,b.srcObject=null}function l(e){if(e&&(e.peerConn||e.signalingChannel)){u();try{var t=e.peerConn;t&&(t.onicecandidate=null,t.oniceconnectionstatechange=null,t.ontrack=null,t.close())}catch(e){console.error(e)}try{e.signalingChannel.close()}catch(e){console.error(e)}e.peerConn=null,e.signalingChannel=null}}function d(e){console.log("start"),I=null==e?I:e,T&&l(T);var i={},s=new o({chat:C,url:w});i.signalingChannel=s,s.onGetIceServers(function(e){var o=new RTCPeerConnection({iceServers:e,iceTransportPolicy:I?"relay":"all"});i.peerConn=o,o.onicecandidate=function(e){null!=e.candidate&&s.send({candidate:e.candidate})},o.oniceconnectionstatechange=function(e){console.log(o.iceConnectionState),"closed"===o.iceConnectionState?l(i):"failed"===o.iceConnectionState&&n(i)},v&&o.addStream(v),o.onaddstream=function(e){console.log("add remote stream"),m=e.stream,b.autoplay=!0,b.srcObject=m},s.onMessage(t.bind(null,i)),s.onRemoteStart(function(){return m?(x=0,void n(i)):void r(i)})}),T=i}function p(e){S.indexOf(e)===-1&&S.push(e)}function f(e,t){S.forEach(function(n){n(e,t)})}function h(e){e.getTracks().forEach(function(e){e.stop()})}function g(){x=0,c(),l(T)}var v,m,C=e.chat,y=e.localVideo,b=e.remoteVideo,w=e.url,S=[],T=null,I=!1,x=0;this.requirePermission=i,this.getPeerConnectionStats=a,this.start=d,this.onevent=p,this.stop=g,this.getLocalVideo=function(){return y},this.getRemoteVideo=function(){return b}}var i=n(92),s=n.n(i),a=n(134),c=n.n(a),u=n(1875);n.n(u);t.a=r},function(e,t,n){"use strict";(function(e){var o=n(4),r=n.n(o),i=n(134),s=n.n(i),a=n(92),c=n.n(a),u=n(1773),l=n.n(u),d=n(243),p=n.n(d),f=n(629);n.d(t,"a",function(){return h}),n.d(t,"b",function(){return g});var h=function(e,t,o){return new c.a(function(e){n.e(7).then(function(t){e(n(1405))}.bind(null,n)).catch(n.oe)}).then(function(i){return new c.a(function(a,c){var u=new i({b:512},null,{environment:"browser",encryptionScheme:"pkcs1"}),l=n.i(f.a)(),d=e+"/formbuilder.ashx",h=s()(r()({},o,{accessToken:l,publicKey:u.exportKey("pkcs8-public-pem"),formName:t.name,jsonFormFields:s()(t.fields)}));p.a.post(d,h).then(function(e){e.data.success?a({token:l,rsaKey:u}):c(e.error_message)}).catch(function(e){c(e)})})})},g=function(t,n,o){return new c.a(function(r,i){var a=t+"/formconsumer.ashx",c=s()(n);p.a.post(a,c).then(function(t){var n=t.data,s=n.error_code,a=n.error_message,c=n.formContent;if(0===s){var u=88,d=l()(c,u).map(function(e){return e.join("")}),p=e.concat(d.map(function(e){return o.decrypt(e)})),f=new e(p).toString("utf8"),h=new e(f,"base64").toString(),g=JSON.parse(h).fields;r(g)}else i(a)}).catch(function(e){i(e)})})}}).call(t,n(944).Buffer)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var o=n(3),r=n.n(o),i=n(22),s=n.n(i),a=n(14),c=n.n(a),u=n(16),l=n.n(u),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(137),v=n.n(g),m=n(120),C=n.n(m),y=n(1),b=n.n(y),w=n(35),S=n.n(w),T=n(985),I=n(963),x=n.n(I),k=n(1479),E=n(2),P=n(70),_=n(1468),A=n(1469),M=n(1470),R=n(387),N=function(e){function t(){return c()(this,t),p()(this,(t.__proto__||s()(t)).apply(this,arguments))}return h()(t,e),l()(t,[{key:"componentDidMount",value:function(){T.a.rebuild()}},{key:"shouldComponentUpdate",value:function(e){return!C()(this.props,e)}},{key:"componentDidUpdate",value:function(){T.a.rebuild()}},{key:"render",value:function(){var e=this,t="chatlist",n=this.props.chatItem;return r()("div",{className:S()(x.a.chatitemcontainer,(n.isShowAcceptAndRefuse||n.audioVideoStatus===R.a||n.audioVideoStatus===R.c)&&x.a.acceptStyle,n.isSelected&&x.a.selected,!n.isShowAcceptAndRefuse&&!n.isShowWrapUp&&(this.props.isShowDepartment&&v()(n.visitor.department)||!this.props.isShowDepartment&&v()(n.visitor.agentName))&&x.a.nobutton),onClick:function(){return e.props.onItemClick(n)}},void 0,r()("div",{className:x.a.captureitem},void 0,r()(P.a,{type:E.b.pin,size:14,"data-tip":n.isPinned?"Unpin":"Pin","data-for":t,className:S()(x.a.pinnStyle,n.isPinned?x.a.pinned:x.a.nopinned),onClick:function(){e.props.onClickPin(n)}})),r()("div",{className:x.a.statusitem},void 0,r()(k.a,{statusCode:n.currentStatus,audioVideoStatus:n.audioVideoStatus,dataFor:t})),r()("div",{className:x.a.detailitem},void 0,r()(_.a,{chatItem:n,enableRefuseChat:this.props.enableRefuseChat,isShowDepartment:this.props.isShowDepartment,onAcceptChat:this.props.onAcceptChat,onRefusedChat:this.props.onRefusedChat,onWrapUp:this.props.onWrapUp})),r()("div",{className:x.a.infoitem},void 0,r()(A.a,{chatItem:n,isShowUnreposiveTime:this.props.isShowUnreposiveTime,onDeleteItem:this.props.onDeleteItem})),r()("div",{className:x.a.segmentitem},void 0,r()(M.a,{chatItem:n,ifEnableSegmentation:this.props.ifEnableSegmentation,dataFor:t})))}}]),t}(b.a.Component);t.a=N},function(e,t,n){"use strict";var o=n(3),r=n.n(o),i=n(22),s=n.n(i),a=n(14),c=n.n(a),u=n(16),l=n.n(u),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(120),v=n.n(g),m=n(1),C=n.n(m),y=n(35),b=n.n(y),w=n(963),S=n.n(w),T=n(70),I=n(2),x=function(e){function t(){return c()(this,t),p()(this,(t.__proto__||s()(t)).apply(this,arguments))}return h()(t,e),l()(t,[{key:"shouldComponentUpdate",value:function(e){return!v()(this.props,e)}},{key:"render",value:function(){var e=this;return r()("div",{className:S.a.chatItemConfig},void 0,r()("ul",{className:S.a.chatconfigpanel},void 0,this.props.ifDepartmentEnabled&&r()("li",{onClick:function(t){t.stopPropagation(),e.props.onClickConfig(I.k.showDepartment)}},void 0,r()(T.a,{type:I.b.success,className:b()(S.a.configitem,this.props.isShowDepartment&&S.a.selectedicon)}),"Show department"),r()("li",{onClick:function(t){t.stopPropagation(),e.props.onClickConfig(I.k.showUnreposiveTime)}},void 0,r()(T.a,{type:I.b.success,className:b()(S.a.configitem,this.props.isShowUnreposiveTime&&S.a.selectedicon)}),"Show agent unresponsive time"),r()("li",{onClick:function(t){t.stopPropagation(),e.props.onClickConfig(I.k.showByStatus)}},void 0,r()(T.a,{type:I.b.success,className:b()(S.a.configitem,this.props.isShowChatItemsViaStatus&&S.a.selectedicon)}),"Group chat by status")))}}]),t}(C.a.Component);t.a=x},function(e,t,n){"use strict";var o=n(3),r=n.n(o),i=n(1),s=(n.n(i),n(376)),a=n.n(s),c=n(158),u=n.n(c),l=n(963),d=n.n(l),p=n(1466),f=n(1472),h=n(1347),g=n(2),v=n(70),m=function(e){return r()("div",{className:d.a.itemContainer},void 0,e.isShowChatItemsViaStatus?r()(f.a,{groupItems:e.groupItems,enableRefuseChat:e.enableRefuseChat,ifEnableSegmentation:e.ifEnableSegmentation,isShowUnreposiveTime:e.isShowUnreposiveTime,isShowDepartment:e.isShowDepartment,onClickPin:e.onClickPin,onItemClick:e.onItemClick,onAcceptChat:e.onAcceptChat,onRefusedChat:e.onRefusedChat,onWrapUp:e.onWrapUp,onDeleteItem:e.onDeleteItem,onClickArrow:e.onClickArrow}):r()(h.a,{chats:e.chats,enableRefuseChat:e.enableRefuseChat,ifEnableSegmentation:e.ifEnableSegmentation,isShowUnreposiveTime:e.isShowUnreposiveTime,isShowDepartment:e.isShowDepartment,onClickPin:e.onClickPin,onItemClick:e.onItemClick,onAcceptChat:e.onAcceptChat,onRefusedChat:e.onRefusedChat,onWrapUp:e.onWrapUp,onDeleteItem:e.onDeleteItem}),r()("div",{className:d.a.configPanel},void 0,r()("div",{},void 0,r()(v.a,{type:g.b.chatListSetting,size:14,tabIndex:0,className:d.a.configicon},void 0,r()(p.a,{isShowChatItemsViaStatus:e.isShowChatItemsViaStatus,isShowUnreposiveTime:e.isShowUnreposiveTime,ifDepartmentEnabled:e.ifDepartmentEnabled,isShowDepartment:e.isShowDepartment,onClickConfig:e.onClickConfig})))),r()(a.a,{id:"chatlist",effect:"solid",place:"bottom",class:u.a.tooltipInfoNoCapitalize}))};t.a=m},function(e,t,n){"use strict";var o=n(3),r=n.n(o),i=n(22),s=n.n(i),a=n(14),c=n.n(a),u=n(16),l=n.n(u),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(120),v=n.n(g),m=n(1),C=n.n(m),y=n(963),b=n.n(y),w=n(53),S=function(e){function t(){return c()(this,t),p()(this,(t.__proto__||s()(t)).apply(this,arguments))}return h()(t,e),l()(t,[{key:"shouldComponentUpdate",value:function(e){return!v()(this.props,e)}},{key:"render",value:function(){var e=this;return r()("div",{className:b.a.chatItemDetail},void 0,r()("div",{className:b.a.visitorName},void 0,this.props.chatItem.visitor.name),!this.props.isShowDepartment&&this.props.chatItem.visitor.agentName&&r()("div",{className:b.a.visitorDepartment},void 0,"(",this.props.chatItem.visitor.agentName,")"),this.props.isShowDepartment&&this.props.chatItem.visitor.department&&r()("div",{className:b.a.visitorDepartment},void 0,"(",this.props.chatItem.visitor.department,")"),this.props.chatItem.isShowAcceptAndRefuse&&r()("div",{className:b.a.actioncontainer},void 0,r()(w.a,{type:"primary",text:"Accept",onClick:function(t){t.stopPropagation(),e.props.onAcceptChat(e.props.chatItem)},size:"small",className:b.a.acceptBtn}),this.props.enableRefuseChat&&r()(w.a,{text:"Refuse",onClick:function(t){t.stopPropagation(),e.props.onRefusedChat(e.props.chatItem)},className:b.a.refuseBtn})),this.props.chatItem.isShowWrapUp&&r()(w.a,{type:"primary",text:"Wrap up",onClick:function(t){t.stopPropagation(),e.props.onWrapUp(e.props.chatItem)},size:"small",className:b.a.wrapupbtn}))}}]),t}(C.a.Component);t.a=S},function(e,t,n){"use strict";var o=n(3),r=n.n(o),i=n(22),s=n.n(i),a=n(14),c=n.n(a),u=n(16),l=n.n(u),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(120),v=n.n(g),m=n(1),C=n.n(m),y=n(963),b=n.n(y),w=n(831),S=n(70),T=n(2),I=n(90),x=function(e,t){return e===T.d.waitingForChat||e===T.d.transferring||e===T.d.invitedAndWaitingForChat||!(e!==T.d.chatting||!t)},k=function(e){function t(e){c()(this,t);var n=p()(this,(t.__proto__||s()(t)).call(this,e));return n.timer=null,n.unresponseBeginTime=e.chatItem.unresponseBeginTime,n.updateUnresponsiveTime=n.updateUnresponsiveTime.bind(n),n}return h()(t,e),l()(t,[{key:"componentDidMount",value:function(){x(this.props.chatItem.currentStatus,this.props.isShowUnreposiveTime)&&this.updateUnresponsiveTime()}},{key:"componentWillReceiveProps",value:function(e){e.chatItem.unresponseBeginTime!==this.props.chatItem.unresponseBeginTime&&(null===e.chatItem.unresponseBeginTime?(clearTimeout(this.timer),this.timer=null,this.unresponseBeginTime=0,
this.timestamp.textContent=""):(this.unresponseBeginTime=e.chatItem.unresponseBeginTime,x(e.chatItem.currentStatus,e.isShowUnreposiveTime)&&this.updateUnresponsiveTime()))}},{key:"shouldComponentUpdate",value:function(e,t){return!v()(this.state,t)||!v()(this.props,e)}},{key:"componentDidUpdate",value:function(e){var t=x(this.props.chatItem.currentStatus,this.props.isShowUnreposiveTime),n=x(e.chatItem.currentStatus,e.isShowUnreposiveTime);!n&&t?this.updateUnresponsiveTime():n&&!t&&this.timer&&(clearTimeout(this.timer),this.timer=null,this.timestamp.textContent="")}},{key:"componentWillUnmount",value:function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)}},{key:"updateUnresponsiveTime",value:function(){var e=this;if(!this.unresponseBeginTime)return void(this.timer&&(clearTimeout(this.timer),this.timer=null));var t=Date.now()-this.unresponseBeginTime;this.timestamp.textContent=t<1e3?"":n.i(I.j)(t),this.timer=setTimeout(function(){return e.timestamp?void e.updateUnresponsiveTime():void(e.timer=null)},1e3)}},{key:"render",value:function(){var e=this;return r()("div",{className:b.a.chatItemPrompt},void 0,this.props.chatItem.messageNumber>0&&r()(w.a,{customClass:b.a.promptNumber,number:this.props.chatItem.messageNumber}),C.a.createElement("span",{className:b.a.idleStyle,ref:function(t){e.timestamp=t}}),this.props.chatItem.isShowDeleteIcon&&r()(S.a,{type:T.b.close,size:10,className:b.a.deleteIcon,onClick:function(t){t.stopPropagation(),e.props.onDeleteItem(e.props.chatItem)}}))}}]),t}(m.Component);t.a=k},function(e,t,n){"use strict";var o=n(3),r=n.n(o),i=n(22),s=n.n(i),a=n(14),c=n.n(a),u=n(16),l=n.n(u),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(120),v=n.n(g),m=n(1),C=n.n(m),y=n(963),b=n.n(y),w=function(e){function t(){return c()(this,t),p()(this,(t.__proto__||s()(t)).apply(this,arguments))}return h()(t,e),l()(t,[{key:"shouldComponentUpdate",value:function(e){return!v()(this.props,e)}},{key:"render",value:function(){var e=this,t=10;return this.props.chatItem.segments.length<=2&&(t=15),r()("div",{className:b.a.chatItemSegment},void 0,this.props.ifEnableSegmentation&&this.props.chatItem.segments.map(function(n,o){return r()("i",{"data-tip":n.name,"data-for":e.props.dataFor,"data-place":"right",style:{backgroundColor:n.color,height:t}},"segment_"+o)}))}}]),t}(C.a.Component);t.a=w},function(e,t,n){"use strict";var o=n(3),r=n.n(o),i=n(1),s=(n.n(i),n(963)),a=n.n(s),c=r()("h1",{},void 0,"You have no chats now."),u=function(e){return r()("div",{className:a.a.noChatSection},void 0,r()("div",{},void 0,c,r()("span",{onClick:e.goToVisitors},void 0,"Go to Visitor list")," to invite a visitor to chat"))};t.a=u},function(e,t,n){"use strict";var o=n(3),r=n.n(o),i=n(22),s=n.n(i),a=n(14),c=n.n(a),u=n(16),l=n.n(u),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(120),v=n.n(g),m=n(1),C=n.n(m),y=n(35),b=n.n(y),w=n(963),S=n.n(w),T=n(1347),I=n(70),x=n(2),k=function(e){function t(e){c()(this,t);var n=p()(this,(t.__proto__||s()(t)).call(this,e));return n.timer=null,n.clickArrow=n.clickArrow.bind(n),n}return h()(t,e),l()(t,[{key:"shouldComponentUpdate",value:function(e){return!v()(this.props,e)}},{key:"clickArrow",value:function(e){this.props.onClickArrow(e)}},{key:"render",value:function(){var e=this;return r()("div",{className:S.a.showChatViaGroup},void 0,this.props.groupItems.filter(function(e){return e.chats.length>0}).map(function(t){return r()("div",{className:S.a.groupSection},t.id,r()("div",{className:b()(S.a.groupNameWraper,t.opened&&S.a.opened),onClick:function(){return e.clickArrow(t.id)}},void 0,r()(I.a,{type:x.b.arrowDown,className:S.a.groupSpread}),r()("span",{},void 0,t.description+"("+t.chats.length+")")),t.opened&&r()(T.a,{chats:t.chats,enableRefuseChat:e.props.enableRefuseChat,ifEnableSegmentation:e.props.ifEnableSegmentation,isShowUnreposiveTime:e.props.isShowUnreposiveTime,isShowDepartment:e.props.isShowDepartment,onClickPin:e.props.onClickPin,onItemClick:e.props.onItemClick,onAcceptChat:e.props.onAcceptChat,onRefusedChat:e.props.onRefusedChat,onWrapUp:e.props.onWrapUp,onDeleteItem:e.props.onDeleteItem}))}))}}]),t}(C.a.Component);t.a=k},function(e,t,n){"use strict";var o=n(3),r=n.n(o),i=n(22),s=n.n(i),a=n(14),c=n.n(a),u=n(16),l=n.n(u),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(1),v=n.n(g),m=n(53),C=n(991),y=n.n(C),b=n(1038),w=function(e){function t(){c()(this,t);var e=p()(this,(t.__proto__||s()(t)).call(this));return e.state={open:!1},e.openModal=e.openModal.bind(e),e.closeModal=e.closeModal.bind(e),e}return h()(t,e),l()(t,[{key:"closeModal",value:function(){this.setState({open:!1})}},{key:"openModal",value:function(){this.setState({open:!0})}},{key:"render",value:function(){return r()("div",{},void 0,r()(m.a,{text:"Ban",className:y.a.btnAction,onClick:this.openModal,disabled:this.props.disabled}),this.state.open&&r()(b.a,{openModal:this.openModal,closeModal:this.closeModal,onBanChat:this.props.onBanChat,realVisitorId:this.props.realVisitorId,visitorId:this.props.visitorId,visitorIP:this.props.visitorIP}))}}]),t}(v.a.Component);t.a=w},function(e,t,n){"use strict";var o=n(3),r=n.n(o),i=n(22),s=n.n(i),a=n(14),c=n.n(a),u=n(16),l=n.n(u),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(1),v=n.n(g),m=n(158),C=n.n(m),y=n(957),b=n.n(y),w=n(1487),S=n(1492),T=n(1034),I=n(1491),x=n(1485),k=n(1493),E=n(1488),P=n(1489),_=n(1490),A=n(1486),M=n(1494),R=n(17),N=n.i(R.e)("ChatAction",["selectedFontSize","visitorId","chatId","ticketId","chatActionDisplay","chatActionEnable","transcriptInfo","responseErrorMessage","sendEmailSuccessMessage","autoTranslateInfo","pciForm","transfer","joinMeIntegrationServer"]),D={position:"relative"},U=function(e){function t(){return c()(this,t),p()(this,(t.__proto__||s()(t)).apply(this,arguments))}return h()(t,e),l()(t,[{key:"shouldComponentUpdate",value:function(e){return N(this.props,e)}},{key:"render",value:function(){var e=this.props;return r()("div",{},void 0,r()("div",{className:b.a.chatAction},void 0,r()("ul",{className:C.a.clearfix},void 0,r()("li",{},void 0,r()(w.a,{selectedFontSize:e.selectedFontSize,onFontSelect:e.onFontSelect})),e.chatActionDisplay.transfer&&r()("li",{},void 0,r()(S.a,{ifEnable:e.chatActionEnable.transfer,visitorId:e.visitorId,transfer:e.transfer,onTransferChat:e.onTransferChat,onTransferIconClick:e.onTransferIconClick})),r()("li",{},void 0,r()(T.a,{disabled:!e.chatActionEnable.sendFile,siteInfo:e.siteInfo,chatId:e.chatId,beforeUpload:e.beforeUpload,onStart:e.onSendFileStart,onSuccess:e.onSendFileSuccess,onProgress:e.onSendFileProgress,onError:e.onSendFileError,showErrorMessage:e.showErrorMessage})),e.chatActionDisplay.sendTranscript&&r()("li",{},void 0,r()(I.a,{ifEnable:e.chatActionEnable.sendTranscript,visitorId:e.visitorId,chatId:e.chatId,handleSendTranscript:e.handleSendTranscript,transcriptInfo:e.transcriptInfo,initialSendTranscriptForm:e.initialSendTranscriptForm,responseErrorMessage:e.responseErrorMessage,sendEmailSuccessMessage:e.sendEmailSuccessMessage,showResponseErrorMessage:e.showResponseErrorMessage,hideResponseErrorMessage:e.hideResponseErrorMessage,hideSendEmailSuccessMessage:e.hideSendEmailSuccessMessage})),e.chatActionDisplay.attachTicket&&r()("li",{},void 0,r()(x.a,{ifEnable:e.chatActionEnable.attachTicket,siteId:e.siteId,visitorId:e.visitorId,ticketId:e.ticketId,handleAttachTicket:e.handleAttachTicket,gotoAttachTicket:e.gotoAttachTicket,ifUseMainServer:e.ifUseMainServer,responseErrorMessage:e.responseErrorMessage,hideResponseErrorMessage:e.hideResponseErrorMessage})),e.chatActionDisplay.autoTranslate&&r()("li",{style:D},void 0,r()(k.a,{ifEnable:e.chatActionEnable.autoTranslate,visitorId:e.visitorId,chatId:e.chatId,autoTranslateInfo:e.autoTranslateInfo,onToggleAutoTranslate:e.onToggleAutoTranslate,onUpdateIfPopTranslation:e.onUpdateIfPopTranslation})),e.chatActionDisplay.gotoMeeting&&r()("li",{style:D},void 0,r()(E.a,{ifEnable:e.chatActionEnable.gotoMeeting,visitorId:e.visitorId,onRequestGotoMeeting:e.onRequestGotoMeeting})),e.chatActionDisplay.joinMe&&r()("li",{},void 0,r()(P.a,{ifEnable:e.chatActionEnable.joinMe,joinMeIntegrationServer:e.joinMeIntegrationServer,siteId:e.siteId,visitorId:e.visitorId,currentAgentId:e.currentAgentId,agentSession:e.agentSession})),e.chatActionDisplay.pciForm&&r()("li",{style:D},void 0,r()(_.a,{ifDisplay:e.chatActionDisplay.pciForm,ifEnable:e.chatActionEnable.pciForm,visitorId:e.visitorId,chatId:e.chatId,pciForm:e.pciForm,onRequestPCIForm:e.onRequestPCIForm})),e.chatActionDisplay.audioChat&&r()("li",{},void 0,r()(A.a,{ifEnable:e.chatActionEnable.audioChat,chatId:e.chatId,onClick:e.onRequestAudioChat})),e.chatActionDisplay.videoChat&&r()("li",{},void 0,r()(M.a,{ifEnable:e.chatActionEnable.videoChat,chatId:e.chatId,onClick:e.onRequestVideoChat})))))}}]),t}(v.a.Component);t.a=U},function(e,t,n){"use strict";var o=n(3),r=n.n(o),i=n(22),s=n.n(i),a=n(14),c=n.n(a),u=n(16),l=n.n(u),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(120),v=n.n(g),m=n(1),C=n.n(m),y=n(35),b=n.n(y),w=n(158),S=n.n(w),T=n(991),I=n.n(T),x=n(983),k=n(1035),E=n(1036),P=n(1033),_=n(1495),A=n(1478),M=n(1473),R=n(1477),N=n(1476),D=n(1356),U=function(e){function t(){return c()(this,t),p()(this,(t.__proto__||s()(t)).apply(this,arguments))}return h()(t,e),l()(t,[{key:"shouldComponentUpdate",value:function(e){return!v()(this.props,e)}},{key:"render",value:function(){return r()("div",{className:b()(I.a.chatHeader,S.a.clearfix)},void 0,r()("div",{className:b()(I.a.visitorDetails,S.a.clearfix)},void 0,r()("div",{className:I.a.avatar},void 0,r()(x.a,{isContactOrUserOpen:this.props.isContactOrUserOpen,avatarLink:this.props.visitorInfo.avatar,identityType:this.props.visitorInfo.identityType})),r()("div",{className:I.a.details},void 0,r()("div",{className:I.a.name},void 0,this.props.visitorInfo.latestName),r()("div",{className:b()(I.a.others,S.a.clearfix)},void 0,r()(k.a,{countryName:this.props.visitorInfo.country,city:this.props.visitorInfo.city,state:this.props.visitorInfo.state,countryCode:this.props.visitorInfo.countryCode}),r()(E.a,{name:this.props.visitorInfo.operatingSystem}),r()(P.a,{name:this.props.visitorInfo.browser}),""!==this.props.saleforceURL&&r()(_.a,{type:D.a,socialUrl:this.props.saleforceURL}),""!==this.props.visitorInfo.zendeskUrl&&r()(_.a,{type:D.b,socialUrl:this.props.visitorInfo.zendeskUrl}),this.props.visitorInfo.socialType>0&&r()(_.a,{type:this.props.visitorInfo.socialType,socialUrl:this.props.visitorInfo.socialUrl})))),r()("div",{className:I.a.action},void 0,this.props.chatHeaderToolBarDisplay.displayPromote&&r()(A.a,{onPromote:this.props.onPromote,visitorId:this.props.visitorInfo.id,preChatEmail:this.props.visitorInfo.prechatEmail,disabled:this.props.disabledPromote,ifUseMainServer:this.props.ifUseMainServer}),this.props.chatHeaderToolBarDisplay.displayBan&&r()(M.a,{onBanChat:this.props.onBanChat,realVisitorId:this.props.visitorInfo.realVisitorId,visitorId:this.props.visitorInfo.id,visitorIP:this.props.visitorInfo.ip,disabled:this.props.disabledBan}),this.props.chatHeaderToolBarDisplay.displayLeave&&r()(R.a,{visitorId:this.props.visitorInfo.id,onLeaveChat:this.props.onLeaveChat}),this.props.chatHeaderToolBarDisplay.displayCloseChat&&r()(N.a,{chatId:this.props.chatId,visitorId:this.props.visitorInfo.id,status:this.props.visitorInfo.status,onCloseChat:this.props.onCloseChat})))}}]),t}(C.a.Component);t.a=U},function(e,t,n){"use strict";var o=n(3),r=n.n(o),i=n(1),s=(n.n(i),n(53)),a=n(991),c=n.n(a),u=function(e){return r()("div",{},void 0,r()(s.a,{text:"Close Chat Window",className:c.a.btnAction,onClick:function(){return e.onCloseChat(e.chatId,e.status,e.visitorId)}}))};t.a=u},function(e,t,n){"use strict";var o=n(3),r=n.n(o),i=n(22),s=n.n(i),a=n(14),c=n.n(a),u=n(16),l=n.n(u),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(1),v=n.n(g),m=n(53),C=n(991),y=n.n(C),b=n(1501),w=function(e){function t(){c()(this,t);var e=p()(this,(t.__proto__||s()(t)).call(this));return e.state={open:!1},e.onLeaveChat=e.onLeaveChat.bind(e),e.openModal=e.openModal.bind(e),e.closeModal=e.closeModal.bind(e),e}return h()(t,e),l()(t,[{key:"onLeaveChat",value:function(){this.props.onLeaveChat(this.props.visitorId),this.closeModal()}},{key:"closeModal",value:function(){this.setState({open:!1})}},{key:"openModal",value:function(){this.setState({open:!0})}},{key:"render",value:function(){return r()("div",{},void 0,r()(m.a,{text:"Leave Chat",className:y.a.btnAction,onClick:this.openModal}),this.state.open&&r()(b.a,{openModal:this.openModal,closeModal:this.closeModal,onLeaveChat:this.onLeaveChat}))}}]),t}(v.a.Component);t.a=w},function(e,t,n){"use strict";var o=n(3),r=n.n(o),i=n(22),s=n.n(i),a=n(14),c=n.n(a),u=n(16),l=n.n(u),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(1),v=n.n(g),m=n(35),C=n.n(m),y=n(171),b=n(53),w=n(991),S=n.n(w),T=n(158),I=n.n(T),x=n(1354),k=n(1003),E=function(e){function t(){c()(this,t);var e=p()(this,(t.__proto__||s()(t)).call(this));return e.state={isOpen:!1,isOpenModalStandbyNotice:!1},e.handleClick=e.handleClick.bind(e),e.toggle=e.toggle.bind(e),e.onPromote=e.onPromote.bind(e),e.popUpStandbyWindow=e.popUpStandbyWindow.bind(e),e.closeStandbyWindow=e.closeStandbyWindow.bind(e),e}return h()(t,e),l()(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClick,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick,!1)}},{key:"onPromote",value:function(e){this.setState({isOpen:!1}),this.props.ifUseMainServer?this.props.onPromote(this.props.visitorId,e):this.popUpStandbyWindow()}},{key:"popUpStandbyWindow",value:function(){this.setState({isOpenModalStandbyNotice:!0})}},{key:"closeStandbyWindow",value:function(){this.setState({isOpenModalStandbyNotice:!1})}},{key:"handleClick",value:function(e){var t=this.container;t&&!t.contains(e.target)&&this.state.isOpen&&this.setState({isOpen:!1})}},{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){var e=this;return v.a.createElement("div",{ref:function(t){e.container=t}},r()(b.a,{text:"Promote",className:S.a.btnAction,onClick:this.toggle,disabled:this.props.disabled}),r()("ul",{className:C()(I.a.popupList,this.state.isOpen&&I.a.open)},void 0,r()("li",{},void 0,r()(y.a,{onClick:function(){return e.onPromote(x.b)}},void 0,"Promote to Contact")),""!==this.props.preChatEmail?r()("li",{},void 0,r()(y.a,{onClick:function(){return e.onPromote(x.a)}},void 0,"Promote to User")):""),this.state.isOpenModalStandbyNotice&&r()(k.a,{ifOpen:this.state.isOpenModalStandbyNotice,closeModal:this.closeStandbyWindow,text:"Live Chat is running on the secondary server. We're sorry but you're\n          unable to perform this action now. Please try again after Live Chat goes back\n          to the primary server."}))}}]),t}(v.a.Component);t.a=E},function(e,t,n){"use strict";function o(e){switch(e){case S.a:return{type:y.b.audioChatRequesting,title:w.m};case S.c:return{type:y.b.videoChatRequesting,title:w.o};case S.b:return{type:y.b.audioChatRequesting,title:w.n};case S.d:return{type:y.b.videoChatRequesting,title:w.p};default:return{type:y.b.chatting,title:w.c}}}function r(e,t){switch(e){case y.d.waitingForChat:return{type:y.b.waitting,title:w.b};case y.d.chatting:return o(t);case y.d.preChat:return{type:y.b.prechat,title:w.d};case y.d.invited:return{type:y.b.invited,title:w.e};case y.d.autoInvited:return{type:y.b.invited,title:w.f};case y.d.offlineMessage:return{type:y.b.offline,title:w.g};case y.d.refusedByAgent:return{type:y.b.refused,title:w.h};case y.d.refusedByVisitor:return{type:y.b.refused,title:w.i};case y.d.chatEnded:return{type:y.b.chatEnd,title:w.j};case y.d.inSite:return{type:y.b.insite,title:w.k};case y.d.outOfSite:return{type:y.b.outOfSite,title:w.l};case y.d.transferring:return{type:y.b.transferring,title:w.a};case y.d.manuallyInvitedAndWatingVisitor:return{type:y.b.inviteWaiting,title:w.q};case y.d.invitedAndWaitingForChat:return{type:y.b.waitingInvite,title:w.s};case y.d.monitorChatEnded:return{type:y.b.monitorEnded,title:w.t};case y.d.monitorChatting:return{type:y.b.monitorChatting,title:w.u};default:return{type:"",color:"",title:""}}}var i=n(3),s=n.n(i),a=n(22),c=n.n(a),u=n(14),l=n.n(u),d=n(16),p=n.n(d),f=n(21),h=n.n(f),g=n(20),v=n.n(g),m=n(1),C=n.n(m),y=n(2),b=n(70),w=n(1005),S=n(387),T=function(e){function t(){return l()(this,t),h()(this,(t.__proto__||c()(t)).apply(this,arguments))}return v()(t,e),p()(t,[{key:"shouldComponentUpdate",value:function(e){return e.statusCode!==this.props.statusCode||e.audioVideoStatus!==this.props.audioVideoStatus}},{key:"render",value:function(){var e=r(this.props.statusCode,this.props.audioVideoStatus),t=e.type,n=e.title;return s()(b.a,{type:t,size:this.props.size,"data-tip":n,"data-for":this.props.dataFor})}}]),t}(C.a.Component);T.defaultProps={size:18},t.a=T},,,,,,function(e,t,n){"use strict";var o=n(3),r=n.n(o),i=n(22),s=n.n(i),a=n(14),c=n.n(a),u=n(16),l=n.n(u),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(1),v=n.n(g),m=n(35),C=n.n(m),y=n(53),b=n(957),w=n.n(b),S=n(70),T=n(2),I=n(1500),x=n(1003),k="chatContainer",E="Attach this chat to a ticket.",P=function(e){function t(){c()(this,t);var e=p()(this,(t.__proto__||s()(t)).call(this));return e.state={open:!1,dataFor:k,dataTip:E,isOpenModalStandbyNotice:!1},e.openModal=e.openModal.bind(e),e.closeModal=e.closeModal.bind(e),e.closeStandbyWindow=e.closeStandbyWindow.bind(e),e}return h()(t,e),l()(t,[{key:"closeModal",value:function(){this.setState({open:!1,dataFor:k,dataTip:E})}},{key:"closeStandbyWindow",value:function(){this.setState({isOpenModalStandbyNotice:!1,dataFor:k,dataTip:E})}},{key:"openModal",value:function(){this.props.ifUseMainServer?this.setState({open:!0,dataFor:"",dataTip:""}):this.setState({isOpenModalStandbyNotice:!0,dataFor:"",dataTip:""})}},{key:"render",value:function(){return r()("div",{},void 0,r()(y.a,{type:"noborder",className:C()(w.a.chatActionIcon,!this.props.ifEnable&&w.a.chatActionIconDisabled),onClick:this.props.ifEnable?this.openModal:void 0,"data-tip":this.state.dataTip,"data-for":this.state.dataFor},void 0,r()(S.a,{type:T.b.attachticket})),this.state.open&&r()(I.a,{closeModal:this.closeModal,siteId:this.props.siteId,visitorId:this.props.visitorId,ticketId:this.props.ticketId,handleAttachTicket:this.props.handleAttachTicket,gotoAttachTicket:this.props.gotoAttachTicket,responseErrorMessage:this.props.responseErrorMessage,hideResponseErrorMessage:this.props.hideResponseErrorMessage}),this.state.isOpenModalStandbyNotice&&r()(x.a,{closeModal:this.closeStandbyWindow,text:"Live Chat is running on the secondary server. We're sorry but you're\n                unable to perform this action now. Please try again after Live Chat\n                goes back to the primary server."}))}}]),t}(v.a.Component);t.a=P},function(e,t,n){"use strict";var o=n(3),r=n.n(o),i=n(1),s=(n.n(i),n(35)),a=n.n(s),c=n(53),u=n(957),l=n.n(u),d=n(70),p=n(2),f=function(e){return r()("div",{},void 0,r()(c.a,{type:"noborder",className:a()(l.a.chatActionIcon,!e.ifEnable&&l.a.chatActionIconDisabled),onClick:e.ifEnable?e.onClick:void 0,"data-tip":"Audio Chat","data-for":"chatContainer"},void 0,r()(d.a,{type:p.b.audioChat})))};t.a=f},function(e,t,n){"use strict";var o=n(3),r=n.n(o),i=n(22),s=n.n(i),a=n(14),c=n.n(a),u=n(16),l=n.n(u),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(1),v=n.n(g),m=n(35),C=n.n(m),y=n(171),b=n(381),w=n(53),S=n(222),T=n.n(S),I=n(957),x=n.n(I),k=n(70),E=n(2),P=function(e){function t(e){c()(this,t);var n=p()(this,(t.__proto__||s()(t)).call(this,e));return n.state={isOpen:!1},n.toggle=n.toggle.bind(n),n.selectSmall=n.onSelect.bind(n,b.b),n.selectMiddle=n.onSelect.bind(n,b.a),n.selectLarge=n.onSelect.bind(n,b.c),n.handleClick=n.handleClick.bind(n),n}return h()(t,e),l()(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClick,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick,!1)}},{key:"onSelect",value:function(e){this.setState({isOpen:!1}),this.props.onFontSelect(e)}},{key:"handleClick",value:function(e){var t=this.container;this.state.isOpen&&t&&!t.contains(e.target)&&this.setState({isOpen:!1})}},{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){var e=this,t=this.state.isOpen,n=this.props.selectedFontSize,o=n===b.b,i=n===b.a,s=n===b.c;return v.a.createElement("div",{ref:function(t){e.container=t}},r()(w.a,{type:"noborder",className:C()(x.a.chatActionIcon,t&&x.a.iconActive),onClick:this.toggle,"data-tip":"Adjust font size of chat messages.","data-for":"chatContainer"},void 0,r()(k.a,{type:E.b.font})),r()("div",{className:C()(T.a.cover,t&&T.a.coverOpen),onClick:this.toggle}),r()("ul",{className:C()(T.a.fontList,t&&T.a.fontOpen)},void 0,r()("li",{className:o&&T.a.fontActive},void 0,r()(y.a,{onClick:this.selectSmall},void 0,"Small")),r()("li",{className:i&&T.a.fontActive},void 0,r()(y.a,{onClick:this.selectMiddle},void 0,"Middle")),r()("li",{className:s&&T.a.fontActive},void 0,r()(y.a,{onClick:this.selectLarge},void 0,"Large"))))}}]),t}(v.a.Component);t.a=P},function(e,t,n){"use strict";var o=n(3),r=n.n(o),i=n(22),s=n.n(i),a=n(14),c=n.n(a),u=n(16),l=n.n(u),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(1),v=n.n(g),m=n(35),C=n.n(m),y=n(53),b=n(957),w=n.n(b),S=n(70),T=n(2),I=n(1521),x=function(e){function t(){c()(this,t);var e=p()(this,(t.__proto__||s()(t)).call(this));return e.state={isOpenGotoMeeting:!1},e.toggleOpenPrompt=e.toggleOpenPrompt.bind(e),e.closeOpenPrompt=e.closeOpenPrompt.bind(e),e.handleClick=e.handleClick.bind(e),e}return h()(t,e),l()(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClick,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick,!1)}},{key:"handleClick",value:function(e){var t=this.container;t&&!t.contains(e.target)&&this.state.isOpenGotoMeeting&&this.setState({isOpenGotoMeeting:!1})}},{key:"toggleOpenPrompt",value:function(){this.setState({isOpenGotoMeeting:!this.state.isOpenGotoMeeting})}},{key:"closeOpenPrompt",value:function(){this.setState({isOpenGotoMeeting:!1})}},{key:"render",value:function(){var e=this;return v.a.createElement("div",{ref:function(t){e.container=t}},r()(y.a,{type:"noborder",className:C()(w.a.chatActionIcon,!this.props.ifEnable&&w.a.chatActionIconDisabled,this.state.isOpen&&w.a.iconActive),onClick:this.props.ifEnable?this.toggleOpenPrompt:function(){},"data-tip":"Start screen sharing session with your visitors through GoToMeeting.","data-for":"chatContainer"},void 0,r()(S.a,{type:T.b.gotomeeting})),this.state.isOpenGotoMeeting&&r()(I.a,{closePrompt:this.closeOpenPrompt,visitorId:this.props.visitorId,onRequestGotoMeeting:this.props.onRequestGotoMeeting}))}}]),t}(v.a.Component);t.a=x},function(e,t,n){"use strict";var o=n(3),r=n.n(o),i=n(1),s=(n.n(i),n(35)),a=n.n(s),c=n(171),u=n(957),l=n.n(u),d=n(70),p=n(2),f=function(e){var t=e.joinMeIntegrationServer,n=e.siteId,o=e.visitorId,i=e.currentAgentId,s=e.agentSession,u=t+"/auth.aspx?siteId="+n+"&visitorId="+o+"&operatorId="+i+"&token="+s;return r()("div",{},void 0,r()(c.a,{type:"noborder",className:a()(l.a.chatActionIcon,!e.ifEnable&&l.a.chatActionIconDisabled),href:e.ifEnable?u:"",newWindow:!0,"data-tip":"Start screen sharing session with your visitors through Join.Me.","data-for":"chatContainer"},void 0,r()(d.a,{type:p.b.joinMe})))};t.a=f},function(e,t,n){"use strict";var o=n(3),r=n.n(o),i=n(22),s=n.n(i),a=n(14),c=n.n(a),u=n(16),l=n.n(u),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(1),v=n.n(g),m=n(35),C=n.n(m),y=n(53),b=n(957),w=n.n(b),S=n(70),T=n(2),I=n(1522),x=function(e){function t(){c()(this,t);var e=p()(this,(t.__proto__||s()(t)).call(this));return e.state={isOpenSecureForm:!1},e.toggleOpenPrompt=e.toggleOpenPrompt.bind(e),e.closeOpenPrompt=e.closeOpenPrompt.bind(e),e.handleClick=e.handleClick.bind(e),e}return h()(t,e),l()(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClick,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick,!1)}},{key:"handleClick",value:function(e){var t=this.container;t&&!t.contains(e.target)&&this.state.isOpenSecureForm&&this.setState({isOpenSecureForm:!1})}},{key:"toggleOpenPrompt",value:function(){this.setState({isOpenSecureForm:!this.state.isOpenSecureForm})}},{key:"closeOpenPrompt",value:function(){this.setState({isOpenSecureForm:!1})}},{key:"render",value:function(){var e=this;return v.a.createElement("div",{ref:function(t){e.container=t}},r()(y.a,{type:"noborder",className:C()(w.a.chatActionIcon,!this.props.ifEnable&&w.a.chatActionIconDisabled,this.state.isOpenSecureForm&&w.a.iconActive),onClick:this.props.ifEnable?this.toggleOpenPrompt:void 0,"data-tip":"Request a PCI form from your visitor.","data-for":"chatContainer"},void 0,r()(S.a,{type:T.b.secureForm})),this.state.isOpenSecureForm&&r()(I.a,{closePrompt:this.closeOpenPrompt,visitorId:this.props.visitorId,chatId:this.props.chatId,pciForm:this.props.pciForm,onRequestPCIForm:this.props.onRequestPCIForm}))}}]),t}(v.a.Component);t.a=x},function(e,t,n){"use strict";var o=n(3),r=n.n(o),i=n(22),s=n.n(i),a=n(14),c=n.n(a),u=n(16),l=n.n(u),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(1),v=n.n(g),m=n(35),C=n.n(m),y=n(53),b=n(957),w=n.n(b),S=n(70),T=n(2),I=n(1508),x=function(e){function t(){c()(this,t);var e=p()(this,(t.__proto__||s()(t)).call(this));return e.state={open:!1},e.openModal=e.openModal.bind(e),e.closeModal=e.closeModal.bind(e),e}return h()(t,e),l()(t,[{key:"closeModal",value:function(){this.setState({open:!1})}},{key:"openModal",value:function(){var e=this.props;e.initialSendTranscriptForm(e.visitorId,e.chatId,e.transcriptInfo),this.setState({open:!0})}},{key:"render",value:function(){return r()("div",{},void 0,r()(y.a,{type:"noborder",className:C()(w.a.chatActionIcon,!this.props.ifEnable&&w.a.chatActionIconDisabled),onClick:this.props.ifEnable?this.openModal:void 0,"data-tip":"Send transcript to a specified email account.","data-for":"chatContainer"},void 0,r()(S.a,{type:T.b.sendEmail})),this.state.open&&r()(I.a,{closeModal:this.closeModal,handleSendTranscript:this.props.handleSendTranscript,transcriptInfo:this.props.transcriptInfo,responseErrorMessage:this.props.responseErrorMessage,sendEmailSuccessMessage:this.props.sendEmailSuccessMessage,showResponseErrorMessage:this.props.showResponseErrorMessage,hideResponseErrorMessage:this.props.hideResponseErrorMessage,hideSendEmailSuccessMessage:this.props.hideSendEmailSuccessMessage}))}}]),t}(v.a.Component);t.a=x},function(e,t,n){"use strict";var o=n(3),r=n.n(o),i=n(22),s=n.n(i),a=n(14),c=n.n(a),u=n(16),l=n.n(u),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(1),v=n.n(g),m=n(35),C=n.n(m),y=n(53),b=n(957),w=n.n(b),S=n(70),T=n(2),I=n(1502),x=function(e){function t(e){c()(this,t);var n=p()(this,(t.__proto__||s()(t)).call(this,e));return n.state={open:!1},n.openModal=n.toggleModal.bind(n,!0),n.closeModal=n.toggleModal.bind(n,!1),n}return h()(t,e),l()(t,[{key:"toggleModal",value:function(e){this.setState({open:e}),e&&this.props.onTransferIconClick&&this.props.onTransferIconClick()}},{key:"render",value:function(){return r()("div",{},void 0,r()(y.a,{type:"noborder",onClick:this.props.ifEnable?this.openModal:void 0,className:C()(w.a.chatActionIcon,!this.props.ifEnable&&w.a.chatActionIconDisabled),"data-tip":"Transfer the chat to another agent or department.","data-for":"chatContainer"},void 0,r()(S.a,{type:T.b.transfer})),this.state.open&&r()(I.a,{closeModal:this.closeModal,visitorId:this.props.visitorId,ifDepartmentEnabled:this.props.transfer.ifDepartmentEnabled,onlineDepartments:this.props.transfer.onlineDepartments,onlineDepartmentOptions:this.props.transfer.onlineDepartmentComponent,allAvailableAgents:this.props.transfer.allAvailableAgents,onTransferChat:this.props.onTransferChat}))}}]),t}(v.a.Component);t.a=x},function(e,t,n){"use strict";var o=n(3),r=n.n(o),i=n(22),s=n.n(i),a=n(14),c=n.n(a),u=n(16),l=n.n(u),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(1),v=n.n(g),m=n(35),C=n.n(m),y=n(53),b=n(222),w=(n.n(b),n(957)),S=n.n(w),T=n(70),I=n(2),x=n(1520),k=function(e){function t(e){c()(this,t);var n=p()(this,(t.__proto__||s()(t)).call(this,e));return n.state={isOpen:e.autoTranslateInfo.ifOpenAutoTranslation},n.togglePrompt=n.togglePrompt.bind(n),n.closePrompt=n.closePrompt.bind(n),n}return h()(t,e),l()(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({isOpen:e.autoTranslateInfo.ifOpenAutoTranslation})}},{key:"togglePrompt",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"closePrompt",value:function(){this.setState({isOpen:!1}),this.props.autoTranslateInfo.ifAutoPopTranslation||this.props.onUpdateIfPopTranslation(this.props.chatId)}},{key:"render",value:function(){var e=this;return v.a.createElement("div",{ref:function(t){e.container=t}},r()(y.a,{type:"noborder",className:C()(S.a.chatActionIcon,!this.props.ifEnable&&S.a.chatActionIconDisabled,this.state.isOpen&&S.a.iconActive),onClick:this.props.ifEnable?this.togglePrompt:void 0,"data-tip":"Automatically translate chat messages to a target language in real time.","data-for":"chatContainer"},void 0,r()(T.a,{type:I.b.translate})),this.state.isOpen&&r()(x.a,{closePrompt:this.closePrompt,visitorId:this.props.visitorId,detectedVisitorLanguage:this.props.autoTranslateInfo.detectedVisitorLanguage,onToggleAutoTranslate:this.props.onToggleAutoTranslate}))}}]),t}(v.a.Component);t.a=k},function(e,t,n){"use strict";var o=n(3),r=n.n(o),i=n(1),s=(n.n(i),n(35)),a=n.n(s),c=n(53),u=n(957),l=n.n(u),d=n(70),p=n(2),f=function(e){return r()("div",{},void 0,r()(c.a,{type:"noborder",className:a()(l.a.chatActionIcon,!e.ifEnable&&l.a.chatActionIconDisabled),onClick:e.ifEnable?e.onClick:void 0,"data-tip":"Video Chat","data-for":"chatContainer"},void 0,r()(d.a,{type:p.b.videoChat})))};t.a=f},function(e,t,n){"use strict";var o=n(3),r=n.n(o),i=n(22),s=n.n(i),a=n(14),c=n.n(a),u=n(16),l=n.n(u),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(1),v=n.n(g),m=n(35),C=n.n(m),y=n(376),b=n.n(y),w=n(1356),S=n(379),T=n(222),I=n.n(T),x=n(171),k=function(e){function t(){return c()(this,t),p()(this,(t.__proto__||s()(t)).apply(this,arguments))}return h()(t,e),l()(t,[{key:"componentDidMount",value:function(){this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){return b.a.rebuild()},0)}},{key:"shouldComponentUpdate",value:function(e){return e.type!==this.props.type&&e.socialUrl!==this.props.socialUrl}},{key:"componentDidUpdate",value:function(){this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){return b.a.rebuild()},0)}},{key:"componentWillUnmount",value:function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)}},{key:"render",value:function(){var e="",t="";switch(this.props.type){case w.c:t="facebook",e="Facebook";break;case w.d:t="googlePlus",e="GooglePlus";break;case w.b:t="zendesk",e="Zendesk";break;case w.a:t="salesforce",e="Salesforce"}return r()("span",{"data-tip":e,"data-for":"chatContainer"},void 0,r()(x.a,{newWindow:!0,href:this.props.socialUrl},void 0,r()(S.a,{className:C()(I.a["social-"+t],I.a.iconOffsetDown)})))}}]),t}(v.a.Component);t.a=k},,,,,function(e,t,n){"use strict";var o=n(3),r=n.n(o),i=n(22),s=n.n(i),a=n(14),c=n.n(a),u=n(16),l=n.n(u),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(1),v=n.n(g),m=n(101),C=n(100),y=n.n(C),b=n(771),w=(n(53),n(630)),S=n.n(w),T=n(769),I=n(171),x=function(e){function t(e){c()(this,t);var n=p()(this,(t.__proto__||s()(t)).call(this,e));return n.state={attachType:"0",ifAttachNewTicket:!0,ifAttachTicketButtonEnabled:!0,ticketId:""},n.handleChange=n.handleChange.bind(n),n.changeTicketId=n.changeTicketId.bind(n),n.handleAttachTicket=n.handleAttachTicket.bind(n),n.hideResponseErrorMessage=n.hideResponseErrorMessage.bind(n),n}return h()(t,e),l()(t,[{key:"componentWillReceiveProps",value:function(e){e.responseErrorMessage&&(void 0!==this.timeoutId&&clearTimeout(this.timeoutId),this.timeoutId=setTimeout(this.hideResponseErrorMessage,4e3))}},{key:"handleChange",value:function(e){switch(e.target.value){case"0":this.setState({attachType:"0",ifAttachNewTicket:!0,ifAttachTicketButtonEnabled:!0});break;case"1":this.setState({attachType:"1",
ifAttachNewTicket:!1,ifAttachTicketButtonEnabled:!1})}}},{key:"changeTicketId",value:function(e){this.setState({ifAttachTicketButtonEnabled:e.target.value,ticketId:e.target.value})}},{key:"handleAttachTicket",value:function(e){this.props.handleAttachTicket(this.props.visitorId,e),this.setState({ifAttachTicketButtonEnabled:!1})}},{key:"hideResponseErrorMessage",value:function(){this.props.hideResponseErrorMessage()}},{key:"render",value:function(){var e=this,t=r()(T.a,{meta:{},input:{onChange:this.changeTicketId,value:this.state.ticketId},className:S.a.attachTicket,isDisabled:this.state.ifAttachNewTicket}),n="";return n=this.state.ifAttachNewTicket?0:this.state.ticketId,r()(m.a,{closeModal:this.props.closeModal,title:"Attach to Ticket",actions:this.props.ticketId?{cancelProps:{text:"Close"}}:{okProps:{text:"OK",disabled:!this.state.ifAttachTicketButtonEnabled,eventClick:function(){e.handleAttachTicket(n)}},cancelProps:{text:"Cancel"}}},void 0,r()("div",{className:y.a.modalAttachtTicket},void 0,this.props.ticketId?r()("div",{},void 0,r()("p",{},void 0,"You have attached a ticket with id: ",this.props.ticketId),r()(I.a,{href:"#",onClick:this.props.gotoAttachTicket},void 0,">> Go to the ticket")):r()("div",{},void 0,r()(b.a,{name:"attachTicket",radioOption:[{text:"A new ticket.",value:"0",checked:"0"===this.state.attachType},{text:"An existing ticket Id: S"+this.props.siteId+"-T",value:"1",checked:"1"===this.state.attachType,component:t}],handleChange:this.handleChange})),this.props.responseErrorMessage?r()("div",{className:y.a.errorContainer},void 0,r()("span",{className:y.a.message},void 0,this.props.responseErrorMessage)):""))}}]),t}(v.a.Component);t.a=x},function(e,t,n){"use strict";var o=n(3),r=n.n(o),i=n(1),s=(n.n(i),n(101)),a=r()("div",{},void 0,"Are you sure you want to leave this chat?"),c=function(e){return r()(s.a,{closeModal:e.closeModal,title:"Comm100 Live Chat",actions:{okProps:{text:"Yes",eventClick:e.onLeaveChat},cancelProps:{text:"No"}}},void 0,a)};t.a=c},function(e,t,n){"use strict";var o=n(3),r=n.n(o),i=n(22),s=n.n(i),a=n(14),c=n.n(a),u=n(16),l=n.n(u),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(1),v=n.n(g),m=n(101),C=n(100),y=n.n(C),b=n(771),w=(n(53),n(1504)),S=n(1503),T=n(377),I=function(e){function t(e){c()(this,t);var n=p()(this,(t.__proto__||s()(t)).call(this,e));return n.state={transferTo:e.ifDepartmentEnabled?"0":"1",departmentId:0,selectedDepartmentIndex:-1,agentId:0,selectedAgentIndex:-1,enableCloseChat:!1},n.handleChangeTransferTo=n.handleChangeTransferTo.bind(n),n.handleSelectDepartment=n.handleSelectDepartment.bind(n),n.handleSelectAgent=n.handleSelectAgent.bind(n),n.switchCloseChatFlag=n.switchCloseChatFlag.bind(n),n}return h()(t,e),l()(t,[{key:"handleChangeTransferTo",value:function(e){this.setState({transferTo:e.target.value})}},{key:"handleSelectDepartment",value:function(e,t){this.setState({departmentId:e,selectedDepartmentIndex:t})}},{key:"handleSelectAgent",value:function(e,t){this.setState({agentId:e,selectedAgentIndex:t})}},{key:"switchCloseChatFlag",value:function(e){this.setState({enableCloseChat:e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.closeModal,o=t.ifDepartmentEnabled,i=t.onlineDepartments,s=t.onlineDepartmentOptions,a=t.allAvailableAgents;return r()(m.a,{closeModal:n,className:y.a.modalTransfer,title:o?"Transfer the Chat to":"Choose an Agent to Transfer",actions:{okProps:{text:"Transfer",eventClick:function(){e.props.closeModal(),e.props.onTransferChat(e.state.transferTo,e.props.visitorId,e.state.departmentId,e.state.agentId,e.state.enableCloseChat)}},cancelProps:{text:"Cancel"}}},void 0,o?r()(b.a,{name:"transfer",radioOption:[{text:"Department",value:"0",checked:"0"===this.state.transferTo},{text:"Agent",value:"1",checked:"1"===this.state.transferTo}],className:y.a.transferChoose,handleChange:this.handleChangeTransferTo}):"","0"===this.state.transferTo?r()(w.a,{onlineDepartments:i,handleSelectDepartment:this.handleSelectDepartment,selectedDepartmentIndex:this.state.selectedDepartmentIndex}):r()(S.a,{ifDepartmentEnabled:o,allAvailableAgents:a,onlineDepartments:i,onlineDepartmentOptions:s,handleSelectAgent:this.handleSelectAgent,selectedAgentIndex:this.state.selectedAgentIndex}),r()(T.a,{input:{value:this.state.enableCloseChat,onChange:this.switchCloseChatFlag},text:"Leave chat after transfer",className:y.a.leavechataftertransfer}))}}]),t}(v.a.Component);t.a=I},function(e,t,n){"use strict";var o=n(3),r=n.n(o),i=n(22),s=n.n(i),a=n(14),c=n.n(a),u=n(16),l=n.n(u),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(120),v=n.n(g),m=n(1),C=n.n(m),y=n(100),b=n.n(y),w=n(70),S=n(768),T=n(2),I=n(53),x=r()("p",{},void 0,"There are no other agents available. You cannot transfer the ongoing chat to another agent."),k=function(e){function t(e){c()(this,t);var n=p()(this,(t.__proto__||s()(t)).call(this,e));return n.state={selectedDepartmentValue:-1,allAvailableAgentsByDepartmentId:e.allAvailableAgents},n.handleChangeDepartment=n.handleChangeDepartment.bind(n),n.getAvailableAgentsByDepartmentId=n.getAvailableAgentsByDepartmentId.bind(n),n}return h()(t,e),l()(t,[{key:"componentWillReceiveProps",value:function(e){v()(e.allAvailableAgents,this.props.allAvailableAgents)||this.setState({allAvailableAgentsByDepartmentId:this.getAvailableAgentsByDepartmentId(this.state.selectedDepartmentValue,e.allAvailableAgents)})}},{key:"getAvailableAgentsByDepartmentId",value:function(e,t){var n=this.props,o=[];if(e!==-1){var r=n.onlineDepartments.filter(function(t){return t.id===e});r.length>0&&r[0].agentIds.forEach(function(e){var n=t.filter(function(t){return t.id===e&&(t.status===T.a.online||t.status===T.a.away||t.status>=100)});n.length>0&&o.push(n[0])})}else o=t;return o}},{key:"handleChangeDepartment",value:function(e){this.setState({selectedDepartmentValue:e,allAvailableAgentsByDepartmentId:this.getAvailableAgentsByDepartmentId(e,this.props.allAvailableAgents)})}},{key:"render",value:function(){var e=this;return this.props.allAvailableAgents.length?r()("div",{className:b.a.agentContainer},void 0,this.props.ifDepartmentEnabled&&r()("div",{className:b.a.selectDepartment},void 0,r()(S.a,{input:{value:this.state.selectedDepartmentValue,onChange:this.handleChangeDepartment},options:this.props.onlineDepartmentOptions,width:350,dropdownClassName:b.a.dropdown})),r()("ul",{className:b.a.availableList},void 0,this.state.allAvailableAgentsByDepartmentId.map(function(t,n){return r()("li",{},n,r()(I.a,{type:"noborder",className:e.props.selectedAgentIndex===n?b.a.active:"",onClick:function(){return e.props.handleSelectAgent(t.id,n)}},void 0,t.status===T.a.online?r()(w.a,{type:T.b.statusOnline,size:16,color:"#329fd9"}):r()(w.a,{type:T.b.statusAway,size:16,color:"#fe8e14"}),r()("div",{className:b.a.transferName},void 0,t.name)))}))):x}}]),t}(C.a.Component);t.a=k},function(e,t,n){"use strict";var o=n(3),r=n.n(o),i=n(22),s=n.n(i),a=n(14),c=n.n(a),u=n(16),l=n.n(u),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(1),v=n.n(g),m=n(100),C=n.n(m),y=n(70),b=n(2),w=n(53),S=r()("p",{},void 0,"No department is available at the moment."),T=function(e){function t(){return c()(this,t),p()(this,(t.__proto__||s()(t)).apply(this,arguments))}return h()(t,e),l()(t,[{key:"render",value:function(){var e=this;return this.props.onlineDepartments.length?r()("div",{className:C.a.agentContainer},void 0,r()("ul",{className:C.a.availableList},void 0,this.props.onlineDepartments.map(function(t,n){return r()("li",{},n,r()(w.a,{type:"noborder",className:e.props.selectedDepartmentIndex===n?C.a.active:"",onClick:function(){return e.props.handleSelectDepartment(t.id,n)}},void 0,r()(y.a,{type:b.b.statusOnline,size:16,color:"#329fd9"}),r()("div",{className:C.a.transferName},void 0,t.name)))}))):S}}]),t}(v.a.Component);t.a=T},,,,function(e,t,n){"use strict";var o=n(92),r=n.n(o),i=n(3),s=n.n(i),a=n(22),c=n.n(a),u=n(14),l=n.n(u),d=n(16),p=n.n(d),f=n(21),h=n.n(f),g=n(20),v=n.n(g),m=n(405),C=n.n(m),y=n(120),b=n.n(y),w=n(1),S=n.n(w),T=n(383),I=n(386),x=n(101),k=n(100),E=n.n(k),P=n(769),_=s()("span",{},void 0,"To:"),A=s()("span",{},void 0,"Subject:"),M=s()("span",{},void 0,"Body:"),R=s()("span",{},void 0,"Attachment:"),N=function(e){function t(e){l()(this,t);var n=h()(this,(t.__proto__||c()(t)).call(this,e));return n.state={to:e.transcriptInfo.to,subject:e.transcriptInfo.subject,body:e.transcriptInfo.body.content,isSending:!1},n.hideResponseErrorMessage=n.hideResponseErrorMessage.bind(n),n.hideSendEmailSuccessMessage=n.hideSendEmailSuccessMessage.bind(n),n.onToChange=n.onToChange.bind(n),n.onSubjectChange=n.onSubjectChange.bind(n),n.onBodyChange=n.onBodyChange.bind(n),n.onSubmit=n.onSubmit.bind(n),n}return v()(t,e),p()(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;e.responseErrorMessage&&(this.setState({isSending:!1}),void 0!==this.timeoutId&&clearTimeout(this.timeoutId),this.timeoutId=setTimeout(this.hideResponseErrorMessage,5e3)),e.sendEmailSuccessMessage&&(void 0!==this.successTimeoutId&&clearTimeout(this.successTimeoutId),this.successTimeoutId=setTimeout(function(){t.hideSendEmailSuccessMessage(),t.setState({isSending:!1})},5e3)),b()(this.props.transcriptInfo.body.content,e.transcriptInfo.body.content)||this.setState({body:e.transcriptInfo.body.content})}},{key:"onToChange",value:function(e){this.setState({to:e.target.value})}},{key:"onSubjectChange",value:function(e){this.setState({subject:e.target.value})}},{key:"onBodyChange",value:function(e){this.setState({body:e})}},{key:"onSubmit",value:function(){if(!this.state.to)return void this.props.showResponseErrorMessage("Email to is required");if(this.state.to.indexOf("@")<0)return void this.props.showResponseErrorMessage("Email to is invalid");this.setState({isSending:!0});var e=C()(this.state.body,new RegExp("<p>","g"),"<tr><td>"),t=C()(e,new RegExp("</p>","g"),"</td></tr>"),n=C()(t,new RegExp("<td><strong>","g"),'<td style="color:#329fd9"><strong>'),o={to:this.state.to,subject:this.state.subject,body:'<table cellspacing="0" cellpadding="0"><tr><td>'+n+"</td></tr></table>",attachment:this.props.transcriptInfo.body.attachments};this.props.handleSendTranscript(this.props.transcriptInfo.chatId,o)}},{key:"hideResponseErrorMessage",value:function(){this.props.hideResponseErrorMessage()}},{key:"hideSendEmailSuccessMessage",value:function(){this.props.hideSendEmailSuccessMessage()}},{key:"render",value:function(){var e=this;return s()(x.a,{closeModal:this.props.closeModal,className:E.a.modalSendTranscript,title:"Send Transcript",actions:{okProps:{text:"OK",disabled:this.state.isSending,eventClick:this.onSubmit},cancelProps:{text:"Cancel"}}},void 0,s()("div",{className:E.a.formTranscriptLine},void 0,_,s()(P.a,{className:E.a.input,type:"text",meta:{},input:{value:this.state.to,onChange:this.onToChange}})),s()("div",{className:E.a.formTranscriptLine},void 0,A,s()(P.a,{className:E.a.input,type:"text",meta:{},input:{value:this.state.subject,onChange:this.onSubjectChange}})),s()("div",{className:E.a.formTranscriptLine},void 0,M,s()(T.a,{modules:{SendTranscriptBody:function(){return n.i(T.b)(new r.a(function(e,t){n.e(1).then(function(t){e(n(1350))}.bind(null,n)).catch(n.oe).catch(t)}))}},loading:I.a},void 0,function(t){var n=t.SendTranscriptBody;return s()(n,{transcriptBodyAdditionInfo:e.props.transcriptInfo,input:{value:e.state.body,onChange:function(t){e.onBodyChange(t)}}})})),s()("div",{className:E.a.formTranscriptLine},void 0,R,s()("div",{className:E.a.attachmentsContainer},void 0,this.props.transcriptInfo.body.attachments)),this.props.responseErrorMessage?s()("div",{className:E.a.errorContainer},void 0,s()("span",{className:E.a.message},void 0,this.props.responseErrorMessage)):"",this.props.sendEmailSuccessMessage?s()("div",{className:E.a.successContainer},void 0,s()("span",{className:E.a.message},void 0,this.props.sendEmailSuccessMessage)):"")}}]),t}(S.a.Component);t.a=N},,,,,,,,,,,,function(e,t,n){"use strict";var o=n(3),r=n.n(o),i=n(22),s=n.n(i),a=n(14),c=n.n(a),u=n(16),l=n.n(u),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(1),v=n.n(g),m=n(35),C=n.n(m),y=n(1058),b=n.n(y),w=n(1717),S=n.n(w),T=n(53),I=n(768),x=n(15),k=n(70),E=n(2),P=[{text:"Afrikaans",value:"1"},{text:"Albanian",value:"2"},{text:"Arabic",value:"3"},{text:"Armenian",value:"4"},{text:"Azerbaijani",value:"5"},{text:"Basque",value:"6"},{text:"Belarusian",value:"7"},{text:"Bengali",value:"8"},{text:"Bosnian",value:"9"},{text:"Bulgarian",value:"10"},{text:"Catalan",value:"11"},{text:"Cebuano",value:"12"},{text:"Chichewa",value:"13"},{text:"Chinese Simplified",value:"14"},{text:"Chinese Traditional",value:"15"},{text:"Croatian",value:"16"},{text:"Czech",value:"17"},{text:"Danish",value:"18"},{text:"Dutch",value:"19"},{text:"English",value:"20"},{text:"Esperanto",value:"21"},{text:"Estonian",value:"22"},{text:"Filipino",value:"23"},{text:"Finnish",value:"24"},{text:"French",value:"25"},{text:"Galician",value:"26"},{text:"Georgian",value:"27"},{text:"German",value:"28"},{text:"Greek",value:"29"},{text:"Gujarati",value:"30"},{text:"Haitian Creole",value:"31"},{text:"Hausa",value:"32"},{text:"Hebrew",value:"33"},{text:"Hindi",value:"34"},{text:"Hmong",value:"35"},{text:"Hungarian",value:"36"},{text:"Icelandic",value:"37"},{text:"Igbo",value:"38"},{text:"Indonesian",value:"39"},{text:"Irish",value:"40"},{text:"Italian",value:"41"},{text:"Japanese",value:"42"},{text:"Javanese",value:"43"},{text:"Kannada",value:"44"},{text:"Kazakh",value:"45"},{text:"Khmer",value:"46"},{text:"Korean",value:"47"},{text:"Lao",value:"48"},{text:"Latin",value:"49"},{text:"Latvian",value:"50"},{text:"Lithuanian",value:"51"},{text:"Macedonian",value:"52"},{text:"Malagasy",value:"53"},{text:"Malay",value:"54"},{text:"Malayalam",value:"55"},{text:"Maltese",value:"56"},{text:"Maori",value:"57"},{text:"Marathi",value:"58"},{text:"Mongolian",value:"59"},{text:"Myanmar Burmese",value:"60"},{text:"Nepali",value:"61"},{text:"Norwegian",value:"62"},{text:"Persian",value:"63"},{text:"Polish",value:"64"},{text:"Portuguese",value:"65"},{text:"Punjabi",value:"66"},{text:"Romanian",value:"67"},{text:"Russian",value:"68"},{text:"Serbian",value:"69"},{text:"Sesotho",value:"70"},{text:"Sinhala",value:"71"},{text:"Slovak",value:"72"},{text:"Slovenian",value:"73"},{text:"Somali",value:"74"},{text:"Spanish",value:"75"},{text:"Sundanese",value:"76"},{text:"Swahili",value:"77"},{text:"Swedish",value:"78"},{text:"Tajik",value:"79"},{text:"Tamil",value:"80"},{text:"Telugu",value:"81"},{text:"Thai",value:"82"},{text:"Turkish",value:"83"},{text:"Ukrainian",value:"84"},{text:"Urdu",value:"85"},{text:"Uzbek",value:"86"},{text:"Vietnamese",value:"87"},{text:"Welsh",value:"88"},{text:"Yiddish",value:"89"},{text:"Yoruba",value:"90"},{text:"Zulu",value:"91"}],_=r()("h3",{},void 0,"Auto Translation"),A=r()("span",{},void 0,"Detected visitor language: "),M=function(e){function t(e){c()(this,t);var n=p()(this,(t.__proto__||s()(t)).call(this,e));return n.state={selectedLanguageValue:"0"===e.detectedVisitorLanguage?"20":e.detectedVisitorLanguage},n.handleChangeLanguage=n.handleChangeLanguage.bind(n),n.handleTurnOnAutoTranslate=n.handleTurnOnAutoTranslate.bind(n),n.handleTurnOffAutoTranslate=n.handleTurnOffAutoTranslate.bind(n),n}return h()(t,e),l()(t,[{key:"handleChangeLanguage",value:function(e){this.setState({selectedLanguageValue:e})}},{key:"handleTurnOnAutoTranslate",value:function(){this.props.closePrompt(),this.props.onToggleAutoTranslate(x._74,this.props.visitorId,this.state.selectedLanguageValue)}},{key:"handleTurnOffAutoTranslate",value:function(){this.props.closePrompt(),this.props.onToggleAutoTranslate(x._75,this.props.visitorId,this.state.selectedLanguageValue)}},{key:"render",value:function(){return r()("div",{className:C()(b.a.promptWindow,S.a.autoTranslate)},void 0,r()("button",{className:b.a.close,onClick:this.props.closePrompt},void 0,r()(k.a,{type:E.b.close,size:10})),_,A,r()(I.a,{options:P,width:170,input:{value:this.state.selectedLanguageValue,onChange:this.handleChangeLanguage},dropdownClassName:b.a.dropdown,customizeStyle:{top:10,marginLeft:5}}),r()("div",{className:b.a.action},void 0,r()(T.a,{type:"primary",text:"Turn On",onClick:this.handleTurnOnAutoTranslate}),r()(T.a,{type:"default",text:"Turn Off",onClick:this.handleTurnOffAutoTranslate})))}}]),t}(v.a.Component);t.a=M},function(e,t,n){"use strict";var o=n(3),r=n.n(o),i=n(1),s=(n.n(i),n(1058)),a=n.n(s),c=n(53),u=n(70),l=n(2),d=r()("p",{},void 0,"Would you like to request a screen sharing session with the visitor?"),p=function(e){return r()("div",{className:a.a.promptWindow},void 0,r()("button",{className:a.a.close,onClick:e.closePrompt},void 0,r()(u.a,{type:l.b.close,size:10})),d,r()("div",{className:a.a.action},void 0,r()(c.a,{type:"primary",text:"Yes",onClick:function(){e.onRequestGotoMeeting(e.visitorId),e.closePrompt()}}),r()(c.a,{type:"default",text:"No",onClick:e.closePrompt})))};t.a=p},function(e,t,n){"use strict";var o=n(3),r=n.n(o),i=n(22),s=n.n(i),a=n(14),c=n.n(a),u=n(16),l=n.n(u),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(31),v=n.n(g),m=n(1),C=n.n(m),y=n(1058),b=n.n(y),w=n(53),S=n(771),T=n(70),I=n(2),x=r()("h3",{},void 0,"Request PCI Form"),k=r()("p",{},void 0,"You have no PCI Forms."),E=function(e){function t(e){c()(this,t);var n=p()(this,(t.__proto__||s()(t)).call(this,e));return n.state={pciFormId:e.pciForm.pciFormList.length?e.pciForm.pciFormList[0].id.toString():"0"},n.handleChange=n.handleChange.bind(n),n}return h()(t,e),l()(t,[{key:"handleChange",value:function(e){this.setState({pciFormId:e.target.value})}},{key:"render",value:function(){var e=this,t=[];this.props.pciForm.pciFormList.length&&this.props.pciForm.pciFormList.forEach(function(e){t.push({value:e.id.toString(),text:e.name})});var n=v()(this.props.pciForm.pciFormList,function(t){return t.id===parseInt(e.state.pciFormId,10)});return r()("div",{className:b.a.promptWindow},void 0,r()("button",{className:b.a.close,onClick:this.props.closePrompt},void 0,r()(T.a,{type:I.b.close,size:10})),x,t.length?r()(S.a,{name:"pciforms",radioOption:t,selectedVal:this.state.pciFormId.toString(),handleChange:this.handleChange}):k,r()("div",{className:b.a.action},void 0,r()(w.a,{type:"primary",text:"OK",onClick:n?function(){e.props.onRequestPCIForm(e.props.pciForm.secureFormServer,n,e.props.pciForm.secureFormConfig,e.props.visitorId,e.props.chatId,n.name),e.props.closePrompt()}:this.props.closePrompt}),r()(w.a,{type:"default",text:"Cancel",onClick:this.props.closePrompt})))}}]),t}(C.a.Component);t.a=E},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return r});var o=2,r=3},,,,,,,,function(e,t,n){"use strict";function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];return!!h()(e[t])||e[t]}function r(e,t){var n=e.get("status");return n===C.d.waitingForChat?e.get("autoInvitationId")>0?C.d.invitedAndWaitingForChat:C.d.waitingForChat:n===C.d.transferring?C.d.transferring:n===C.d.chatting?g.g(e,t)?C.d.monitorChatting:C.d.chatting:n===C.d.chatEnded?g.g(e,t)?C.d.monitorChatEnded:C.d.chatEnded:g.d(e,t)?C.d.manuallyInvitedAndWatingVisitor:g.w(e,t)?C.d.refusedByVisitor:C.d.chatEnded}function i(e,t,n){if(!n)return C.q.noGroup;var o=e.get("status");return o===C.d.chatting||o===C.d.transferring&&g.e(e,t)?C.q.onGoing:o===C.d.waitingForChat||o===C.d.transferring?C.q.inComing:!g.e(e,t)||o!==C.d.manuallyInvitedAndWatingVisitor&&o!==C.d.refusedByVisitor?C.q.chatEnded:C.q.invited}function s(e,t,n,o){if(!o)return null;var r=null,i=n;switch(e.get("status")){case C.d.waitingForChat:r=e.get("chatRequestTime");break;case C.d.transferring:r=e.get("transferTime");break;default:i=0,r=t.get("lastRepliedTime")}return r instanceof Date?r.getTime()+1e3*i:null}function a(e,t,n,o,i,a,c,u){var l=e.get("status"),d=t.get("id"),f=g.x(e,i,a),h=g.u(e),v=h&&g.g(e,i),m=h&&g.e(e,i),y=g.y(e)||l===C.d.chatEnded&&g.g(e,i)||g.h(e,i)&&!(h&&g.e(e,i))&&!v&&l!==C.d.transferring,b=e.get("departmentId"),w=p()(a,function(e){return b===e.id}),S=m||v||l===C.d.chatEnded;return{status:l,waitingChatOrChatBegins:e.get("waitingChatOrChatBegins"),visitorId:e.get("id"),chatId:d,visitor:{name:e.get("latestName"),agentName:g.z(e,i,o),department:w?w.name:null},segments:T(c,e.get("segmentIds")),isPinned:t.get("isPinned"),isShowWrapUp:!f&&t.get("ifShowWrapupButton")&&!t.get("wrapupSubmitted")&&d!==n,isShowAcceptAndRefuse:f,isShowDeleteIcon:y,unresponseBeginTime:s(e,t,u,f||m),currentStatus:r(e,i),messageNumber:S?t.get("unreadMessages"):0,isSelected:d===n,audioVideoStatus:e.get("audioVideoChatStatus")}}function c(e){return{chats:[],groupItems:[{id:"ongoingChats",description:"Ongoing Chats",opened:o(e,"ongoingChats"),chats:[]},{id:"incomingChats",description:"Incoming Chats",opened:o(e,"incomingChats"),chats:[]},{id:"manuallyInvited",description:"Manually Invited",opened:o(e,"manuallyInvited"),chats:[]},{id:"endedChats",description:"Ended Chats",opened:o(e,"endedChats"),chats:[]}],ifDepartmentEnabled:!0,isShowChatItemsViaStatus:!1,isShowUnreposiveTime:!0,isShowDepartment:!0,ifEnableSegmentation:!0,enableRefuseChat:!0}}function u(e,t,n,o,r,s,u,l,d,p,f,h){var g=c(h);return g.ifDepartmentEnabled=o.ifDepartmentEnabled,g.isShowChatItemsViaStatus=r.ifGroupChats,g.isShowUnreposiveTime=r.ifShowUnresponseTime,g.isShowDepartment=r.ifShowDepartment,g.ifEnableSegmentation=o.ifEnableSegmentation,g.enableRefuseChat=s,e.reduce(function(e,o,r){var s=o.get("isUnfinishedWrapup")?t.get("v"+o.get("visitorId")+"c"+r):t.get(o.get("visitorId"));if(!s)return e;var c=i(s,l,e.isShowChatItemsViaStatus),h=a(s,o,n,d,l,p,f,u);switch(c){case C.q.onGoing:e.groupItems[0].chats.splice(0,0,h);break;case C.q.inComing:e.groupItems[1].chats.push(h);break;case C.q.invited:e.groupItems[2].chats.splice(0,0,h);break;case C.q.chatEnded:e.groupItems[3].chats.splice(0,0,h);break;default:e.chats.splice(0,0,h)}return e},g)}function l(e){var t=y._37(e),n=y._106(e),o=y._28(e,b.d),r=y._12(e)||0,i=y.u(e),s=y.U(e),a=y._40(e),c=y._33(e),u=y.B(e),l=y._35(e),d=y.m(e),p=w.a.get(S.f,null,{});return I(s,d,a,t,n,o,r,i,c,u,l,p)}var d=n(31),p=n.n(d),f=n(56),h=n.n(f),g=n(93),v=n(245),m=n.n(v),C=n(2),y=n(5),b=n(352),w=n(27),S=n(38);t.a=l;var T=function(e,t){return Array.isArray(t)?e.filter(function(e){return t.indexOf(e.id)>=0}).map(function(e){return{name:e.name,color:"#"+e.color.toString(16)}}):[]},I=m()(1)(u)},,function(e,t,n){"use strict";function o(e){var t=y.q(e);if(!t.get("ifVisitorSupportWebrtc"))return!1;var n=t.get("audioVideoStatus");if(n!==_.a)return!1;var o=function(e){var t=e.get("audioVideoStatus");return t===_.f||t===_.g||t===_.b||t===_.c};return 0===y.U(e).filter(o).size}var r=n(48),i=n.n(r),s=n(255),a=n.n(s),c=n(54),u=n.n(c),l=n(71),d=(n.n(l),n(245)),p=n.n(d),f=n(1474),h=(n(127),n(93)),g=n(90),v=n(244),m=n(73),C=n(352),y=n(5),b=n(772),w=n(37),S=n(72),T=n(350),I=n(15),x=n(1360),k=n(382),E=n(1359),P=n(247),_=n(351),A=p()(1)(function(e,t,o,r,i,s){var a="",c="",l="<tr><td></td></tr>",d="",p="",f="";return r&&(o.forEach(function(e){u()(e,function(e){e.type===v.b&&(a+=e.message+"<br/>"),e.type!==v.c&&e.type!==v.a||!e.message||(a+="["+n.i(g.i)(e.time)+"] "+e.sender+": "+e.message+"<br/>")})}),u()(r.customVariables,function(e){p+=e.name+": "+e.value+"<br/>"}),u()(r.preChatFields,function(e){f+=e.name+": "+e.value+"<br/>"}),c="<tr><td>Id: "+t+"</td></tr><tr><td>Name: "+r.name+"</td></tr><tr><td>Email: "+r.email+"</td></tr><tr><td>Department: "+(s?r.department:"")+"</td></tr><tr><td>Agent: "+r.agentNames+"</td></tr><tr><td>Chat Start Time: "+n.i(g.e)(r.chatStartTime,i)+"</td></tr><tr><td>End Time: "+n.i(g.e)(r.chatEndTime,i)+"</td></tr><tr><td>Product/Service: "+r.service+"</td></tr><tr><td>Phone: "+r.phone+"</td></tr><tr><td>Company: "+r.company+"</td></tr><tr><td>Source: "+r.source+"</td></tr><tr><td>Auto Invitation: "+r.autoInvitation+"</td></tr><tr><td>Request Page: "+r.requestingPageUrl+"</td></tr><tr><td>Custom Variables: <br/>"+p.substr(0,p.length-5)+"</td></tr><tr><td>Custom Fields: <br/>"+f+"<br/></td></tr>",l='<tr><td style="color:#329fd9;font-family: SourceSans Pro Bold,Arial;"><strong>Chat Info</strong></td></tr><tr><td>'+a+"</td></tr>"+c,d=r.attachments.join(", ")),{content:'<table cellspacing="0" cellpadding="0">'+l+"</table>",attachments:d}}),M=p()(1)(function(e,t){return'<table cellspacing="0" cellpadding="0"><tr><td style="color:#329fd9"><b>Visitor Info</b></td></tr><tr><td>Visitor Id: '+e.get("id")+"</td></tr><tr><td>Latest Name: "+e.get("latestName")+"</td></tr><tr><td>Latest Email: "+e.get("latestEmail")+"</td></tr><tr><td>First Visit Time: "+n.i(g.e)(e.get("firstVisitTime"),t)+"</td></tr><tr><td>Chat Times: "+e.get("chatTimes")+"</td></tr><tr><td>Visit Times: "+e.get("visitorTimes")+"<br/></td></tr></table>"}),R=p()(1)(function(e,t){return e?'<table cellspacing="0" cellpadding="0"><tr><td style="color:#329fd9"><b>Navigation</b></td></tr><tr><td>Start Time: '+n.i(g.e)(e.sessionStartTime,t)+"</td></tr><tr><td>Referrer: "+e.referrerUrl+"</td></tr><tr><td>Search Engine: "+e.searchEngine+"</td></tr><tr><td>Keywords: "+e.keywords+"<br/></td></tr></table>":""}),N=p()(1)(function(e){return e?'<table cellspacing="0" cellpadding="0"><tr><td style="color:#329fd9"><b>GEO Info</b></td></tr><tr><td>IP: '+e.ip+"</p></td></tr><tr><td>Country/Region: "+e.country+"</p></td></tr><tr><td>State/Province: "+e.state+"</p></td></tr><tr><td>City: "+e.city+"<br/></p></td></tr></table>":""}),D=p()(1)(function(e){return e?'<table cellspacing="0" cellpadding="0"><tr><td style="color:#329fd9"><b>Client Info</b></td></tr><tr><td>Operating System: '+e.operatingSystem+"</td></tr><tr><td>Browser: "+e.browser+"</td></tr><tr><td>Flash Version: "+e.flashVersion+"</td></tr><tr><td>Screen Resolution: "+e.screenResolution+"</td></tr><tr><td>Language: "+e.language+"</td></tr><tr><td>Time Zone: "+e.timeZone+"<br/></td></tr></table>":""}),U=p()(1)(function(e){return e?'<table cellspacing="0" cellpadding="0"><tr><td style="color:#329fd9"><b>Rating</b></td></tr><tr><td>Rating: '+e.rating+"</td></tr><tr><td>Rating Comment: "+e.ratingComment+"<br/></td></tr></table>":""}),O=p()(1)(function(e){return e?'<table cellspacing="0" cellpadding="0"><tr><td style="color:#329fd9"><b>Agent Comment</b></td></tr><tr><td>'+e.agentComment+"</td></tr></table>":""}),L=[],B=function(e){var t=y._40(e),n=y.r(e,t),o=y.B(e).map(function(t){var o=t.id,r=t.name,i=y._82(e,o,n);return{text:r+" (Online: "+i.onlineAgentNumber+",\n                          Away: "+i.awayAgentNumber+")",value:o}}),r=y._83(e,n).length,i=y._84(e,n).length,s=[{text:"All Available (Online: "+r+", Away: "+i+")",value:-1}],a=s.concat(o);if(a.length!==L.length)L=a;else for(var c=0;c<a.length;c+=1)if(a[c].text!==L[c].text||a[c].id!==L[c].id){L=a;break}return L},F=p()(1)(function(e,t,n,o,r){return{transfer:e.ifEnableTeamWork&&t,sendFile:e.ifCanUseAdvancedChatFunc,sendTranscript:e.ifCanEmailTranscript,attachTicket:e.ifTicketOpen,autoTranslate:e.ifEnableChatTranslation&&e.ifEnableChatIntegration&&n,gotoMeeting:e.ifEnableScreenSharing&&e.ifEnableGotoMeeting&&o,joinMe:e.ifEnableJoinMeScreenSharing,pciForm:e.ifEnablePCIForm,audioChat:h.p&&r.ifEnableAudioChat,videoChat:h.p&&r.ifEnableVideoChat}}),j=p()(1)(function(e,t,n,o){var r=h.k(e,t),i=e.get("status"),s=i===m.d,a=r&&!s;return{transfer:a,sendFile:a,sendTranscript:i===m.e,attachTicket:h.t(e,t),autoTranslate:a,gotoMeeting:a,joinMe:a&&n,pciForm:r,audioChat:a&&o,videoChat:a&&o}}),V=p()(1)(function(e,t,n,o,r,i,s,a,c){var u=M(e,a),l=R(i,a),d=N(i),p=D(i),f=U(s),h=O(s),g=A(e,t,n,s,a,c);return{chatId:t,transcriptVisitorInfo:u,transcriptNavigation:l,transcriptGEOInfo:d,transcriptClientInfo:p,transcriptRating:f,transcriptAgentComment:h,to:o+" <"+r+">",subject:"Chat_"+t,body:g}}),G=p()(1)(function(e,t,n,o){var r=!t&&!n&&"0"!==e&&e!==o;return{detectedVisitorLanguage:e,ifAutoPopTranslation:t,ifOpenAutoTranslation:r}}),W=p()(1)(function(e,t,n){return{secureFormServer:e,secureFormConfig:t,pciFormList:n}}),z=p()(1)(function(e,t,n,o){return{ifDepartmentEnabled:e,onlineDepartments:t,onlineDepartmentComponent:n,allAvailableAgents:o}}),q=function(e){var t=y._40(e);if(!t)return{};var r=y.F(e),i=y.r(e,t),s=i.get("id"),c=y.v(e),u=y.u(e),l=y._85(e,s),d=y._86(e,i),p=y._78(e),f=y._14(e),h=y._75(e),g=y._68(e),v=y.q(e),m=y._87(e),b=y.A(e,i.get("codePlanId")),w=y._88(e),S=y._10(e,s,t),T=y._26(e),I=y._37(e),x=y._28(e,C.k),E=a()(S,"chatInfo"),_=a()(S,"sessionInfo"),A=B(e),M=w?y._89(e).replace("https://","").replace("http://",""):y._90(e).replace("https://","").replace("http://",""),R=y._91(e,t),N=y._92(e,t),D={siteId:r,visitorId:s,authToken:h,authProvider:M,themeColor:b?b.themeColor:""},U=y._93(e,t).toString(),O=y._94(e).toString(),L=y._73(e),q=L+"?sessionId="+h+"&visitorId="+s+"&siteId="+r,H=k.f(e,i.get("ticketId").split("-T")[1]),Y=H.isWeb,X=H.attachTicketUrl,K=H.loginUrl,J=H.autoLoginUrl,Q=y._95(e),Z=y._96(e),$=V(i,t,v.get("messages"),p,f,_,E,T,c),ee={responseErrorMessage:Q,sendEmailSuccessMessage:Z,chatActionDisplay:F(I,x,y._97(e),y._98(e),y.A(e,i.get("codePlanId"))),chatActionEnable:j(i,u,y._99(e),o(e)),siteId:r,agentSession:h,ifUseMainServer:w,selectedFontSize:y._81(e),siteInfo:{visitorId:s,uploadUrl:y._73(e),downloadUrl:y._74(e),sessionId:y._75(e),siteId:r,privateMessage:1,maxFileSize:y._79(e),maxFileNum:y._80(e),sendFileUploadUrl:q},visitorId:s,chatId:t,ticketId:i.get("ticketId"),joinMeIntegrationServer:g,currentAgentId:u,transfer:z(c,l,A,d),transcriptInfo:$,pciForm:W(m,D,y._100(e)),autoTranslateInfo:G(U,R,N,O),gotoAttachTicket:function(){k.g({isWeb:Y,attachTicketUrl:X,loginUrl:K,autoLoginUrl:J})},chatGuid:i.get("chatGuid"),webrtcSignalingServiceUrl:n.i(P.o)(e)};return ee},H=function(e,t){var o=t.dispatch,r={onFontSelect:function(e){o(w.q(e)),o(T.f())},handleAttachTicket:function(e,t){o(0===t?T.M(e):T.N(e,t))},onRequestGotoMeeting:function(e){o(T.O(e))},onTransferIconClick:function(){o(T.C())},onTransferChat:function(e,t,n,r,i){"0"===e&&n>0?o(S.y(t,n,i)):"1"===e&&r>0&&o(S.z(t,r,i))},onToggleAutoTranslate:function(e,t,n){e===I._74&&o(S.A(t,n))},handleSendTranscript:function(e,t){console.log(t),o(T.P(e,t))},showResponseErrorMessage:function(e){o(w.r(e))},hideResponseErrorMessage:function(){o(w.r(""))},hideSendEmailSuccessMessage:function(){o(w.s(""))},onUpdateIfPopTranslation:function(e){o(b.b(e))},initialSendTranscriptForm:function(e,t,n){o(T.l(e,t)),o(b.c({to:n.to,subject:n.subject,body:n.body.content}))},onRequestPCIForm:function(e,t,r,i,s,a){n.i(x.a)(e,t,r).then(function(e){var t=e.token,n=e.rsaKey;o(T.Q(i,a,t)),o(b.d(s,t,n))}).catch(function(e){o(b.a(s,"Request PCI Form failed: "+e.message))})},showErrorMessage:function(e,t){o(b.a(e,t))},onRequestAudioChat:function(){var t=new E.a({url:e.webrtcSignalingServiceUrl,localVideo:document.createElement("VIDEO"),remoteVideo:document.createElement("VIDEO"),chat:e.chatGuid});t.requirePermission(!1).then(function(){o(b.e(e.chatId,t)),o(T.R(e.visitorId))})},onRequestVideoChat:function(){var t=new E.a({url:e.webrtcSignalingServiceUrl,localVideo:document.createElement("VIDEO"),remoteVideo:document.createElement("VIDEO"),chat:e.chatGuid});t.requirePermission(!0).then(function(){o(b.e(e.chatId,t)),o(T.S(e.visitorId))})}};return i()({},e,r)};t.a=n.i(l.connect)(q,null,H)(f.a)},function(e,t,n){"use strict";function o(e,t,n){if(!n)return!1;var o=u.N(e);if(!o)return!1;var r={chatActiveAgents:n.get("chatActiveAgents")},i=u._101(r,o.id);if(!i)return!1;var s=t.get("id"),a=u.U(e).some(function(e){if(e.get("id")===s)return!1;var t=e.get("audioVideoStatus"),n=e.get("audioVideoChatAgentName");return!(t!==h.b&&t!==h.c||n&&n!==o.name)});if(a)return!1;var c=t.get("audioVideoChatAgentName");return!c||c===o.name}var r=n(48),i=n.n(r),s=n(71),a=(n.n(s),n(127),n(245)),c=(n.n(a),n(353)),u=n(5),l=n(1030),d=n(772),p=n(1360),f=n(93),h=n(351),g=n(350),v=n(1359),m=n(247),C=function(e){return!!e.config.settings.siteInfo&&(e.config.settings.siteInfo.ifContactOpened&&e.config.settings.siteInfo.ifUserOpened)},y=function(e,t){var r=(t.dispatch,u._40(e));if(!r)return{};var i=u._39(e,r);if(!i)return{};var s=i.get("g2mStartUrl"),a=i.get("visitorId"),c=u.r(e,r),l=c.get("chatGuid"),d=u._87(e),p=u.F(e),g=u._75(e),v=u._24(e),y=u._25(e),b=u._71(e),w=u._102(e,i&&i.get("id")),S=i.get("ifShowNotify"),T=i.get("audioVideoChatWidth"),I=i.get("audioVideoChatStartTime"),x=o(e,i,c)?i.get("audioVideoStatus"):h.a,k=i.get("p2pChat");
n.i(f.b)(c,u.u(e))||(s=null);var E={id:i.get("id"),g2mStartUrl:s,siteId:p,visitorId:a,chatGuid:l,agentSession:g,selectedFontSize:u._81(e),messages:u._103(e,u._40(e)),typingMessage:i.get("typingMessage"),isContactOrUserOpen:C(e),chatTo:c.get("latestName"),visitorAvatar:c.get("avatar"),identityType:c.get("identityType"),secureFormServer:d,timezone:v,timezoneOffset:y,textDirectionIfRTL:b,errorMessageForChat:w,scrollTop:i.get("scrollTop"),ifShowNotify:S,audioVideoChatWidth:T,p2pChat:k,audioVideoChatStatus:x,webrtcSignalingServiceUrl:n.i(m.o)(e),audioVideoChatStartTime:I};return E},b=function(e,t){var o=t.dispatch,r={getSecureFormContent:function(t,r){var i={siteId:e.siteId,visitorId:e.visitorId,accessToken:t,authToken:e.agentSession};n.i(p.b)(e.secureFormServer,i,r).then(function(n){o(d.f(e.id,t,n))}).catch(function(e){c.a(e,"ChatContent",67,0)})},onScroll:function(e,t){o(d.g(e,t))},hideErrorMessage:function(){o(d.a(e.id,""))},clearG2mStartUrl:function(){o(d.h(e.id))},updateIfShowNotify:function(t){o(d.i(e.id,t))},onAudioAndVideoStopResize:function(t){o(d.j(e.id,t))},onAudioVideoChatAccept:function(){var t=e.audioVideoChatStatus,n=e.visitorId;t!==h.d&&t!==h.e||!function(){var r=new v.a({url:e.webrtcSignalingServiceUrl,localVideo:document.createElement("VIDEO"),remoteVideo:document.createElement("VIDEO"),chat:e.chatGuid});r.requirePermission(t===h.e).then(function(){o(d.e(e.id,r)),o(t===h.d?g.W(n):g.X(n))})}()},onAudioVideoChatRefuse:function(){var t=e.audioVideoChatStatus,n=e.visitorId;console.log("onAudioVideoChatRefuse:",t),t===h.d?o(g.Y(n)):t===h.e?o(g.Z(n)):t===h.f?o(g._0(n)):t===h.g?o(g._1(n)):t===h.b?o(g._2(n)):t===h.c&&o(g._3(n))}};return i()({},e,r)};t.a=n.i(s.connect)(y,null,b)(l.a)},function(e,t,n){"use strict";var o=n(71),r=(n.n(o),n(1354)),i=(n(127),n(1575)),s=n(352),a=n(93),c=n(72),u=n(1475),l=n(5),d=n(772),p=n(73),f=n(37),h=n(984),g=function(e){var t=l.q(e),n=l.r(e,t&&t.get("id")),o=l._37(e),r=l._28(e,s.e);return!!(n.get("identityType")!==i.a&&n.get("identityType")!==i.b&&o.ifContactOpened&&o.ifUserOpened&&r)},v=function(e){var t=l._37(e),n=l._28(e,s.f);return!(!t.ifCanBan||!n)},m=function(e){var t=l.q(e);if(!t)return!1;var n=l.r(e,t.get("id")),o=l.u(e),r=a.c(n,o),i=l._54(n.get("status"))&&a.e(n,o);return!(!r&&!i)},C=function(e){var t=l.q(e);if(!t)return!1;var n=l.r(e,t.get("id")),o=l.u(e),r=n.get("status"),i=a.u(n)&&a.c(n,o),s=l._104(r)||a.v(n,o)&&!(a.u(n)&&a.e(n,o)),c=r===p.b,u=r===p.e&&a.g(n,o);return s&&!i&&!c||u||r===p.d},y=function(e,t){var o=e.config.salesforce.integrationConfig;if(!o)return"";var r=o.instanceUrl;return r?null!=t.get("salesforceContactFields")&&t.get("salesforceContactFields").length?"https://"+r.replace("https://","").replace("http://","")+"/"+n.i(h.c)(t.get("salesforceContactFields")):null!=t.get("salesforceAccountFields")&&t.get("salesforceAccountFields").length?"https://"+r.replace("https://","").replace("http://","")+"/"+n.i(h.c)(t.get("salesforceAccountFields")):null!=t.get("salesforceLeadFields")&&t.get("salesforceLeadFields").length?"https://"+r.replace("https://","").replace("http://","")+"/"+n.i(h.c)(t.get("salesforceLeadFields")):"":""},b=function(e){return!!e.config.settings.siteInfo&&(e.config.settings.siteInfo.ifContactOpened&&e.config.settings.siteInfo.ifUserOpened)},w=function(e){var t=l._40(e);if(!t)return{};var n=l._39(e,t),o=l.r(e,n&&n.get("id")),r=y(e,o),i=n.get("id")!==o.get("chatId"),s=l._105(e,o.get("id")),a=b(e),c={isContactOrUserOpen:a,chatId:l._40(e),visitorInfo:o?{avatar:o.get("avatar"),identityType:o.get("identityType"),latestName:o.get("latestName"),country:o.get("country"),city:o.get("city"),state:o.get("state"),countryCode:o.get("countryCode"),operatingSystem:o.get("operatingSystem"),browser:o.get("browser"),zendeskUrl:o.get("zendeskUrl"),socialType:o.get("socialType"),socialUrl:o.get("socialUrl"),id:o.get("id"),prechatEmail:o.get("prechatEmail"),realVisitorId:o.get("realVisitorId"),ip:o.get("ip"),status:o.get("status")}:{},saleforceURL:r,disabledPromote:i||!s,disabledBan:i||!s,chatHeaderToolBarDisplay:{displayPromote:g(e),displayBan:v(e),displayLeave:m(e),displayCloseChat:C(e)},ifUseMainServer:l._88(e)};return c},S=function(e){return{onPromote:function(t,n){switch(n){case r.a:e(c.B(t));break;case r.b:e(c.C(t))}},onBanChat:function(t,n){e(c.D(t,n))},onLeaveChat:function(t){e(c.E(t))},onCloseChat:function(t,n,o){e(n===p.d?f.t(!0,"ManuallyInvited","Are you sure you want to cancel the invitation?",{visitorId:o}):d.k(t))}}};t.a=n.i(o.connect)(w,S)(u.a)},function(e,t,n){"use strict";var o=n(71),r=(n.n(o),n(127),n(1467)),i=n(390),s=n(72),a=n(1583),c=n(2),u=n(385),l=n(643),d=n(122),p=n(772),f=n(37),h=n(69),g=function(e){return n.i(a.a)(e)},v=function(e){return{onClickConfig:function(t){t===c.k.showUnreposiveTime?e(i.d(t,d.f)):t===c.k.showDepartment?e(i.d(t,d.g)):t===c.k.showByStatus&&e(i.d(t,d.h)),e(n.i(s.g)())},onClickPin:function(t){e(i.e(t.chatId))},onItemClick:function(t){e(i.a(t.chatId)),e(u.l()),e(l.n()),h.b("salesforceFormState"),h.b("prechatFormState"),h.b("customFields_FormState")},onAcceptChat:function(t){e(t.currentStatus===c.d.transferring?n.i(s.F)(t.visitorId):n.i(s.G)(t.visitorId)),e(i.a(t.chatId))},onRefusedChat:function(t){e(t.currentStatus===c.d.transferring?n.i(s.H)(t.visitorId):n.i(s.I)(t.visitorId)),e(p.k(t.chatId))},onWrapUp:function(t){e(i.a(t.chatId)),e(i.f(t.visitorId))},onDeleteItem:function(t){e(t.status===c.d.manuallyInvitedAndWatingVisitor?n.i(f.t)(!0,"ManuallyInvited","Are you sure you want to cancel the invitation?",{visitorId:t.visitorId}):p.k(t.chatId))},onClickArrow:function(t){e(n.i(f.u)(t))}}};t.a=n.i(o.connect)(g,v)(r.a)},,,function(e,t,n){"use strict";var o=n(71),r=(n.n(o),n(1471)),i=n(37),s=function(e){return{goToVisitors:function(){e(n.i(i.p)())}}};t.a=n.i(o.connect)(void 0,s)(r.a)},,,,function(e,t,n){"use strict";var o=n(92),r=n.n(o),i=n(3),s=n.n(i),a=n(1),c=(n.n(a),n(383)),u=n(386),l=n(354);t.a=function(){return s()(c.a,{modules:{ChatTextEditor:function(){return n.i(c.b)(new r.a(function(e,t){n.e(1).then(function(t){e(n(1358))}.bind(null,n)).catch(n.oe).catch(t)}))}},loading:u.a,retry:l.a},void 0,function(e){var t=e.ChatTextEditor;return s()(t,{})})}},,,,,,function(e,t,n){"use strict";function o(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,n=e.length;t<n;++t)c[t]=e[t],u[e.charCodeAt(t)]=t;u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63}function r(e){var t,n,o,r,i,s,a=e.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");i="="===e[a-2]?2:"="===e[a-1]?1:0,s=new l(3*a/4-i),o=i>0?a-4:a;var c=0;for(t=0,n=0;t<o;t+=4,n+=3)r=u[e.charCodeAt(t)]<<18|u[e.charCodeAt(t+1)]<<12|u[e.charCodeAt(t+2)]<<6|u[e.charCodeAt(t+3)],s[c++]=r>>16&255,s[c++]=r>>8&255,s[c++]=255&r;return 2===i?(r=u[e.charCodeAt(t)]<<2|u[e.charCodeAt(t+1)]>>4,s[c++]=255&r):1===i&&(r=u[e.charCodeAt(t)]<<10|u[e.charCodeAt(t+1)]<<4|u[e.charCodeAt(t+2)]>>2,s[c++]=r>>8&255,s[c++]=255&r),s}function i(e){return c[e>>18&63]+c[e>>12&63]+c[e>>6&63]+c[63&e]}function s(e,t,n){for(var o,r=[],s=t;s<n;s+=3)o=(e[s]<<16)+(e[s+1]<<8)+e[s+2],r.push(i(o));return r.join("")}function a(e){for(var t,n=e.length,o=n%3,r="",i=[],a=16383,u=0,l=n-o;u<l;u+=a)i.push(s(e,u,u+a>l?l:u+a));return 1===o?(t=e[n-1],r+=c[t>>2],r+=c[t<<4&63],r+="=="):2===o&&(t=(e[n-2]<<8)+e[n-1],r+=c[t>>10],r+=c[t>>4&63],r+=c[t<<2&63],r+="="),i.push(r),i.join("")}t.toByteArray=r,t.fromByteArray=a;var c=[],u=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array;o()},,,,,,,,,,function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports={autoTranslate:"AutoTranslate__autoTranslate--2MLy-",overlay:"AutoTranslate__overlay--39FoE"}},,,,,,function(e,t){e.exports={tooltip:"Default__tooltip--1H-e9"}},,,,,,,,,,,,,,,,,,,,,,,function(e,t){t.read=function(e,t,n,o,r){var i,s,a=8*r-o-1,c=(1<<a)-1,u=c>>1,l=-7,d=n?r-1:0,p=n?-1:1,f=e[t+d];for(d+=p,i=f&(1<<-l)-1,f>>=-l,l+=a;l>0;i=256*i+e[t+d],d+=p,l-=8);for(s=i&(1<<-l)-1,i>>=-l,l+=o;l>0;s=256*s+e[t+d],d+=p,l-=8);if(0===i)i=1-u;else{if(i===c)return s?NaN:(f?-1:1)*(1/0);s+=Math.pow(2,o),i-=u}return(f?-1:1)*s*Math.pow(2,i-o)},t.write=function(e,t,n,o,r,i){var s,a,c,u=8*i-r-1,l=(1<<u)-1,d=l>>1,p=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=o?0:i-1,h=o?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),t+=s+d>=1?p/c:p*Math.pow(2,1-d),t*c>=2&&(s++,c/=2),s+d>=l?(a=0,s=l):s+d>=1?(a=(t*c-1)*Math.pow(2,r),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,r),s=0));r>=8;e[n+f]=255&a,f+=h,a/=256,r-=8);for(s=s<<r|a,u+=r;u>0;e[n+f]=255&s,f+=h,s/=256,u-=8);e[n+f-h]|=128*g}},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){function o(e,t,n){t=(n?i(e,t,n):void 0===t)?1:c(s(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var u=0,l=0,d=Array(a(o/t));u<o;)d[l++]=r(e,u,u+=t);return d}var r=n(248),i=n(249),s=n(39),a=Math.ceil,c=Math.max;e.exports=o},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var o={};o.generateIdentifier=function(){return Math.random().toString(36).substr(2,10)},o.localCName=o.generateIdentifier(),o.splitLines=function(e){return e.trim().split("\n").map(function(e){return e.trim()})},o.splitSections=function(e){var t=e.split("\nm=");return t.map(function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"})},o.matchPrefix=function(e,t){return o.splitLines(e).filter(function(e){return 0===e.indexOf(t)})},o.parseCandidate=function(e){var t;t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" ");for(var n={foundation:t[0],component:t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],port:parseInt(t[5],10),type:t[7]},o=8;o<t.length;o+=2)switch(t[o]){case"raddr":n.relatedAddress=t[o+1];break;case"rport":n.relatedPort=parseInt(t[o+1],10);break;case"tcptype":n.tcpType=t[o+1]}return n},o.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),"candidate:"+t.join(" ")},o.parseRtpMap=function(e){var t=e.substr(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.numChannels=3===t.length?parseInt(t[2],10):1,n},o.writeRtpMap=function(e){var t=e.payloadType;return void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType),"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==e.numChannels?"/"+e.numChannels:"")+"\r\n"},o.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),uri:t[1]}},o.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+" "+e.uri+"\r\n"},o.parseFmtp=function(e){for(var t,n={},o=e.substr(e.indexOf(" ")+1).split(";"),r=0;r<o.length;r++)t=o[r].trim().split("="),n[t[0].trim()]=t[1];return n},o.writeFmtp=function(e){var t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var o=[];Object.keys(e.parameters).forEach(function(t){o.push(t+"="+e.parameters[t])}),t+="a=fmtp:"+n+" "+o.join(";")+"\r\n"}return t},o.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},o.writeRtcpFb=function(e){var t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach(function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"}),t},o.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},o=e.indexOf(":",t);return o>-1?(n.attribute=e.substr(t+1,o-t-1),n.value=e.substr(o+1)):n.attribute=e.substr(t+1),n},o.getDtlsParameters=function(e,t){var n=o.splitLines(e);n=n.concat(o.splitLines(t));var r=n.filter(function(e){return 0===e.indexOf("a=fingerprint:")})[0].substr(14),i={role:"auto",fingerprints:[{algorithm:r.split(" ")[0].toLowerCase(),value:r.split(" ")[1]}]};return i},o.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach(function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"}),n},o.getIceParameters=function(e,t){var n=o.splitLines(e);n=n.concat(o.splitLines(t));var r={usernameFragment:n.filter(function(e){return 0===e.indexOf("a=ice-ufrag:")})[0].substr(12),password:n.filter(function(e){return 0===e.indexOf("a=ice-pwd:")})[0].substr(10)};return r},o.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},o.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=o.splitLines(e),r=n[0].split(" "),i=3;i<r.length;i++){var s=r[i],a=o.matchPrefix(e,"a=rtpmap:"+s+" ")[0];if(a){var c=o.parseRtpMap(a),u=o.matchPrefix(e,"a=fmtp:"+s+" ");switch(c.parameters=u.length?o.parseFmtp(u[0]):{},c.rtcpFeedback=o.matchPrefix(e,"a=rtcp-fb:"+s+" ").map(o.parseRtcpFb),t.codecs.push(c),c.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(c.name.toUpperCase())}}}return o.matchPrefix(e,"a=extmap:").forEach(function(e){t.headerExtensions.push(o.parseExtmap(e))}),t},o.writeRtpDescription=function(e,t){var n="";n+="m="+e+" ",n+=t.codecs.length>0?"9":"0",n+=" UDP/TLS/RTP/SAVPF ",n+=t.codecs.map(function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType}).join(" ")+"\r\n",n+="c=IN IP4 0.0.0.0\r\n",n+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach(function(e){n+=o.writeRtpMap(e),n+=o.writeFmtp(e),n+=o.writeRtcpFb(e)});var r=0;return t.codecs.forEach(function(e){e.maxptime>r&&(r=e.maxptime)}),r>0&&(n+="a=maxptime:"+r+"\r\n"),n+="a=rtcp-mux\r\n",t.headerExtensions.forEach(function(e){n+=o.writeExtmap(e)}),n},o.parseRtpEncodingParameters=function(e){var t,n=[],r=o.parseRtpParameters(e),i=r.fecMechanisms.indexOf("RED")!==-1,s=r.fecMechanisms.indexOf("ULPFEC")!==-1,a=o.matchPrefix(e,"a=ssrc:").map(function(e){return o.parseSsrcMedia(e)}).filter(function(e){return"cname"===e.attribute}),c=a.length>0&&a[0].ssrc,u=o.matchPrefix(e,"a=ssrc-group:FID").map(function(e){var t=e.split(" ");return t.shift(),t.map(function(e){return parseInt(e,10)})});u.length>0&&u[0].length>1&&u[0][0]===c&&(t=u[0][1]),r.codecs.forEach(function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var o={ssrc:c,codecPayloadType:parseInt(e.parameters.apt,10),rtx:{ssrc:t}};n.push(o),i&&(o=JSON.parse(JSON.stringify(o)),o.fec={ssrc:t,mechanism:s?"red+ulpfec":"red"},n.push(o))}}),0===n.length&&c&&n.push({ssrc:c});var l=o.matchPrefix(e,"b=");return l.length&&(0===l[0].indexOf("b=TIAS:")?l=parseInt(l[0].substr(7),10):0===l[0].indexOf("b=AS:")&&(l=parseInt(l[0].substr(5),10)),n.forEach(function(e){e.maxBitrate=l})),n},o.parseRtcpParameters=function(e){var t={},n=o.matchPrefix(e,"a=ssrc:").map(function(e){return o.parseSsrcMedia(e)}).filter(function(e){return"cname"===e.attribute})[0];n&&(t.cname=n.value,t.ssrc=n.ssrc);var r=o.matchPrefix(e,"a=rtcp-rsize");t.reducedSize=r.length>0,t.compound=0===r.length;var i=o.matchPrefix(e,"a=rtcp-mux");return t.mux=i.length>0,t},o.parseMsid=function(e){var t,n=o.matchPrefix(e,"a=msid:");if(1===n.length)return t=n[0].substr(7).split(" "),{stream:t[0],track:t[1]};var r=o.matchPrefix(e,"a=ssrc:").map(function(e){return o.parseSsrcMedia(e)}).filter(function(e){return"msid"===e.attribute});return r.length>0?(t=r[0].value.split(" "),{stream:t[0],track:t[1]}):void 0},o.writeSessionBoilerplate=function(){return"v=0\r\no=thisisadapterortc 8169639915646943137 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},o.writeMediaSection=function(e,t,n,r){var i=o.writeRtpDescription(e.kind,t);if(i+=o.writeIceParameters(e.iceGatherer.getLocalParameters()),i+=o.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":"active"),i+="a=mid:"+e.mid+"\r\n",i+=e.rtpSender&&e.rtpReceiver?"a=sendrecv\r\n":e.rtpSender?"a=sendonly\r\n":e.rtpReceiver?"a=recvonly\r\n":"a=inactive\r\n",e.rtpSender){var s="msid:"+r.id+" "+e.rtpSender.track.id+"\r\n";i+="a="+s,i+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+s,e.sendEncodingParameters[0].rtx&&(i+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+s,i+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return i+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+o.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(i+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+o.localCName+"\r\n"),i},o.getDirection=function(e,t){for(var n=o.splitLines(e),r=0;r<n.length;r++)switch(n[r]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[r].substr(2)}return t?o.getDirection(t):"sendrecv"},o.getKind=function(e){var t=o.splitLines(e),n=t[0].split(" ");return n[0].substr(2)},o.isRejected=function(e){return"0"===e.split(" ",2)[1]},e.exports=o},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";!function(){var t=n(965),o=t.log,r=t.browserDetails;e.exports.browserDetails=r,e.exports.extractVersion=t.extractVersion,e.exports.disableLog=t.disableLog;var i=n(1876)||null,s=n(1878)||null,a=n(1880)||null,c=n(1882)||null;switch(r.browser){case"chrome":if(!i||!i.shimPeerConnection)return void o("Chrome shim is not included in this adapter release.");o("adapter.js shimming chrome."),e.exports.browserShim=i,i.shimGetUserMedia(),i.shimMediaStream(),t.shimCreateObjectURL(),i.shimSourceObject(),i.shimPeerConnection(),i.shimOnTrack(),i.shimGetSendersWithDtmf();break;case"firefox":if(!a||!a.shimPeerConnection)return void o("Firefox shim is not included in this adapter release.");o("adapter.js shimming firefox."),e.exports.browserShim=a,a.shimGetUserMedia(),t.shimCreateObjectURL(),a.shimSourceObject(),a.shimPeerConnection(),a.shimOnTrack();break;case"edge":if(!s||!s.shimPeerConnection)return void o("MS edge shim is not included in this adapter release.");o("adapter.js shimming edge."),e.exports.browserShim=s,s.shimGetUserMedia(),t.shimCreateObjectURL(),s.shimPeerConnection();break;case"safari":if(!c)return void o("Safari shim is not included in this adapter release.");o("adapter.js shimming safari."),e.exports.browserShim=c,c.shimGetUserMedia();break;default:o("Unsupported browser!")}}()},function(e,t,n){"use strict";var o=n(965).log,r=n(965).browserDetails,i={shimMediaStream:function(){window.MediaStream=window.MediaStream||window.webkitMediaStream},shimOnTrack:function(){"object"!=typeof window||!window.RTCPeerConnection||"ontrack"in window.RTCPeerConnection.prototype||Object.defineProperty(window.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){var t=this;this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly)),this.addEventListener("track",this._ontrack=e),this.addEventListener("addstream",this._ontrackpoly=function(e){e.stream.addEventListener("addtrack",function(n){var o=new Event("track");o.track=n.track,o.receiver={track:n.track},o.streams=[e.stream],t.dispatchEvent(o)}),e.stream.getTracks().forEach(function(t){var n=new Event("track");n.track=t,n.receiver={track:t},n.streams=[e.stream],this.dispatchEvent(n)}.bind(this))}.bind(this))}})},shimGetSendersWithDtmf:function(){if("object"==typeof window&&window.RTCPeerConnection&&!("getSenders"in RTCPeerConnection.prototype)&&"createDTMFSender"in RTCPeerConnection.prototype){RTCPeerConnection.prototype.getSenders=function(){return this._senders};var e=RTCPeerConnection.prototype.addStream,t=RTCPeerConnection.prototype.removeStream;RTCPeerConnection.prototype.addStream=function(t){var n=this;n._senders=n._senders||[],e.apply(n,[t]),t.getTracks().forEach(function(e){n._senders.push({track:e,get dtmf(){return void 0===this._dtmf&&("audio"===e.kind?this._dtmf=n.createDTMFSender(e):this._dtmf=null),this._dtmf}})})},RTCPeerConnection.prototype.removeStream=function(e){var n=this;n._senders=n._senders||[],t.apply(n,[e]),e.getTracks().forEach(function(e){var t=n._senders.find(function(t){return t.track===e});t&&n._senders.splice(n._senders.indexOf(t),1)})}}},shimSourceObject:function(){"object"==typeof window&&(!window.HTMLMediaElement||"srcObject"in window.HTMLMediaElement.prototype||Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return this._srcObject},set:function(e){var t=this;return this._srcObject=e,this.src&&URL.revokeObjectURL(this.src),e?(this.src=URL.createObjectURL(e),e.addEventListener("addtrack",function(){t.src&&URL.revokeObjectURL(t.src),t.src=URL.createObjectURL(e)}),void e.addEventListener("removetrack",function(){t.src&&URL.revokeObjectURL(t.src),t.src=URL.createObjectURL(e)})):void(this.src="")}}))},shimPeerConnection:function(){window.RTCPeerConnection||(window.RTCPeerConnection=function(e,t){return o("PeerConnection"),e&&e.iceTransportPolicy&&(e.iceTransports=e.iceTransportPolicy),new webkitRTCPeerConnection(e,t)},window.RTCPeerConnection.prototype=webkitRTCPeerConnection.prototype,webkitRTCPeerConnection.generateCertificate&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return webkitRTCPeerConnection.generateCertificate}}));var e=RTCPeerConnection.prototype.getStats;RTCPeerConnection.prototype.getStats=function(t,n,o){var r=this,i=arguments;if(arguments.length>0&&"function"==typeof t)return e.apply(this,arguments);if(0===e.length&&(0===arguments.length||"function"!=typeof arguments[0]))return e.apply(this,[]);var s=function(e){var t={},n=e.result();return n.forEach(function(e){var n={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach(function(t){n[t]=e.stat(t)}),t[n.id]=n}),t},a=function(e){return new Map(Object.keys(e).map(function(t){return[t,e[t]]}))};if(arguments.length>=2){var c=function(e){i[1](a(s(e)))};return e.apply(this,[c,arguments[0]])}return new Promise(function(t,n){e.apply(r,[function(e){t(a(s(e)))},n])}).then(n,o)},r.version<51&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(e){var t=RTCPeerConnection.prototype[e];RTCPeerConnection.prototype[e]=function(){var e=arguments,n=this,o=new Promise(function(o,r){t.apply(n,[e[0],o,r])});return e.length<2?o:o.then(function(){e[1].apply(null,[])},function(t){e.length>=3&&e[2].apply(null,[t])})}}),r.version<52&&["createOffer","createAnswer"].forEach(function(e){var t=RTCPeerConnection.prototype[e];RTCPeerConnection.prototype[e]=function(){var e=this;if(arguments.length<1||1===arguments.length&&"object"==typeof arguments[0]){var n=1===arguments.length?arguments[0]:void 0;return new Promise(function(o,r){t.apply(e,[o,r,n])})}return t.apply(this,arguments)}}),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(e){var t=RTCPeerConnection.prototype[e];RTCPeerConnection.prototype[e]=function(){return arguments[0]=new("addIceCandidate"===e?RTCIceCandidate:RTCSessionDescription)(arguments[0]),t.apply(this,arguments)}});var t=RTCPeerConnection.prototype.addIceCandidate;RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?t.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}};e.exports={shimMediaStream:i.shimMediaStream,shimOnTrack:i.shimOnTrack,shimGetSendersWithDtmf:i.shimGetSendersWithDtmf,shimSourceObject:i.shimSourceObject,shimPeerConnection:i.shimPeerConnection,shimGetUserMedia:n(1877)}},function(e,t,n){"use strict";var o=n(965).log,r=n(965).browserDetails;e.exports=function(){var e=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach(function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var o="object"==typeof e[n]?e[n]:{ideal:e[n]};void 0!==o.exact&&"number"==typeof o.exact&&(o.min=o.max=o.exact);var r=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==o.ideal){t.optional=t.optional||[];var i={};"number"==typeof o.ideal?(i[r("min",n)]=o.ideal,t.optional.push(i),i={},i[r("max",n)]=o.ideal,t.optional.push(i)):(i[r("",n)]=o.ideal,t.optional.push(i))}void 0!==o.exact&&"number"!=typeof o.exact?(t.mandatory=t.mandatory||{},t.mandatory[r("",n)]=o.exact):["min","max"].forEach(function(e){void 0!==o[e]&&(t.mandatory=t.mandatory||{},t.mandatory[r(e,n)]=o[e])})}}),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},t=function(t,n){if(t=JSON.parse(JSON.stringify(t)),t&&t.audio&&(t.audio=e(t.audio)),t&&"object"==typeof t.video){var i=t.video.facingMode;i=i&&("object"==typeof i?i:{ideal:i});var s=r.version<59;if(i&&("user"===i.exact||"environment"===i.exact||"user"===i.ideal||"environment"===i.ideal)&&(!navigator.mediaDevices.getSupportedConstraints||!navigator.mediaDevices.getSupportedConstraints().facingMode||s)&&(delete t.video.facingMode,"environment"===i.exact||"environment"===i.ideal))return navigator.mediaDevices.enumerateDevices().then(function(r){r=r.filter(function(e){return"videoinput"===e.kind});var s=r.find(function(e){return e.label.toLowerCase().indexOf("back")!==-1})||r.length&&r[r.length-1];return s&&(t.video.deviceId=i.exact?{exact:s.deviceId}:{ideal:s.deviceId}),t.video=e(t.video),o("chrome: "+JSON.stringify(t)),n(t)});t.video=e(t.video)}return o("chrome: "+JSON.stringify(t)),n(t)},n=function(e){return{name:{PermissionDeniedError:"NotAllowedError",ConstraintNotSatisfiedError:"OverconstrainedError"}[e.name]||e.name,message:e.message,constraint:e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}},i=function(e,o,r){t(e,function(e){navigator.webkitGetUserMedia(e,o,function(e){r(n(e))})})};navigator.getUserMedia=i;var s=function(e){return new Promise(function(t,n){navigator.getUserMedia(e,t,n)})};if(navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:s,enumerateDevices:function(){return new Promise(function(e){var t={audio:"audioinput",video:"videoinput"};return MediaStreamTrack.getSources(function(n){e(n.map(function(e){return{label:e.label,kind:t[e.kind],deviceId:e.id,groupId:""}}))})})},getSupportedConstraints:function(){return{deviceId:!0,echoCancellation:!0,facingMode:!0,frameRate:!0,height:!0,width:!0}}}),navigator.mediaDevices.getUserMedia){var a=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(e){return t(e,function(e){return a(e).then(function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach(function(e){e.stop()}),new DOMException("","NotFoundError");return t},function(e){return Promise.reject(n(e))})})}}else navigator.mediaDevices.getUserMedia=function(e){return s(e)};"undefined"==typeof navigator.mediaDevices.addEventListener&&(navigator.mediaDevices.addEventListener=function(){o("Dummy mediaDevices.addEventListener called.")}),"undefined"==typeof navigator.mediaDevices.removeEventListener&&(navigator.mediaDevices.removeEventListener=function(){o("Dummy mediaDevices.removeEventListener called.")})}},function(e,t,n){"use strict";function o(e){var t=e.filter(function(e){return"audio"===e.kind}),n=e.filter(function(e){return"video"===e.kind});for(e=[];t.length||n.length;)t.length&&e.push(t.shift()),n.length&&e.push(n.shift());return e}function r(e){var t=!1;return e=JSON.parse(JSON.stringify(e)),e.filter(function(e){if(e&&(e.urls||e.url)){var n=e.urls||e.url,o="string"==typeof n;return o&&(n=[n]),n=n.filter(function(e){var n=0===e.indexOf("turn:")&&e.indexOf("transport=udp")!==-1&&e.indexOf("turn:[")===-1&&!t;return n?(t=!0,!0):0===e.indexOf("stun:")&&s.version>=14393}),delete e.url,e.urls=o?n[0]:n,!!n.length}return!1})}var i=n(1850),s=n(965).browserDetails,a={shimPeerConnection:function(){if(window.RTCIceGatherer&&(window.RTCIceCandidate||(window.RTCIceCandidate=function(e){return e}),window.RTCSessionDescription||(window.RTCSessionDescription=function(e){return e}),s.version<15025)){var e=Object.getOwnPropertyDescriptor(MediaStreamTrack.prototype,"enabled");Object.defineProperty(MediaStreamTrack.prototype,"enabled",{set:function(t){e.set.call(this,t);var n=new Event("enabled");n.enabled=t,this.dispatchEvent(n)}})}window.RTCPeerConnection=function(e){var t=this,n=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(e){t[e]=n[e].bind(n)}),this.onicecandidate=null,this.onaddstream=null,this.ontrack=null,this.onremovestream=null,this.onsignalingstatechange=null,this.oniceconnectionstatechange=null,this.onicegatheringstatechange=null,this.onnegotiationneeded=null,this.ondatachannel=null,this.localStreams=[],this.remoteStreams=[],this.getLocalStreams=function(){return t.localStreams},this.getRemoteStreams=function(){return t.remoteStreams},this.localDescription=new RTCSessionDescription({type:"",sdp:""}),this.remoteDescription=new RTCSessionDescription({type:"",sdp:""}),this.signalingState="stable",this.iceConnectionState="new",this.iceGatheringState="new",this.iceOptions={gatherPolicy:"all",iceServers:[]},e&&e.iceTransportPolicy)switch(e.iceTransportPolicy){case"all":case"relay":this.iceOptions.gatherPolicy=e.iceTransportPolicy}this.usingBundle=e&&"max-bundle"===e.bundlePolicy,e&&e.iceServers&&(this.iceOptions.iceServers=r(e.iceServers)),this._config=e,this.transceivers=[],this._localIceCandidatesBuffer=[]},window.RTCPeerConnection.prototype._emitGatheringStateChange=function(){var e=new Event("icegatheringstatechange");this.dispatchEvent(e),null!==this.onicegatheringstatechange&&this.onicegatheringstatechange(e)},window.RTCPeerConnection.prototype._emitBufferedCandidates=function(){var e=this,t=i.splitSections(e.localDescription.sdp);this._localIceCandidatesBuffer.forEach(function(n){var o=!n.candidate||0===Object.keys(n.candidate).length;if(o)for(var r=1;r<t.length;r++)t[r].indexOf("\r\na=end-of-candidates\r\n")===-1&&(t[r]+="a=end-of-candidates\r\n");else t[n.candidate.sdpMLineIndex+1]+="a="+n.candidate.candidate+"\r\n";if(e.localDescription.sdp=t.join(""),e.dispatchEvent(n),null!==e.onicecandidate&&e.onicecandidate(n),!n.candidate&&"complete"!==e.iceGatheringState){var i=e.transceivers.every(function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state});i&&"complete"!==e.iceGatheringStateChange&&(e.iceGatheringState="complete",e._emitGatheringStateChange())}}),this._localIceCandidatesBuffer=[]},window.RTCPeerConnection.prototype.getConfiguration=function(){return this._config},window.RTCPeerConnection.prototype.addStream=function(e){if(s.version>=15025)this.localStreams.push(e);else{var t=e.clone();e.getTracks().forEach(function(e,n){var o=t.getTracks()[n];e.addEventListener("enabled",function(e){o.enabled=e.enabled})}),this.localStreams.push(t)}this._maybeFireNegotiationNeeded()},window.RTCPeerConnection.prototype.removeStream=function(e){var t=this.localStreams.indexOf(e);t>-1&&(this.localStreams.splice(t,1),this._maybeFireNegotiationNeeded())},window.RTCPeerConnection.prototype.getSenders=function(){return this.transceivers.filter(function(e){return!!e.rtpSender}).map(function(e){return e.rtpSender})},window.RTCPeerConnection.prototype.getReceivers=function(){return this.transceivers.filter(function(e){return!!e.rtpReceiver}).map(function(e){return e.rtpReceiver})},window.RTCPeerConnection.prototype._getCommonCapabilities=function(e,t){var n={codecs:[],headerExtensions:[],fecMechanisms:[]},o=function(e,t){e=parseInt(e,10);for(var n=0;n<t.length;n++)if(t[n].payloadType===e||t[n].preferredPayloadType===e)return t[n]},r=function(e,t,n,r){var i=o(e.parameters.apt,n),s=o(t.parameters.apt,r);return i&&s&&i.name.toLowerCase()===s.name.toLowerCase()};return e.codecs.forEach(function(o){for(var i=0;i<t.codecs.length;i++){var s=t.codecs[i];
if(o.name.toLowerCase()===s.name.toLowerCase()&&o.clockRate===s.clockRate){if("rtx"===o.name.toLowerCase()&&o.parameters&&s.parameters.apt&&!r(o,s,e.codecs,t.codecs))continue;s=JSON.parse(JSON.stringify(s)),s.numChannels=Math.min(o.numChannels,s.numChannels),n.codecs.push(s),s.rtcpFeedback=s.rtcpFeedback.filter(function(e){for(var t=0;t<o.rtcpFeedback.length;t++)if(o.rtcpFeedback[t].type===e.type&&o.rtcpFeedback[t].parameter===e.parameter)return!0;return!1});break}}}),e.headerExtensions.forEach(function(e){for(var o=0;o<t.headerExtensions.length;o++){var r=t.headerExtensions[o];if(e.uri===r.uri){n.headerExtensions.push(r);break}}}),n},window.RTCPeerConnection.prototype._createIceAndDtlsTransports=function(e,t){var n=this,o=new RTCIceGatherer(n.iceOptions),r=new RTCIceTransport(o);o.onlocalcandidate=function(s){var a=new Event("icecandidate");a.candidate={sdpMid:e,sdpMLineIndex:t};var c=s.candidate,u=!c||0===Object.keys(c).length;u?void 0===o.state&&(o.state="completed"):(c.component="RTCP"===r.component?2:1,a.candidate.candidate=i.writeCandidate(c));var l=i.splitSections(n.localDescription.sdp);u?l[a.candidate.sdpMLineIndex+1]+="a=end-of-candidates\r\n":l[a.candidate.sdpMLineIndex+1]+="a="+a.candidate.candidate+"\r\n",n.localDescription.sdp=l.join("");var d=n._pendingOffer?n._pendingOffer:n.transceivers,p=d.every(function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state});switch(n.iceGatheringState){case"new":u||n._localIceCandidatesBuffer.push(a),u&&p&&n._localIceCandidatesBuffer.push(new Event("icecandidate"));break;case"gathering":n._emitBufferedCandidates(),u||(n.dispatchEvent(a),null!==n.onicecandidate&&n.onicecandidate(a)),p&&(n.dispatchEvent(new Event("icecandidate")),null!==n.onicecandidate&&n.onicecandidate(new Event("icecandidate")),n.iceGatheringState="complete",n._emitGatheringStateChange());break;case"complete":}},r.onicestatechange=function(){n._updateConnectionState()};var s=new RTCDtlsTransport(r);return s.ondtlsstatechange=function(){n._updateConnectionState()},s.onerror=function(){s.state="failed",n._updateConnectionState()},{iceGatherer:o,iceTransport:r,dtlsTransport:s}},window.RTCPeerConnection.prototype._transceive=function(e,t,n){var o=this._getCommonCapabilities(e.localCapabilities,e.remoteCapabilities);t&&e.rtpSender&&(o.encodings=e.sendEncodingParameters,o.rtcp={cname:i.localCName},e.recvEncodingParameters.length&&(o.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(o)),n&&e.rtpReceiver&&("video"===e.kind&&e.recvEncodingParameters&&s.version<15019&&e.recvEncodingParameters.forEach(function(e){delete e.rtx}),o.encodings=e.recvEncodingParameters,o.rtcp={cname:e.cname},e.sendEncodingParameters.length&&(o.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(o))},window.RTCPeerConnection.prototype.setLocalDescription=function(e){var t,n,o=this;if("offer"===e.type)this._pendingOffer&&(t=i.splitSections(e.sdp),n=t.shift(),t.forEach(function(e,t){var n=i.parseRtpParameters(e);o._pendingOffer[t].localCapabilities=n}),this.transceivers=this._pendingOffer,delete this._pendingOffer);else if("answer"===e.type){t=i.splitSections(o.remoteDescription.sdp),n=t.shift();var r=i.matchPrefix(n,"a=ice-lite").length>0;t.forEach(function(e,t){var s=o.transceivers[t],a=s.iceGatherer,c=s.iceTransport,u=s.dtlsTransport,l=s.localCapabilities,d=s.remoteCapabilities,p="0"===e.split("\n",1)[0].split(" ",2)[1];if(!p&&!s.isDatachannel){var f=i.getIceParameters(e,n),h=i.getDtlsParameters(e,n);r&&(h.role="server"),o.usingBundle&&0!==t||(c.start(a,f,r?"controlling":"controlled"),u.start(h));var g=o._getCommonCapabilities(l,d);o._transceive(s,g.codecs.length>0,!1)}})}switch(this.localDescription={type:e.type,sdp:e.sdp},e.type){case"offer":this._updateSignalingState("have-local-offer");break;case"answer":this._updateSignalingState("stable");break;default:throw new TypeError('unsupported type "'+e.type+'"')}var s=arguments.length>1&&"function"==typeof arguments[1];if(s){var a=arguments[1];window.setTimeout(function(){a(),"new"===o.iceGatheringState&&(o.iceGatheringState="gathering",o._emitGatheringStateChange()),o._emitBufferedCandidates()},0)}var c=Promise.resolve();return c.then(function(){s||("new"===o.iceGatheringState&&(o.iceGatheringState="gathering",o._emitGatheringStateChange()),window.setTimeout(o._emitBufferedCandidates.bind(o),500))}),c},window.RTCPeerConnection.prototype.setRemoteDescription=function(e){var t=this,n=new MediaStream,o=[],r=i.splitSections(e.sdp),a=r.shift(),c=i.matchPrefix(a,"a=ice-lite").length>0;switch(this.usingBundle=i.matchPrefix(a,"a=group:BUNDLE ").length>0,r.forEach(function(r,u){var l=i.splitLines(r),d=l[0].substr(2).split(" "),p=d[0],f="0"===d[1],h=i.getDirection(r,a),g=i.matchPrefix(r,"a=mid:");if(g=g.length?g[0].substr(6):i.generateIdentifier(),"application"===p&&"DTLS/SCTP"===d[2])return void(t.transceivers[u]={mid:g,isDatachannel:!0});var v,m,C,y,b,w,S,T,I,x,k,E,P=i.parseRtpParameters(r);f||(k=i.getIceParameters(r,a),E=i.getDtlsParameters(r,a),E.role="client"),T=i.parseRtpEncodingParameters(r);var _,A=i.matchPrefix(r,"a=ssrc:").map(function(e){return i.parseSsrcMedia(e)}).filter(function(e){return"cname"===e.attribute})[0];A&&(_=A.value);var M=i.matchPrefix(r,"a=end-of-candidates",a).length>0,R=i.matchPrefix(r,"a=candidate:").map(function(e){return i.parseCandidate(e)}).filter(function(e){return"1"===e.component});if("offer"!==e.type||f)"answer"!==e.type||f||(v=t.transceivers[u],m=v.iceGatherer,C=v.iceTransport,y=v.dtlsTransport,b=v.rtpSender,w=v.rtpReceiver,S=v.sendEncodingParameters,I=v.localCapabilities,t.transceivers[u].recvEncodingParameters=T,t.transceivers[u].remoteCapabilities=P,t.transceivers[u].cname=_,(c||M)&&R.length&&C.setRemoteCandidates(R),t.usingBundle&&0!==u||(C.start(m,k,"controlling"),y.start(E)),t._transceive(v,"sendrecv"===h||"recvonly"===h,"sendrecv"===h||"sendonly"===h),!w||"sendrecv"!==h&&"sendonly"!==h?delete v.rtpReceiver:(x=w.track,o.push([x,w]),n.addTrack(x)));else{var N=t.usingBundle&&u>0?{iceGatherer:t.transceivers[0].iceGatherer,iceTransport:t.transceivers[0].iceTransport,dtlsTransport:t.transceivers[0].dtlsTransport}:t._createIceAndDtlsTransports(g,u);if(!M||t.usingBundle&&0!==u||N.iceTransport.setRemoteCandidates(R),I=RTCRtpReceiver.getCapabilities(p),s.version<15019&&(I.codecs=I.codecs.filter(function(e){return"rtx"!==e.name})),S=[{ssrc:1001*(2*u+2)}],"sendrecv"!==h&&"sendonly"!==h||(w=new RTCRtpReceiver(N.dtlsTransport,p),x=w.track,o.push([x,w]),n.addTrack(x)),t.localStreams.length>0&&t.localStreams[0].getTracks().length>=u){var D;"audio"===p?D=t.localStreams[0].getAudioTracks()[0]:"video"===p&&(D=t.localStreams[0].getVideoTracks()[0]),D&&(s.version>=15019&&"video"===p&&(S[0].rtx={ssrc:1001*(2*u+2)+1}),b=new RTCRtpSender(D,N.dtlsTransport))}t.transceivers[u]={iceGatherer:N.iceGatherer,iceTransport:N.iceTransport,dtlsTransport:N.dtlsTransport,localCapabilities:I,remoteCapabilities:P,rtpSender:b,rtpReceiver:w,kind:p,mid:g,cname:_,sendEncodingParameters:S,recvEncodingParameters:T},t._transceive(t.transceivers[u],!1,"sendrecv"===h||"sendonly"===h)}}),this.remoteDescription={type:e.type,sdp:e.sdp},e.type){case"offer":this._updateSignalingState("have-remote-offer");break;case"answer":this._updateSignalingState("stable");break;default:throw new TypeError('unsupported type "'+e.type+'"')}return n.getTracks().length&&(t.remoteStreams.push(n),window.setTimeout(function(){var e=new Event("addstream");e.stream=n,t.dispatchEvent(e),null!==t.onaddstream&&window.setTimeout(function(){t.onaddstream(e)},0),o.forEach(function(e){var o=e[0],r=e[1],i=new Event("track");i.track=o,i.receiver=r,i.streams=[n],t.dispatchEvent(i),null!==t.ontrack&&window.setTimeout(function(){t.ontrack(i)},0)})},0)),arguments.length>1&&"function"==typeof arguments[1]&&window.setTimeout(arguments[1],0),Promise.resolve()},window.RTCPeerConnection.prototype.close=function(){this.transceivers.forEach(function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()}),this._updateSignalingState("closed")},window.RTCPeerConnection.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this.dispatchEvent(t),null!==this.onsignalingstatechange&&this.onsignalingstatechange(t)},window.RTCPeerConnection.prototype._maybeFireNegotiationNeeded=function(){var e=new Event("negotiationneeded");this.dispatchEvent(e),null!==this.onnegotiationneeded&&this.onnegotiationneeded(e)},window.RTCPeerConnection.prototype._updateConnectionState=function(){var e,t=this,n={new:0,closed:0,connecting:0,checking:0,connected:0,completed:0,failed:0};if(this.transceivers.forEach(function(e){n[e.iceTransport.state]++,n[e.dtlsTransport.state]++}),n.connected+=n.completed,e="new",n.failed>0?e="failed":n.connecting>0||n.checking>0?e="connecting":n.disconnected>0?e="disconnected":n.new>0?e="new":(n.connected>0||n.completed>0)&&(e="connected"),e!==t.iceConnectionState){t.iceConnectionState=e;var o=new Event("iceconnectionstatechange");this.dispatchEvent(o),null!==this.oniceconnectionstatechange&&this.oniceconnectionstatechange(o)}},window.RTCPeerConnection.prototype.createOffer=function(){var e=this;if(this._pendingOffer)throw new Error("createOffer called while there is a pending offer.");var t;1===arguments.length&&"function"!=typeof arguments[0]?t=arguments[0]:3===arguments.length&&(t=arguments[2]);var n=[],r=0,a=0;if(this.localStreams.length&&(r=this.localStreams[0].getAudioTracks().length,a=this.localStreams[0].getVideoTracks().length),t){if(t.mandatory||t.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==t.offerToReceiveAudio&&(r=t.offerToReceiveAudio),void 0!==t.offerToReceiveVideo&&(a=t.offerToReceiveVideo)}for(this.localStreams.length&&this.localStreams[0].getTracks().forEach(function(e){n.push({kind:e.kind,track:e,wantReceive:"audio"===e.kind?r>0:a>0}),"audio"===e.kind?r--:"video"===e.kind&&a--});r>0||a>0;)r>0&&(n.push({kind:"audio",wantReceive:!0}),r--),a>0&&(n.push({kind:"video",wantReceive:!0}),a--);n=o(n);var c=i.writeSessionBoilerplate(),u=[];n.forEach(function(t,n){var o=t.track,r=t.kind,a=i.generateIdentifier(),c=e.usingBundle&&n>0?{iceGatherer:u[0].iceGatherer,iceTransport:u[0].iceTransport,dtlsTransport:u[0].dtlsTransport}:e._createIceAndDtlsTransports(a,n),l=RTCRtpSender.getCapabilities(r);s.version<15019&&(l.codecs=l.codecs.filter(function(e){return"rtx"!==e.name})),l.codecs.forEach(function(e){"H264"===e.name&&void 0===e.parameters["level-asymmetry-allowed"]&&(e.parameters["level-asymmetry-allowed"]="1")});var d,p,f=[{ssrc:1001*(2*n+1)}];o&&(s.version>=15019&&"video"===r&&(f[0].rtx={ssrc:1001*(2*n+1)+1}),d=new RTCRtpSender(o,c.dtlsTransport)),t.wantReceive&&(p=new RTCRtpReceiver(c.dtlsTransport,r)),u[n]={iceGatherer:c.iceGatherer,iceTransport:c.iceTransport,dtlsTransport:c.dtlsTransport,localCapabilities:l,remoteCapabilities:null,rtpSender:d,rtpReceiver:p,kind:r,mid:a,sendEncodingParameters:f,recvEncodingParameters:null}}),this.usingBundle&&(c+="a=group:BUNDLE "+u.map(function(e){return e.mid}).join(" ")+"\r\n"),n.forEach(function(t,n){var o=u[n];c+=i.writeMediaSection(o,o.localCapabilities,"offer",e.localStreams[0])}),this._pendingOffer=u;var l=new RTCSessionDescription({type:"offer",sdp:c});return arguments.length&&"function"==typeof arguments[0]&&window.setTimeout(arguments[0],0,l),Promise.resolve(l)},window.RTCPeerConnection.prototype.createAnswer=function(){var e=this,t=i.writeSessionBoilerplate();this.usingBundle&&(t+="a=group:BUNDLE "+this.transceivers.map(function(e){return e.mid}).join(" ")+"\r\n"),this.transceivers.forEach(function(n){if(n.isDatachannel)return void(t+="m=application 0 DTLS/SCTP 5000\r\nc=IN IP4 0.0.0.0\r\na=mid:"+n.mid+"\r\n");var o=e._getCommonCapabilities(n.localCapabilities,n.remoteCapabilities);t+=i.writeMediaSection(n,o,"answer",e.localStreams[0])});var n=new RTCSessionDescription({type:"answer",sdp:t});return arguments.length&&"function"==typeof arguments[0]&&window.setTimeout(arguments[0],0,n),Promise.resolve(n)},window.RTCPeerConnection.prototype.addIceCandidate=function(e){if(e){var t=e.sdpMLineIndex;if(e.sdpMid)for(var n=0;n<this.transceivers.length;n++)if(this.transceivers[n].mid===e.sdpMid){t=n;break}var o=this.transceivers[t];if(o){var r=Object.keys(e.candidate).length>0?i.parseCandidate(e.candidate):{};if("tcp"===r.protocol&&(0===r.port||9===r.port))return Promise.resolve();if("1"!==r.component)return Promise.resolve();o.iceTransport.addRemoteCandidate(r);var s=i.splitSections(this.remoteDescription.sdp);s[t+1]+=(r.type?e.candidate.trim():"a=end-of-candidates")+"\r\n",this.remoteDescription.sdp=s.join("")}}else for(var a=0;a<this.transceivers.length;a++)if(this.transceivers[a].iceTransport.addRemoteCandidate({}),this.usingBundle)return Promise.resolve();return arguments.length>1&&"function"==typeof arguments[1]&&window.setTimeout(arguments[1],0),Promise.resolve()},window.RTCPeerConnection.prototype.getStats=function(){var e=[];this.transceivers.forEach(function(t){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(n){t[n]&&e.push(t[n].getStats())})});var t=arguments.length>1&&"function"==typeof arguments[1]&&arguments[1],n=function(e){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};return new Promise(function(o){var r=new Map;Promise.all(e).then(function(e){e.forEach(function(e){Object.keys(e).forEach(function(t){e[t].type=n(e[t]),r.set(t,e[t])})}),t&&window.setTimeout(t,0,r),o(r)})})}}};e.exports={shimPeerConnection:a.shimPeerConnection,shimGetUserMedia:n(1879)}},function(e,t,n){"use strict";e.exports=function(){var e=function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString:function(){return this.name}}},t=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(n){return t(n).catch(function(t){return Promise.reject(e(t))})}}},function(e,t,n){"use strict";var o=n(965).browserDetails,r={shimOnTrack:function(){"object"!=typeof window||!window.RTCPeerConnection||"ontrack"in window.RTCPeerConnection.prototype||Object.defineProperty(window.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly)),this.addEventListener("track",this._ontrack=e),this.addEventListener("addstream",this._ontrackpoly=function(e){e.stream.getTracks().forEach(function(t){var n=new Event("track");n.track=t,n.receiver={track:t},n.streams=[e.stream],this.dispatchEvent(n)}.bind(this))}.bind(this))}})},shimSourceObject:function(){"object"==typeof window&&(!window.HTMLMediaElement||"srcObject"in window.HTMLMediaElement.prototype||Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.mozSrcObject},set:function(e){this.mozSrcObject=e}}))},shimPeerConnection:function(){if("object"==typeof window&&(window.RTCPeerConnection||window.mozRTCPeerConnection)){window.RTCPeerConnection||(window.RTCPeerConnection=function(e,t){if(o.version<38&&e&&e.iceServers){for(var n=[],r=0;r<e.iceServers.length;r++){var i=e.iceServers[r];if(i.hasOwnProperty("urls"))for(var s=0;s<i.urls.length;s++){var a={url:i.urls[s]};0===i.urls[s].indexOf("turn")&&(a.username=i.username,a.credential=i.credential),n.push(a)}else n.push(e.iceServers[r])}e.iceServers=n}return new mozRTCPeerConnection(e,t)},window.RTCPeerConnection.prototype=mozRTCPeerConnection.prototype,mozRTCPeerConnection.generateCertificate&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return mozRTCPeerConnection.generateCertificate}}),window.RTCSessionDescription=mozRTCSessionDescription,window.RTCIceCandidate=mozRTCIceCandidate),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(e){var t=RTCPeerConnection.prototype[e];RTCPeerConnection.prototype[e]=function(){return arguments[0]=new("addIceCandidate"===e?RTCIceCandidate:RTCSessionDescription)(arguments[0]),t.apply(this,arguments)}});var e=RTCPeerConnection.prototype.addIceCandidate;RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?e.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())};var t=function(e){var t=new Map;return Object.keys(e).forEach(function(n){t.set(n,e[n]),t[n]=e[n]}),t},n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=RTCPeerConnection.prototype.getStats;RTCPeerConnection.prototype.getStats=function(e,i,s){return r.apply(this,[e||null]).then(function(e){if(o.version<48&&(e=t(e)),o.version<53&&!i)try{e.forEach(function(e){e.type=n[e.type]||e.type})}catch(t){if("TypeError"!==t.name)throw t;e.forEach(function(t,o){e.set(o,Object.assign({},t,{type:n[t.type]||t.type}))})}return e}).then(i,s)}}}};e.exports={shimOnTrack:r.shimOnTrack,shimSourceObject:r.shimSourceObject,shimPeerConnection:r.shimPeerConnection,shimGetUserMedia:n(1881)}},function(e,t,n){"use strict";var o=n(965).log,r=n(965).browserDetails;e.exports=function(){var e=function(e){return{name:{SecurityError:"NotAllowedError",PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:{"The operation is insecure.":"The request is not allowed by the user agent or the platform in the current context."}[e.message]||e.message,constraint:e.constraint,toString:function(){return this.name+(this.message&&": ")+this.message}}},t=function(t,n,i){var s=function(e){if("object"!=typeof e||e.require)return e;var t=[];return Object.keys(e).forEach(function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var o=e[n]="object"==typeof e[n]?e[n]:{ideal:e[n]};if(void 0===o.min&&void 0===o.max&&void 0===o.exact||t.push(n),void 0!==o.exact&&("number"==typeof o.exact?o.min=o.max=o.exact:e[n]=o.exact,delete o.exact),void 0!==o.ideal){e.advanced=e.advanced||[];var r={};"number"==typeof o.ideal?r[n]={min:o.ideal,max:o.ideal}:r[n]=o.ideal,e.advanced.push(r),delete o.ideal,Object.keys(o).length||delete e[n]}}}),t.length&&(e.require=t),e};return t=JSON.parse(JSON.stringify(t)),r.version<38&&(o("spec: "+JSON.stringify(t)),t.audio&&(t.audio=s(t.audio)),t.video&&(t.video=s(t.video)),o("ff37: "+JSON.stringify(t))),navigator.mozGetUserMedia(t,n,function(t){i(e(t))})},n=function(e){return new Promise(function(n,o){t(e,n,o)})};if(navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:n,addEventListener:function(){},removeEventListener:function(){}}),navigator.mediaDevices.enumerateDevices=navigator.mediaDevices.enumerateDevices||function(){return new Promise(function(e){var t=[{kind:"audioinput",deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",label:"",groupId:""}];e(t)})},r.version<41){var i=navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);navigator.mediaDevices.enumerateDevices=function(){return i().then(void 0,function(e){if("NotFoundError"===e.name)return[];throw e})}}if(r.version<49){var s=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(t){return s(t).then(function(e){if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach(function(e){e.stop()}),new DOMException("The object can not be found here.","NotFoundError");return e},function(t){return Promise.reject(e(t))})}}navigator.getUserMedia=function(e,n,o){return r.version<44?t(e,n,o):(console.warn("navigator.getUserMedia has been replaced by navigator.mediaDevices.getUserMedia"),void navigator.mediaDevices.getUserMedia(e).then(n,o))}}},function(e,t,n){"use strict";var o={shimGetUserMedia:function(){navigator.getUserMedia||(navigator.webkitGetUserMedia?navigator.getUserMedia=navigator.webkitGetUserMedia.bind(navigator):navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&(navigator.getUserMedia=function(e,t,n){navigator.mediaDevices.getUserMedia(e).then(t,n)}.bind(navigator)))}};e.exports={shimGetUserMedia:o.shimGetUserMedia}}]));
//# sourceMappingURL=chat.54b6b.js.map