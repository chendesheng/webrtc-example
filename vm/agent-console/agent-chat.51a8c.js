/*
 * version: 1.0.0
 * compiled: 2017-03-28 20:59:49.924
 *
 * Notice:
 * This file contains works from many authors under various (but compatible)
 * licenses. Please visit https://hosted.comm100.com/livechat/newvm/credits.html
 * for more information.
 */
webpackJsonp([3,11],{1004:function(e,t,n){"use strict";function o(e,t){var n=_.O(e);return t.get("messages").map(function(t){return t.map(function(t,o){var a=p()({},t,{id:t.agentId+"_"+o,type:t.agentId===n.id?S.c:S.a,sender:_._82(e,t.agentId).name});return a})})}function a(e,t,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(v()(n))return T.content;var i=a?n.id:-n.id;if(T.content=p()({},t),m()(n)){T.content.id=i,T.content.chatTo=n.name;var r=_._45(e,i);r&&(T.content.messages=o(e,r),T.content.scrollTop=r.get("scrollTop"),T.content.errorMessageForChat=r.get("errorMessageForChat"))}return T.content}function i(e){var t={id:-1,selectedFontSize:b.a,chatTo:"",typingMessage:"",scrollTop:-1,messages:C.a.List(),textDirectionIfRTL:_._76(e),errorMessageForChat:"",timezone:_._27(e),timezoneOffset:_._28(e)},n=_._43(e).toString().split("_");if(n.length>1){var o=_._82(e,f()(n[1]));return a(e,t,o)}if("0"!==n[0]){var i=_.h(e,Math.abs(n[0]));return a(e,t,i,!1)}return a(e,t,{id:N.m,name:"All Available"},!1)}function r(e,t){return _._83(e)+"?siteId="+_.F(e)+"&operatorId="+t}function s(e){var t=_._43(e).toString(),n=t.split("_"),o=n.length>1?_._82(e,f()(n[1])):_.h(e,Math.abs(n[0]));if(!v()(T.header)&&v()(o)&&(1!==n.length||Math.abs(n[0])!==N.m)){var a={agent:p()({},T.header.agent)};return a.agent.ifDisableKickOff=!0,a.agent.ifDisableSetAway=!0,a}var i=f()(n.length>1?n[1]:n[0]);return T.header={agent:{id:i,ifCurrentAgent:i===_.u(e),avatarLink:n.length>1?r(e,n[1]):"",name:v()(o)?"All Available":o.name,ifDisableKickOff:!_._31(e,A.h)||1===n.length||n.length>1&&_._82(e,i).status===N.a.offline,ifDisableSetAway:!_._31(e,A.i)||1===n.length||n.length>1&&_._82(e,i).status!==N.a.online}},T.header}var l=n(4),p=n.n(l),u=n(56),d=n.n(u),c=n(176),f=n.n(c),h=n(388),m=n.n(h),g=n(58),v=n.n(g),y=n(127),C=n.n(y),b=n(379),_=n(5),S=n(245),N=n(2),A=n(349);t.f=i,t.g=s,n.d(t,"a",function(){return w}),n.d(t,"c",function(){return P}),n.d(t,"d",function(){return k}),n.d(t,"e",function(){return M}),n.d(t,"b",function(){return I});var T={},w=function(e){var t=_._43(e).toString().split("_");return t.length>1?[!0,f()(t[1])]:[!1,f()(t[0])]},P=function(e,t,n){if(t){if(!_._31(e,A.j))return!1;var o=_._82(e,n);return!(!o||n===_.u(e))&&o.status!==N.a.offline}return!0},k=function(e,t,n){if(t)return[n];var o=_.u(e),a=[];if(n===N.m)return d()(_._36(e),function(e){o!==e.id&&e.status!==N.a.offline&&a.push(e.id)}),a;var i=_.h(e,n);return i?(d()(i.agentIds,function(t){var n=_._82(e,t);n&&o!==n.id&&n.status!==N.a.offline&&a.push(t)}),a):[]},M=function(e,t,n){return n?t:t.concat(e)},I=function(e,t,n){var o=Math.abs(n),a=t?_._82(e,o):_.h(e,o);return!(!v()(a)||o!==N.m)||!v()(a)}},1027:function(e,t){e.exports={chatContentContainer:"ChatContent__chatContentContainer--3fAaw",chatContent:"ChatContent__chatContent--3lHVq",directionRTL:"ChatContent__directionRTL--y-RND",systemMeg:"ChatContent__systemMeg--1akET",chatMeg:"ChatContent__chatMeg--1xqJM",translationMsg:"ChatContent__translationMsg--34tcn",attachment:"ChatContent__attachment--1ONEF",chatContentInfo:"ChatContent__chatContentInfo--17_KL",name:"ChatContent__name--2_SRW",time:"ChatContent__time--3BqgY",operator:"ChatContent__operator--13jwF",visitor:"ChatContent__visitor--1vjfa",secureForm:"ChatContent__secureForm--LAEtE",typingIndicator:"ChatContent__typingIndicator--Njccd",chatContentsmall:"ChatContent__chatContentsmall--2nRGa",chatContentmiddle:"ChatContent__chatContentmiddle--1j4wB",chatContentlarge:"ChatContent__chatContentlarge--u101R",notify:"ChatContent__notify--3IFoV",notifyG2M:"ChatContent__notifyG2M--2Kneq",notifyName:"ChatContent__notifyName--2eGs0",error:"ChatContent__error--31HZ8",errorContent:"ChatContent__errorContent--1sK1Q",action:"ChatContent__action--3JAej"}},1033:function(e,t){function n(e){return null===e}e.exports=n},1038:function(e,t,n){"use strict";function o(){return"rc-upload-"+a+"-"+ ++i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=+new Date,i=0;e.exports=t.default},1042:function(e,t,n){"use strict";var o=n(389);n.d(t,"f",function(){return a}),n.d(t,"g",function(){return i}),n.d(t,"h",function(){return r}),n.d(t,"c",function(){return s}),n.d(t,"e",function(){return l}),n.d(t,"a",function(){return p}),n.d(t,"b",function(){return u}),n.d(t,"d",function(){return d});var a=function(e,t){return{type:o.a,payload:t,meta:e}},i=function(e,t){return{type:o.g,payload:t,meta:e}},r=function(e,t){return{type:o.b,payload:t,meta:e}},s=function(e,t,n,a){return{type:o.h,payload:{fileName:n,url:t,isImage:a},meta:e}},l=function(e,t){return{type:o.c,payload:t,meta:e}},p=function(e,t,n){return{type:o.d,payload:{filename:t,guid:n,percentage:0},meta:e}},u=function(e,t,n,a){return{type:o.e,payload:{filename:n,guid:a,percentage:t},meta:e}},d=function(e,t,n){return{type:o.f,payload:{filename:t,guid:n},meta:e}}},1068:function(e,t,n){"use strict";var o=n(3),a=n.n(o),i=n(22),r=n.n(i),s=n(13),l=n.n(s),p=n(15),u=n.n(p),d=n(21),c=n.n(d),f=n(20),h=n.n(f),m=n(24),g=n.n(m),v=n(120),y=n.n(v),C=n(131),b=n.n(C),_=n(6),S=n.n(_),N=n(1),A=n.n(N),T=n(36),w=n.n(T),P=n(127),k=(n.n(P),n(379)),M=n(1027),I=n.n(M),U=n(221),E=n(1069),D=n(2),x=n(70),F=n(52),O=function(e){var t;return(t={},g()(t,k.b,I.a.chatContentsmall),g()(t,k.a,I.a.chatContentmiddle),g()(t,k.c,I.a.chatContentlarge),t)[e]},L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.last();if(!S()(n)||0===n.length)return"";var o=n[0].sender;return b()(o)?t:o},j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.last();if(!S()(n)||0===n.length)return"";var o=n[0].sender;return b()(o)?t:n[n.length-1].message||n[n.length-1].fileName},R=a()(F.a,{type:"noborder"},void 0,"Not Now"),B=function(e){function t(e){l()(this,t);var n=c()(this,(t.__proto__||r()(t)).call(this,e));return n.state={ifShowGotoMeetingNotify:!1},n.update=n.update.bind(n),n.selectChatMessage=n.selectChatMessage.bind(n),n.closeGotoMeetingNotify=n.closeGotoMeetingNotify.bind(n),n.scrollBottom=n.scrollBottom.bind(n),n.getScrollHeight=n.getScrollHeight.bind(n),n.canShowNotify=!1,n.scrollTop=e.scrollTop,n.timer=null,n.ifScrollBottom=!1,n.notifyVisitor=L(e.messages),n.notifyMessage=j(e.messages),n}return h()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.parent.scrollTop=this.getScrollHeight(),this.parent.addEventListener("scroll",this.update,!1),document.body.addEventListener("keydown",this.selectChatMessage,!1)}},{key:"componentWillReceiveProps",value:function(e){var t=e.messages;this.notifyVisitor=L(t,this.notifyVisitor),this.notifyMessage=j(t,this.notifyMessage),this.props.g2mStartUrl===e.g2mStartUrl||this.state.ifShowGotoMeetingNotify||this.setState({ifShowGotoMeetingNotify:!0}),this.scrollTop=e.scrollTop}},{key:"shouldComponentUpdate",value:function(e,t){return e.id!==this.props.id||e.selectedFontSize!==this.props.selectedFontSize||e.typingMessage!==this.props.typingMessage||e.textDirectionIfRTL!==this.props.textDirectionIfRTL||e.errorMessageForChat!==this.props.errorMessageForChat||e.g2mStartUrl!==this.props.g2mStartUrl||e.ifShowNotify!==this.props.ifShowNotify||t.ifShowGotoMeetingNotify!==this.state.ifShowGotoMeetingNotify||!y()(this.props.messages.toJS(),e.messages.toJS())}},{key:"componentDidUpdate",value:function(e){var t=this.props.messages;t===e.messages&&this.props.typingMessage===e.typingMessage||(this.parent.scrollTop=this.getScrollHeight())}},{key:"getScrollHeight",value:function(){return this.scrollTop===-1?this.parent.scrollHeight:this.scrollTop}},{key:"componentWillUnmount",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null),this.parent.removeEventListener("scroll",this.update),document.body.removeEventListener("keydown",this.selectChatMessage)}},{key:"update",value:function(e){var t=this;this.scrollTop=e.target.scrollTop;var n=e.target.clientHeight,o=e.target.scrollHeight;this.canShowNotify=this.scrollTop+n<o-20,!this.canShowNotify&&this.props.ifShowNotify&&this.props.updateIfShowNotify(!1),this.canShowNotify?this.ifScrollBottom=!1:(this.timer&&(clearTimeout(this.timer),this.timer=null),this.ifScrollBottom=!0,this.props.onScroll(this.props.id,-1)),this.props.onScroll&&!this.ifScrollBottom&&(this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout(function(){t.props.onScroll(t.props.id,t.scrollTop)},500))}},{key:"selectChatMessage",value:function(e){if(e.ctrlKey&&(65===e.keyCode||97===e.keyCode)&&(e.target===document.body||e.target===this.parent)){if(document.selection){var t=document.body.createTextRange();t.moveToElementText(this.parent),t.select()}else if(window.getSelection){var n=window.getSelection();n.rangeCount>0&&n.removeAllRanges();var o=document.createRange();o.selectNode(this.parent),n.addRange(o)}e.preventDefault(),e.stopPropagation()}}},{key:"closeGotoMeetingNotify",value:function(){this.setState({ifShowGotoMeetingNotify:!1}),this.props.clearG2mStartUrl()}},{key:"scrollBottom",value:function(){this.parent.scrollTop=this.container.getBoundingClientRect().height,this.ifScrollBottom=!0,this.props.onScroll(this.props.id,-1)}},{key:"render",value:function(){var e=this,t=this.props;return a()("div",{className:I.a.chatContentContainer},void 0,A.a.createElement("div",{className:w()(I.a.chatContent,O(t.selectedFontSize),t.textDirectionIfRTL?I.a.directionRTL:"","contentMenu"),ref:function(t){e.parent=t}},A.a.createElement("div",{ref:function(t){e.container=t}},t.messages.map(function(t,n){return a()(E.a,{messages:t,getSecureFormContent:e.props.getSecureFormContent,timezone:e.props.timezone,timezoneOffset:e.props.timezoneOffset},n)})),""!==t.typingMessage?a()("div",{className:I.a.typingIndicator},void 0,a()("span",{},void 0,t.chatTo," is typing: "),t.typingMessage,"...",a()(x.a,{type:D.b.typing,size:13})):null),this.props.ifShowNotify&&this.props.scrollTop!==-1&&a()("div",{className:I.a.notify,onClick:this.scrollBottom},void 0,a()("span",{className:I.a.notifyName},void 0,this.notifyVisitor,":")," ",this.notifyMessage),t.g2mStartUrl&&this.state.ifShowGotoMeetingNotify?a()("div",{className:w()(I.a.notify,I.a.notifyG2M)},void 0,"You have created a new meeting.",a()("span",{className:I.a.action,onClick:this.closeGotoMeetingNotify},void 0,a()(U.a,{href:t.g2mStartUrl,newWindow:!0},void 0,"Start Meeting Immediately"),R)):"",t.errorMessageForChat?a()("div",{className:I.a.error},void 0,a()("span",{className:I.a.errorContent},void 0,t.errorMessageForChat),a()(F.a,{type:"noborder",onClick:t.hideErrorMessage},void 0,"Dismiss")):"")}}]),t}(A.a.Component);t.a=B},1069:function(e,t,n){"use strict";var o=n(22),a=n.n(o),i=n(13),r=n.n(i),s=n(15),l=n.n(s),p=n(21),u=n.n(p),d=n(20),c=n.n(d),f=n(3),h=n.n(f),m=n(1),g=n.n(m),v=n(36),y=n.n(v),C=n(92),b=n(221),_=n(245),S=n(159),N=n(1027),A=n.n(N),T=n(70),w=n(2),P=h()("i",{},void 0,"(Translation)"),k=h()("br",{}),M=h()("i",{},void 0,"(Original)"),I=function(e){if(e.translatedMessage&&""!==e.translatedMessage){var t="",n="";return t=S.e(e.translatedMessage,function(e,t){var n=0===e.indexOf("www.")?"http://"+e:e;return h()(b.a,{href:n,newWindow:!0},t,e)}),n=S.e(e.message,function(e,t){var n=0===e.indexOf("www.")?"http://"+e:e;return h()(b.a,{href:n,newWindow:!0},t,e)}),h()("p",{},e.id,t," ",P,k,h()("span",{className:A.a.translationMsg},void 0,n)," ",M)}return h()("p",{},e.id,S.e(e.message,function(e,t){var n=0===e.indexOf("www.")?"http://"+e:e;return h()(b.a,{href:n,newWindow:!0},t,e)}))},U=function(e){return e.url?h()("div",{},e.id,h()(b.a,{href:e.url,newWindow:!0},e.id,h()("img",{src:e.url,alt:e.filename,style:{maxWidth:400,maxHeight:400}}))):null},E=function(e){return h()("div",{},e.id,h()(b.a,{className:A.a.attachment,href:e.url,newWindow:!0},e.id,e.fileName))},D=function(e){return e.message?I(e):e.url?e.isImage?U(e):E(e):null},x=function(e){function t(){return r()(this,t),u()(this,(t.__proto__||a()(t)).apply(this,arguments))}return c()(t,e),l()(t,[{key:"componentDidMount",value:function(){var e=this.props.messages[0];e.type===_.d&&e.message.status===w.n.init&&this.props.getSecureFormContent(e.message.token,e.message.rsaKey)}},{key:"shouldComponentUpdate",value:function(e){return e.messages!==this.props.messages}},{key:"render",value:function(){var e=this.props.messages,t=e[0].sender,o=n.i(C.f)(e[0].time,"HH:mm",this.props.timezone,this.props.timezoneOffset),a=e[0].type;return a===_.b?h()("div",{className:y()(A.a.systemMeg)},void 0,e[0].message):h()("div",{className:y()(A.a.chatContentInfo,a===_.c?A.a.operator:A.a.visitor)},void 0,a===_.d?h()("div",{className:A.a.secureForm},void 0,e[0].message.status===w.n.downloading||e[0].message.status===w.n.init?h()(T.a,{type:w.b.loading,size:"small"}):e[0].message.content.map(function(e){return h()("div",{},void 0,e.name,": ",e.value)})):h()("div",{},void 0,h()("div",{},void 0,h()("span",{className:A.a.name},void 0,t+": "),h()("span",{className:A.a.time},void 0,o)),h()("div",{className:A.a.chatMeg},void 0,e.map(function(e){return D(e)}))))}}]),t}(g.a.Component);t.a=x},1070:function(e,t,n){"use strict";var o=n(3),a=n.n(o),i=n(1),r=(n.n(i),n(1161)),s=n.n(r),l=function(e){return a()("div",{className:s.a.uploadProgressContainer},void 0,e.fileUploadProgressNumber>0&&e.fileUploadProgressNumber<100?a()("div",{className:s.a.uploadProgress},void 0,a()("span",{className:s.a.uploadFileName},void 0,e.fileName),a()("span",{className:s.a.uploadProgressPercent},void 0,e.fileUploadProgressNumber,"%"),a()("button",{className:s.a.cancelUpload,onClick:function(){return e.handleAbortUpload(e.file,e.fileName)}},void 0,"×")):"")};t.a=l},1071:function(e,t,n){"use strict";var o=n(3),a=n.n(o),i=n(1),r=(n.n(i),n(1078)),s=function(e){var t=e.identityType,o=n(992),i="Visitor";if(e.isContactOrUserOpen)switch(t){case r.a:o=n(1453),i="User";break;case r.b:o=n(1452),i="Contact";break;case r.c:o=n(992),i="Visitor";break;default:o=n(992),i=""}return a()("img",{"data-tip":i,"data-for":"chatContainer",src:e.avatarLink?e.avatarLink:o,alt:""})};t.a=s},1073:function(e,t,n){"use strict";var o=n(49),a=n.n(o),i=n(3),r=n.n(i),s=n(22),l=n.n(s),p=n(13),u=n.n(p),d=n(15),c=n.n(d),f=n(21),h=n.n(f),m=n(20),g=n.n(m),v=n(391),y=n.n(v),C=n(1),b=n.n(C),_=n(36),S=n.n(_),N=n(1442),A=n.n(N),T=n(223),w=n.n(T),P=n(70),k=n(2),M=n(17),I=n(1070),U=n.i(M.e)("SendFile",["disabled","files"]),E={filename:"",guid:0,percentage:0},D=function(e){var t=e[e.length-1];return!t||t.percentage>=100?E:t},x=function(e){function t(e){u()(this,t);var o=h()(this,(t.__proto__||l()(t)).call(this,e));return o.beforeUpload=function(e){var t=o.props.siteInfo;if(!(e.size<=1024*t.maxFileSize*1024))return o.showErrorMessage("Error sending file: The max file size is "+t.maxFileSize+" MB."),!1;if(o.props.files.length>=t.maxFileNum)return o.showErrorMessage("Error sending file: The max number of files you can send/receive during this chat session is "+t.maxFileNum+"."),!1;var n=!o.props.beforeUpload||o.props.beforeUpload(e);return n&&(o.guid=Date.now(),o.props.onStart(o.props.chatId,e.name,o.guid),o.file=e),n},o.onProgress=function(e,t){o.props.onProgress(o.props.chatId,100===e.percent?100:parseFloat(e.percent.toFixed(1)),t.name,o.guid)},o.onSuccess=function(e,t){if(o.file=null,e&&("success"===e||e.isSuccess))return void o.props.onSuccess(o.props.chatId,t.name,o.guid,o.props.siteInfo,o.getDownloadUrl(e.guid,t.name),e.guid);var n=e.errorMessage||e;o.showErrorMessage("Error sending file: "+n),o.props.onCancel(o.props.chatId,t.name,o.guid)},o.onError=function(e,t){o.file=null,o.props.onCancel(t.name,o.guid)},o.getDownloadUrl=function(e,t){if(!o.props.siteInfo)return"";var a=o.props.siteInfo,i=a.downloadUrl,r=a.sessionId,s=a.siteId,l=a.privateMessage;return n.i(M.m)(i,r,s,l,e,t)},o.handleAbortUpload=function(e,t){o.upload&&o.file===e&&o.upload.abort(e),o.file=null,o.props.onCancel(o.props.chatId,t,o.guid)},o.upload=null,o.file=null,o.guid=0,o.showErrorMessage=e.showErrorMessage.bind(null,e.chatId),o.uploadConfig={action:e.siteInfo.sendFileUploadUrl,multiple:!1,disabled:e.disabled,beforeUpload:o.beforeUpload,onStart:y.a,onSuccess:o.onSuccess,onProgress:o.onProgress,onError:o.onError},o}return g()(t,e),c()(t,[{key:"componentWillReceiveProps",value:function(e){this.uploadConfig.action=e.siteInfo.sendFileUploadUrl,this.uploadConfig.disabled=e.disabled,e.chatId!==this.props.chatId&&(this.showErrorMessage=this.props.showErrorMessage.bind(null,e.chatId))}},{key:"shouldComponentUpdate",value:function(e){return U(this.props,e)}},{key:"render",value:function(){var e=this;this.uploadConfig.disabled=this.props.disabled;var t=D(this.props.files),n=t.filename,o=t.percentage,i=t.guid;return this.guid=i,this.props.disabled||(100!==o&&0!==o?this.uploadConfig.disabled=!0:this.uploadConfig.disabled=!1),r()("div",{},void 0,r()(I.a,{file:this.file,fileName:n,fileUploadProgressNumber:o,handleAbortUpload:this.handleAbortUpload}),r()("span",{className:S()(w.a.fileupload,this.props.className),"data-tip":"Send a file from your local machine.","data-for":"chatContainer"},void 0,b.a.createElement(A.a,a()({ref:function(t){e.upload=t}},this.uploadConfig),r()(P.a,{type:k.b.sendFile}))))}}]),t}(C.Component);t.a=x},1078:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return i});var o=2,a=3,i=6},1161:function(e,t){e.exports={uploadProgressContainer:"FileUploadProgress__uploadProgressContainer--2X8I6",uploadProgress:"FileUploadProgress__uploadProgress--z1S5B",uploadProgressPercent:"FileUploadProgress__uploadProgressPercent--2Kuai",uploadProgressBarContainer:"FileUploadProgress__uploadProgressBarContainer--1y0Vz",uploadProgressBar:"FileUploadProgress__uploadProgressBar--1Y9LY",cancelUpload:"FileUploadProgress__cancelUpload--1YVmG",uploadFileName:"FileUploadProgress__uploadFileName--3j-Sc"}},1439:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(49),i=o(a),r=n(24),s=o(r),l=n(1),p=o(l),u=n(36),d=o(u),c=n(1443),f=o(c),h=n(1038),m=o(h),g=p.default.createClass({displayName:"AjaxUploader",propTypes:{component:l.PropTypes.string,style:l.PropTypes.object,prefixCls:l.PropTypes.string,className:l.PropTypes.string,multiple:l.PropTypes.bool,disabled:l.PropTypes.bool,accept:l.PropTypes.string,children:l.PropTypes.any,onStart:l.PropTypes.func,data:l.PropTypes.oneOfType([l.PropTypes.object,l.PropTypes.func]),headers:l.PropTypes.object,beforeUpload:l.PropTypes.func,customRequest:l.PropTypes.func,withCredentials:l.PropTypes.bool},getInitialState:function(){return this.reqs={},{uid:(0,m.default)()}},componentWillUnmount:function(){this.abort()},onChange:function(e){var t=e.target.files;this.uploadFiles(t),this.reset()},onClick:function(){var e=this.refs.file;e&&e.click()},onKeyDown:function(e){"Enter"===e.key&&this.onClick()},onFileDrop:function(e){if("dragover"===e.type)return void e.preventDefault();var t=e.dataTransfer.files;this.uploadFiles(t),e.preventDefault()},uploadFiles:function(e){for(var t=Array.prototype.slice.call(e),n=t.length,o=0;o<n;o++){var a=t[o];a.uid=(0,m.default)(),this.upload(a,t)}},upload:function(e,t){var n=this,o=this.props;if(!o.beforeUpload)return setTimeout(function(){return n.post(e)},0);var a=o.beforeUpload(e,t);a&&a.then?a.then(function(t){var o=Object.prototype.toString.call(t);"[object File]"===o||"[object Blob]"===o?n.post(t):n.post(e)}):a!==!1&&setTimeout(function(){return n.post(e)},0)},post:function(e){var t=this;if(this.isMounted()){var n=this.props,o=n.data,a=n.onStart;"function"==typeof o&&(o=o(e));var i=e.uid,r=n.customRequest||f.default;this.reqs[i]=r({action:n.action,filename:n.name,file:e,data:o,headers:n.headers,withCredentials:n.withCredentials,onProgress:function(t){n.onProgress(t,e)},onSuccess:function(o){delete t.reqs[i],n.onSuccess(o,e)},onError:function(o,a){delete t.reqs[i],n.onError(o,a,e)}}),a(e)}},reset:function(){this.setState({uid:(0,m.default)()})},abort:function(e){var t=this.reqs;if(e){var n=e;e&&e.uid&&(n=e.uid),t[n]&&(t[n].abort(),delete t[n])}else Object.keys(t).forEach(function(e){t[e].abort(),delete t[e]})},render:function(){var e,t=this.props,n=t.component,o=t.prefixCls,a=t.className,r=t.disabled,l=t.style,u=t.multiple,c=t.accept,f=t.children,h=(0,d.default)((e={},(0,s.default)(e,o,!0),(0,s.default)(e,o+"-disabled",r),(0,s.default)(e,a,a),e)),m=r?{}:{onClick:this.onClick,onKeyDown:this.onKeyDown,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,tabIndex:"0"};return p.default.createElement(n,(0,i.default)({},m,{className:h,role:"button",style:l}),p.default.createElement("input",{type:"file",ref:"file",key:this.state.uid,style:{display:"none"},accept:c,multiple:u,onChange:this.onChange}),f)}});t.default=g,e.exports=t.default},1440:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(24),i=o(a),r=n(49),s=o(r),l=n(1),p=o(l),u=n(89),d=o(u),c=n(36),f=o(c),h=n(1038),m=o(h),g=n(1444),v=o(g),y={position:"absolute",top:0,opacity:0,filter:"alpha(opacity=0)",left:0,zIndex:9999},C=p.default.createClass({displayName:"IframeUploader",propTypes:{component:l.PropTypes.string,style:l.PropTypes.object,disabled:l.PropTypes.bool,prefixCls:l.PropTypes.string,className:l.PropTypes.string,accept:l.PropTypes.string,onStart:l.PropTypes.func,multiple:l.PropTypes.bool,children:l.PropTypes.any,data:l.PropTypes.oneOfType([l.PropTypes.object,l.PropTypes.func]),action:l.PropTypes.string,name:l.PropTypes.string},getInitialState:function(){return this.file={},{uploading:!1}},componentDidMount:function(){this.updateIframeWH(),this.initIframe()},componentDidUpdate:function(){this.updateIframeWH()},onLoad:function(){if(this.state.uploading){var e=this.props,t=this.file,n=void 0;try{var o=this.getIframeDocument(),a=o.getElementsByTagName("script")[0];a&&a.parentNode===o.body&&o.body.removeChild(a),n=o.body.innerHTML,e.onSuccess(n,t)}catch(o){(0,v.default)(!1,"cross domain error for Upload. Maybe server should return document.domain script. see Note from https://github.com/react-component/upload"),n="cross-domain",e.onError(o,null,t)}this.endUpload()}},onChange:function(){var e=this,t=this.getFormInputNode(),n=this.file={uid:(0,m.default)(),name:t.value};this.startUpload();var o=this.props;if(!o.beforeUpload)return this.post(n);var a=o.beforeUpload(n);a&&a.then?a.then(function(){e.post(n)},function(){e.endUpload()}):a!==!1?this.post(n):this.endUpload()},getIframeNode:function(){return this.refs.iframe},getIframeDocument:function(){return this.getIframeNode().contentDocument},getFormNode:function(){return this.getIframeDocument().getElementById("form")},getFormInputNode:function(){return this.getIframeDocument().getElementById("input")},getFormDataNode:function(){return this.getIframeDocument().getElementById("data")},getFileForMultiple:function(e){return this.props.multiple?[e]:e},getIframeHTML:function(e){var t="",n="";return e&&(t='<script>document.domain="'+e+'";</script>',n='<input name="_documentDomain" value="'+e+'" />'),'\n    <!DOCTYPE html>\n    <html>\n    <head>\n    <meta http-equiv="X-UA-Compatible" content="IE=edge" />\n    <style>\n    body,html {padding:0;margin:0;border:0;overflow:hidden;}\n    </style>\n    '+t+'\n    </head>\n    <body>\n    <form method="post"\n    encType="multipart/form-data"\n    action="'+this.props.action+'" id="form"\n    style="display:block;height:9999px;position:relative;overflow:hidden;">\n    <input id="input" type="file"\n     name="'+this.props.name+'"\n     style="position:absolute;top:0;right:0;height:9999px;font-size:9999px;cursor:pointer;"/>\n    '+n+'\n    <span id="data"></span>\n    </form>\n    </body>\n    </html>\n    '},initIframeSrc:function(){this.domain&&(this.getIframeNode().src="javascript:void((function(){\n        var d = document;\n        d.open();\n        d.domain='"+this.domain+"';\n        d.write('');\n        d.close();\n      })())")},initIframe:function(){var e=this.getIframeNode(),t=e.contentWindow,n=void 0;this.domain=this.domain||"",this.initIframeSrc();try{n=t.document}catch(o){this.domain=document.domain,this.initIframeSrc(),t=e.contentWindow,n=t.document}n.open("text/html","replace"),n.write(this.getIframeHTML(this.domain)),n.close(),this.getFormInputNode().onchange=this.onChange},endUpload:function(){this.state.uploading&&(this.file={},this.state.uploading=!1,this.setState({uploading:!1}),this.initIframe())},startUpload:function(){this.state.uploading||(this.state.uploading=!0,this.setState({uploading:!0}))},updateIframeWH:function(){var e=d.default.findDOMNode(this),t=this.getIframeNode();t.style.height=e.offsetHeight+"px",t.style.width=e.offsetWidth+"px"},abort:function(e){if(e){var t=e;e&&e.uid&&(t=e.uid),t===this.file.uid&&this.endUpload()}else this.endUpload()},post:function(e){var t=this.getFormNode(),n=this.getFormDataNode(),o=this.props.data,a=this.props.onStart;"function"==typeof o&&(o=o(e));var i=[];for(var r in o)o.hasOwnProperty(r)&&i.push('<input name="'+r+'" value="'+o[r]+'"/>');n.innerHTML=i.join(""),t.submit(),n.innerHTML="",a(e)},render:function(){var e,t=this.props,n=t.component,o=t.disabled,a=t.className,r=t.prefixCls,l=t.children,u=t.style,d=(0,s.default)({},y,{display:this.state.uploading||o?"none":""}),c=(0,f.default)((e={},(0,i.default)(e,r,!0),(0,i.default)(e,r+"-disabled",o),(0,i.default)(e,a,a),e));return p.default.createElement(n,{className:c,style:(0,s.default)({position:"relative",zIndex:0},u)},p.default.createElement("iframe",{ref:"iframe",onLoad:this.onLoad,style:d}),l)}});t.default=C,e.exports=t.default},1441:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(){}Object.defineProperty(t,"__esModule",{value:!0});var i=n(49),r=o(i),s=n(1),l=o(s),p=n(1439),u=o(p),d=n(1440),c=o(d),f=l.default.createClass({displayName:"Upload",propTypes:{component:s.PropTypes.string,style:s.PropTypes.object,prefixCls:s.PropTypes.string,action:s.PropTypes.string,name:s.PropTypes.string,multipart:s.PropTypes.bool,onError:s.PropTypes.func,onSuccess:s.PropTypes.func,onProgress:s.PropTypes.func,onStart:s.PropTypes.func,data:s.PropTypes.oneOfType([s.PropTypes.object,s.PropTypes.func]),headers:s.PropTypes.object,accept:s.PropTypes.string,multiple:s.PropTypes.bool,disabled:s.PropTypes.bool,beforeUpload:s.PropTypes.func,customRequest:s.PropTypes.func,onReady:s.PropTypes.func,withCredentials:s.PropTypes.bool,supportServerRender:s.PropTypes.bool},getDefaultProps:function(){return{component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onProgress:a,onReady:a,onStart:a,onError:a,onSuccess:a,supportServerRender:!1,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1}},getInitialState:function(){return{Component:null}},componentDidMount:function(){this.props.supportServerRender&&this.setState({Component:this.getComponent()},this.props.onReady)},getComponent:function(){return"undefined"!=typeof FormData?u.default:c.default},abort:function(e){this.refs.inner.abort(e)},render:function(){if(this.props.supportServerRender){var e=this.state.Component;return e?l.default.createElement(e,(0,r.default)({},this.props,{ref:"inner"})):null}var t=this.getComponent();return l.default.createElement(t,(0,r.default)({},this.props,{ref:"inner"}))}});t.default=f,e.exports=t.default},1442:function(e,t,n){"use strict";e.exports=n(1441)},1443:function(e,t,n){"use strict";function o(e,t){var n="cannot post "+e.action+" "+t.status+"'",o=new Error(n);return o.status=t.status,o.method="post",o.url=e.action,o}function a(e){var t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch(e){return t}}function i(e){var t=new XMLHttpRequest;t.upload&&(t.upload.onprogress=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),e.onProgress(t)});var n=new FormData;e.data&&Object.keys(e.data).map(function(t){n.append(t,e.data[t])}),n.append(e.filename,e.file),t.onerror=function(t){e.onError(t)},t.onload=function(){return t.status<200||t.status>=300?e.onError(o(e,t),a(t)):void e.onSuccess(a(t))},t.open("post",e.action,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);var i=e.headers||{};null!==i["X-Requested-With"]&&t.setRequestHeader("X-Requested-With","XMLHttpRequest");for(var r in i)i.hasOwnProperty(r)&&null!==i[r]&&t.setRequestHeader(r,i[r]);return t.send(n),{abort:function(){t.abort()}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,e.exports=t.default},1444:function(e,t,n){"use strict";var o=function(){};e.exports=o},1452:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAilBMVEXk4+Hrxq/+/v/7+/v////c29kAAADh4N770rTl5OL19fX9/f75+Pnj4uDe3dvg393w8PDr6ur30bbX1tUuJkLj1szw1MAmIyHyy69TT1Da2dfTsZc8NzQSEhHpwqfx39S6nIfOzcx+bmJ+e4FkY2bsyrTAvrvz6OGop6XU09GfhXKZlpg8OUXTwbuiAaQiAAACS0lEQVRIx5XW6XqrIBAGYFwARQTRuGY1SbP23P/tncE0apSS9PuTBnmfYWgLIv/PQf41a/DHabIrkAwL+nEEzoA0gsYfh4oGCKZxaAiCzEdjin8jKIZVxOhjoufLrK4FRR8SROX1cCkJuYhZITOB0cOarAmkPsFmorckpu2K9Cl1pTcE0bYk43y34+cGgmj2KghZn0YTDCSWRzLNuh36mRNET3rSfrlxNstNGlQ7vQ21jG0EipRVMCTVe9HS30ksVqRMg3EqIPd+ZSZSkmXwmhshBzspJyJYEnLsmzGS/ZRsxv0be9lNSVBCFdvC6uWMrMjF1ovcz0lt3WQk73OyX2Hb70WebjNy21uJSOft73a5lQTOjGwqO0kDQ4S1l8IgCmH9S84NZXLb/wusrDAUsRIoYytiPC7mZdKh+d9OmNxSxHyO0UmZAtPwDYnFy6aluXh39EGV3BlM6uTiXRVE8dbpTeo4Z2zvBa4JrM6O41QdqOAntsWj839KAEh89viXM2TrRYmQPXohqAMhj7zoPIgv7rqupzqEXom+uIRQPHLdyPWLoYjvg3G5ovqmQQPRBQRKvCjSz32/X1rRvRvAWBQloUZPAjejVNx7iG4Se5gi8gfjMY1kR6QUIeO8E8+XDl48VuWPDU9g8d29Dz1MBUT9U6NvP4bFWJMGS85+ljXMOSwWi6M3Nh1hQr+QZI1iTButnkkWOmo0op8DCa/dm1LCWAJL61T3hCe8BvENn6NBGGaJ0qTFKkkUsD762x3IgTHFxlGJUnphf85/sQNaCyykOPwAAAAASUVORK5CYII="},1453:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAA81BMVEXl5OLk4+HkroMAAADj4uDc29npvZX///8AABXh4N7sw53rwZrg390AABTwyqbqv5jxzartxaDvyKPf3twJCQni4d/z0K7Z2Nbms4jjrX/01LPnvJUIBxwhICDz17wzNDQaGhr29fXnuI4SEhHjxan8/PzW1dNQUFQVFSjfqHTs6uplMFDgzryVkJjJyMe/v751dXng1MmTdFvYomjhuJO6s7NfX2uPi4o3NUNDNSivrq+/mHenpqh9fIVjX14oKDlzW0bR0dNuPVpAQE5TQjTTpoHTnV6dnZuHX3iEZ0/x5NjWy8NVHECfhW1nUD17UGykgGLFXp0kAAADGUlEQVRIx5XWZ3uqMBgGYGNYgTgBcRQBEfVo3VWrnXavM/7/rzlvQCm2iPb5ULgCt29CSkhK/HFSYssw+KNjGC0gBq+So6PyBiOqzh0dXWWEJ1wqNiimjSP8XoLgFzl0PEGcTuhsQb6bfQTpZLh6tvBK/VYoniBoXmiWaWPtmadfKsUSEEMLa5ptuq5rX7eojg4QxNFLDWuuZpqWbdmmNdq5Hkc4AsJ2Xc3WTCZMyxpGboghiAxcIJqG4WCy/rmmPSAogXBqG7sYm39ub5cPk3+TJbaxa6n6foLIEGP88JgO82hCw3NYJo6MMH7d3l4uw58KFG1Tbj+h13gZ3F5TZIhQTl9AP9X9hKNtfMGAoMiFYjabLcpCGp55OJhYojGRUwDkS5BsIbc8QK6XvpB9Ua1XwdwmEhj+7bZX+VK1Wq9X88UJthLGgkh/khaCIoxAStmL5CdGZpOGEIwkIKV89hEvEufFeBWEnBwQGEwJiKwNEsnpJCAbU8rni4WHJkUJT6x5IbCxsEnJ+4Gp+d2kSVPZPNsQNpEAssWCfJZUBToWkI3xhXI2ThzLuCZsDCBIQZZzNV5PfF+aQmhYQAifQ4l/Kw2f5BT/H1mWlZyg8Ilv5baMj1hygnBKueQVhoyFjWFhJ3xkWYpdx7ZlwkSL7Fn6yDgXFdGR7CXv04g4ezpMOPX0aVrbivJTenygY7C+tmbl6bThg1plOq0v+MhS/o3Ad4UOzq/GvyCVSsU/OOfXBg0/GrsEwZpPjauONHcalTB18Ua66Rvso4G+EPbhUgejjiRJbfGtvI3iiaypM5+phJX6JKxAq38v+TkXxXojSK0riiebViilo5AgnQ7bm0vwk7CDqPvDl0E4Uth+xRNCA6Lr6lUIIA6Yt7xcqLOTdeTCzUpVA0LoXIpmwHYqzrvqseNl9MrJwt9d8FRdSdEiUp/tbV56vT70SxztEOnS35Dw/PkumXte92/vrvdBup53v0vu/W2PsYLzqLnxnO5L7+7uw+k6XmdHZKQhkHVrnslkTjKfkVJrZwZVXhyntY60+zeNgPw4/wFHP2pKD6eidQAAAABJRU5ErkJggg=="},1468:function(e,t,n){"use strict";var o=n(3),a=n.n(o),i=n(22),r=n.n(i),s=n(13),l=n.n(s),p=n(15),u=n.n(p),d=n(21),c=n.n(d),f=n(20),h=n.n(f),m=n(120),g=n.n(m),v=n(1),y=n.n(v),C=n(977),b=n.n(C),_=n(1557),S=(n(2),function(e){function t(){return l()(this,t),c()(this,(t.__proto__||r()(t)).apply(this,arguments))}return h()(t,e),u()(t,[{key:"shouldComponentUpdate",value:function(e){return!g()(e.agents,this.props.agents)}},{key:"render",value:function(){var e=this;return a()("div",{className:b.a.listsection},void 0,this.props.agents.map(function(t){return a()(_.a,{agent:t,onItemClick:e.props.onItemClick},t.id)}))}}]),t}(y.a.Component));t.a=S},1554:function(e,t,n){"use strict";var o=n(3),a=n.n(o),i=n(1),r=(n.n(i),n(977)),s=n.n(r),l=n(1468),p=n(1556),u=(n(2),function(e){return a()("div",{className:s.a.agentsSection},void 0,e.isDepartment?e.agentData.map(function(t){return a()(p.a,{department:t,onDepartmentClick:e.onDepartmentClick,onItemClick:e.onItemClick},t.id)}):a()(l.a,{agents:e.agentData,
onItemClick:e.onItemClick}))});t.a=u},1555:function(e,t,n){"use strict";var o=n(3),a=n.n(o),i=n(22),r=n.n(i),s=n(13),l=n.n(s),p=n(15),u=n.n(p),d=n(21),c=n.n(d),f=n(20),h=n.n(f),m=n(131),g=n.n(m),v=n(1),y=(n.n(v),n(36)),C=n.n(y),b=n(977),_=n.n(b),S=n(1071),N=n(1558),A=n(52),T=function(e){function t(e){l()(this,t);var n=c()(this,(t.__proto__||r()(t)).call(this));return n.avatarLink=g()(e.agent.avatarLink)?"":e.agent.avatarLink+"&"+Date.now(),n}return h()(t,e),u()(t,[{key:"componentWillReceiveProps",value:function(e){return g()(e.agent.avatarLink)?void(this.avatarLink=""):void(this.avatarLink=e.agent.avatarLink+"&"+Date.now())}},{key:"shouldComponentUpdate",value:function(e){return this.props.agent.avatarLink!==e.agent.avatarLink||this.props.agent.name!==e.agent.name||this.props.agent.ifDisableKickOff!==e.agent.ifDisableKickOff||this.props.agent.ifDisableSetAway!==e.agent.ifDisableSetAway}},{key:"render",value:function(){var e=this;return a()("div",{},void 0,a()("div",{className:_.a.avatar},void 0,a()(S.a,{avatarLink:this.avatarLink}),a()("span",{},void 0,this.props.agent.name)),a()("div",{className:_.a.toolbar},void 0,a()(N.a,{onKickOff:function(){return e.props.onKickOff(e.props.agent)},className:_.a.commonbtn,disabled:this.props.agent.ifDisableKickOff}),a()(A.a,{text:"Set Away",type:"default",disabled:this.props.agent.ifDisableSetAway,onClick:function(){return e.props.onSetAway(e.props.agent)},className:C()(_.a.commonbtn,this.props.agent.ifDisableSetAway&&_.a.disable)})))}}]),t}(v.Component);t.a=T},1556:function(e,t,n){"use strict";var o=n(3),a=n.n(o),i=n(22),r=n.n(i),s=n(13),l=n.n(s),p=n(15),u=n.n(p),d=n(21),c=n.n(d),f=n(20),h=n.n(f),m=n(120),g=n.n(m),v=n(1),y=n.n(v),C=n(36),b=n.n(C),_=n(977),S=n.n(_),N=n(70),A=n(2),T=n(1468),w=function(e){function t(){return l()(this,t),c()(this,(t.__proto__||r()(t)).apply(this,arguments))}return h()(t,e),u()(t,[{key:"shouldComponentUpdate",value:function(e){return e.department.name!==this.props.department.name||e.department.selected!==this.props.department.selected||e.department.opened!==this.props.department.opened||!g()(this.props.department.agents,e.department.agents)}},{key:"render",value:function(){var e=this;return a()("div",{className:b()(S.a.departmentsection,this.props.department.selected&&S.a.selectedDpt,this.props.department.opened&&S.a.opened)},void 0,a()("div",{className:S.a.departmentitem,onClick:function(t){t.stopPropagation(),e.props.onDepartmentClick(e.props.department)}},void 0,a()("div",{className:S.a.icon},void 0,this.props.department.agents.length>0&&a()(N.a,{type:A.b.arrowDown,className:S.a.depSpread})),a()("div",{className:S.a.description},void 0,a()("span",{},void 0,this.props.department.name),a()("span",{className:S.a.departmentNum},void 0,"(Online: "+this.props.department.onlineNum+", Away: "+this.props.department.awayNum+")"))),this.props.department.opened&&a()(T.a,{agents:this.props.department.agents,onItemClick:this.props.onItemClick}))}}]),t}(y.a.Component);t.a=w},1557:function(e,t,n){"use strict";var o=n(3),a=n.n(o),i=n(22),r=n.n(i),s=n(13),l=n.n(s),p=n(15),u=n.n(p),d=n(21),c=n.n(d),f=n(20),h=n.n(f),m=n(120),g=n.n(m),v=n(1),y=n.n(v),C=n(36),b=n.n(C),_=n(977),S=n.n(_),N=n(70),A=(n(2),n(829)),T=function(e){function t(){return l()(this,t),c()(this,(t.__proto__||r()(t)).apply(this,arguments))}return h()(t,e),u()(t,[{key:"shouldComponentUpdate",value:function(e){return!g()(e.agent,this.props.agent)}},{key:"render",value:function(){var e=this;return a()("div",{className:b()(S.a.agentitem,this.props.agent.selected&&S.a.selected),onClick:function(t){t.stopPropagation(),e.props.onItemClick(e.props.agent)}},void 0,a()(N.a,{type:this.props.agent.icon.type,color:this.props.agent.icon.color,size:16}),a()("span",{className:S.a.agentName},void 0,this.props.agent.name),a()("span",{className:S.a.agentDescription},void 0,this.props.agent.description),a()(A.a,{number:this.props.agent.unreadMessage,customClass:S.a.unreadmessage}))}}]),t}(y.a.Component);t.a=T},1558:function(e,t,n){"use strict";var o=n(3),a=n.n(o),i=n(22),r=n.n(i),s=n(13),l=n.n(s),p=n(15),u=n.n(p),d=n(21),c=n.n(d),f=n(20),h=n.n(f),m=n(1),g=n.n(m),v=n(36),y=n.n(v),C=n(52),b=n(977),_=n.n(b),S=n(1592),N=function(e){function t(){l()(this,t);var e=c()(this,(t.__proto__||r()(t)).call(this));return e.state={open:!1},e.openModal=e.openModal.bind(e),e.closeModal=e.closeModal.bind(e),e}return h()(t,e),u()(t,[{key:"closeModal",value:function(){this.setState({open:!1})}},{key:"openModal",value:function(){this.setState({open:!0})}},{key:"render",value:function(){var e=this;return a()("div",{className:this.props.className},void 0,a()(C.a,{text:"Kick Off",type:"default",className:y()(_.a.btnAction,this.props.disabled&&_.a.disable),disabled:this.props.disabled,onClick:function(){return e.openModal()}}),this.state.open&&a()(S.a,{onKickOff:this.props.onKickOff,closeModal:this.closeModal}))}}]),t}(g.a.Component);t.a=N},1559:function(e,t,n){"use strict";var o=n(3),a=n.n(o),i=n(1),r=(n.n(i),n(977)),s=n.n(r),l=a()("h1",{},void 0,"You are alone here :("),p=function(e){return a()("div",{className:s.a.noDataSection},void 0,a()("div",{},void 0,l,"Need more hands? ",a()("span",{onClick:function(){return e.addMoreAgents(e.siteInfo)}},void 0,"Add Agents Now.")))};t.a=p},1592:function(e,t,n){"use strict";var o=n(3),a=n.n(o),i=n(22),r=n.n(i),s=n(13),l=n.n(s),p=n(15),u=n.n(p),d=n(21),c=n.n(d),f=n(20),h=n.n(f),m=n(1),g=n.n(m),v=n(91),y=n(90),C=n.n(y),b=a()("br",{}),_=function(e){function t(e){l()(this,t);var n=c()(this,(t.__proto__||r()(t)).call(this,e));return n.handleKickOff=n.handleKickOff.bind(n),n}return h()(t,e),u()(t,[{key:"handleKickOff",value:function(){this.props.onKickOff(),this.props.closeModal()}},{key:"render",value:function(){var e=this;return a()(v.a,{closeModal:this.props.closeModal,title:"Comm100 Live Chat",actions:{okProps:{text:"Yes",eventClick:function(){e.handleKickOff()}},cancelProps:{text:"No"}}},void 0,a()("span",{className:C.a.description},void 0,"If you kick off this agent, his ongoing chats will be ended.",b,"Are you sure you want to continue?"))}}]),t}(g.a.Component);t.a=_},1671:function(e,t,n){"use strict";function o(e,t,o){return n.i(v.l)(e,t,o,1,n.i(y.a)())}var a=n(4),i=n.n(a),r=n(55),s=n.n(r),l=n(1033),p=n.n(l),u=n(73),d=(n.n(u),n(1073)),c=n(5),f=n(1004),h=n(135),m=n(1042),g=n(74),v=n(17),y=n(629),C=n(2),b={},_=function(e){if(p()(c._43(e))||c._43(e)===C.l)return{chatId:C.l,ifDisplay:!0,disabled:!0,siteInfo:{},files:[]};var t=f.a(e),n=s()(t,2),a=n[0],r=n[1];if(!f.b(e,a,r)){var l=i()({},b);return l.disabled=!0,l}var u=c._78(e),d=c._80(e),h=c.F(e),m=o(u,d,h);return b={chatId:r,ifDisplay:!0,disabled:!f.c(e,a,r),siteInfo:{id:r,isAgent:a,sendFileUploadUrl:m,sessionId:d,siteId:h,privateMessage:1,sendToIds:f.d(e,a,r),downloadUrl:c._79(e),maxFileSize:c.Z(e)},files:c._81(e,r)}},S=function(e){return{onStart:function(t,n,o){e(m.a(t,n,o))},onProgress:function(t,n,o,a){e(m.b(t,n,o,a))},onSuccess:function(t,o,a,i,r,s){e(m.b(t,100,o,a)),e(m.c(f.e(i.id,i.sendToIds,i.isAgent),r,o,n.i(h.b)(o))),i.sendToIds.forEach(function(t){e(g.u(t,o,s))})},onCancel:function(t,n,o){e(m.d(t,n,o))},showErrorMessage:function(t,n){e(m.e(t,n))}}};t.a=n.i(u.connect)(_,S)(d.a)},1672:function(e,t,n){"use strict";var o=n(49),a=n.n(o),i=n(1033),r=n.n(i),s=n(73),l=(n.n(s),n(127)),p=n.n(l),u=n(1068),d=n(1042),c=n(1004),f=n(5),h=n(2),m=n(379),g=function(e){return r()(f._43(e))||f._43(e)===h.l?{id:h.l,selectedFontSize:m.a,chatTo:"",typingMessage:"",scrollTop:-1,messages:p.a.List(),textDirectionIfRTL:f._76(e),errorMessageForChat:""}:n.i(c.f)(e)},v=function(e,t){var n=t.dispatch,o={onScroll:function(e,t){n(d.h(e,t))},hideErrorMessage:function(){n(d.e(e.id,""))}};return a()({},e,o)};t.a=n.i(s.connect)(g,null,v)(u.a)},1673:function(e,t,n){"use strict";var o=n(1033),a=n.n(o),i=n(73),r=(n.n(i),n(1555)),s=n(1004),l=n(74),p=n(2),u=n(644),d=n(5),c=function(e){return a()(d._43(e))||d._43(e)===p.l?{agent:{id:p.l,ifCurrentAgent:!1,avatarLink:"",name:"",ifDisableKickOff:!0,ifDisableSetAway:!0}}:n.i(s.g)(e)},f=function(e){return{onKickOff:function(t){return t.ifCurrentAgent?void e(n.i(l.a)()):(e(n.i(l.w)(t.id,p.a.offline)),void e(n.i(u.b)(t.id,!0)))},onSetAway:function(t){e(n.i(l.w)(t.id,p.a.away)),t.ifCurrentAgent&&e(n.i(l.c)({status:p.a.away}))}}};t.a=n.i(i.connect)(c,f)(r.a)},1674:function(e,t,n){"use strict";var o=n(73),a=(n.n(o),n(1554)),i=n(396),r=n(644),s=function(e){return n.i(i.b)(e)},l=function(e){return{onDepartmentClick:function(t){n.i(i.a)(!1),e(n.i(r.c)(t.id))},onItemClick:function(t){e(n.i(r.b)(t.id))}}};t.a=n.i(o.connect)(s,l)(a.a)},1675:function(e,t,n){"use strict";var o=n(73),a=(n.n(o),n(1559)),i=n(380),r=function(e){var t=i.b(e),n=t.isWeb,o=t.loginUrl,a=t.autoLoginUrl,r=t.addAgentsUrl;return{siteInfo:{isWeb:n,loginUrl:o,autoLoginUrl:a,addAgentsUrl:r}}},s=function(){return{addMoreAgents:function(e){i.e(e)}}};t.a=n.i(o.connect)(r,s)(a.a)},1687:function(e,t,n){"use strict";var o=n(94),a=n.n(o),i=n(3),r=n.n(i),s=n(1),l=(n.n(s),n(381)),p=n(384);t.a=function(){return r()(l.a,{modules:{AgentChatTextEditor:function(){return n.i(l.b)(new a.a(function(e,t){n.e(1).then(function(t){e(n(1478))}.bind(null,n)).catch(n.oe).catch(t)}))}},loading:p.a},void 0,function(e){var t=e.AgentChatTextEditor;return r()(t,{})})}},842:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),a=n.n(o),i=n(22),r=n.n(i),s=n(13),l=n.n(s),p=n(15),u=n.n(p),d=n(21),c=n.n(d),f=n(20),h=n.n(f),m=n(1),g=n.n(m),v=n(36),y=n.n(v),C=n(158),b=n.n(C),_=n(832),S=n(1674),N=n(1673),A=n(1687),T=n(1672),w=n(1671),P=n(977),k=n.n(P),M=n(1675),I=a()(S.a,{}),U=a()(N.a,{}),E=a()(T.a,{}),D=a()("ul",{},void 0,a()(w.a,{})),x=a()(A.a,{}),F=a()(M.a,{}),O=function(e){function t(){return l()(this,t),c()(this,(t.__proto__||r()(t)).apply(this,arguments))}return h()(t,e),u()(t,[{key:"shouldComponentUpdate",value:function(e){return e.agentNumber!==this.props.agentNumber||e.selectedAgentChatId!==this.props.selectedAgentChatId||e.agentsWidth!==this.props.agentsWidth}},{key:"render",value:function(){var e=this.props,t=e.agentsWidth,n=e.agentNumber,o=e.onAgentsStopResize;return a()("div",{className:b.a.layoutContent,id:"agents"},void 0,n>1?a()(_.default,{resizerPosition:"left",width:t,left_minWidth:190,left_maxWidth:350,right_minWidth:360,onStopResize:o},void 0,I,a()("div",{},void 0,a()("div",{className:y()(k.a.headerSection,b.a.clearfix)},void 0,U),a()("div",{className:k.a.chatWindowContainer},void 0,E,a()("div",{className:k.a.toolbarSection},void 0,D),a()("div",{style:{position:"absolute",width:"100%",height:175,bottom:0,minHeight:40}},void 0,x)))):F)}}]),t}(g.a.Component);t.default=O},977:function(e,t){e.exports={agentsSection:"agents__agentsSection--1KkTb",agentitem:"agents__agentitem--SS3Ah",selected:"agents__selected--sUXrP",unreadmessage:"agents__unreadmessage--2cbvf",description:"agents__description--37w0c",departmentsection:"agents__departmentsection--UCbdl",departmentitem:"agents__departmentitem--tAErL",selectedDpt:"agents__selectedDpt--3IyOf",agentName:"agents__agentName--2BEiY",listsection:"agents__listsection--7IpN9",opened:"agents__opened--3Kpp0",depSpread:"agents__depSpread--ZQjQ7",icon:"agents__icon--2EXnq",departmentNum:"agents__departmentNum--22zw1",agentDescription:"agents__agentDescription--aVF_w",chatContainer:"agents__chatContainer--1PjMq",headerSection:"agents__headerSection--1lCQD",messagesSection:"agents__messagesSection--37nkw",toolbarSection:"agents__toolbarSection--k6wTG",inputSection:"agents__inputSection--3Hrwt",avatar:"agents__avatar--ulse_",toolbar:"agents__toolbar--3991m",commonbtn:"agents__commonbtn--2Seh-",disable:"agents__disable--22B9f",noDataSection:"agents__noDataSection--gf-of",chatWindowContainer:"agents__chatWindowContainer--2RFOV"}},992:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAMAAAAOusbgAAAAPFBMVEW0tLSxsbGjoqKsrKy/v7+op6fS0tL4+Pj8/Pzz8/Po6Oi7urvY19fu7u7////ExMTLy8u3t7fc3Nzh4eFYEd3tAAACPElEQVR4XuzNRxEAIBAEQX57gYx/r7igeEwb6PIJAAAAYI16mqybPPbMV+0t1lyXZAVhIGyiyEWIoO//rufPqUptzc4gs0n4XqAr0B0DWFOgH5S8GRSbPf1COpV1d09vSJpVn4XeE7Kabg70kaJjs3ZTD39q6BbqE6q1Livb6jJBeLVveooXddhOzylNTncLNMAlJ1yIsdzmncYoUo72NIhQpjKNEmWEPQ0jssuVxkkSwom+QKCLHPQNu22WmAK2K82AkKftfb3Rd2TbMDEJTNsW41edCaCPszU1s84SBp0ZoM8Ck4Xtl3qW8Aqz4gSTGgjCpJaJkz4SFy5/JNBXnG7WIMDCpu6KuM6ZBDKb2rZpNpwzZhZcLc9sTEWYcmjzzi0CHH684HXKwTw6XGSINMTGBZtm+Uacct0UHYKYMCR6SmjoFjmg0ENOxEUSiE+ThLBYKrPuusgCa6Ee4WRdOcBdPT831hXFnZ4+cDnWla75Q9HlQPaVOIDtvas6+VW69tqwe3TQGfBrZ3fVpoKrV6/WmF20Kw4CVw+yZ7hqu9JM0S/YvuSN67V8uj5u6hDuQ0H2CtQn5KbzS0Ifvyv9ktAnirmsRhqjnOaybHC1HzD6BlcJrq7Bt5v+hN9lg6tr8CYgywYX6Be6Bt89CRKuQye4fXxuAsHVMfiZSIlYR4Or6TIOri6/t9HasbLaVicyoAi8jEs97jYyAV6DRCa82msnE+pLyReZkMHU1ExaO6Y2tLVDE9yLMBrxX+4fqbwdFs0D+1MAAAAASUVORK5CYII="}});
//# sourceMappingURL=agent-chat.51a8c.js.map