webpackJsonp([3],{1016:function(e,t,n){"use strict";var o=n(3),i=n.n(o),a=n(22),s=n.n(a),r=n(14),l=n.n(r),d=n(16),u=n.n(d),c=n(21),p=n.n(c),f=n(20),m=n.n(f),h=n(1),g=n.n(h),v=n(172),y=n(54),b=n(35),C=n.n(b),N=n(69),_=n(956),S=(n.n(_),n(2)),w=n(349),k=n(972),T=function(e){switch(e){case w.d:return"Audio Chat";case w.f:return"Audio Chat...";case w.e:return"Video Chat";case w.g:return"Video Chat...";case w.b:return"Audio Chat";default:return""}},P=function(e){return e===w.d||e===w.e},U=function(e){return e===w.d||e===w.e||e===w.f||e===w.g||e===w.b||e===w.c},M=function(e){return e===w.c},I=function(e){return e===w.b||e===w.c},x=function(e){return e===w.b||e===w.f||e===w.d?S.b.requestAudioChat:S.b.requestVideoChat},E=function(e,t){var n=e.getTime(),o=t.getTime();if(n<o)return"";var i=n-o;return v.default.utc(i).format(i<36e5?"mm:ss":"HH:mm:ss")},D=function(e){function t(e){l()(this,t);var n=p()(this,(t.__proto__||s()(t)).call(this,e));return I(e.audioVideoChatStatus)?n.state={timespan:E(new Date,e.audioVideoChatStartTime)}:n.state={timespan:""},n}return m()(t,e),u()(t,[{key:"componentWillMount",value:function(){I(this.props.audioVideoChatStatus)&&this.startClock()}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.audioVideoChatStatus,n=e.audioVideoChatStatus;t!==n&&(I(t)&&!I(n)&&clearInterval(this.clock),!I(t)&&I(n)&&this.startClock())}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.p2pChat;if(null!=t&&M(e.audioVideoChatStatus)&&this.videoContainer){var n=t.getLocalVideo();n&&(n.id="localVideo",n.className=_.default.localVideo,null==document.getElementById(n.id)&&this.videoContainer.appendChild(n));var o=t.getRemoteVideo();o&&(o.id="remoteVideo",o.className=_.default.remoteVideo,null==document.getElementById(o.id)&&this.videoContainer.appendChild(o))}}},{key:"componentWillUnmount",value:function(){clearInterval(this.clock),this.props.p2pChat&&(this.props.p2pChat.getLocalVideo().remove(),this.props.p2pChat.getRemoteVideo().remove())}},{key:"startClock",value:function(){var e=this;this.clock=setInterval(function(){return e.setState({timespan:E(new Date,e.props.audioVideoChatStartTime)})},1e3)}},{key:"render",value:function(){var e=this,t=this.props,n=M(t.audioVideoChatStatus),o=this.state.timespan;return i()("div",{className:C()(_.default.chatVideoContainer,n&&_.default.videoChatting)},void 0,i()("div",{className:_.default.chatVideoItem},void 0,n&&g.a.createElement("div",{className:_.default.videoContainer,ref:function(t){e.videoContainer=t}}),n&&i()("div",{className:_.default.chattingInfo},void 0,i()("div",{className:_.default.time},void 0,o.toString())),!n&&i()("div",{className:_.default.avatarContainer},void 0,i()(k.a,{isContactOrUserOpen:t.isContactOrUserOpen,avatarLink:t.avatarLink,identityType:t.identityType})),!n&&i()("div",{className:_.default.visitorName},void 0,t.chatTo),!n&&i()("div",{className:_.default.notice},void 0,i()(N.a,{type:x(t.audioVideoChatStatus)}),T(t.audioVideoChatStatus)+" "+o),i()("div",{className:_.default.action},void 0,P(t.audioVideoChatStatus)&&i()(y.a,{className:_.default.accept,onClick:t.onAcceptClick,type:"noborder"},void 0,i()(N.a,{type:S.b.acceptChat})),U(t.audioVideoChatStatus)&&i()(y.a,{className:_.default.refuse,type:"noborder",onClick:t.onRefuseClick},void 0,i()(N.a,{type:S.b.refuseChat})))))}}]),t}(g.a.Component);t.a=D},1017:function(e,t,n){"use strict";var o=n(3),i=n.n(o),a=n(22),s=n.n(a),r=n(14),l=n.n(r),d=n(16),u=n.n(d),c=n(21),p=n.n(c),f=n(20),m=n.n(f),h=n(23),g=n.n(h),v=n(119),y=n.n(v),b=n(6),C=n.n(b),N=n(1),_=n.n(N),S=n(35),w=n.n(S),k=n(125),T=(n.n(k),n(379)),P=n(54),U=n(956),M=(n.n(U),n(171)),I=n(1018),x=n(2),E=n(69),D=n(1016),F=n(349),O=n(765),j=function(e){var t;return(t={},g()(t,T.b,U.default.chatContentsmall),g()(t,T.a,U.default.chatContentmiddle),g()(t,T.c,U.default.chatContentlarge),t)[e]},A=function(e){return C()(e.last())&&0!==e.last().length?e.last()[0].sender:""},L=function(e){return C()(e.last())&&0!==e.last().length?e.last()[e.last().length-1].message||e.last()[e.last().length-1].fileName:""},R=i()(P.a,{type:"noborder"},void 0,"Not Now"),V=function(e){function t(e){l()(this,t);var n=p()(this,(t.__proto__||s()(t)).call(this,e));return n.state={ifShowGotoMeetingNotify:!1},n.update=n.update.bind(n),n.selectChatMessage=n.selectChatMessage.bind(n),n.closeGotoMeetingNotify=n.closeGotoMeetingNotify.bind(n),n.scrollBottom=n.scrollBottom.bind(n),n.getScrollHeight=n.getScrollHeight.bind(n),n.canShowNotify=!1,n.scrollTop=e.scrollTop,n.timer=null,n.ifScrollBottom=!1,n.notifyVisitor=A(e.messages),n.notifyMessage=L(e.messages),n}return m()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.parent.scrollTop=this.getScrollHeight(),this.parent.addEventListener("scroll",this.update,!1),document.body.addEventListener("keydown",this.selectChatMessage,!1)}},{key:"componentWillReceiveProps",value:function(e){var t=e.messages;this.notifyVisitor=A(t),this.notifyMessage=L(t),this.props.g2mStartUrl===e.g2mStartUrl||this.state.ifShowGotoMeetingNotify||this.setState({ifShowGotoMeetingNotify:!0}),this.scrollTop=e.scrollTop}},{key:"shouldComponentUpdate",value:function(e,t){return e.id!==this.props.id||e.selectedFontSize!==this.props.selectedFontSize||e.typingMessage!==this.props.typingMessage||e.textDirectionIfRTL!==this.props.textDirectionIfRTL||e.errorMessageForChat!==this.props.errorMessageForChat||e.g2mStartUrl!==this.props.g2mStartUrl||e.ifShowNotify!==this.props.ifShowNotify||e.audioVideoChatWidth!==this.props.audioVideoChatWidth||e.audioVideoChatStatus!==this.props.audioVideoChatStatus||t.ifShowGotoMeetingNotify!==this.state.ifShowGotoMeetingNotify||!y()(this.props.messages.toJS(),e.messages.toJS())}},{key:"componentDidUpdate",value:function(e){this.props.messages===e.messages&&this.props.typingMessage===e.typingMessage||(this.parent.scrollTop=this.getScrollHeight())}},{key:"componentWillUnmount",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null),this.parent.removeEventListener("scroll",this.update),document.body.removeEventListener("keydown",this.selectChatMessage)}},{key:"getScrollHeight",value:function(){return this.scrollTop===-1?this.parent.scrollHeight:this.scrollTop}},{key:"update",value:function(e){var t=this;this.scrollTop=e.target.scrollTop;var n=e.target.clientHeight,o=e.target.scrollHeight;this.canShowNotify=this.scrollTop+n<o-20,!this.canShowNotify&&this.props.ifShowNotify&&this.props.updateIfShowNotify(!1),this.canShowNotify?this.ifScrollBottom=!1:(this.timer&&(clearTimeout(this.timer),this.timer=null),this.ifScrollBottom=!0,this.props.onScroll(this.props.id,-1)),this.props.onScroll&&!this.ifScrollBottom&&(this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout(function(){t.props.onScroll(t.props.id,t.scrollTop)},500))}},{key:"selectChatMessage",value:function(e){if(e.ctrlKey&&(65===e.keyCode||97===e.keyCode)&&(e.target===document.body||e.target===this.parent)){if(document.selection){var t=document.body.createTextRange();t.moveToElementText(this.parent),t.select()}else if(window.getSelection){var n=window.getSelection();n.rangeCount>0&&n.removeAllRanges();var o=document.createRange();o.selectNode(this.parent),n.addRange(o)}e.preventDefault(),e.stopPropagation()}}},{key:"closeGotoMeetingNotify",value:function(){this.setState({ifShowGotoMeetingNotify:!1}),this.props.clearG2mStartUrl()}},{key:"scrollBottom",value:function(){this.parent.scrollTop=this.container.getBoundingClientRect().height,this.ifScrollBottom=!0,this.props.onScroll(this.props.id,-1)}},{key:"render",value:function(){var e=this,t=this.props,n=i()("div",{className:U.default.chatContentContainer},void 0,_.a.createElement("div",{className:w()(U.default.chatContent,j(t.selectedFontSize),t.textDirectionIfRTL?U.default.directionRTL:"","contentMenu"),ref:function(t){e.parent=t}},_.a.createElement("div",{ref:function(t){e.container=t}},t.messages.map(function(t,n){return i()(I.a,{messages:t,getSecureFormContent:e.props.getSecureFormContent,timezone:e.props.timezone,timezoneOffset:e.props.timezoneOffset},n)})),""!==t.typingMessage?i()("div",{className:U.default.typingIndicator},void 0,i()("span",{},void 0,t.chatTo," is typing: "),t.typingMessage,"...",i()(E.a,{type:x.b.typing,size:13})):null),this.props.ifShowNotify&&this.props.scrollTop!==-1&&i()("div",{className:U.default.notify,onClick:this.scrollBottom},void 0,i()("span",{className:U.default.notifyName},void 0,this.notifyVisitor,":")," ",this.notifyMessage),t.g2mStartUrl&&this.state.ifShowGotoMeetingNotify?i()("div",{className:w()(U.default.notify,U.default.notifyG2M)},void 0,"You have created a new meeting.",i()("span",{className:U.default.action,onClick:this.closeGotoMeetingNotify},void 0,i()(M.a,{href:t.g2mStartUrl,newWindow:!0},void 0,"Start Meeting Immediately"),R)):"",t.errorMessageForChat?i()("div",{className:U.default.error},void 0,i()("span",{className:U.default.errorContent},void 0,t.errorMessageForChat),i()(P.a,{type:"noborder",onClick:t.hideErrorMessage},void 0,"Dismiss")):"");return i()("div",{className:U.default.chatContainer},void 0,t.audioVideoChatStatus&&t.audioVideoChatStatus!==F.a?i()(O.default,{resizerPosition:"left",width:t.audioVideoChatWidth,left_minWidth:110,right_minWidth:110,onStopResize:t.onAudioAndVideoStopResize},void 0,i()(D.a,{audioVideoChatStatus:t.audioVideoChatStatus,chatTo:t.chatTo,avatarLink:t.visitorAvatar,isContactOrUserOpen:t.isContactOrUserOpen,identityType:t.identityType,onAcceptClick:this.props.onAudioVideoChatAccept,onRefuseClick:this.props.onAudioVideoChatRefuse,p2pChat:t.p2pChat,audioVideoChatStartTime:t.audioVideoChatStartTime}),n):i()("div",{},void 0,n))}}]),t}(_.a.Component);t.a=V},1018:function(e,t,n){"use strict";var o=n(22),i=n.n(o),a=n(14),s=n.n(a),r=n(16),l=n.n(r),d=n(21),u=n.n(d),c=n(20),p=n.n(c),f=n(3),m=n.n(f),h=n(1),g=n.n(h),v=n(35),y=n.n(v),b=n(89),C=n(171),N=n(243),_=n(159),S=n(956),w=(n.n(S),n(69)),k=n(2),T=m()("i",{},void 0,"(Translation)"),P=m()("br",{}),U=m()("i",{},void 0,"(Original)"),M=function(e){if(e.translatedMessage&&""!==e.translatedMessage){var t="",n="";return t=_.e(e.translatedMessage,function(e,t){var n=0===e.indexOf("www.")?"http://"+e:e;return m()(C.a,{href:n,newWindow:!0},t,e)}),n=_.e(e.message,function(e,t){var n=0===e.indexOf("www.")?"http://"+e:e;return m()(C.a,{href:n,newWindow:!0},t,e)}),m()("p",{},e.id,t," ",T,P,m()("span",{className:S.default.translationMsg},void 0,n)," ",U)}return m()("p",{},e.id,_.e(e.message,function(e,t){var n=0===e.indexOf("www.")?"http://"+e:e;return m()(C.a,{href:n,newWindow:!0},t,e)}))},I=function(e){return e.url?m()("div",{},e.id,m()(C.a,{href:e.url,newWindow:!0},e.id,m()("img",{src:e.url,alt:e.filename,style:{maxWidth:400,maxHeight:400}}))):null},x=function(e){return m()("div",{},e.id,m()(C.a,{className:S.default.attachment,href:e.url,newWindow:!0},e.id,e.fileName))},E=function(e){return e.message?M(e):e.url?e.isImage?I(e):x(e):null},D=function(e){function t(){return s()(this,t),u()(this,(t.__proto__||i()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"componentDidMount",value:function(){var e=this.props.messages[0];e.type===N.d&&e.message.status===k.n.init&&this.props.getSecureFormContent(e.message.token,e.message.rsaKey)}},{key:"shouldComponentUpdate",value:function(e){return e.messages!==this.props.messages}},{key:"render",value:function(){var e=this.props.messages,t=e[0].sender,o=n.i(b.f)(e[0].time,"HH:mm",this.props.timezone,this.props.timezoneOffset),i=e[0].type;return i===N.b?m()("div",{className:y()(S.default.systemMeg)},void 0,e[0].message):m()("div",{className:y()(S.default.chatContentInfo,i===N.c?S.default.operator:S.default.visitor)},void 0,i===N.d?m()("div",{className:S.default.secureForm},void 0,e[0].message.status===k.n.downloading||e[0].message.status===k.n.init?m()(w.a,{type:k.b.loading,size:"small"}):e[0].message.content.map(function(e){return m()("div",{},void 0,e.name,": ",e.value)})):m()("div",{},void 0,m()("div",{},void 0,m()("span",{className:S.default.name},void 0,t+": "),m()("span",{className:S.default.time},void 0,o)),m()("div",{className:S.default.chatMeg},void 0,e.map(function(e){return E(e)}))))}}]),t}(g.a.Component);t.a=D},1019:function(e,t,n){"use strict";var o=n(3),i=n.n(o),a=n(1),s=(n.n(a),n(1043)),r=n.n(s),l=(n(54),function(e){return i()("div",{className:r.a.uploadProgressContainer},void 0,e.fileUploadProgressNumber>0&&e.fileUploadProgressNumber<100?i()("div",{className:r.a.uploadProgress},void 0,i()("span",{className:r.a.uploadFileName},void 0,e.fileName),i()("span",{className:r.a.uploadProgressPercent},void 0,e.fileUploadProgressNumber,"%"),i()("button",{className:r.a.cancelUpload,onClick:function(){return e.handleAbortUpload(e.file)}},void 0,"Ã—")):"")});t.a=l},1021:function(e,t,n){"use strict";var o=n(47),i=n.n(o),a=n(3),s=n.n(a),r=n(22),l=n.n(r),d=n(14),u=n.n(d),c=n(16),p=n.n(c),f=n(21),m=n.n(f),h=n(20),g=n.n(h),v=n(1310),y=n.n(v),b=n(1),C=n.n(b),N=n(35),_=n.n(N),S=n(1316),w=n.n(S),k=n(221),T=(n.n(k),n(69)),P=n(2),U=n(17),M=n(1019),I=n.i(U.e)("SendFile",["disabled"],["file","fileName","fileUploadProgressNumber","uploadedFileNumber","errorMessage"]),x=function(e){function t(e){u()(this,t);var o=m()(this,(t.__proto__||l()(t)).call(this,e));return o.beforeUpload=function(e){var t=o.props.siteInfo;return e.size<=1024*t.maxFileSize*1024?o.state.uploadedFileNumber>t.maxFileNum?(o.showErrorMessage("Error sending file: The max number of files you can send/receive during this chat session is\n                          "+t.maxFileNum+"."),!1):!o.props.beforeUpload||o.props.beforeUpload(e):(o.showErrorMessage("Error sending file: The max file size is "+t.maxFileSize+" MB."),!1)},o.onProgress=function(e,t){o.props.onProgress&&o.props.onProgress(e,t,o.upload),o.setState({file:t,fileName:t.name,fileUploadProgressNumber:100===e.percent?100:parseFloat(e.percent.toFixed(1))})},o.onSuccess=function(e,t){if(e&&("success"===e||e.isSuccess))return o.setState({uploadedFileNumber:o.state.uploadedFileNumber+1}),void(o.props.onSuccess&&o.props.onSuccess(e,t,o.getDownloadUrl(e.guid,t.name),o.props.siteInfo));var n=e.errorMessage||e;o.showErrorMessage("Error sending file: "+n)},o.getDownloadUrl=function(e,t){if(!o.props.siteInfo)return"";var i=o.props.siteInfo,a=i.downloadUrl,s=i.sessionId,r=i.siteId,l=i.privateMessage;return n.i(U.m)(a,s,r,l,e,t)},o.handleAbortUpload=function(e){o.upload&&o.upload.abort(e),o.setState({fileUploadProgressNumber:0})},o.state={file:null,fileName:"",fileUploadProgressNumber:0,uploadedFileNumber:0,errorMessage:""},o.upload=null,o.showErrorMessage=e.showErrorMessage.bind(null,e.chatId),o.uploadConfig={action:e.siteInfo.sendFileUploadUrl,multiple:!1,disabled:e.disabled,beforeUpload:o.beforeUpload,onStart:e.onStart||y.a,onSuccess:o.onSuccess,onProgress:o.onProgress,onError:e.onError||y.a},o}return g()(t,e),p()(t,[{key:"componentWillReceiveProps",value:function(e){this.uploadConfig.action=e.siteInfo.sendFileUploadUrl,this.uploadConfig.disabled=e.disabled,e.chatId!==this.props.chatId&&(this.showErrorMessage=this.props.showErrorMessage.bind(null,e.chatId))}},{key:"shouldComponentUpdate",value:function(e,t){return I(this.props,e,this.state,t)}},{key:"render",value:function(){var e=this;return this.uploadConfig.disabled=this.props.disabled,this.props.disabled||(100!==this.state.fileUploadProgressNumber&&0!==this.state.fileUploadProgressNumber?this.uploadConfig.disabled=!0:this.uploadConfig.disabled=!1),s()("div",{},void 0,s()(M.a,{file:this.state.file,fileName:this.state.fileName,fileUploadProgressNumber:this.state.fileUploadProgressNumber,handleAbortUpload:this.handleAbortUpload}),s()("span",{className:_()(k.default.fileupload,this.props.className),"data-tip":"Send a file from your local machine.","data-for":"chatContainer"},void 0,C.a.createElement(w.a,i()({ref:function(t){e.upload=t}},this.uploadConfig),s()(T.a,{type:P.b.sendFile}))))}}]),t}(b.Component);t.a=x},1026:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return a});var o=2,i=3,a=6},1043:function(e,t){e.exports={uploadProgressContainer:"FileUploadProgress__uploadProgressContainer--2X8I6",uploadProgress:"FileUploadProgress__uploadProgress--z1S5B",uploadProgressPercent:"FileUploadProgress__uploadProgressPercent--2Kuai",uploadProgressBarContainer:"FileUploadProgress__uploadProgressBarContainer--1y0Vz",uploadProgressBar:"FileUploadProgress__uploadProgressBar--1Y9LY",cancelUpload:"FileUploadProgress__cancelUpload--1YVmG",uploadFileName:"FileUploadProgress__uploadFileName--3j-Sc"}},1310:function(e,t){function n(){}e.exports=n},1313:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(47),a=o(i),s=n(23),r=o(s),l=n(1),d=o(l),u=n(35),c=o(u),p=n(1317),f=o(p),m=n(987),h=o(m),g=d.default.createClass({displayName:"AjaxUploader",propTypes:{component:l.PropTypes.string,style:l.PropTypes.object,prefixCls:l.PropTypes.string,className:l.PropTypes.string,multiple:l.PropTypes.bool,disabled:l.PropTypes.bool,accept:l.PropTypes.string,children:l.PropTypes.any,onStart:l.PropTypes.func,data:l.PropTypes.oneOfType([l.PropTypes.object,l.PropTypes.func]),headers:l.PropTypes.object,beforeUpload:l.PropTypes.func,customRequest:l.PropTypes.func,onProgress:l.PropTypes.func,withCredentials:l.PropTypes.bool},getInitialState:function(){return this.reqs={},{uid:(0,h.default)()}},componentWillUnmount:function(){this.abort()},onChange:function(e){var t=e.target.files;this.uploadFiles(t),this.reset()},onClick:function(){var e=this.refs.file;e&&e.click()},onKeyDown:function(e){"Enter"===e.key&&this.onClick()},onFileDrop:function(e){if("dragover"===e.type)return void e.preventDefault();var t=e.dataTransfer.files;this.uploadFiles(t),e.preventDefault()},uploadFiles:function(e){for(var t=Array.prototype.slice.call(e),n=t.length,o=0;o<n;o++){var i=t[o];i.uid=(0,h.default)(),this.upload(i,t)}},upload:function(e,t){var n=this,o=this.props;if(!o.beforeUpload)return setTimeout(function(){return n.post(e)},0);var i=o.beforeUpload(e,t);i&&i.then?i.then(function(t){var o=Object.prototype.toString.call(t);"[object File]"===o||"[object Blob]"===o?n.post(t):n.post(e)}).catch(function(e){console&&console.log(e)}):i!==!1&&setTimeout(function(){return n.post(e)},0)},post:function(e){var t=this;if(this.isMounted()){var n=this.props,o=n.data,i=n.onStart,a=n.onProgress;"function"==typeof o&&(o=o(e));var s=e.uid,r=n.customRequest||f.default;this.reqs[s]=r({action:n.action,filename:n.name,file:e,data:o,headers:n.headers,withCredentials:n.withCredentials,onProgress:a?function(t){a(t,e)}:null,onSuccess:function(o){delete t.reqs[s],n.onSuccess(o,e)},onError:function(o,i){delete t.reqs[s],n.onError(o,i,e)}}),i(e)}},reset:function(){this.setState({uid:(0,h.default)()})},abort:function(e){var t=this.reqs;if(e){var n=e;e&&e.uid&&(n=e.uid),t[n]&&(t[n].abort(),delete t[n])}else Object.keys(t).forEach(function(e){t[e]&&t[e].abort(),delete t[e]})},render:function(){var e,t=this.props,n=t.component,o=t.prefixCls,i=t.className,s=t.disabled,l=t.style,u=t.multiple,p=t.accept,f=t.children,m=(0,c.default)((e={},(0,r.default)(e,o,!0),(0,r.default)(e,o+"-disabled",s),(0,r.default)(e,i,i),e)),h=s?{}:{onClick:this.onClick,onKeyDown:this.onKeyDown,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,tabIndex:"0"};return d.default.createElement(n,(0,a.default)({},h,{className:m,role:"button",style:l}),d.default.createElement("input",{type:"file",ref:"file",key:this.state.uid,style:{display:"none"},accept:p,multiple:u,onChange:this.onChange}),f)}});t.default=g,e.exports=t.default},1314:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(23),a=o(i),s=n(47),r=o(s),l=n(1),d=o(l),u=n(88),c=o(u),p=n(35),f=o(p),m=n(987),h=o(m),g=n(1326),v=o(g),y={position:"absolute",top:0,opacity:0,filter:"alpha(opacity=0)",left:0,zIndex:9999},b=d.default.createClass({displayName:"IframeUploader",propTypes:{component:l.PropTypes.string,style:l.PropTypes.object,disabled:l.PropTypes.bool,prefixCls:l.PropTypes.string,className:l.PropTypes.string,accept:l.PropTypes.string,onStart:l.PropTypes.func,multiple:l.PropTypes.bool,children:l.PropTypes.any,data:l.PropTypes.oneOfType([l.PropTypes.object,l.PropTypes.func]),action:l.PropTypes.string,name:l.PropTypes.string},getInitialState:function(){return this.file={},{uploading:!1}},componentDidMount:function(){this.updateIframeWH(),this.initIframe()},componentDidUpdate:function(){this.updateIframeWH()},onLoad:function(){if(this.state.uploading){var e=this.props,t=this.file,n=void 0;try{var o=this.getIframeDocument(),i=o.getElementsByTagName("script")[0];i&&i.parentNode===o.body&&o.body.removeChild(i),n=o.body.innerHTML,e.onSuccess(n,t)}catch(o){(0,v.default)(!1,"cross domain error for Upload. Maybe server should return document.domain script. see Note from https://github.com/react-component/upload"),n="cross-domain",e.onError(o,null,t)}this.endUpload()}},onChange:function(){var e=this,t=this.getFormInputNode(),n=this.file={uid:(0,h.default)(),name:t.value};this.startUpload();var o=this.props;if(!o.beforeUpload)return this.post(n);var i=o.beforeUpload(n);i&&i.then?i.then(function(){e.post(n)},function(){e.endUpload()}):i!==!1?this.post(n):this.endUpload()},getIframeNode:function(){return this.refs.iframe},getIframeDocument:function(){return this.getIframeNode().contentDocument},getFormNode:function(){return this.getIframeDocument().getElementById("form")},getFormInputNode:function(){return this.getIframeDocument().getElementById("input")},getFormDataNode:function(){return this.getIframeDocument().getElementById("data")},getFileForMultiple:function(e){return this.props.multiple?[e]:e},getIframeHTML:function(e){var t="",n="";if(e){t='<script>document.domain="'+e+'";</script>',n='<input name="_documentDomain" value="'+e+'" />'}return'\n    <!DOCTYPE html>\n    <html>\n    <head>\n    <meta http-equiv="X-UA-Compatible" content="IE=edge" />\n    <style>\n    body,html {padding:0;margin:0;border:0;overflow:hidden;}\n    </style>\n    '+t+'\n    </head>\n    <body>\n    <form method="post"\n    encType="multipart/form-data"\n    action="'+this.props.action+'" id="form"\n    style="display:block;height:9999px;position:relative;overflow:hidden;">\n    <input id="input" type="file"\n     name="'+this.props.name+'"\n     style="position:absolute;top:0;right:0;height:9999px;font-size:9999px;cursor:pointer;"/>\n    '+n+'\n    <span id="data"></span>\n    </form>\n    </body>\n    </html>\n    '},initIframeSrc:function(){this.domain&&(this.getIframeNode().src="javascript:void((function(){\n        var d = document;\n        d.open();\n        d.domain='"+this.domain+"';\n        d.write('');\n        d.close();\n      })())")},initIframe:function(){var e=this.getIframeNode(),t=e.contentWindow,n=void 0;this.domain=this.domain||"",this.initIframeSrc();try{n=t.document}catch(o){this.domain=document.domain,this.initIframeSrc(),t=e.contentWindow,n=t.document}n.open("text/html","replace"),n.write(this.getIframeHTML(this.domain)),n.close(),this.getFormInputNode().onchange=this.onChange},endUpload:function(){this.state.uploading&&(this.file={},this.state.uploading=!1,this.setState({uploading:!1}),this.initIframe())},startUpload:function(){this.state.uploading||(this.state.uploading=!0,this.setState({uploading:!0}))},updateIframeWH:function(){var e=c.default.findDOMNode(this),t=this.getIframeNode();t.style.height=e.offsetHeight+"px",t.style.width=e.offsetWidth+"px"},abort:function(e){if(e){var t=e;e&&e.uid&&(t=e.uid),t===this.file.uid&&this.endUpload()}else this.endUpload()},post:function(e){var t=this.getFormNode(),n=this.getFormDataNode(),o=this.props.data,i=this.props.onStart;"function"==typeof o&&(o=o(e));var a=[];for(var s in o)o.hasOwnProperty(s)&&a.push('<input name="'+s+'" value="'+o[s]+'"/>');n.innerHTML=a.join(""),t.submit(),n.innerHTML="",i(e)},render:function(){var e,t=this.props,n=t.component,o=t.disabled,i=t.className,s=t.prefixCls,l=t.children,u=t.style,c=(0,r.default)({},y,{display:this.state.uploading||o?"none":""}),p=(0,f.default)((e={},(0,a.default)(e,s,!0),(0,a.default)(e,s+"-disabled",o),(0,a.default)(e,i,i),e));return d.default.createElement(n,{className:p,style:(0,r.default)({position:"relative",zIndex:0},u)},d.default.createElement("iframe",{ref:"iframe",onLoad:this.onLoad,style:c}),l)}});t.default=b,e.exports=t.default},1315:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(){}Object.defineProperty(t,"__esModule",{value:!0});var a=n(47),s=o(a),r=n(1),l=o(r),d=n(1313),u=o(d),c=n(1314),p=o(c),f=l.default.createClass({displayName:"Upload",propTypes:{component:r.PropTypes.string,style:r.PropTypes.object,prefixCls:r.PropTypes.string,action:r.PropTypes.string,name:r.PropTypes.string,multipart:r.PropTypes.bool,onError:r.PropTypes.func,onSuccess:r.PropTypes.func,onProgress:r.PropTypes.func,onStart:r.PropTypes.func,data:r.PropTypes.oneOfType([r.PropTypes.object,r.PropTypes.func]),headers:r.PropTypes.object,accept:r.PropTypes.string,multiple:r.PropTypes.bool,disabled:r.PropTypes.bool,beforeUpload:r.PropTypes.func,customRequest:r.PropTypes.func,onReady:r.PropTypes.func,withCredentials:r.PropTypes.bool,supportServerRender:r.PropTypes.bool},getDefaultProps:function(){return{component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onReady:i,onStart:i,onError:i,onSuccess:i,supportServerRender:!1,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1}},getInitialState:function(){return{Component:null}},componentDidMount:function(){this.props.supportServerRender&&this.setState({Component:this.getComponent()},this.props.onReady)},getComponent:function(){return"undefined"!=typeof FormData?u.default:p.default},abort:function(e){this.refs.inner.abort(e)},render:function(){if(this.props.supportServerRender){var e=this.state.Component;return e?l.default.createElement(e,(0,s.default)({},this.props,{ref:"inner"})):null}var t=this.getComponent();return l.default.createElement(t,(0,s.default)({},this.props,{ref:"inner"}))}});t.default=f,e.exports=t.default},1316:function(e,t,n){"use strict";e.exports=n(1315)},1317:function(e,t,n){"use strict";function o(e,t){var n="cannot post "+e.action+" "+t.status+"'",o=new Error(n);return o.status=t.status,o.method="post",o.url=e.action,o}function i(e){var t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch(e){return t}}function a(e){var t=new XMLHttpRequest;e.onProgress&&t.upload&&(t.upload.onprogress=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),e.onProgress(t)});var n=new FormData;e.data&&Object.keys(e.data).map(function(t){n.append(t,e.data[t])}),n.append(e.filename,e.file),t.onerror=function(t){e.onError(t)},t.onload=function(){if(t.status<200||t.status>=300)return e.onError(o(e,t),i(t));e.onSuccess(i(t))},t.open("post",e.action,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);var a=e.headers||{};null!==a["X-Requested-With"]&&t.setRequestHeader("X-Requested-With","XMLHttpRequest");for(var s in a)a.hasOwnProperty(s)&&null!==a[s]&&t.setRequestHeader(s,a[s]);return t.send(n),{abort:function(){t.abort()}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a,e.exports=t.default},1324:function(e,t){throw new Error("Module build failed: Error: The system cannot find the path specified.\r\n\n    at notFoundError (C:\\Users\\roy\\comm100\\vm\\node_modules\\exec-buffer\\node_modules\\cross-spawn\\lib\\enoent.js:11:11)\n    at verifyENOENT (C:\\Users\\roy\\comm100\\vm\\node_modules\\exec-buffer\\node_modules\\cross-spawn\\lib\\enoent.js:46:16)\n    at ChildProcess.cp.emit (C:\\Users\\roy\\comm100\\vm\\node_modules\\exec-buffer\\node_modules\\cross-spawn\\lib\\enoent.js:33:19)\n    at Process.ChildProcess._handle.onexit (internal/child_process.js:215:12)")},1325:function(e,t){throw new Error("Module build failed: Error: The system cannot find the path specified.\r\n\n    at notFoundError (C:\\Users\\roy\\comm100\\vm\\node_modules\\exec-buffer\\node_modules\\cross-spawn\\lib\\enoent.js:11:11)\n    at verifyENOENT (C:\\Users\\roy\\comm100\\vm\\node_modules\\exec-buffer\\node_modules\\cross-spawn\\lib\\enoent.js:46:16)\n    at ChildProcess.cp.emit (C:\\Users\\roy\\comm100\\vm\\node_modules\\exec-buffer\\node_modules\\cross-spawn\\lib\\enoent.js:33:19)\n    at Process.ChildProcess._handle.onexit (internal/child_process.js:215:12)")},1326:function(e,t,n){"use strict";var o=function(){};e.exports=o},1335:function(e,t,n){"use strict";var o=n(3),i=n.n(o),a=n(22),s=n.n(a),r=n(14),l=n.n(r),d=n(16),u=n.n(d),c=n(21),p=n.n(c),f=n(20),m=n.n(f),h=n(119),g=n.n(h),v=n(1),y=n.n(v),b=n(954),C=(n.n(b),n(1452)),N=(n(2),function(e){function t(){return l()(this,t),p()(this,(t.__proto__||s()(t)).apply(this,arguments))}return m()(t,e),u()(t,[{key:"shouldComponentUpdate",value:function(e){return!g()(e.agents,this.props.agents)}},{key:"render",value:function(){var e=this;return i()("div",{className:b.default.listsection},void 0,this.props.agents.map(function(t){return i()(C.a,{agent:t,onItemClick:e.props.onItemClick},t.id)}))}}]),t}(y.a.Component));t.a=N},1449:function(e,t,n){"use strict";var o=n(3),i=n.n(o),a=n(1),s=(n.n(a),n(954)),r=(n.n(s),n(1335)),l=n(1451),d=(n(2),function(e){return i()("div",{className:s.default.agentsSection},void 0,e.isDepartment?e.agentData.map(function(t){return i()(l.a,{department:t,onDepartmentClick:e.onDepartmentClick,onItemClick:e.onItemClick},t.id)}):i()(r.a,{agents:e.agentData,onItemClick:e.onItemClick}))});t.a=d},1450:function(e,t,n){"use strict";var o=n(3),i=n.n(o),a=n(22),s=n.n(a),r=n(14),l=n.n(r),d=n(16),u=n.n(d),c=n(21),p=n.n(c),f=n(20),m=n.n(f),h=n(136),g=n.n(h),v=n(1),y=(n.n(v),n(35)),b=n.n(y),C=n(954),N=(n.n(C),n(972)),_=n(1453),S=n(54),w=function(e){function t(e){l()(this,t);var n=p()(this,(t.__proto__||s()(t)).call(this));return n.avatarLink=g()(e.agent.avatarLink)?"":e.agent.avatarLink+"&"+Date.now(),n}return m()(t,e),u()(t,[{key:"componentWillReceiveProps",value:function(e){if(g()(e.agent.avatarLink))return void(this.avatarLink="");this.avatarLink=e.agent.avatarLink+"&"+Date.now()}},{key:"shouldComponentUpdate",value:function(e){return this.props.agent.avatarLink!==e.agent.avatarLink||this.props.agent.name!==e.agent.name||this.props.agent.ifDisableKickOff!==e.agent.ifDisableKickOff||this.props.agent.ifDisableSetAway!==e.agent.ifDisableSetAway}},{key:"render",value:function(){var e=this;return i()("div",{},void 0,i()("div",{className:C.default.avatar},void 0,i()(N.a,{avatarLink:this.avatarLink}),i()("span",{},void 0,this.props.agent.name)),i()("div",{className:C.default.toolbar},void 0,i()(_.a,{onKickOff:function(){return e.props.onKickOff(e.props.agent)},className:C.default.commonbtn,disabled:this.props.agent.ifDisableKickOff}),i()(S.a,{text:"Set Away",type:"default",disabled:this.props.agent.ifDisableSetAway,onClick:function(){return e.props.onSetAway(e.props.agent)},className:b()(C.default.commonbtn,this.props.agent.ifDisableSetAway&&C.default.disable)})))}}]),t}(v.Component);t.a=w},1451:function(e,t,n){"use strict";var o=n(3),i=n.n(o),a=n(22),s=n.n(a),r=n(14),l=n.n(r),d=n(16),u=n.n(d),c=n(21),p=n.n(c),f=n(20),m=n.n(f),h=n(119),g=n.n(h),v=n(1),y=n.n(v),b=n(35),C=n.n(b),N=n(954),_=(n.n(N),n(69)),S=n(2),w=n(1335),k=function(e){function t(){return l()(this,t),p()(this,(t.__proto__||s()(t)).apply(this,arguments))}return m()(t,e),u()(t,[{key:"shouldComponentUpdate",value:function(e){return e.department.name!==this.props.department.name||e.department.selected!==this.props.department.selected||e.department.opened!==this.props.department.opened||!g()(this.props.department.agents,e.department.agents)}},{key:"render",value:function(){var e=this;return i()("div",{className:C()(N.default.departmentsection,this.props.department.selected&&N.default.selectedDpt,this.props.department.opened&&N.default.opened)},void 0,i()("div",{className:N.default.departmentitem,onClick:function(t){t.stopPropagation(),e.props.onDepartmentClick(e.props.department)}},void 0,i()("div",{className:N.default.icon},void 0,this.props.department.agents.length>0&&i()(_.a,{type:S.b.arrowDown,className:N.default.depSpread})),i()("div",{className:N.default.description},void 0,i()("span",{},void 0,this.props.department.name),i()("span",{className:N.default.departmentNum},void 0,"(Online: "+this.props.department.onlineNum+", Away: "+this.props.department.awayNum+")"))),this.props.department.opened&&i()(w.a,{agents:this.props.department.agents,onItemClick:this.props.onItemClick}))}}]),t}(y.a.Component);t.a=k},1452:function(e,t,n){"use strict";var o=n(3),i=n.n(o),a=n(22),s=n.n(a),r=n(14),l=n.n(r),d=n(16),u=n.n(d),c=n(21),p=n.n(c),f=n(20),m=n.n(f),h=n(119),g=n.n(h),v=n(1),y=n.n(v),b=n(35),C=n.n(b),N=n(954),_=(n.n(N),n(69)),S=(n(2),n(818)),w=function(e){function t(){return l()(this,t),p()(this,(t.__proto__||s()(t)).apply(this,arguments))}return m()(t,e),u()(t,[{key:"shouldComponentUpdate",value:function(e){return!g()(e.agent,this.props.agent)}},{key:"render",value:function(){var e=this;return i()("div",{className:C()(N.default.agentitem,this.props.agent.selected&&N.default.selected),onClick:function(t){t.stopPropagation(),e.props.onItemClick(e.props.agent)}},void 0,i()(_.a,{type:this.props.agent.icon.type,color:this.props.agent.icon.color,size:16}),i()("span",{className:N.default.agentName},void 0,this.props.agent.name),i()("span",{className:N.default.agentDescription},void 0,this.props.agent.description),i()(S.a,{number:this.props.agent.unreadMessage,customClass:N.default.unreadmessage}))}}]),t}(y.a.Component);t.a=w},1453:function(e,t,n){"use strict";var o=n(3),i=n.n(o),a=n(22),s=n.n(a),r=n(14),l=n.n(r),d=n(16),u=n.n(d),c=n(21),p=n.n(c),f=n(20),m=n.n(f),h=n(1),g=n.n(h),v=n(35),y=n.n(v),b=n(54),C=n(954),N=(n.n(C),n(1489)),_=function(e){function t(){l()(this,t);var e=p()(this,(t.__proto__||s()(t)).call(this));return e.state={open:!1},e.openModal=e.openModal.bind(e),e.closeModal=e.closeModal.bind(e),e}return m()(t,e),u()(t,[{key:"closeModal",value:function(){this.setState({open:!1})}},{key:"openModal",value:function(){this.setState({open:!0})}},{key:"render",value:function(){var e=this;return i()("div",{className:this.props.className},void 0,i()(b.a,{text:"Kick Off",type:"default",className:y()(C.default.btnAction,this.props.disabled&&C.default.disable),disabled:this.props.disabled,onClick:function(){return e.openModal()}}),this.state.open&&i()(N.a,{onKickOff:this.props.onKickOff,closeModal:this.closeModal}))}}]),t}(g.a.Component);t.a=_},1454:function(e,t,n){"use strict";var o=n(3),i=n.n(o),a=n(1),s=(n.n(a),n(954)),r=(n.n(s),i()("h1",{},void 0,"You are alone here :(")),l=function(e){return i()("div",{className:s.default.noDataSection},void 0,i()("div",{},void 0,r,"Need more hands? ",i()("span",{onClick:function(){return e.addMoreAgents(e.siteInfo)}},void 0,"Add Agents Now.")))};t.a=l},1489:function(e,t,n){"use strict";var o=n(3),i=n.n(o),a=n(22),s=n.n(a),r=n(14),l=n.n(r),d=n(16),u=n.n(d),c=n(21),p=n.n(c),f=n(20),m=n.n(f),h=n(1),g=n.n(h),v=n(100),y=n(99),b=(n.n(y),i()("br",{})),C=function(e){function t(e){l()(this,t);var n=p()(this,(t.__proto__||s()(t)).call(this,e));return n.handleKickOff=n.handleKickOff.bind(n),n}return m()(t,e),u()(t,[{key:"handleKickOff",value:function(){this.props.onKickOff(),this.props.closeModal()}},{key:"render",value:function(){var e=this;return i()(v.a,{closeModal:this.props.closeModal,title:"Comm100 Live Chat",actions:{okProps:{text:"Yes",eventClick:function(){e.handleKickOff()}},cancelProps:{text:"No"}}},void 0,i()("span",{className:y.default.description},void 0,"If you kick off this agent, his ongoing chats will be ended.",b,"Are you sure you want to continue?"))}}]),t}(g.a.Component);t.a=C},1568:function(e,t,n){"use strict";function o(e,t,o){return n.i(v.l)(e,t,o,1,n.i(y.a)())}var i=n(4),a=n.n(i),s=n(53),r=n.n(s),l=n(983),d=n.n(l),u=n(70),c=(n.n(u),n(1021)),p=n(5),f=n(975),m=n(132),h=n(988),g=n(71),v=n(17),y=n(617),b=n(2),C={},N=function(e){if(d()(p._41(e))||p._41(e)===b.l)return{chatId:b.l,ifDisplay:!0,disabled:!0,siteInfo:{}};var t=f.a(e),n=r()(t,2),i=n[0],s=n[1];if(!f.b(e,i,s)){var l=a()({},C);return l.disabled=!0,l}var u=p._73(e),c=p._75(e),m=p.F(e),h=o(u,c,m);return C={chatId:s,ifDisplay:!0,disabled:!f.c(e,i,s),siteInfo:{id:s,isAgent:i,sendFileUploadUrl:h,sessionId:c,siteId:m,privateMessage:1,sendToIds:f.d(e,i,s),downloadUrl:p._74(e),maxFileSize:p.Y(e)}}},_=function(e){return{onSuccess:function(t,o,i,a){e(h.c(f.e(a.id,a.sendToIds,a.isAgent),i,o.name,n.i(m.b)(o.name))),a.sendToIds.forEach(function(n){e(g.v(n,o.name,t.guid))})},showErrorMessage:function(t,n){e(h.d(t,n))}}};t.a=n.i(u.connect)(N,_)(c.a)},1569:function(e,t,n){"use strict";var o=n(47),i=n.n(o),a=n(983),s=n.n(a),r=n(70),l=(n.n(r),n(125)),d=n.n(l),u=n(1017),c=n(988),p=n(975),f=n(5),m=n(2),h=n(379),g=function(e){return s()(f._41(e))||f._41(e)===m.l?{id:m.l,selectedFontSize:h.a,chatTo:"",typingMessage:"",scrollTop:-1,messages:d.a.List(),textDirectionIfRTL:f._71(e),errorMessageForChat:""}:n.i(p.f)(e)},v=function(e,t){var n=t.dispatch,o={onScroll:function(e,t){n(c.e(e,t))},hideErrorMessage:function(){n(c.d(e.id,""))}};return i()({},e,o)};t.a=n.i(r.connect)(g,null,v)(u.a)},1570:function(e,t,n){"use strict";var o=n(983),i=n.n(o),a=n(70),s=(n.n(a),n(1450)),r=n(975),l=n(71),d=n(2),u=n(631),c=n(5),p=function(e){return i()(c._41(e))||c._41(e)===d.l?{agent:{id:d.l,ifCurrentAgent:!1,avatarLink:"",name:"",ifDisableKickOff:!0,ifDisableSetAway:!0}}:n.i(r.g)(e)},f=function(e){return{onKickOff:function(t){if(t.ifCurrentAgent)return void e(n.i(l.a)());e(n.i(l.w)(t.id,d.a.offline)),e(n.i(u.b)(t.id,!0))},onSetAway:function(t){e(n.i(l.w)(t.id,d.a.away)),t.ifCurrentAgent&&e(n.i(l.c)({status:d.a.away}))}}};t.a=n.i(a.connect)(p,f)(s.a)},1571:function(e,t,n){"use strict";var o=n(70),i=(n.n(o),n(1449)),a=n(395),s=n(631),r=function(e){return n.i(a.b)(e)},l=function(e){return{onDepartmentClick:function(t){n.i(a.a)(!1),e(n.i(s.c)(t.id))},onItemClick:function(t){e(n.i(s.b)(t.id))}}};t.a=n.i(o.connect)(r,l)(i.a)},1572:function(e,t,n){"use strict";var o=n(70),i=(n.n(o),n(1454)),a=n(380),s=function(e){var t=a.b(e);return{siteInfo:{isWeb:t.isWeb,loginUrl:t.loginUrl,autoLoginUrl:t.autoLoginUrl,addAgentsUrl:t.addAgentsUrl}}},r=function(){return{addMoreAgents:function(e){a.e(e)}}};t.a=n.i(o.connect)(s,r)(i.a)},1584:function(e,t,n){"use strict";var o=n(91),i=n.n(o),a=n(3),s=n.n(a),r=n(1),l=(n.n(r),n(381)),d=n(384);t.a=function(){return s()(l.a,{modules:{AgentChatTextEditor:function(){return n.i(l.b)(new i.a(function(e,t){n.e(1).then(function(t){e(n(1346))}.bind(null,n)).catch(n.oe).catch(t)}))}},loading:d.a},void 0,function(e){var t=e.AgentChatTextEditor;return s()(t,{})})}},833:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),i=n.n(o),a=n(22),s=n.n(a),r=n(14),l=n.n(r),d=n(16),u=n.n(d),c=n(21),p=n.n(c),f=n(20),m=n.n(f),h=n(1),g=n.n(h),v=n(35),y=n.n(v),b=n(158),C=(n.n(b),n(765)),N=n(1571),_=n(1570),S=n(1584),w=n(1569),k=n(1568),T=n(954),P=(n.n(T),n(1572)),U=i()(N.a,{}),M=i()(_.a,{}),I=i()(w.a,{}),x=i()("ul",{},void 0,i()(k.a,{})),E=i()(S.a,{}),D=i()(P.a,{}),F=function(e){function t(){return l()(this,t),p()(this,(t.__proto__||s()(t)).apply(this,arguments))}return m()(t,e),u()(t,[{key:"shouldComponentUpdate",value:function(e){return e.agentNumber!==this.props.agentNumber||e.selectedAgentChatId!==this.props.selectedAgentChatId||e.agentsWidth!==this.props.agentsWidth}},{key:"render",value:function(){var e=this.props,t=e.agentsWidth,n=e.agentNumber,o=e.onAgentsStopResize;return i()("div",{className:b.default.layoutContent,id:"agents"},void 0,n>1?i()(C.default,{resizerPosition:"left",width:t,left_minWidth:190,left_maxWidth:350,right_minWidth:360,onStopResize:o},void 0,U,i()("div",{},void 0,i()("div",{className:y()(T.default.headerSection,b.default.clearfix)},void 0,M),i()("div",{className:T.default.chatWindowContainer},void 0,I,i()("div",{className:T.default.toolbarSection},void 0,x),i()("div",{style:{position:"absolute",width:"100%",height:175,bottom:0,minHeight:40}},void 0,E)))):D)}}]),t}(g.a.Component);t.default=F},954:function(e,t){throw new Error("Module build failed: ModuleBuildError: Module build failed: Error: The system cannot find the path specified.\r\n\n    at notFoundError (C:\\Users\\roy\\comm100\\vm\\node_modules\\exec-buffer\\node_modules\\cross-spawn\\lib\\enoent.js:11:11)\n    at verifyENOENT (C:\\Users\\roy\\comm100\\vm\\node_modules\\exec-buffer\\node_modules\\cross-spawn\\lib\\enoent.js:46:16)\n    at ChildProcess.cp.emit (C:\\Users\\roy\\comm100\\vm\\node_modules\\exec-buffer\\node_modules\\cross-spawn\\lib\\enoent.js:33:19)\n    at Process.ChildProcess._handle.onexit (internal/child_process.js:215:12)\n    at runLoaders (C:\\Users\\roy\\comm100\\vm\\node_modules\\webpack\\lib\\NormalModule.js:176:19)\n    at C:\\Users\\roy\\comm100\\vm\\node_modules\\loader-runner\\lib\\LoaderRunner.js:364:11\n    at C:\\Users\\roy\\comm100\\vm\\node_modules\\loader-runner\\lib\\LoaderRunner.js:230:18\n    at context.callback (C:\\Users\\roy\\comm100\\vm\\node_modules\\loader-runner\\lib\\LoaderRunner.js:111:13)\n    at imagemin.buffer.then.catch.err (C:\\Users\\roy\\comm100\\vm\\node_modules\\image-webpack-loader\\index.js:58:9)")},956:function(e,t){throw new Error("Module build failed: ModuleBuildError: Module build failed: Error: The system cannot find the path specified.\r\n\n    at notFoundError (C:\\Users\\roy\\comm100\\vm\\node_modules\\exec-buffer\\node_modules\\cross-spawn\\lib\\enoent.js:11:11)\n    at verifyENOENT (C:\\Users\\roy\\comm100\\vm\\node_modules\\exec-buffer\\node_modules\\cross-spawn\\lib\\enoent.js:46:16)\n    at ChildProcess.cp.emit (C:\\Users\\roy\\comm100\\vm\\node_modules\\exec-buffer\\node_modules\\cross-spawn\\lib\\enoent.js:33:19)\n    at Process.ChildProcess._handle.onexit (internal/child_process.js:215:12)\n    at runLoaders (C:\\Users\\roy\\comm100\\vm\\node_modules\\webpack\\lib\\NormalModule.js:176:19)\n    at C:\\Users\\roy\\comm100\\vm\\node_modules\\loader-runner\\lib\\LoaderRunner.js:364:11\n    at C:\\Users\\roy\\comm100\\vm\\node_modules\\loader-runner\\lib\\LoaderRunner.js:230:18\n    at context.callback (C:\\Users\\roy\\comm100\\vm\\node_modules\\loader-runner\\lib\\LoaderRunner.js:111:13)\n    at imagemin.buffer.then.catch.err (C:\\Users\\roy\\comm100\\vm\\node_modules\\image-webpack-loader\\index.js:58:9)")},961:function(e,t){throw new Error("Module build failed: Error: The system cannot find the path specified.\r\n\n    at notFoundError (C:\\Users\\roy\\comm100\\vm\\node_modules\\exec-buffer\\node_modules\\cross-spawn\\lib\\enoent.js:11:11)\n    at verifyENOENT (C:\\Users\\roy\\comm100\\vm\\node_modules\\exec-buffer\\node_modules\\cross-spawn\\lib\\enoent.js:46:16)\n    at ChildProcess.cp.emit (C:\\Users\\roy\\comm100\\vm\\node_modules\\exec-buffer\\node_modules\\cross-spawn\\lib\\enoent.js:33:19)\n    at Process.ChildProcess._handle.onexit (internal/child_process.js:215:12)")},972:function(e,t,n){"use strict";var o=n(3),i=n.n(o),a=n(1),s=(n.n(a),n(1026)),r=function(e){var t=e.identityType,o=n(961),a="Visitor";if(e.isContactOrUserOpen)switch(t){case s.a:o=n(1325),a="User";break;case s.b:o=n(1324),a="Contact";break;case s.c:o=n(961),a="Visitor";break;default:o=n(961),a=""}return i()("img",{"data-tip":a,"data-for":"chatContainer",src:e.avatarLink?e.avatarLink:o,alt:""})};t.a=r},975:function(e,t,n){"use strict";function o(e,t){var n=N.N(e);return t.get("messages").map(function(t){return t.map(function(t,o){return d()({},t,{id:t.agentId+"_"+o,type:t.agentId===n.id?_.c:_.a,sender:N._76(e,t.agentId).name})})})}function i(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(v()(n))return k.content;var a=i?n.id:-n.id;if(k.content=d()({},t),h()(n)){k.content.id=a,k.content.chatTo=n.name;var s=N._43(e,a);s&&(k.content.messages=o(e,s),k.content.scrollTop=s.get("scrollTop"),k.content.errorMessageForChat=s.get("errorMessageForChat"))}return k.content}function a(e){var t={id:-1,selectedFontSize:C.a,chatTo:"",typingMessage:"",scrollTop:-1,messages:b.a.List(),textDirectionIfRTL:N._71(e),errorMessageForChat:""},n=N._41(e).toString().split("_");if(n.length>1){return i(e,t,N._76(e,f()(n[1])))}if("0"!==n[0]){return i(e,t,N.h(e,Math.abs(n[0])),!1)}return i(e,t,{id:S.m,name:"All Available"},!1)}function s(e,t){return N._77(e)+"?siteId="+N.F(e)+"&operatorId="+t}function r(e){var t=N._41(e).toString(),n=t.split("_"),o=n.length>1?N._76(e,f()(n[1])):N.h(e,Math.abs(n[0]));if(!v()(k.header)&&v()(o)&&(1!==n.length||Math.abs(n[0])!==S.m)){var i={agent:d()({},k.header.agent)};return i.agent.ifDisableKickOff=!0,i.agent.ifDisableSetAway=!0,i}var a=f()(n.length>1?n[1]:n[0]);return k.header={agent:{id:a,ifCurrentAgent:a===N.u(e),avatarLink:n.length>1?s(e,n[1]):"",name:v()(o)?"All Available":o.name,ifDisableKickOff:!N._28(e,w.h)||1===n.length||n.length>1&&N._76(e,a).status===S.a.offline,ifDisableSetAway:!N._28(e,w.i)||1===n.length||n.length>1&&N._76(e,a).status!==S.a.online}},k.header}var l=n(4),d=n.n(l),u=n(55),c=n.n(u),p=n(179),f=n.n(p),m=n(353),h=n.n(m),g=n(57),v=n.n(g),y=n(125),b=n.n(y),C=n(379),N=n(5),_=n(243),S=n(2),w=n(350);t.f=a,t.g=r,n.d(t,"a",function(){return T}),n.d(t,"c",function(){return P}),n.d(t,"d",function(){return U}),n.d(t,"e",function(){return M}),n.d(t,"b",function(){return I});var k={},T=function(e){var t=N._41(e).toString().split("_");return t.length>1?[!0,f()(t[1])]:[!1,f()(t[0])]},P=function(e,t,n){if(t){if(!N._28(e,w.j))return!1;var o=N._76(e,n);return!(!o||n===N.u(e))&&o.status!==S.a.offline}return!0},U=function(e,t,n){if(t)return[n];var o=N.u(e),i=[];if(n===S.m)return c()(N._33(e),function(e){o!==e.id&&e.status!==S.a.offline&&i.push(e.id)}),i;var a=N.h(e,n);return a?(c()(a.agentIds,function(t){var n=N._76(e,t);n&&o!==n.id&&n.status!==S.a.offline&&i.push(t)}),i):[]},M=function(e,t,n){return n?t:t.concat(e)},I=function(e,t,n){var o=Math.abs(n),i=t?N._76(e,o):N.h(e,o);return!(!v()(i)||o!==S.m)||!v()(i)}},983:function(e,t){function n(e){return null===e}e.exports=n},987:function(e,t,n){"use strict";function o(){return"rc-upload-"+i+"-"+ ++a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=+new Date,a=0;e.exports=t.default},988:function(e,t,n){"use strict";var o=n(389);n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"e",function(){return s}),n.d(t,"c",function(){return r}),n.d(t,"d",function(){return l});var i=function(e,t){return{type:o.a,payload:t,meta:e}},a=function(e,t){return{type:o.d,payload:t,meta:e}},s=function(e,t){return{type:o.b,payload:t,meta:e}},r=function(e,t,n,i){return{type:o.e,payload:{fileName:n,url:t,isImage:i},meta:e}},l=function(e,t){return{type:o.c,payload:t,meta:e}}}});
//# sourceMappingURL=agent-chat.5b7c1.js.map