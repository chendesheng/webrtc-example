{"version":3,"sources":["webpack:///./src/containers/SplitterChat.jsx","webpack:///./~/buffer/index.js","webpack:///./src/components/ChatSection/ChatAction/ChatAction.css?f543","webpack:///./src/components/TextArea/TextArea.jsx?31c4","webpack:///./~/webrtc-adapter/src/js/utils.js","webpack:///./src/components/Icons/Avatar.jsx","webpack:///./src/components/Tabs/Salesforce/util.js","webpack:///./src/components/Tooltip/Tooltip.jsx?9ce6","webpack:///./src/components/ChatSection/ChatHeader/ChatHeader.css?5b28","webpack:///./src/components/TextArea/TextArea.css?8577*","webpack:///./~/rc-upload/lib/uid.js","webpack:///./src/components/Modal/StandbyNotice/StandbyNotice.jsx","webpack:///./src/constants/languages/visitorStatus.js?6e4d","webpack:///./src/components/ChatSection/ChatContent/AudioVideoChatContent.jsx","webpack:///./src/components/ChatSection/ChatContent/ChatContent.jsx","webpack:///./src/components/ChatSection/ChatContent/ChatContentMsg.jsx","webpack:///./src/components/FileUploadProgress/FileUploadProgress.jsx","webpack:///./src/components/Icons/Browser.jsx","webpack:///./src/components/Icons/ChatAction/SendFile.jsx","webpack:///./src/components/Icons/Country.jsx?7006","webpack:///./src/components/Icons/OS.jsx","webpack:///./src/components/Modal/ModalBanChat/ModalBanChat.jsx?69f5","webpack:///./src/constants/enums/visitorType.js","webpack:///./src/containers/SplitterVisitorDetailsTab.jsx?1b06","webpack:///./src/components/FileUploadProgress/FileUploadProgress.css?8530","webpack:///./src/components/Prompt/Prompt.css?c5b9","webpack:///./src/components/Tooltip/Tooltip.css?b1f2*","webpack:///./src/components/Icons/images/flag/ad.svg?4552","webpack:///./src/components/Icons/images/flag/ae.svg?176b","webpack:///./src/components/Icons/images/flag/af.svg?06dc","webpack:///./src/components/Icons/images/flag/ag.svg?ca4a","webpack:///./src/components/Icons/images/flag/ai.svg?042a","webpack:///./src/components/Icons/images/flag/al.svg?288e","webpack:///./src/components/Icons/images/flag/am.svg?a90d","webpack:///./src/components/Icons/images/flag/ao.svg?2f68","webpack:///./src/components/Icons/images/flag/aq.svg?6a19","webpack:///./src/components/Icons/images/flag/ar.svg?e137","webpack:///./src/components/Icons/images/flag/as.svg?766b","webpack:///./src/components/Icons/images/flag/at.svg?f99e","webpack:///./src/components/Icons/images/flag/au.svg?ec50","webpack:///./src/components/Icons/images/flag/aw.svg?1cbb","webpack:///./src/components/Icons/images/flag/ax.svg?6479","webpack:///./src/components/Icons/images/flag/az.svg?0637","webpack:///./src/components/Icons/images/flag/ba.svg?bc44","webpack:///./src/components/Icons/images/flag/bb.svg?7ec3","webpack:///./src/components/Icons/images/flag/bd.svg?acdc","webpack:///./src/components/Icons/images/flag/be.svg?0967","webpack:///./src/components/Icons/images/flag/bf.svg?70e5","webpack:///./src/components/Icons/images/flag/bg.svg?eef1","webpack:///./src/components/Icons/images/flag/bh.svg?c8cb","webpack:///./src/components/Icons/images/flag/bi.svg?c46c","webpack:///./src/components/Icons/images/flag/bj.svg?5bf0","webpack:///./src/components/Icons/images/flag/bl.svg?5f13","webpack:///./src/components/Icons/images/flag/bm.svg?f65d","webpack:///./src/components/Icons/images/flag/bn.svg?d0d1","webpack:///./src/components/Icons/images/flag/bo.svg?0ba9","webpack:///./src/components/Icons/images/flag/bq.svg?7ccc","webpack:///./src/components/Icons/images/flag/br.svg?329e","webpack:///./src/components/Icons/images/flag/bs.svg?fecb","webpack:///./src/components/Icons/images/flag/bt.svg?be29","webpack:///./src/components/Icons/images/flag/bv.svg?7b28","webpack:///./src/components/Icons/images/flag/bw.svg?9a63","webpack:///./src/components/Icons/images/flag/by.svg?e189","webpack:///./src/components/Icons/images/flag/bz.svg?b4a9","webpack:///./src/components/Icons/images/flag/ca.svg?0882","webpack:///./src/components/Icons/images/flag/cc.svg?13d1","webpack:///./src/components/Icons/images/flag/cd.svg?1b39","webpack:///./src/components/Icons/images/flag/cf.svg?128c","webpack:///./src/components/Icons/images/flag/cg.svg?2598","webpack:///./src/components/Icons/images/flag/ch.svg?e7b1","webpack:///./src/components/Icons/images/flag/ci.svg?61e8","webpack:///./src/components/Icons/images/flag/ck.svg?0fb7","webpack:///./src/components/Icons/images/flag/cl.svg?0e8d","webpack:///./src/components/Icons/images/flag/cm.svg?d3a7","webpack:///./src/components/Icons/images/flag/cn.svg?b817","webpack:///./src/components/Icons/images/flag/co.svg?a17a","webpack:///./src/components/Icons/images/flag/cr.svg?3103","webpack:///./src/components/Icons/images/flag/cu.svg?5cd8","webpack:///./src/components/Icons/images/flag/cv.svg?cff6","webpack:///./src/components/Icons/images/flag/cw.svg?be47","webpack:///./src/components/Icons/images/flag/cx.svg?3245","webpack:///./src/components/Icons/images/flag/cy.svg?6165","webpack:///./src/components/Icons/images/flag/cz.svg?c712","webpack:///./src/components/Icons/images/flag/de.svg?bf8e","webpack:///./src/components/Icons/images/flag/dj.svg?d3f1","webpack:///./src/components/Icons/images/flag/dk.svg?4ac7","webpack:///./src/components/Icons/images/flag/dm.svg?9d49","webpack:///./src/components/Icons/images/flag/do.svg?f887","webpack:///./src/components/Icons/images/flag/dz.svg?b5cd","webpack:///./src/components/Icons/images/flag/ec.svg?3010","webpack:///./src/components/Icons/images/flag/ee.svg?b37d","webpack:///./src/components/Icons/images/flag/eg.svg?ffa1","webpack:///./src/components/Icons/images/flag/eh.svg?3504","webpack:///./src/components/Icons/images/flag/er.svg?7286","webpack:///./src/components/Icons/images/flag/es.svg?d91a","webpack:///./src/components/Icons/images/flag/et.svg?b86e","webpack:///./src/components/Icons/images/flag/eu.svg?e7ac","webpack:///./src/components/Icons/images/flag/fi.svg?7db6","webpack:///./src/components/Icons/images/flag/fj.svg?62f2","webpack:///./src/components/Icons/images/flag/fk.svg?5c86","webpack:///./src/components/Icons/images/flag/fm.svg?c83f","webpack:///./src/components/Icons/images/flag/fo.svg?a7fc","webpack:///./src/components/Icons/images/flag/fr.svg?def7","webpack:///./src/components/Icons/images/flag/ga.svg?cff8","webpack:///./src/components/Icons/images/flag/gb-eng.svg?79d6","webpack:///./src/components/Icons/images/flag/gb-nir.svg?7c5d","webpack:///./src/components/Icons/images/flag/gb-sct.svg?eb22","webpack:///./src/components/Icons/images/flag/gb-wls.svg?181c","webpack:///./src/components/Icons/images/flag/gb.svg?f832","webpack:///./src/components/Icons/images/flag/gd.svg?f157","webpack:///./src/components/Icons/images/flag/ge.svg?9529","webpack:///./src/components/Icons/images/flag/gf.svg?e814","webpack:///./src/components/Icons/images/flag/gg.svg?669f","webpack:///./src/components/Icons/images/flag/gh.svg?061a","webpack:///./src/components/Icons/images/flag/gi.svg?78c2","webpack:///./src/components/Icons/images/flag/gl.svg?9318","webpack:///./src/components/Icons/images/flag/gm.svg?8c68","webpack:///./src/components/Icons/images/flag/gn.svg?031f","webpack:///./src/components/Icons/images/flag/gp.svg?9ded","webpack:///./src/components/Icons/images/flag/gq.svg?db72","webpack:///./src/components/Icons/images/flag/gr.svg?d19b","webpack:///./src/components/Icons/images/flag/gs.svg?cd99","webpack:///./src/components/Icons/images/flag/gt.svg?afe4","webpack:///./src/components/Icons/images/flag/gu.svg?884b","webpack:///./src/components/Icons/images/flag/gw.svg?2e21","webpack:///./src/components/Icons/images/flag/gy.svg?6d1f","webpack:///./src/components/Icons/images/flag/hk.svg?da99","webpack:///./src/components/Icons/images/flag/hm.svg?d5c2","webpack:///./src/components/Icons/images/flag/hn.svg?b395","webpack:///./src/components/Icons/images/flag/hr.svg?c806","webpack:///./src/components/Icons/images/flag/ht.svg?a1e9","webpack:///./src/components/Icons/images/flag/hu.svg?b11b","webpack:///./src/components/Icons/images/flag/id.svg?c2bb","webpack:///./src/components/Icons/images/flag/ie.svg?62a6","webpack:///./src/components/Icons/images/flag/il.svg?742e","webpack:///./src/components/Icons/images/flag/im.svg?4212","webpack:///./src/components/Icons/images/flag/in.svg?c837","webpack:///./src/components/Icons/images/flag/io.svg?c0a5","webpack:///./src/components/Icons/images/flag/iq.svg?55c2","webpack:///./src/components/Icons/images/flag/ir.svg?8a69","webpack:///./src/components/Icons/images/flag/is.svg?bf39","webpack:///./src/components/Icons/images/flag/it.svg?4809","webpack:///./src/components/Icons/images/flag/je.svg?9c93","webpack:///./src/components/Icons/images/flag/jm.svg?3101","webpack:///./src/components/Icons/images/flag/jo.svg?6af4","webpack:///./src/components/Icons/images/flag/jp.svg?d03e","webpack:///./src/components/Icons/images/flag/ke.svg?1849","webpack:///./src/components/Icons/images/flag/kg.svg?f649","webpack:///./src/components/Icons/images/flag/kh.svg?1e72","webpack:///./src/components/Icons/images/flag/ki.svg?235d","webpack:///./src/components/Icons/images/flag/km.svg?6516","webpack:///./src/components/Icons/images/flag/kn.svg?1cfb","webpack:///./src/components/Icons/images/flag/kp.svg?74e9","webpack:///./src/components/Icons/images/flag/kr.svg?f5ba","webpack:///./src/components/Icons/images/flag/kw.svg?de6d","webpack:///./src/components/Icons/images/flag/ky.svg?19d2","webpack:///./src/components/Icons/images/flag/kz.svg?bdc4","webpack:///./src/components/Icons/images/flag/la.svg?b1ca","webpack:///./src/components/Icons/images/flag/lb.svg?4675","webpack:///./src/components/Icons/images/flag/lc.svg?1331","webpack:///./src/components/Icons/images/flag/li.svg?398e","webpack:///./src/components/Icons/images/flag/lk.svg?5a83","webpack:///./src/components/Icons/images/flag/lr.svg?55bf","webpack:///./src/components/Icons/images/flag/ls.svg?7c63","webpack:///./src/components/Icons/images/flag/lt.svg?30a7","webpack:///./src/components/Icons/images/flag/lu.svg?b238","webpack:///./src/components/Icons/images/flag/lv.svg?b091","webpack:///./src/components/Icons/images/flag/ly.svg?1a7e","webpack:///./src/components/Icons/images/flag/ma.svg?38a0","webpack:///./src/components/Icons/images/flag/mc.svg?865b","webpack:///./src/components/Icons/images/flag/md.svg?f7c1","webpack:///./src/components/Icons/images/flag/me.svg?8333","webpack:///./src/components/Icons/images/flag/mf.svg?ff51","webpack:///./src/components/Icons/images/flag/mg.svg?5203","webpack:///./src/components/Icons/images/flag/mh.svg?ffdd","webpack:///./src/components/Icons/images/flag/mk.svg?ccba","webpack:///./src/components/Icons/images/flag/ml.svg?b7c3","webpack:///./src/components/Icons/images/flag/mm.svg?9f34","webpack:///./src/components/Icons/images/flag/mn.svg?5fcf","webpack:///./src/components/Icons/images/flag/mo.svg?1f5b","webpack:///./src/components/Icons/images/flag/mp.svg?c5eb","webpack:///./src/components/Icons/images/flag/mq.svg?fc95","webpack:///./src/components/Icons/images/flag/mr.svg?afca","webpack:///./src/components/Icons/images/flag/ms.svg?8910","webpack:///./src/components/Icons/images/flag/mt.svg?54fa","webpack:///./src/components/Icons/images/flag/mu.svg?9028","webpack:///./src/components/Icons/images/flag/mv.svg?b60c","webpack:///./src/components/Icons/images/flag/mw.svg?77d7","webpack:///./src/components/Icons/images/flag/mx.svg?26a4","webpack:///./src/components/Icons/images/flag/my.svg?ca71","webpack:///./src/components/Icons/images/flag/mz.svg?9aaa","webpack:///./src/components/Icons/images/flag/na.svg?6b08","webpack:///./src/components/Icons/images/flag/nc.svg?bcf5","webpack:///./src/components/Icons/images/flag/ne.svg?69fa","webpack:///./src/components/Icons/images/flag/nf.svg?2d35","webpack:///./src/components/Icons/images/flag/ng.svg?63d0","webpack:///./src/components/Icons/images/flag/ni.svg?0391","webpack:///./src/components/Icons/images/flag/nl.svg?aa85","webpack:///./src/components/Icons/images/flag/no.svg?2eff","webpack:///./src/components/Icons/images/flag/np.svg?d9a9","webpack:///./src/components/Icons/images/flag/nr.svg?5375","webpack:///./src/components/Icons/images/flag/nu.svg?d404","webpack:///./src/components/Icons/images/flag/nz.svg?915a","webpack:///./src/components/Icons/images/flag/om.svg?da52","webpack:///./src/components/Icons/images/flag/pa.svg?70f6","webpack:///./src/components/Icons/images/flag/pe.svg?12c0","webpack:///./src/components/Icons/images/flag/pf.svg?0c37","webpack:///./src/components/Icons/images/flag/pg.svg?7ebd","webpack:///./src/components/Icons/images/flag/ph.svg?a7e3","webpack:///./src/components/Icons/images/flag/pk.svg?0fc6","webpack:///./src/components/Icons/images/flag/pl.svg?02e0","webpack:///./src/components/Icons/images/flag/pm.svg?c765","webpack:///./src/components/Icons/images/flag/pn.svg?514e","webpack:///./src/components/Icons/images/flag/pr.svg?ccd4","webpack:///./src/components/Icons/images/flag/ps.svg?b8aa","webpack:///./src/components/Icons/images/flag/pt.svg?bada","webpack:///./src/components/Icons/images/flag/pw.svg?273f","webpack:///./src/components/Icons/images/flag/py.svg?7247","webpack:///./src/components/Icons/images/flag/qa.svg?1be8","webpack:///./src/components/Icons/images/flag/re.svg?27ad","webpack:///./src/components/Icons/images/flag/ro.svg?6edb","webpack:///./src/components/Icons/images/flag/rs.svg?4530","webpack:///./src/components/Icons/images/flag/ru.svg?6253","webpack:///./src/components/Icons/images/flag/rw.svg?d15a","webpack:///./src/components/Icons/images/flag/sa.svg?c6f1","webpack:///./src/components/Icons/images/flag/sb.svg?e9d4","webpack:///./src/components/Icons/images/flag/sc.svg?3ec8","webpack:///./src/components/Icons/images/flag/sd.svg?eb53","webpack:///./src/components/Icons/images/flag/se.svg?7347","webpack:///./src/components/Icons/images/flag/sg.svg?8cac","webpack:///./src/components/Icons/images/flag/sh.svg?d40c","webpack:///./src/components/Icons/images/flag/si.svg?3001","webpack:///./src/components/Icons/images/flag/sj.svg?df7e","webpack:///./src/components/Icons/images/flag/sk.svg?d793","webpack:///./src/components/Icons/images/flag/sl.svg?a286","webpack:///./src/components/Icons/images/flag/sm.svg?b4bc","webpack:///./src/components/Icons/images/flag/sn.svg?1aec","webpack:///./src/components/Icons/images/flag/so.svg?aee4","webpack:///./src/components/Icons/images/flag/sr.svg?68a4","webpack:///./src/components/Icons/images/flag/ss.svg?c8ca","webpack:///./src/components/Icons/images/flag/st.svg?b013","webpack:///./src/components/Icons/images/flag/sv.svg?da45","webpack:///./src/components/Icons/images/flag/sx.svg?993d","webpack:///./src/components/Icons/images/flag/sy.svg?3d74","webpack:///./src/components/Icons/images/flag/sz.svg?cbe3","webpack:///./src/components/Icons/images/flag/tc.svg?08e3","webpack:///./src/components/Icons/images/flag/td.svg?e86e","webpack:///./src/components/Icons/images/flag/tf.svg?c15e","webpack:///./src/components/Icons/images/flag/tg.svg?3188","webpack:///./src/components/Icons/images/flag/th.svg?3bc2","webpack:///./src/components/Icons/images/flag/tj.svg?d06b","webpack:///./src/components/Icons/images/flag/tk.svg?9e5c","webpack:///./src/components/Icons/images/flag/tl.svg?e286","webpack:///./src/components/Icons/images/flag/tm.svg?89a6","webpack:///./src/components/Icons/images/flag/tn.svg?c6aa","webpack:///./src/components/Icons/images/flag/to.svg?f000","webpack:///./src/components/Icons/images/flag/tr.svg?4ab9","webpack:///./src/components/Icons/images/flag/tt.svg?6b0c","webpack:///./src/components/Icons/images/flag/tv.svg?f210","webpack:///./src/components/Icons/images/flag/tw.svg?45ed","webpack:///./src/components/Icons/images/flag/tz.svg?3952","webpack:///./src/components/Icons/images/flag/ua.svg?8542","webpack:///./src/components/Icons/images/flag/ug.svg?dac0","webpack:///./src/components/Icons/images/flag/um.svg?5f80","webpack:///./src/components/Icons/images/flag/un.svg?5445","webpack:///./src/components/Icons/images/flag/us.svg?01b1","webpack:///./src/components/Icons/images/flag/uy.svg?dd86","webpack:///./src/components/Icons/images/flag/uz.svg?b1bf","webpack:///./src/components/Icons/images/flag/va.svg?c5f3","webpack:///./src/components/Icons/images/flag/vc.svg?5606","webpack:///./src/components/Icons/images/flag/ve.svg?1ade","webpack:///./src/components/Icons/images/flag/vg.svg?a37c","webpack:///./src/components/Icons/images/flag/vi.svg?a096","webpack:///./src/components/Icons/images/flag/vn.svg?20ca","webpack:///./src/components/Icons/images/flag/vu.svg?7a74","webpack:///./src/components/Icons/images/flag/wf.svg?7b60","webpack:///./src/components/Icons/images/flag/ws.svg?fce9","webpack:///./src/components/Icons/images/flag/ye.svg?227d","webpack:///./src/components/Icons/images/flag/yt.svg?97d7","webpack:///./src/components/Icons/images/flag/za.svg?da43","webpack:///./src/components/Icons/images/flag/zm.svg?74b5","webpack:///./src/components/Icons/images/flag/zw.svg?3c7c","webpack:///./src/components/Icons/images/flag/zz.svg?4ff9","webpack:///./~/lodash/noop.js","webpack:///./~/rc-upload/lib/AjaxUploader.js","webpack:///./~/rc-upload/lib/IframeUploader.js","webpack:///./~/rc-upload/lib/Upload.js","webpack:///./~/rc-upload/lib/index.js","webpack:///./~/rc-upload/lib/request.js","webpack:///./~/warning/browser.js","webpack:///./src/components/Icons/images/flag ^\\.\\/.*\\.svg$?4c89","webpack:///./src/components/ChatItem/ShowChatViaList.jsx","webpack:///./src/constants/enums/promote.js","webpack:///./src/constants/enums/socialType.js","webpack:///./src/services/p2pChat.js","webpack:///./src/services/secureForm.js","webpack:///./src/components/ChatItem/ChatItem.jsx","webpack:///./src/components/ChatItem/ChatItemConfig.jsx","webpack:///./src/components/ChatItem/ChatItemContainer.jsx","webpack:///./src/components/ChatItem/ChatItemDetail.jsx","webpack:///./src/components/ChatItem/ChatItemPrompt.jsx","webpack:///./src/components/ChatItem/ChatItemSegment.jsx","webpack:///./src/components/ChatItem/NoChat.jsx","webpack:///./src/components/ChatItem/ShowChatViaGroup.jsx","webpack:///./src/components/ChatSection/BanChat/BanChat.jsx","webpack:///./src/components/ChatSection/ChatAction/ChatAction.jsx","webpack:///./src/components/ChatSection/ChatHeader/ChatHeader.jsx","webpack:///./src/components/ChatSection/CloseChat/CloseChat.jsx","webpack:///./src/components/ChatSection/LeaveChat/LeaveChat.jsx","webpack:///./src/components/ChatSection/Promote/Promote.jsx","webpack:///./src/components/ChatStatus/ChatStatus.jsx","webpack:///./src/components/Icons/ChatAction/AttachTicket.jsx","webpack:///./src/components/Icons/ChatAction/AudioChat.jsx","webpack:///./src/components/Icons/ChatAction/Font.jsx","webpack:///./src/components/Icons/ChatAction/GoToMeeting.jsx","webpack:///./src/components/Icons/ChatAction/Joinme.jsx","webpack:///./src/components/Icons/ChatAction/SecureForm.jsx","webpack:///./src/components/Icons/ChatAction/SendEmail.jsx","webpack:///./src/components/Icons/ChatAction/Transfer.jsx","webpack:///./src/components/Icons/ChatAction/Translate.jsx","webpack:///./src/components/Icons/ChatAction/VideoChat.jsx","webpack:///./src/components/Icons/Social.jsx","webpack:///./src/components/Modal/ModalAttachTicket/ModalAttachTicket.jsx","webpack:///./src/components/Modal/ModalLeaveChat/ModalLeaveChat.jsx","webpack:///./src/components/Modal/ModalTransfer/ModalTransfer.jsx","webpack:///./src/components/Modal/ModalTransfer/SelectAgentByDepartmentId.jsx","webpack:///./src/components/Modal/ModalTransfer/SelectDepartment.jsx","webpack:///./src/components/Modal/SendTranscript/SendTranscript.jsx","webpack:///./src/components/Prompt/AutoTranslate/AutoTranslate.jsx","webpack:///./src/components/Prompt/PromptGotoMeeting/PromptGotoMeeting.jsx","webpack:///./src/components/Prompt/PromptSecureForm/PromptSecureForm.jsx","webpack:///./src/constants/enums/userType.js","webpack:///./src/containers/Business/chatList.js","webpack:///./src/containers/ChatAction.jsx","webpack:///./src/containers/ChatContent.jsx","webpack:///./src/containers/ChatHeader.jsx","webpack:///./src/containers/ChatList.jsx","webpack:///./src/containers/NoChat.jsx","webpack:///./src/containers/SplitterChatTextEditor.jsx","webpack:///./~/base64-js/lib/b64.js","webpack:///./~/buffer/~/isarray/index.js","webpack:///./src/components/Prompt/AutoTranslate/AutoTranslate.css?d47d","webpack:///./src/containers/Default.css?cbb6","webpack:///./~/ieee754/index.js","webpack:///./~/lodash/chunk.js","webpack:///./~/sdp/sdp.js","webpack:///./~/webrtc-adapter/src/js/adapter_core.js","webpack:///./~/webrtc-adapter/src/js/chrome/chrome_shim.js","webpack:///./~/webrtc-adapter/src/js/chrome/getusermedia.js","webpack:///./~/webrtc-adapter/src/js/edge/edge_shim.js","webpack:///./~/webrtc-adapter/src/js/edge/getusermedia.js","webpack:///./~/webrtc-adapter/src/js/firefox/firefox_shim.js","webpack:///./~/webrtc-adapter/src/js/firefox/getusermedia.js","webpack:///./~/webrtc-adapter/src/js/safari/safari_shim.js"],"names":["SplitterChat","selectedChatId","chatItemWidth","onChatItemStopResize","chatDetailWidth","onChatDetailStopResize","CommonStyle","layoutContent","chatwindowContainer","position","width","height","bottom","minHeight","DefaultStyle","tooltip","TextArea","props","input","rows","cols","isDisabled","placeholder","type","maxLength","className","meta","classnames","style","multipleText","touched","invalid","error","Avatar","identityType","avatarLink","require","isContactOrUserOpen","isSystem","systemName","ci","lastIndexOf","length","getDisplayText","label","reference","replace","isNeedSelector","field","relatedObjects","objName","substr","normalizeInt","value","normalizeDecimal","emailPattern","isSalesforceEmail","test","floatPattern","isSalesforceDouble","getSFUTCTime","d","mms","valueOf","getTimezoneOffset","utcDate","Date","format","convertSFDateTimeToLocalDate","year","parseInt","month","day","h","m","date","localDate","convertSFDateToLocalDate","getVisitorVariableValue","visitor","variableName","departmentName","realValue","get","indexOf","realName","temp","item","name","getComm100fieldValues","configFields","filter","comm100FieldName","map","v","sfFeildSystemName","displayValue","reduceArray","array","reduce","accumulatedMap","obj","getInitValues","fields","fieldsValue","bool","dateTime","moment","id","picklist","required","picklistValues","getSFObjectId","filterItem","find","Tooltip","effect","place","container","rebuild","ReactTooltip","show","hide","StandbyNotice","closeModal","ModalStyle","standbyNotice","cancelProps","text","waitingForChat","chatting","preChat","invited","autoInvited","offlineMessage","refusedByAgent","refusedByVisitor","chatEnded","inSite","outOfSite","transferring","manuallyInvitedAndWaitingVisitor","systemProcessing","invitedAndWaitingForChat","monitorChatEnded","monitorChatting","audioChatRequesting","videoChatRequesting","audioChatting","videoChatting","statusText","status","showAcceptButton","showRefuseButton","isVideoChatting","isChatting","audioVideoIcon","icons","requestAudioChat","requestVideoChat","diffTime","a","b","a1","getTime","b1","utc","AudioVideoChatContent","audioVideoChatStatus","state","timespan","audioVideoChatStartTime","startClock","newProps","oldAVStatus","newAVStatus","clearInterval","clock","p2pChat","videoContainer","localVideo","getLocalVideo","document","getElementById","appendChild","remoteVideo","getRemoteVideo","remove","setInterval","setState","chatVideoContainer","element","chattingInfo","time","toString","avatarContainer","visitorName","chatTo","notice","action","accept","onAcceptClick","acceptChat","refuse","onRefuseClick","refuseChat","React","Component","getFontSizeClass","chatContentsmall","chatContentmiddle","chatContentlarge","getVisitorForNotify","messages","last","sender","getMessageForNotify","message","fileName","ChatContent","ifShowGotoMeetingNotify","update","bind","selectChatMessage","closeGotoMeetingNotify","scrollBottom","getScrollHeight","canShowNotify","scrollTop","timer","ifScrollBottom","notifyVisitor","notifyMessage","parent","addEventListener","body","nextProps","propsMessage","g2mStartUrl","nextState","selectedFontSize","typingMessage","textDirectionIfRTL","errorMessageForChat","ifShowNotify","audioVideoChatWidth","toJS","prevProps","scrollHeight","clearTimeout","removeEventListener","event","target","clientHeight","messageScrollHeight","updateIfShowNotify","onScroll","setTimeout","e","ctrlKey","keyCode","selection","range","createTextRange","moveToElementText","select","window","getSelection","windowSelection","rangeCount","removeAllRanges","createRange","selectNode","addRange","preventDefault","stopPropagation","clearG2mStartUrl","getBoundingClientRect","chatContentContainer","chatContent","directionRTL","i","getSecureFormContent","timezone","timezoneOffset","typingIndicator","typing","notify","notifyName","notifyG2M","errorContent","hideErrorMessage","chatContainer","onAudioAndVideoStopResize","visitorAvatar","onAudioVideoChatAccept","onAudioVideoChatRefuse","translatedMessage","translateMsg","orignalMsg","content","link","translationMsg","image","url","filename","maxWidth","maxHeight","file","attachment","getMessageComponent","isImage","ChatContentMsg","firstMessageObj","secureFormStatus","init","token","rsaKey","dateToString","systemMeg","chatContentInfo","operator","secureForm","downloading","loading","chatMeg","FileUploadProgress","uploadProgressContainer","fileUploadProgressNumber","uploadProgress","uploadFileName","uploadProgressPercent","cancelUpload","handleAbortUpload","Browser","classname","nameLowerCase","toLowerCase","iconOffsetDown","shouldComponentUpdateHelper","shouldComponentUpdateGen","SendFile","beforeUpload","siteInfo","size","maxFileSize","uploadedFileNumber","maxFileNum","showErrorMessage","onProgress","step","upload","percent","parseFloat","toFixed","onSuccess","rsp","isSuccess","getDownloadUrl","guid","errorMsg","errorMessage","downloadUrl","sessionId","siteId","privateMessage","formatAgentChatDownloadUrl","abort","chatId","uploadConfig","sendFileUploadUrl","multiple","disabled","onStart","onError","fileupload","enums","sendFile","Country","city","countryName","countryCode","imgCountry","iconSmaller","backgroundImage","OS","ModalBanChat","banType","comment","handleRadioChange","handleTextAreaChange","handleBanChat","banInfo","ip","visitorIP","onBanChat","visitorId","realVisitorId","okProps","eventClick","checked","onChange","visitorIdentityTypeNone","visitorIdentityTypeOperator","visitorIdentityTypeUser","visitorIdentityTypeContact","visitorIdentityTypeEmailAddress","visitorIdentityTypeCookie","visitorIdentityTypeVisitor","VisitorDetailsTab","importLazy","resolve","reject","catch","Reload","ShowChatViaList","styles","showChatViaList","chats","enableRefuseChat","ifEnableSegmentation","isShowUnreposiveTime","isShowDepartment","onClickPin","onItemClick","onAcceptChat","onRefusedChat","onWrapUp","onDeleteItem","PromoteToContact","PromoteToUser","Facebook","googlePlus","Zendesk","Salesforce","SignalingChannel","args","chat","iceServers","peersCount","pingTimer","messageHandler","remoteStarted","remoteStartHandler","getIceServersHandler","schema","ws","WebSocket","pingTimes","onopen","console","log","send","onmessage","evt","resp","JSON","parse","data","count","ensureGetIceServers","start","checkRemoteStart","s","push","DEFAULT_STUN_SERVER","onclose","reset","urls","resetState","close","onerror","onRemoteStart","fn","onMessage","onGetIceServers","P2PChat","handlers","connection","localStream","remoteStream","useRelayOnly","handleSignal","conn","signal","pc","peerConn","chan","signalingChannel","offer","signalingState","setRemoteDescription","RTCSessionDescription","then","createAnswer","answer","setLocalDescription","localDescription","err","restart","candidate","iceGatheringState","addIceCandidate","RTCIceCandidate","stop","restartCount","signalRestart","resetLocal","fireEvent","sendOffer","createOffer","requirePermission","isVideo","navigator","mediaDevices","getUserMedia","audio","video","facingMode","stream","autoplay","muted","srcObject","getStats","stopStream","resetRemote","onicecandidate","oniceconnectionstatechange","ontrack","relayOnly","RTCPeerConnection","iceTransportPolicy","iceConnectionState","addStream","onaddstream","onevent","f","forEach","getTracks","t","getPeerConnectionStats","requestSecureForm","serverPath","config","NodeRSA","environment","encryptionScheme","createGUID","accessToken","publicKey","exportKey","formName","jsonFormFields","axios","post","res","success","error_message","errorCode","error_code","formContent","baseLength","encryptTexts","chars","join","bufferContent","Buffer","concat","decrypt","texts","encodedContent","ChatItem","tooltipId","chatItem","chatitemcontainer","isShowAcceptAndRefuse","audioVideoStatus","acceptStyle","isSelected","selected","isShowWrapUp","department","agentName","nobutton","captureitem","pin","isPinned","pinnStyle","pinned","nopinned","statusitem","currentStatus","detailitem","infoitem","segmentitem","ChatItemConfig","chatItemConfig","chatconfigpanel","ifDepartmentEnabled","onClickConfig","chatListConfig","showDepartment","configitem","selectedicon","showUnreposiveTime","showByStatus","isShowChatItemsViaStatus","ChatItemContainer","itemContainer","groupItems","onClickArrow","configPanel","chatListSetting","configicon","commonStyle","tooltipInfoNoCapitalize","ChatItemDetail","chatItemDetail","visitorDepartment","actioncontainer","acceptBtn","refuseBtn","wrapupbtn","ifShowTime","isShowUnresponsiveTime","chatStatus","ChatItemPrompt","unresponseBeginTime","updateUnresponsiveTime","timestamp","textContent","shouldShow","prevShouldShow","ticks","now","formatWaitingTimeWithMillsecond","chatItemPrompt","messageNumber","promptNumber","idleStyle","span","isShowDeleteIcon","deleteIcon","ChatItemSegment","segments","chatItemSegment","segment","dataFor","backgroundColor","color","NoChat","noChatSection","goToVisitors","ShowChatViaGroup","clickArrow","showChatViaGroup","groupSection","groupNameWraper","opened","arrowDown","groupSpread","description","BanChat","open","openModal","chatHeaderStyle","btnAction","relative","ChatAction","ChatActionStyle","chatAction","clearfix","onFontSelect","chatActionDisplay","transfer","chatActionEnable","onTransferChat","onTransferIconClick","onSendFileStart","onSendFileSuccess","onSendFileProgress","onSendFileError","sendTranscript","handleSendTranscript","transcriptInfo","initialSendTranscriptForm","responseErrorMessage","sendEmailSuccessMessage","showResponseErrorMessage","hideResponseErrorMessage","hideSendEmailSuccessMessage","attachTicket","ticketId","handleAttachTicket","gotoAttachTicket","ifUseMainServer","autoTranslate","autoTranslateInfo","onToggleAutoTranslate","onUpdateIfPopTranslation","gotoMeeting","onRequestGotoMeeting","joinMe","joinMeIntegrationServer","currentAgentId","agentSession","pciForm","onRequestPCIForm","audioChat","onRequestAudioChat","videoChat","onRequestVideoChat","ChatHeader","chatHeader","visitorDetails","avatar","visitorInfo","details","latestName","others","country","operatingSystem","browser","saleforceURL","zendeskUrl","socialType","socialUrl","chatHeaderToolBarDisplay","displayPromote","onPromote","prechatEmail","disabledPromote","displayBan","disabledBan","displayLeave","onLeaveChat","displayCloseChat","onCloseChat","CloseChat","LeaveChat","Promote","isOpen","isOpenModalStandbyNotice","handleClick","toggle","popUpStandbyWindow","closeStandbyWindow","promoteType","contains","popupList","preChatEmail","getAudioVideoChatStatusIconAndTitle","avStatus","title","getClassNameByCode","code","waitting","prechat","offline","refused","chatEnd","insite","manuallyInvitedAndWatingVisitor","inviteWaiting","waitingInvite","monitorEnded","ChatStatus","statusCode","defaultProps","dataTip","AttachTicket","chatActionStyle","chatActionIcon","ifEnable","chatActionIconDisabled","undefined","attachticket","AudioChat","onClick","Font","selectSmall","onSelect","selectMiddle","selectLarge","isSmall","isMiddle","isLarge","iconActive","font","cover","coverOpen","fontList","fontOpen","fontActive","GotoMeeting","isOpenGotoMeeting","toggleOpenPrompt","closeOpenPrompt","gotomeeting","Joinme","SecureForm","isOpenSecureForm","SendEmail","sendEmail","Transfer","toggleModal","ifOpen","onlineDepartments","onlineDepartmentComponent","allAvailableAgents","Translate","ifOpenAutoTranslation","togglePrompt","closePrompt","ifAutoPopTranslation","translate","detectedVisitorLanguage","VideoChat","Social","ModalAttachTicket","attachType","ifAttachNewTicket","ifAttachTicketButtonEnabled","handleChange","changeTicketId","timeoutId","attachTicketId","inputElement","InputStyle","modalAttachtTicket","component","errorContainer","ModalLeaveChat","ModalTransfer","transferTo","departmentId","selectedDepartmentIndex","agentId","selectedAgentIndex","enableCloseChat","handleChangeTransferTo","handleSelectDepartment","handleSelectAgent","switchCloseChatFlag","index","tag","onlineDepartmentOptions","modalTransfer","transferChoose","leavechataftertransfer","SelectAgentByDepartmentId","selectedDepartmentValue","allAvailableAgentsByDepartmentId","handleChangeDepartment","getAvailableAgentsByDepartmentId","self","onlineDepartmentById","onlineDepartment","agentIds","filterAvailableAgent","allAvailableAgent","agentStatus","online","away","agentContainer","selectDepartment","dropdown","availableList","active","statusOnline","statusAway","transferName","SelectDepartment","SendTranscript","to","subject","isSending","onToChange","onSubjectChange","onBodyChange","onSubmit","successTimeoutId","bodyReplaceStartP","RegExp","bodyReplaceEndP","bodyAddColor","form","attachments","modalSendTranscript","formTranscriptLine","SendTranscriptBody","loadingComponent","attachmentsContainer","successContainer","languages","AutoTranslate","selectedLanguageValue","handleChangeLanguage","handleTurnOnAutoTranslate","handleTurnOffAutoTranslate","PromptStyle","promptWindow","autoTranslateStyle","top","marginLeft","PromptGotoMeeting","PromptSecureForm","pciFormId","pciFormList","selectedPCIForm","secureFormServer","secureFormConfig","Operator","User","Contact","Visitor","getOpenedStatusById","openedStatus","getStatus","getGroupType","isGroup","chatListGroup","noGroup","onGoing","inComing","getUnresponseBeginTime","delay","isOpened","beginTime","realDelay","getSegmentations","ids","Array","isArray","seg","mapToComponentProps","agents","departments","isWaiting","isVisitorChatting","isMonitoring","isShowClose","dep","showUnreadMessages","waitingChatOrChatBegins","getDefaultStructure","opendStatus","initData","visitors","preferenceOther","chatList","ifGroupChats","ifShowUnresponseTime","ifShowDepartment","lists","key","groupType","splice","memoizedInitData","memoize","createChatListState","openedGroupStatus","memoryStore","getInitialTranscriptBody","chatMessages","chatInfo","dateTimeFormat","chatInfoMsg","chatInfoDetail","chatAttachments","customVariables","customFields","toHHMMSS","preChatFields","email","agentNames","chatStartTime","chatEndTime","service","phone","company","source","autoInvitation","requestingPageUrl","getTranscriptVisitorInfo","getTranscriptNavigation","sessionInfo","sessionStartTime","referrerUrl","searchEngine","keywords","getTranscriptGEOInfo","getTranscriptClientInfo","flashVersion","screenResolution","language","timeZone","getTranscriptRating","rating","ratingComment","getTranscriptAgentComment","agentComment","cachedDepartment","getOnlineDepartmentComponent","availableAgentNumberByDepartmentId","onlineAgentNumber","awayAgentNumber","defaultSelectOption","options","getChatActionDisplay","ifHaveTransferPermission","ifEnableTranslate","ifG2MConnected","campaign","ifEnableTeamWork","ifCanUseAdvancedChatFunc","ifCanEmailTranscript","ifTicketOpen","ifEnableChatTranslation","ifEnableChatIntegration","ifEnableScreenSharing","ifEnableGotoMeeting","ifEnableJoinMeScreenSharing","ifEnablePCIForm","getChatActionEnable","ifEnableAudioVideoChat","isSendingMessageAllowed","ifManuallyInvitedAndWaiting","isActuallyChatting","getTranscriptInfo","currentAgentName","currentAgentEmail","transcriptVisitorInfo","transcriptNavigation","transcriptGEOInfo","transcriptClientInfo","transcriptRating","transcriptAgentComment","transcriptBody","getAutoTranslateInfo","agentTranslationLanguage","getPCIForm","getTransfer","ifEnableAudioVideoChatButton","otherChats","c","mapStateToProps","chatDetails","authProvider","enableChatTranslation","authToken","themeColor","fileUploadUrl","split","isWeb","attachTicketUrl","loginUrl","autoLoginUrl","ret","uploadUrl","common","chatGuid","webrtcSignalingServiceUrl","getWebrtcSignalingServiceUrl","mergeProps","stateProps","dispatchProps","dispatch","dispatchObject","transferType","ifCloseChat","turnOnOrTurnOff","pciFormName","createElement","connect","getIsContactOrUserOpen","settings","ifContactOpened","ifUserOpened","audioVideoChatAgentName","isChattingWithAgent","reporter","info","ifDisplayPromote","ifHavePromotePermission","ifDisplayBan","ifHaveBanPermission","ifCanBan","ifDisplayLeaveChat","isDisplayCloseChat","isChatEnded","isTransferring","isMonitorEnded","getSalesforceURL","salesforceInteConfig","salesforce","integrationConfig","instanceUrl","checkChatExisted","isVisitorExists","mapDispatchToProps","setPreference","localStorage","acceptTransfer","refuseTransfer","switchConfirmBeforeCloseWindow","operateGroupArrow","showVisitor","ChatTextEditor"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;8EAoBW,0D;;8EAEE,4D;;8EAWM,6D;;8EACA,4D;;8EAUE,wE;;8EAGJ,4E;;8EAcT,yD;;AA3DR,IAAMA,eAAe,SAAfA,YAAe;AAAA,MACnBC,cADmB,QACnBA,cADmB;AAAA,MAEnBC,aAFmB,QAEnBA,aAFmB;AAAA,MAGnBC,oBAHmB,QAGnBA,oBAHmB;AAAA,MAInBC,eAJmB,QAInBA,eAJmB;AAAA,MAKnBC,sBALmB,QAKnBA,sBALmB;AAAA;AAAA,eAOH,+EAAAC,CAAYC,aAPT;AAAA,QAO2B;AAP3B,aASfN,iBAAA,iEAAAA,CACG,4EADH;AAAA,qBAEoB,MAFpB;AAAA,WAGWC,aAHX;AAAA,mBAImB,GAJnB;AAAA,mBAKmB,GALnB;AAAA,oBAMoB,GANpB;AAAA,kBAOkBC;AAPlB;AAAA,eAYsB,+EAAAG,CAAYE;AAZlC,+EAaS,4EAbT;AAAA,qBAc0B,OAd1B;AAAA,WAeiBJ,eAfjB;AAAA,oBAgB0B,GAhB1B;AAAA,oBAiB0B,GAjB1B;AAAA,mBAkByB,GAlBzB;AAAA,kBAmBwBC;AAnBxB;AAAA,WAyBqB;AACLI,gBAAU,UADL;AAELC,aAAO,MAFF;AAGLC,cAAQ,GAHH;AAILC,cAAQ,CAJH;AAKLC,iBAAW;AALN;AAzBrB,iGAuCO,qDAvCP;AAAA,QAwCW,eAxCX;AAAA;AAAA,YA0Ce,OA1Cf;AAAA,WA2Cc,QA3Cd;AAAA,aA4Ce,qDAAAC,CAAaC;AA5C5B,cATe;AAAA,CAArB;;AAwEA,+DAAef,YAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrFA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB,mDAAmD;AACxE;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,UAAU;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,uCAAuC,SAAS;AAChD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC;AACA;AACA;;AAEA;AACA;AACA,aAAa,iBAAiB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gDAAgD,EAAE;AAClD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,wBAAwB,eAAe;AACvC;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,wBAAwB,QAAQ;AAChC;AACA,qBAAqB,eAAe;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,mBAAmB,cAAc;AACjC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uDAAuD,OAAO;AAC9D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA,uDAAuD,OAAO;AAC9D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB;AAClB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,qBAAqB,QAAQ;AAC7B;AACA;AACA,GAAG;AACH;AACA,eAAe,SAAS;AACxB;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,mBAAmB,SAAS;AAC5B;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,YAAY;AAC7B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,gBAAgB;AACjC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AA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A,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,oE;;;;;;ACAA,oE;;;;;;ACAA,oE;;;;;;ACAA,oE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;ACAA,gE;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;AChBA;;AAEA;AACA;AACA,CAAC;;AAED;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,kBAAkB;;AAE/F;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA,mBAAmB,SAAS;AAC5B;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP,kCAAkC;AAClC,OAAO;AACP,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,4DAA4D;AAC5D,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,gBAAgB,kBAAkB;AAClC;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,CAAC;;AAED;AACA,oC;;;;;;;AC/OA;;AAEA;AACA;AACA,CAAC;;AAED;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,kBAAkB;;AAE/F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,uEAAuE;AACvE;AACA;AACA,oJAAoJ,UAAU,SAAS,SAAS,iBAAiB,0MAA0M,cAAc,kBAAkB,gBAAgB,0GAA0G,MAAM,QAAQ,cAAc,iBAAiB,eAAe;AACjmB,GAAG;AACH;AACA;AACA,8DAA8D,2BAA2B,mBAAmB,2CAA2C,wBAAwB,oBAAoB,SAAS;AAC5M;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kDAAkD;AAClD;AACA,KAAK;AACL,4DAA4D;AAC5D;AACA;AACA;AACA;AACA,0CAA0C,kCAAkC;AAC5E,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,CAAC;;AAED;AACA,oC;;;;;;;AC/QA;;AAEA;AACA;AACA,CAAC;;AAED;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,kBAAkB;;AAE/F;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,cAAc;AACd,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA,wFAAwF,eAAe,eAAe;AACtH;AACA;AACA;AACA;AACA,mFAAmF,eAAe,eAAe;AACjH;AACA,CAAC;;AAED;AACA,oC;;;;;;;ACzGA;;AAEA;AACA,2C;;;;;;;ACHA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA,yBAAyB,kBAAkB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,oC;;;;;;;;;;;;;;;;;;;;;;;;;ACvGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,qBAAqB,WAAW;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;;;;;;;AC3DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yB;;;;;;;;;;;;;;;;;;;;;;;AChRA;AACA;AACA;;AAEA,IAAMM,kBAAkB,SAAlBA,eAAkB;AAAA;AAAA,eACN,sDAAAC,CAAOC;AADD,aAEnBhZ,MAAMiZ,KAAN,CAAYrU,GAAZ,CAAgB;AAAA,6EACd,0DADc;AAAA,gBAGHN,IAHG;AAAA,wBAIKtE,MAAMkZ,gBAJX;AAAA,4BAKSlZ,MAAMmZ,oBALf;AAAA,4BAMSnZ,MAAMoZ,oBANf;AAAA,wBAOKpZ,MAAMqZ,gBAPX;AAAA,kBAQDrZ,MAAMsZ,UARL;AAAA,mBASAtZ,MAAMuZ,WATN;AAAA,oBAUCvZ,MAAMwZ,YAVP;AAAA,qBAWExZ,MAAMyZ,aAXR;AAAA,gBAYHzZ,MAAM0Z,QAZH;AAAA,oBAaC1Z,MAAM2Z;AAbP,OAERrV,KAAKyR,MAFG;AAAA,GAAhB,CAFmB;AAAA,CAAxB;;AAmCA,yDAAe+C,eAAf,E;;;;;;;;;;;;;;;ACvCO,IAAMc,mBAAmB,CAAzB;AACA,IAAMC,gBAAgB,CAAtB,C;;;;;;;;;;;;ACDA,IAAMC,WAAW,CAAjB;AACA,I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ACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,oCAAoC,SAAS;AAC7C;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA,oBAAoB,OAAO;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0CAA0C,UAAU;AACpD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;;;;;;;;;;;;;;;AC5GA,iBAAiB;;AAEjB;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJA;AACA,kBAAkB,iG;;;;;;;;;;;ACDlB;AACA,kBAAkB,qC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACDlB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,QAAQ,WAAW;;AAEnB;AACA;AACA;AACA,QAAQ,WAAW;;AAEnB;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,QAAQ,WAAW;;AAEnB;AACA;AACA,QAAQ,UAAU;;AAElB;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnFA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjDA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,4CAA4C;AAC5C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAoB;AACpB,0BAA0B;AAC1B;AACA;AACA;AACA,yDAAyD;AACzD,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,iDAAiD;AACjD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,kBAAkB,OAAO;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtkBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;AC9FD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA,aAAa;AACb,WAAW;AACX;AACA,OAAO;AACP;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,+DAA+D;AAC/D;AACA,SAAS;AACT;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,WAAW;AACX;AACA,SAAS;;AAET;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA,eAAe;AACf;AACA,WAAW;AACX;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC1TA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D,YAAY;AACvE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA,yDAAyD,qBAAqB;AAC9E,yDAAyD;AACzD;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA,aAAa;AACb,WAAW;AACX,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC9MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,qBAAqB;AAC9C;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,2BAA2B,mBAAmB;AAC9C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B,sCAAsC;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D;AAC5D;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iCAAiC,gCAAgC;AACjE;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;;AAEf;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;;AAE/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,eAAe;;AAEf;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;AACA;AACA,eAAe;;AAEf;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA,eAAe;AACf,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,WAAW;AACX;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uBAAuB,8BAA8B;AACrD,iEAAiE;AACjE;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,yBAAyB,8BAA8B;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,WAAW;AACX;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;ACnsCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,yCAAyC;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;;;;;;;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA,aAAa;AACb,WAAW;AACX;AACA,OAAO;AACP;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,gCAAgC;AAC3D;AACA;AACA,+BAA+B,wBAAwB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA;AACA;AACA,eAAe;AACf,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,iBAAiB;AACjB,eAAe;AACf;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC7LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA,8BAA8B;AAC9B,oCAAoC,EAAE;AACtC,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,gEAAgE;AAC7E,aAAa;AACb;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AChKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,EAAE;;AAEhC;AACA;AACA,qCAAqC,EAAE;;AAEvC;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"chat.d7f59.js","sourcesContent":["import React from 'react';\nimport ReactTooltip from 'react-tooltip';\nimport CommonStyle from '../components/CommonResources/common.css';\nimport ResizeContainer from '../components/Resizer/ResizeContainer';\nimport ChatList from './ChatList';\nimport ChatHeader from './ChatHeader';\nimport ChatContent from './ChatContent';\nimport ChatAction from './ChatAction';\nimport TextEditor from './SplitterChatTextEditor';\nimport NoChat from './NoChat';\nimport DefaultStyle from './Default.css';\nimport SplitterVisitorDetailsTab from './SplitterVisitorDetailsTab';\n\nconst SplitterChat = ({\n  selectedChatId,\n  chatItemWidth,\n  onChatItemStopResize,\n  chatDetailWidth,\n  onChatDetailStopResize,\n}) => (\n  <div className={CommonStyle.layoutContent} id=\"chats\">\n    {\n      selectedChatId ? (\n        <ResizeContainer\n          resizerPosition=\"left\"\n          width={chatItemWidth}\n          left_minWidth={240}\n          left_maxWidth={350}\n          right_minWidth={640}\n          onStopResize={onChatItemStopResize}\n        >\n          <ChatList />\n          <div>\n            <ChatHeader />\n            <div className={CommonStyle.chatwindowContainer}>\n              <ResizeContainer\n                resizerPosition=\"right\"\n                width={chatDetailWidth}\n                right_minWidth={265}\n                right_maxWidth={500}\n                left_minWidth={350}\n                onStopResize={onChatDetailStopResize}\n              >\n                <div>\n                  <ChatContent />\n                  <ChatAction />\n                  <div\n                    style={{\n                      position: 'absolute',\n                      width: '100%',\n                      height: 175,\n                      bottom: 0,\n                      minHeight: 40,\n                    }}\n                  >\n                    <TextEditor />\n                  </div>\n                </div>\n                <SplitterVisitorDetailsTab />\n              </ResizeContainer>\n            </div>\n            <ReactTooltip\n              id=\"chatContainer\"\n              multiline\n              effect=\"solid\"\n              place=\"bottom\"\n              class={DefaultStyle.tooltip}\n            />\n          </div>\n\n        </ResizeContainer>\n      ) :\n      (<NoChat />)\n    }\n  </div>\n);\n\nSplitterChat.propTypes = {\n  selectedChatId: React.PropTypes.number,\n  chatItemWidth: React.PropTypes.number.isRequired,\n  onChatItemStopResize: React.PropTypes.func.isRequired,\n  chatDetailWidth: React.PropTypes.number.isRequired,\n  onChatDetailStopResize: React.PropTypes.func.isRequired,\n};\n\nexport default SplitterChat;\n\n\n\n// WEBPACK FOOTER //\n// ./src/containers/SplitterChat.jsx","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/buffer/index.js\n// module id = 857\n// module chunks = 1","// removed by extract-text-webpack-plugin\nmodule.exports = {\"chatAction\":\"ChatAction__chatAction--2avGg\",\"chatActionIcon\":\"ChatAction__chatActionIcon--WDUxk\",\"iconActive\":\"ChatAction__iconActive--2eXsX\",\"chatActionIconDisabled\":\"ChatAction__chatActionIconDisabled--3wdpU\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ChatSection/ChatAction/ChatAction.css\n// module id = 869\n// module chunks = 1","import React from 'react';\nimport classnames from 'classnames';\nimport style from './TextArea.css';\n\n\nconst TextArea = (props) => {\n  const { input, rows, cols, isDisabled, placeholder, type, maxLength, className, meta } = props;\n  return (\n    <textarea\n      {...input}\n      cols={cols}\n      rows={rows}\n      disabled={isDisabled ? 'disabled' : false}\n      className={classnames(\n        className,\n        style.multipleText,\n        meta.touched && meta.invalid && style.error\n      )}\n      type={type}\n      placeholder={placeholder}\n      maxLength={maxLength}\n    >\n    </textarea>\n  );\n};\n\nexport default TextArea;\n\nTextArea.propTypes = {\n  rows: React.PropTypes.string,\n  cols: React.PropTypes.string,\n  isDisabled: React.PropTypes.bool,\n  placeholder: React.PropTypes.string,\n  type: React.PropTypes.string,\n  className: React.PropTypes.string,\n  maxLength: React.PropTypes.number,\n  input: React.PropTypes.object.isRequired, // eslint-disable-line react/forbid-prop-types\n  meta: React.PropTypes.object.isRequired, // eslint-disable-line react/forbid-prop-types\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/TextArea/TextArea.jsx","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar logDisabled_ = true;\n\n// Utility methods.\nvar utils = {\n  disableLog: function(bool) {\n    if (typeof bool !== 'boolean') {\n      return new Error('Argument type: ' + typeof bool +\n          '. Please use a boolean.');\n    }\n    logDisabled_ = bool;\n    return (bool) ? 'adapter.js logging disabled' :\n        'adapter.js logging enabled';\n  },\n\n  log: function() {\n    if (typeof window === 'object') {\n      if (logDisabled_) {\n        return;\n      }\n      if (typeof console !== 'undefined' && typeof console.log === 'function') {\n        console.log.apply(console, arguments);\n      }\n    }\n  },\n\n  /**\n   * Extract browser version out of the provided user agent string.\n   *\n   * @param {!string} uastring userAgent string.\n   * @param {!string} expr Regular expression used as match criteria.\n   * @param {!number} pos position in the version string to be returned.\n   * @return {!number} browser version.\n   */\n  extractVersion: function(uastring, expr, pos) {\n    var match = uastring.match(expr);\n    return match && match.length >= pos && parseInt(match[pos], 10);\n  },\n\n  /**\n   * Browser detector.\n   *\n   * @return {object} result containing browser and version\n   *     properties.\n   */\n  detectBrowser: function() {\n    // Returned result object.\n    var result = {};\n    result.browser = null;\n    result.version = null;\n\n    // Fail early if it's not a browser\n    if (typeof window === 'undefined' || !window.navigator) {\n      result.browser = 'Not a browser.';\n      return result;\n    }\n\n    // Firefox.\n    if (navigator.mozGetUserMedia) {\n      result.browser = 'firefox';\n      result.version = this.extractVersion(navigator.userAgent,\n          /Firefox\\/(\\d+)\\./, 1);\n    } else if (navigator.webkitGetUserMedia) {\n      // Chrome, Chromium, Webview, Opera, all use the chrome shim for now\n      if (window.webkitRTCPeerConnection) {\n        result.browser = 'chrome';\n        result.version = this.extractVersion(navigator.userAgent,\n          /Chrom(e|ium)\\/(\\d+)\\./, 2);\n      } else { // Safari (in an unpublished version) or unknown webkit-based.\n        if (navigator.userAgent.match(/Version\\/(\\d+).(\\d+)/)) {\n          result.browser = 'safari';\n          result.version = this.extractVersion(navigator.userAgent,\n            /AppleWebKit\\/(\\d+)\\./, 1);\n        } else { // unknown webkit-based browser.\n          result.browser = 'Unsupported webkit-based browser ' +\n              'with GUM support but no WebRTC support.';\n          return result;\n        }\n      }\n    } else if (navigator.mediaDevices &&\n        navigator.userAgent.match(/Edge\\/(\\d+).(\\d+)$/)) { // Edge.\n      result.browser = 'edge';\n      result.version = this.extractVersion(navigator.userAgent,\n          /Edge\\/(\\d+).(\\d+)$/, 2);\n    } else if (navigator.mediaDevices &&\n        navigator.userAgent.match(/AppleWebKit\\/(\\d+)\\./)) {\n        // Safari, with webkitGetUserMedia removed.\n      result.browser = 'safari';\n      result.version = this.extractVersion(navigator.userAgent,\n          /AppleWebKit\\/(\\d+)\\./, 1);\n    } else { // Default fallthrough: not supported.\n      result.browser = 'Not a supported browser.';\n      return result;\n    }\n\n    return result;\n  },\n\n  // shimCreateObjectURL must be called before shimSourceObject to avoid loop.\n\n  shimCreateObjectURL: function() {\n    if (!(typeof window === 'object' && window.HTMLMediaElement &&\n          'srcObject' in window.HTMLMediaElement.prototype)) {\n      // Only shim CreateObjectURL using srcObject if srcObject exists.\n      return undefined;\n    }\n\n    var nativeCreateObjectURL = URL.createObjectURL.bind(URL);\n    var nativeRevokeObjectURL = URL.revokeObjectURL.bind(URL);\n    var streams = new Map(), newId = 0;\n\n    URL.createObjectURL = function(stream) {\n      if ('getTracks' in stream) {\n        var url = 'polyblob:' + (++newId);\n        streams.set(url, stream);\n        console.log('URL.createObjectURL(stream) is deprecated! ' +\n                    'Use elem.srcObject = stream instead!');\n        return url;\n      }\n      return nativeCreateObjectURL(stream);\n    };\n    URL.revokeObjectURL = function(url) {\n      nativeRevokeObjectURL(url);\n      streams.delete(url);\n    };\n\n    var dsc = Object.getOwnPropertyDescriptor(window.HTMLMediaElement.prototype,\n                                              'src');\n    Object.defineProperty(window.HTMLMediaElement.prototype, 'src', {\n      get: function() {\n        return dsc.get.apply(this);\n      },\n      set: function(url) {\n        this.srcObject = streams.get(url) || null;\n        return dsc.set.apply(this, [url]);\n      }\n    });\n\n    var nativeSetAttribute = HTMLMediaElement.prototype.setAttribute;\n    HTMLMediaElement.prototype.setAttribute = function() {\n      if (arguments.length === 2 &&\n          ('' + arguments[0]).toLowerCase() === 'src') {\n        this.srcObject = streams.get(arguments[1]) || null;\n      }\n      return nativeSetAttribute.apply(this, arguments);\n    };\n  }\n};\n\n// Export.\nmodule.exports = {\n  log: utils.log,\n  disableLog: utils.disableLog,\n  browserDetails: utils.detectBrowser(),\n  extractVersion: utils.extractVersion,\n  shimCreateObjectURL: utils.shimCreateObjectURL,\n  detectBrowser: utils.detectBrowser.bind(utils)\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/webrtc-adapter/src/js/utils.js\n// module id = 878\n// module chunks = 1","import React from 'react';\nimport * as visitorIdentityType from '../../constants/enums/visitorType';\n\nconst Avatar = (props) => {\n  const identityType = props.identityType;\n  let avatarLink= require('./images/visitor.png'); // eslint-disable-line\n  let tooltip = 'Visitor';\n  if (props.isContactOrUserOpen) {\n    switch (identityType) {\n      case visitorIdentityType.visitorIdentityTypeUser: {\n        avatarLink= require('./images/user.png'); // eslint-disable-line\n        tooltip = 'User';\n        break;\n      }\n      case visitorIdentityType.visitorIdentityTypeContact: {\n        avatarLink= require('./images/contact.png'); // eslint-disable-line\n        tooltip = 'Contact';\n        break;\n      }\n      case visitorIdentityType.visitorIdentityTypeVisitor: {\n        avatarLink= require('./images/visitor.png'); // eslint-disable-line\n        tooltip = 'Visitor';\n        break;\n      }\n      default: {\n        avatarLink= require('./images/visitor.png'); // eslint-disable-line\n        tooltip = '';\n        break;\n      }\n    }\n  }\n  return (\n    <img\n      data-tip={tooltip} data-for=\"chatContainer\"\n      src={props.avatarLink\n      ? props.avatarLink :\n      avatarLink}\n      alt=\"\"\n    />\n  );\n};\n\nexport default Avatar;\n\nAvatar.propTypes = {\n  avatarLink: React.PropTypes.string,\n  identityType: React.PropTypes.number,\n  isContactOrUserOpen: React.PropTypes.bool,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Icons/Avatar.jsx","import * as _ from 'lodash';\nimport moment from 'moment';\nimport * as salesforceConstants from '../../../constants/salesforce';\nimport { format } from '../../../utils/time';\n\nexport const isSystem = (systemName) => {\n  if (systemName) {\n    const ci = systemName.lastIndexOf('__c');\n    if (ci == -1 || ci != systemName.length - 3) {\n      return true;\n    }\n  }\n  return false;\n};\nexport const getDisplayText = ({ type, label, systemName }) => {\n  if (isSystem(systemName)) {\n    if (type === salesforceConstants.fieldType.reference) {\n      return label.replace(' ID', '');\n    }\n  }\n  return label;\n};\n\nexport const isNeedSelector = (field) => {\n  if (!isSystem(field.systemName) && field.type === salesforceConstants.fieldType.reference) {\n    if (field.relatedObjects != null && field.relatedObjects.length > 0) {\n      const objName = field.relatedObjects[0];\n      if (objName == 'Account' || objName == 'Contact' || objName == 'Queue' ||\n        objName == 'User' || objName.substr((objName.length > 3) ? objName.length - 3 : 0) == '__c') {\n        return true;\n      }\n    }\n    return false;\n  }\n  return true;\n};\n\nexport const normalizeInt = (value) => {\n  if (!value) {\n    return value;\n  }\n  return value.replace(/[^\\d]/g, '');\n};\nexport const normalizeDecimal = (value) => {\n  if (!value) {\n    return value;\n  }\n  return value.replace(/[^\\d\\-\\.]/g, '');\n};\n\nconst emailPattern = /^(\\w)+(\\.\\w+)*@(\\w)+(\\.\\w+)+$/;\nexport const isSalesforceEmail = input => emailPattern.test(input);\n\nconst floatPattern = /^-?\\d+(\\.\\d*)?$/;\nexport const isSalesforceDouble = input => floatPattern.test(input);\n\nexport const getSFUTCTime = (d) => {\n  if (!d) return '';\n  let mms = d.valueOf();\n  mms += d.getTimezoneOffset() * 60 * 1000;\n  const utcDate = new Date(mms);\n  return format(utcDate, 'yyyy-MM-ddThh:mm:00.000Z');\n};\n\nexport const convertSFDateTimeToLocalDate = (d) => {\n  const year = parseInt(d.substr(0, 4));\n  const month = parseInt(d.substr(5, 2));\n  const day = parseInt(d.substr(8, 2));\n  const h = parseInt(d.substr(11, 2));\n  const m = parseInt(d.substr(14, 2));\n  const date = new Date(year, month - 1, day, h, m, 0, 0);\n  let mms = date.valueOf();\n  mms = mms - (date.getTimezoneOffset() * 60000);\n  const localDate = new Date(mms);\n  return localDate;\n};\n\nexport const convertSFDateToLocalDate = (d) => {\n  const year = parseInt(d.substr(0, 4));\n  const month = parseInt(d.substr(5, 2));\n  const day = parseInt(d.substr(8, 2));\n  const date = new Date(year, month - 1, day, 0, 0, 0, 0);\n  let mms = date.valueOf();\n  mms = mms - (date.getTimezoneOffset() * 60000);\n  const localDate = new Date(mms);\n  return localDate;\n};\n\nconst getVisitorVariableValue = (visitor, variableName, departmentName) => {\n  let realValue = '';\n  switch (variableName) {\n    case salesforceConstants.condition_Chats:\n      realValue = visitor.get('chatTimes');\n      break;\n    case salesforceConstants.condition_City:\n      realValue = visitor.get('city');\n      break;\n    case salesforceConstants.condition_Country:\n      realValue = visitor.get('country');\n      break;\n    case salesforceConstants.condition_CurrentPageUrl:\n      realValue = visitor.get('currentPage');\n      break;\n    case salesforceConstants.condition_Keywords:\n      realValue = visitor.get('searchEngineKeywords');\n      break;\n    case salesforceConstants.condition_ReferrerUrl:\n      realValue = visitor.get('referrer');\n      break;\n    case salesforceConstants.condition_SearchEngine:\n      realValue = visitor.get('searchEngine');\n      break;\n    case salesforceConstants.condition_State:\n      realValue = visitor.get('state');\n      break;\n    case salesforceConstants.condition_Visits:\n      realValue = visitor.get('visitorTimes');\n      break;\n    case salesforceConstants.condition_Email:\n      realValue = visitor.get('latestEmail');\n      break;\n    case salesforceConstants.condition_Name:\n      realValue = visitor.get('latestName');\n      break;\n    case salesforceConstants.condition_Phone:\n      realValue = visitor.get('prechatPhone');\n      break;\n    case salesforceConstants.condition_Company:\n      realValue = visitor.get('prechatCompany');\n      break;\n    case salesforceConstants.condition_IP:\n      realValue = visitor.get('ip');\n      break;\n    case salesforceConstants.condition_Language:\n      realValue = visitor.get('language');\n      break;\n    case salesforceConstants.condition_TimeZone:\n      realValue = visitor.get('timezone');\n      break;\n    case salesforceConstants.condition_LandingPageUrl:\n      realValue = visitor.get('landingPageUrl');\n      break;\n    case salesforceConstants.condition_ChatRequestingPageUrl:\n      realValue = visitor.get('chatRequestingUrl');\n      break;\n    case salesforceConstants.condition_PreChat_ProductServices:\n      realValue = visitor.get('prechatProductService');\n      break;\n    case salesforceConstants.condition_StateOrProvince:\n      realValue = visitor.get('state');\n      break;\n    case salesforceConstants.condition_Browser:\n      realValue = visitor.get('browser');\n      break;\n    case salesforceConstants.condition_OperatingSystem:\n      realValue = visitor.get('operatingSystem');\n      break;\n    case salesforceConstants.condition_ScreenResolution:\n      realValue = visitor.get('screenResolution');\n      break;\n    case salesforceConstants.condition_FlashVersion:\n      realValue = visitor.get('flashVersion');\n      break;\n    case salesforceConstants.condition_Department:\n      realValue = departmentName;\n      break;\n    case salesforceConstants.condition_StartTime:\n      realValue = getSFUTCTime(visitor.get('chatBeginTime'));\n      break;\n    case salesforceConstants.condition_EndTime:\n      realValue = '';\n      break;\n    case salesforceConstants.condition_Transcript:\n      realValue = '';\n      break;\n    default:\n      break;\n  }\n  if (variableName.indexOf(salesforceConstants.condition_CustomVariablePrefix)) {\n    const realName = variableName.substr(salesforceConstants.condition_CustomVariablePrefix.length);\n    const temp = _.find(visitor.get('customVariables'), item => item.name === realName);\n    if (temp) {\n      realValue = temp.value;\n    }\n  } else if (variableName.indexOf(salesforceConstants.condition_PreChat_CustomFieldPrefix)) {\n    const realName = variableName.substr(salesforceConstants.condition_PreChat_CustomFieldPrefix.length);\n    const temp = _.find(visitor.get('customFields'), item => item.name === realName);\n    if (temp) {\n      realValue = temp.value;\n      if (realValue) {\n        realValue = realValue.replace(/⊙/g, ';');\n      }\n    }\n  }\n  return realValue;\n};\nexport const getComm100fieldValues = (configFields, visitor, departmentName) => {\n  const temp = configFields.filter(item => item.comm100FieldName).map((item) => {\n    const v = getVisitorVariableValue(visitor, item.comm100FieldName, departmentName);\n    if (v) {\n      return { name: item.sfFeildSystemName, value: v, displayValue: '' };\n    }\n    return null;\n  });\n  return temp.filter(item => item);\n};\n\nexport const reduceArray = array => array.reduce((accumulatedMap, item) => {\n  const obj = {};\n  if (item) {\n    obj[item.name] = item.value;\n    return Object.assign(accumulatedMap, obj);\n  }\n  return accumulatedMap;\n}, {});\n\nexport const getInitValues = (fields, fieldsValue) =>\n  reduceArray(fields.map((field) => {\n    let temp;\n    if (fieldsValue && fieldsValue.length > 0) {\n      temp = _.find(fieldsValue, item => item.name === field.systemName);\n    }\n    if (field.type === salesforceConstants.fieldType.bool) {\n      return { name: field.systemName, value: temp ? (typeof temp.value === 'boolean' ? temp.value : (temp.value == 'true')) : false };\n    } else if (field.type === salesforceConstants.fieldType.dateTime) {\n      if (temp && temp.value) {\n        return { name: field.systemName, value: moment(convertSFDateTimeToLocalDate(temp.value)) };\n      }\n      return { name: field.systemName, value: '' };\n    } else if (field.type === salesforceConstants.fieldType.date) {\n      if (temp && temp.value) {\n        return { name: field.systemName, value: moment(convertSFDateToLocalDate(temp.value)) };\n      }\n      return { name: field.systemName, value: '' };\n    } else if (field.type === salesforceConstants.fieldType.reference) {\n      return { name: field.systemName, value: temp ? { id: temp.value, value: temp.displayValue } : { id: '', value: '' } };\n    } else if (field.type === salesforceConstants.fieldType.picklist && field.required) {\n      if (field.picklistValues.length > 0) {\n        return { name: field.systemName, value: temp ? temp.value : field.picklistValues[0] };\n      }\n    }\n    return { name: field.systemName, value: temp ? temp.value : '' };\n  }));\n\nexport const getSFObjectId = (fields) => {\n  if (fields) {\n    const filterItem = fields.find(item => (item.name === 'Id'));\n    return filterItem ? filterItem.value : '';\n  }\n  return '';\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Tabs/Salesforce/util.js","import React from 'react';\nimport ReactTooltip from 'react-tooltip';\nimport * as func from 'src/utils/func';\nimport style from './Tooltip.css';\n\nconst Tooltip = ({ effect, place, id }) =>\n  <ReactTooltip effect={effect} place={place} class={style.container} id={id} />;\n\nTooltip.propTypes = {\n  effect: React.PropTypes.string,\n  place: React.PropTypes.string,\n  id: React.PropTypes.string,\n};\n\nTooltip.rebuild = func.onceEachTick(ReactTooltip.rebuild);\nTooltip.show = ReactTooltip.show;\n/**\n * should only fire hide once, in each time tick.\n * As multiple hide will not have any extra effects, but rather slow down the system.\n *\n * NOTICE: parameter is NOT accepted yet. If you need to pass in parameter, use ReactTooltip.hide\n * at the moment, or change this API.\n *\n * @todo\n * change this API to accept parameter. That means, hide should only fire once in each time tick,\n * when param passed in is the same.\n */\nTooltip.hide = func.onceEachTick(ReactTooltip.hide);\n\nexport default Tooltip;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Tooltip/Tooltip.jsx","// removed by extract-text-webpack-plugin\nmodule.exports = {\"chatHeader\":\"ChatHeader__chatHeader--2Px8C\",\"visitorDetails\":\"ChatHeader__visitorDetails--2nE2E\",\"avatar\":\"ChatHeader__avatar--3teOQ\",\"details\":\"ChatHeader__details--98r8e\",\"name\":\"ChatHeader__name--1dwu_\",\"others\":\"ChatHeader__others--1ml66\",\"action\":\"ChatHeader__action--ODKC9\",\"btnAction\":\"ChatHeader__btnAction--3J-NO\",\"btnAaction\":\"ChatHeader__btnAaction--1bGJL\",\"tooltip\":\"ChatHeader__tooltip--2cHr7\",\"marginRight10\":\"ChatHeader__marginRight10--1GaZY\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ChatSection/ChatHeader/ChatHeader.css\n// module id = 906\n// module chunks = 1","// removed by extract-text-webpack-plugin\nmodule.exports = {\"multipleText\":\"TextArea__multipleText--1J3OF\",\"error\":\"TextArea__error--3le0n\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/TextArea/TextArea.css\n// module id = 907\n// module chunks = 0 1 3","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = uid;\nvar now = +new Date();\nvar index = 0;\n\nfunction uid() {\n  return \"rc-upload-\" + now + \"-\" + ++index;\n}\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rc-upload/lib/uid.js\n// module id = 913\n// module chunks = 1 2","import React from 'react';\n// import ReactModal from 'react-modal';\nimport Modal from '../Modal';\nimport ModalStyle from '../Modal.css';\n// import Button from '../../Button/Button';\n\nconst StandbyNotice = props => (\n  <Modal\n    closeModal={props.closeModal}\n    className={ModalStyle.standbyNotice}\n    title=\"Notice\"\n    actions={{\n      cancelProps: { text: 'OK' },\n    }}\n  >\n    <div>\n      {props.text}\n    </div>\n  </Modal>\n);\n\nexport default StandbyNotice;\n\nStandbyNotice.propTypes = {\n  // ifOpen: React.PropTypes.bool.isRequired,\n  closeModal: React.PropTypes.func.isRequired,\n  text: React.PropTypes.string.isRequired,\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Modal/StandbyNotice/StandbyNotice.jsx","export const waitingForChat = 'Waiting for Chat';\n// export const audioChatting = 'Voice Chatting';\nexport const chatting = 'Chatting';\nexport const preChat = 'Prechat';\nexport const invited = 'Manually Invited';\nexport const autoInvited = 'Auto Invited';\nexport const offlineMessage = 'Offline Message';\nexport const refusedByAgent = 'Refused by Agent';\nexport const refusedByVisitor = 'Refused by Visitor';\nexport const chatEnded = 'Chat Ended';\nexport const inSite = 'In Site';\nexport const outOfSite = 'Out of Site';\nexport const transferring = 'Transferring';\nexport const manuallyInvitedAndWaitingVisitor = 'Manually Invited';\nexport const systemProcessing = 'System Processing';\nexport const invitedAndWaitingForChat = 'Waiting for Chat (Source: Invitation)';\nexport const monitorChatEnded = 'Monitoring (Chat Ended)';\nexport const monitorChatting = 'Monitoring (Chatting)';\n\nexport const audioChatRequesting = 'Requesting Audio Chat';\nexport const videoChatRequesting = 'Requesting Video Chat';\nexport const audioChatting = 'Audio Chatting';\nexport const videoChatting = 'Video Chatting';\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants/languages/visitorStatus.js","import React from 'react';\nimport moment from 'moment';\nimport Button from 'src/components/Button/Button';\nimport classnames from 'classnames';\nimport Icon from '../../Icon/Icon';\nimport style from './ChatContent.css';\nimport { icons } from '../../../constants/enums';\nimport * as audioVideoChatStatus from '../../../constants/enums/audioVideoChatStatus';\nimport Avatar from '../../Icons/Avatar';\n\nconst statusText = (status) => {\n  switch (status) {\n    case audioVideoChatStatus.visitorRequestAudioChat:\n      return 'Audio Chat';\n    case audioVideoChatStatus.agentRequestAudioChat:\n      return 'Audio Chat...';\n    case audioVideoChatStatus.visitorRequestVideoChat:\n      return 'Video Chat';\n    case audioVideoChatStatus.agentRequestVideoChat:\n      return 'Video Chat...';\n    case audioVideoChatStatus.audioChatting:\n      return 'Audio Chat';\n    default:\n      return '';\n  }\n};\n\nconst showAcceptButton = status =>\n  status === audioVideoChatStatus.visitorRequestAudioChat\n  || status === audioVideoChatStatus.visitorRequestVideoChat;\n\nconst showRefuseButton = status =>\n  status === audioVideoChatStatus.visitorRequestAudioChat\n  || status === audioVideoChatStatus.visitorRequestVideoChat\n  || status === audioVideoChatStatus.agentRequestAudioChat\n  || status === audioVideoChatStatus.agentRequestVideoChat\n  || status === audioVideoChatStatus.audioChatting\n  || status === audioVideoChatStatus.videoChatting;\n\nconst isVideoChatting = status => status === audioVideoChatStatus.videoChatting;\nconst isChatting = status => status === audioVideoChatStatus.audioChatting\n  || status === audioVideoChatStatus.videoChatting;\nconst audioVideoIcon = (status) => {\n  if (status === audioVideoChatStatus.audioChatting\n    || status === audioVideoChatStatus.agentRequestAudioChat\n    || status === audioVideoChatStatus.visitorRequestAudioChat) {\n    return icons.requestAudioChat;\n  }\n  return icons.requestVideoChat;\n};\n\nconst diffTime = (a, b) => {\n  const a1 = a.getTime();\n  const b1 = b.getTime();\n  if (a1 < b1) {\n    return '';\n  }\n\n  const d = a1 - b1;\n  return moment.utc(d).format(d < 3600 * 1000 ? 'mm:ss' : 'HH:mm:ss');\n};\n\nclass AudioVideoChatContent extends React.Component {\n  constructor(props) {\n    super(props);\n    if (isChatting(props.audioVideoChatStatus)) {\n      this.state = { timespan: diffTime(new Date(), props.audioVideoChatStartTime) };\n    } else {\n      this.state = { timespan: '' };\n    }\n  }\n\n  componentWillMount() {\n    if (isChatting(this.props.audioVideoChatStatus)) {\n      this.startClock();\n    }\n  }\n\n  componentWillReceiveProps(newProps) {\n    const oldAVStatus = this.props.audioVideoChatStatus;\n    const newAVStatus = newProps.audioVideoChatStatus;\n    if (oldAVStatus !== newAVStatus) {\n      if (isChatting(oldAVStatus) && !isChatting(newAVStatus)) {\n        clearInterval(this.clock);\n      }\n\n      if (!isChatting(oldAVStatus) && isChatting(newAVStatus)) {\n        this.startClock();\n      }\n    }\n  }\n\n  componentDidUpdate() {\n    const props = this.props;\n    const p2pChat = props.p2pChat;\n    if (p2pChat != null\n      && isVideoChatting(props.audioVideoChatStatus)\n      && this.videoContainer) {\n      const localVideo = p2pChat.getLocalVideo();\n      if (localVideo) {\n        localVideo.id = 'localVideo';\n        localVideo.className = style.localVideo;\n        if (document.getElementById(localVideo.id) == null) {\n          this.videoContainer.appendChild(localVideo);\n        }\n      }\n\n      const remoteVideo = p2pChat.getRemoteVideo();\n      if (remoteVideo) {\n        remoteVideo.id = 'remoteVideo';\n        remoteVideo.className = style.remoteVideo;\n        if (document.getElementById(remoteVideo.id) == null) {\n          this.videoContainer.appendChild(remoteVideo);\n        }\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.clock);\n    if (this.props.p2pChat) {\n      this.props.p2pChat.getLocalVideo().remove();\n      this.props.p2pChat.getRemoteVideo().remove();\n    }\n  }\n\n  startClock() {\n    this.clock = setInterval(\n      () => this.setState({\n        timespan: diffTime(\n          new Date(),\n          this.props.audioVideoChatStartTime\n        ),\n      }),\n      1000\n    );\n  }\n\n  render() {\n    const props = this.props;\n    const videoChatting = isVideoChatting(props.audioVideoChatStatus);\n    // console.log('AudioVideoChatContent:', props);\n    // console.log('videoChatting:', videoChatting);\n    // console.log('statusText', statusText(props.audioVideoChatStatus));\n    // console.log('icon:', audioVideoIcon(props.audioVideoChatStatus));\n    // console.log('showAcceptButton:', showAcceptButton(props.audioVideoChatStatus));\n    // console.log('showRefuseButton:', showRefuseButton(props.audioVideoChatStatus));\n    const timespan = this.state.timespan;\n    // console.log('p2pChat:', p2pChat);\n    return (<div\n      className={\n        classnames(\n          style.chatVideoContainer,\n          videoChatting ? style.videoChatting : '',\n        )\n      }\n    >\n      {\n        videoChatting &&\n        <div\n          className={style.videoContainer}\n          ref={(element) => { this.videoContainer = element; }}\n        />\n      }\n      {\n        videoChatting &&\n        <div className={style.chattingInfo}>\n          <div className={style.time}>{timespan.toString()}</div>\n        </div>\n      }\n      {\n        !videoChatting &&\n        <div className={style.avatarContainer}>\n          <Avatar\n            isContactOrUserOpen={props.isContactOrUserOpen}\n            avatarLink={props.avatarLink}\n            identityType={props.identityType}\n          />\n        </div>\n      }\n      {!videoChatting &&\n        <div className={style.visitorName}>{props.chatTo}</div>\n      }\n      {\n        !videoChatting &&\n        <div className={style.notice}>\n          <Icon type={audioVideoIcon(props.audioVideoChatStatus)} />\n          {`${statusText(props.audioVideoChatStatus)} ${timespan}`}\n        </div>\n      }\n      <div className={style.action} >\n        {\n          showAcceptButton(props.audioVideoChatStatus) &&\n          <Button className={style.accept} onClick={props.onAcceptClick} type=\"noborder\">\n            <Icon type={icons.acceptChat} />\n          </Button>\n        }\n        {\n          showRefuseButton(props.audioVideoChatStatus) &&\n          <Button\n            className={style.refuse}\n            type=\"noborder\"\n            onClick={props.onRefuseClick}\n          >\n            <Icon type={icons.refuseChat} />\n          </Button>\n        }\n      </div>\n    </div >);\n  }\n}\n\nexport default AudioVideoChatContent;\n\nAudioVideoChatContent.propTypes = {\n  audioVideoChatStatus: React.PropTypes.string,\n  avatarLink: React.PropTypes.string,\n  chatTo: React.PropTypes.string,\n  identityType: React.PropTypes.number,\n  isContactOrUserOpen: React.PropTypes.bool,\n  onAcceptClick: React.PropTypes.func,\n  onRefuseClick: React.PropTypes.func,\n  /* eslint-disable react/forbid-prop-types */\n  p2pChat: React.PropTypes.object,\n  audioVideoChatStartTime: React.PropTypes.any,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ChatSection/ChatContent/AudioVideoChatContent.jsx","import React from 'react';\nimport _ from 'lodash';\nimport classnames from 'classnames';\nimport Immutable from 'immutable';\nimport * as fontSize from 'src/constants/enums/fontSize';\nimport Button from 'src/components/Button/Button';\nimport style from './ChatContent.css';\nimport Link from '../../Link/Link';\nimport ChatContentMsg from './ChatContentMsg';\nimport { icons } from '../../../constants/enums';\nimport Icon from '../../Icon/Icon';\nimport AudioVideoChatContent from './AudioVideoChatContent';\nimport * as audioVideoChatStatus from '../../../constants/enums/audioVideoChatStatus';\n\nimport ResizeContainer from '../../Resizer/ResizeContainer';\n\nconst getFontSizeClass = type => ({\n  [fontSize.small]: style.chatContentsmall,\n  [fontSize.middle]: style.chatContentmiddle,\n  [fontSize.large]: style.chatContentlarge,\n})[type];\n\nconst getVisitorForNotify = (messages) => {\n  if (!_.isArray(messages.last()) || messages.last().length === 0) return '';\n  return messages.last()[0].sender;\n};\nconst getMessageForNotify = (messages) => {\n  if (!_.isArray(messages.last()) || messages.last().length === 0) return '';\n  return messages.last()[messages.last().length - 1].message ||\n    messages.last()[messages.last().length - 1].fileName;\n};\n\nclass ChatContent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      // ifShowNotify: props.ifShowNotify,\n      ifShowGotoMeetingNotify: false,\n    };\n    this.update = this.update.bind(this);\n    this.selectChatMessage = this.selectChatMessage.bind(this);\n    this.closeGotoMeetingNotify = this.closeGotoMeetingNotify.bind(this);\n    this.scrollBottom = this.scrollBottom.bind(this);\n    this.getScrollHeight = this.getScrollHeight.bind(this);\n    this.canShowNotify = false;\n    this.scrollTop = props.scrollTop;\n    this.timer = null;\n    this.ifScrollBottom = false;\n    this.notifyVisitor = getVisitorForNotify(props.messages);\n    this.notifyMessage = getMessageForNotify(props.messages);\n  }\n  componentDidMount() {\n    this.parent.scrollTop = this.getScrollHeight();\n    this.parent.addEventListener('scroll', this.update, false);\n    document.body.addEventListener('keydown', this.selectChatMessage, false);\n    // document.onkeydown = (e) => {\n\n    // };\n  }\n  componentWillReceiveProps(nextProps) {\n    const propsMessage = nextProps.messages;\n    this.notifyVisitor = getVisitorForNotify(propsMessage);\n    this.notifyMessage = getMessageForNotify(propsMessage);\n    if (this.props.g2mStartUrl !== nextProps.g2mStartUrl && !this.state.ifShowGotoMeetingNotify) {\n      this.setState({\n        ifShowGotoMeetingNotify: true,\n      });\n    }\n    this.scrollTop = nextProps.scrollTop;\n  }\n  shouldComponentUpdate(nextProps, nextState) {\n    return nextProps.id !== this.props.id ||\n      nextProps.selectedFontSize !== this.props.selectedFontSize ||\n      nextProps.typingMessage !== this.props.typingMessage ||\n      nextProps.textDirectionIfRTL !== this.props.textDirectionIfRTL ||\n      nextProps.errorMessageForChat !== this.props.errorMessageForChat ||\n      nextProps.g2mStartUrl !== this.props.g2mStartUrl ||\n      nextProps.ifShowNotify !== this.props.ifShowNotify ||\n      nextProps.audioVideoChatWidth !== this.props.audioVideoChatWidth ||\n      nextProps.audioVideoChatStatus !== this.props.audioVideoChatStatus ||\n      nextState.ifShowGotoMeetingNotify !== this.state.ifShowGotoMeetingNotify ||\n      !_.isEqual(this.props.messages.toJS(), nextProps.messages.toJS());\n  }\n\n  componentDidUpdate(prevProps) {\n    const propsMessage = this.props.messages;\n    if (propsMessage !== prevProps.messages ||\n      this.props.typingMessage !== prevProps.typingMessage) {\n      this.parent.scrollTop = this.getScrollHeight();\n    }\n  }\n  getScrollHeight() {\n    return this.scrollTop === -1 ? this.parent.scrollHeight : this.scrollTop;\n  }\n  componentWillUnmount() {\n    if (this.timer) {\n      clearTimeout(this.timer);\n      this.timer = null;\n    }\n    this.parent.removeEventListener('scroll', this.update);\n    document.body.removeEventListener('keydown', this.selectChatMessage);\n  }\n\n  update(event) {\n    this.scrollTop = event.target.scrollTop;\n    const clientHeight = event.target.clientHeight;\n    const messageScrollHeight = event.target.scrollHeight;\n    this.canShowNotify = (this.scrollTop + clientHeight < messageScrollHeight - 20);\n    if (!this.canShowNotify && this.props.ifShowNotify) {\n      // this.setState({\n      //   ifShowNotify: false,\n      // });\n      this.props.updateIfShowNotify(false);\n    }\n    if (!this.canShowNotify) {\n      if (this.timer) {\n        clearTimeout(this.timer);\n        this.timer = null;\n      }\n      this.ifScrollBottom = true;\n      this.props.onScroll(this.props.id, -1);\n    } else {\n      this.ifScrollBottom = false;\n    }\n    if (this.props.onScroll && !this.ifScrollBottom) {\n      if (this.timer) {\n        clearTimeout(this.timer);\n        this.timer = null;\n      }\n      this.timer = setTimeout(() => {\n        this.props.onScroll(this.props.id, this.scrollTop);\n      }, 500);\n    }\n  }\n  selectChatMessage(e) {\n    if (e.ctrlKey &&\n      (e.keyCode === 65 || e.keyCode === 97) &&\n      (e.target === document.body || e.target === this.parent)) {\n      if (document.selection) {\n        const range = document.body.createTextRange();\n        range.moveToElementText(this.parent);\n        range.select();\n      } else if (window.getSelection) {\n        const windowSelection = window.getSelection();\n        if (windowSelection.rangeCount > 0) {\n          windowSelection.removeAllRanges();\n        }\n        const range = document.createRange();\n        range.selectNode(this.parent);\n        windowSelection.addRange(range);\n      }\n      e.preventDefault();\n      e.stopPropagation();\n    }\n  }\n\n  closeGotoMeetingNotify() {\n    this.setState({\n      ifShowGotoMeetingNotify: false,\n    });\n    this.props.clearG2mStartUrl();\n  }\n\n  scrollBottom() {\n    this.parent.scrollTop = this.container.getBoundingClientRect().height;\n    // this.setState({\n    //   ifShowNotify: false,\n    // });\n    this.ifScrollBottom = true;\n    this.props.onScroll(this.props.id, -1);\n  }\n\n  render() {\n    const props = this.props;\n    // let notifyVisitor = '';\n    // let notifyMessage = '';\n    // const propsLastMessage = props.messages.get(props.messages.size - 1);\n    // if (this.state.ifShowNotify && props.messages.size > 0 &&\n    //   propsLastMessage[0].type === messageType.visitor) {\n    //   // const propsLastMessage = props.messages.get(props.messages.size - 1);\n    //   notifyVisitor = propsLastMessage[0].sender;\n    //   notifyMessage = propsLastMessage[propsLastMessage.length - 1].message ||\n    //   propsLastMessage[propsLastMessage.length - 1].fileName;\n    // }\n    const chatContentContainer = (<div\n      className={style.chatContentContainer}\n    >\n      <div\n        className={\n          classnames(\n            style.chatContent,\n            getFontSizeClass(props.selectedFontSize),\n            props.textDirectionIfRTL ? style.directionRTL : '',\n            'contentMenu'\n          )\n        }\n        ref={(element) => { this.parent = element; }}\n      >\n        <div ref={(element) => { this.container = element; }}>\n          {\n            props.messages.map((message, i) => <ChatContentMsg\n              key={i}\n              messages={message}\n              getSecureFormContent={this.props.getSecureFormContent}\n              timezone={this.props.timezone}\n              timezoneOffset={this.props.timezoneOffset}\n            />)\n          }\n        </div>\n        {\n          props.typingMessage !== '' ?\n            <div className={style.typingIndicator}>\n              <span>{props.chatTo} is typing: </span>\n              {props.typingMessage}...\n              <Icon\n                type={icons.typing}\n                size={13}\n              />\n            </div>\n            :\n            null\n        }\n      </div>\n      {this.props.ifShowNotify && this.props.scrollTop !== -1 && (\n        <div className={style.notify} onClick={this.scrollBottom}>\n          <span className={style.notifyName}>{this.notifyVisitor}:</span> {this.notifyMessage}\n        </div>\n      )}\n      {\n        (props.g2mStartUrl && this.state.ifShowGotoMeetingNotify) ?\n          <div className={classnames(style.notify, style.notifyG2M)}>\n            You have created a new meeting.\n            <span className={style.action} onClick={this.closeGotoMeetingNotify}>\n              <Link\n                href={props.g2mStartUrl}\n                newWindow\n              >\n                Start Meeting Immediately\n              </Link>\n              {/** @todo not proper to use href=\"#\", remove it */}\n              <Button type=\"noborder\">Not Now</Button>\n            </span>\n          </div>\n          : ''\n      }\n      {\n        props.errorMessageForChat ?\n          <div className={style.error}>\n            <span className={style.errorContent}>{props.errorMessageForChat}</span>\n            {/** @todo not proper to use href=\"#\", remove it */}\n            <Button type=\"noborder\" onClick={props.hideErrorMessage}>Dismiss</Button>\n          </div>\n          :\n          ''\n      }\n    </div>);\n    return (\n      <div className={style.chatContainer}>\n        {\n          props.audioVideoChatStatus !== audioVideoChatStatus.notStart ?\n            <ResizeContainer\n              resizerPosition=\"left\"\n              width={props.audioVideoChatWidth}\n              left_minWidth={110}\n              right_minWidth={110}\n              onStopResize={props.onAudioAndVideoStopResize}\n            >\n              <AudioVideoChatContent\n                audioVideoChatStatus={props.audioVideoChatStatus}\n                chatTo={props.chatTo}\n                avatarLink={props.visitorAvatar}\n                isContactOrUserOpen={props.isContactOrUserOpen}\n                identityType={props.identityType}\n                onAcceptClick={this.props.onAudioVideoChatAccept}\n                onRefuseClick={this.props.onAudioVideoChatRefuse}\n                p2pChat={props.p2pChat}\n                audioVideoChatStartTime={props.audioVideoChatStartTime}\n              />\n              {chatContentContainer}\n            </ResizeContainer>\n            :\n            <div>\n              {chatContentContainer}\n            </div>\n        }\n\n      </div>\n    );\n  }\n}\n\nexport default ChatContent;\n\nChatContent.propTypes = {\n  id: React.PropTypes.number.isRequired,\n  selectedFontSize: React.PropTypes.string.isRequired,\n  messages: React.PropTypes.instanceOf(Immutable.List).isRequired,\n  chatTo: React.PropTypes.string.isRequired,\n  typingMessage: React.PropTypes.string,\n  getSecureFormContent: React.PropTypes.func,\n  timezone: React.PropTypes.number,\n  timezoneOffset: React.PropTypes.number,\n  textDirectionIfRTL: React.PropTypes.bool,\n  g2mStartUrl: React.PropTypes.string,\n  errorMessageForChat: React.PropTypes.string,\n  clearG2mStartUrl: React.PropTypes.func,\n  scrollTop: React.PropTypes.number,\n  onScroll: React.PropTypes.func,\n  ifShowNotify: React.PropTypes.bool,\n  audioVideoChatWidth: React.PropTypes.number,\n  updateIfShowNotify: React.PropTypes.func,\n  audioVideoChatStatus: React.PropTypes.string,\n  p2pChat: React.PropTypes.object,\n  visitorId: React.PropTypes.number,\n  onAudioVideoChatAccept: React.PropTypes.func,\n  onAudioVideoChatRefuse: React.PropTypes.func,\n  audioVideoChatStartTime: React.PropTypes.object,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ChatSection/ChatContent/ChatContent.jsx","import React from 'react';\nimport classnames from 'classnames';\nimport { dateToString } from 'src/utils/time';\nimport Link from 'src/components/Link/Link';\nimport * as messageType from '../../../constants/enums/messageType';\nimport * as str from '../../../utils/str';\nimport style from './ChatContent.css';\n\nimport Icon from '../../Icon/Icon';\nimport { secureFormStatus, icons } from '../../../constants/enums';\n\nconst text = (message) => {\n  if (message.translatedMessage && message.translatedMessage !== '') {\n    let translateMsg = '';\n    let orignalMsg = '';\n    translateMsg = str.handleLinks(message.translatedMessage, (content, i) => {\n      const link = content.indexOf('www.') === 0 ? `http://${content}` : content;\n      return <Link href={link} key={i} newWindow>{content}</Link>;\n    });\n    orignalMsg = str.handleLinks(message.message, (content, i) => {\n      const link = content.indexOf('www.') === 0 ? `http://${content}` : content;\n      return <Link href={link} key={i} newWindow>{content}</Link>;\n    });\n    return (\n      <p key={message.id}>\n        {translateMsg} <i>(Translation)</i><br />\n        <span className={style.translationMsg}>{orignalMsg}</span> <i>(Original)</i>\n      </p>\n\n    );\n    // buildedMessage = `${translateMsg} <i>(Translation)</i>\\r\\n<i>${orignalMsg} (Original)</i>`;\n  }\n  return (\n    <p key={message.id}>\n      { str.handleLinks(message.message, (content, i) => {\n        const link = content.indexOf('www.') === 0 ? `http://${content}` : content;\n        return <Link href={link} key={i} newWindow>{content}</Link>;\n      })}\n    </p>\n  );\n};\nconst image = message => (\n  message.url ? (\n    <div key={message.id}>\n      <Link key={message.id} href={message.url} newWindow>\n        <img src={message.url} alt={message.filename} style={{ maxWidth: 400, maxHeight: 400 }} />\n      </Link>\n    </div>\n  ) : null\n);\nconst file = message => (\n  <div key={message.id}>\n    <Link key={message.id} className={style.attachment} href={message.url} newWindow>\n      {message.fileName}\n    </Link>\n  </div>\n);\n\nconst getMessageComponent = (message) => {\n  if (message.message) return text(message);\n  if (message.url) {\n    if (message.isImage) return image(message);\n    return file(message);\n  }\n  return null;\n};\n\nclass ChatContentMsg extends React.Component {\n  componentDidMount() {\n    const firstMessageObj = this.props.messages[0];\n    if (firstMessageObj.type === messageType.secureForm &&\n      firstMessageObj.message.status === secureFormStatus.init) {\n      this.props.getSecureFormContent(firstMessageObj.message.token,\n        firstMessageObj.message.rsaKey);\n    }\n  }\n  shouldComponentUpdate(nextProps) {\n    return nextProps.messages !== this.props.messages;\n  }\n  render() {\n    const messages = this.props.messages;\n    const name = messages[0].sender;\n    const time = dateToString(\n      messages[0].time,\n      'HH:mm',\n      this.props.timezone,\n      this.props.timezoneOffset\n    );\n    const type = messages[0].type;\n    if (type === messageType.system) {\n      return <div className={classnames(style.systemMeg)}>{messages[0].message}</div>;\n    }\n    return (\n      <div\n        className={classnames(\n          style.chatContentInfo,\n          (type === messageType.agent) ? style.operator : style.visitor\n        )}\n      >\n        {\n          type === messageType.secureForm ?\n            <div className={style.secureForm}>\n              {\n                (messages[0].message.status === secureFormStatus.downloading ||\n                  messages[0].message.status === secureFormStatus.init) ?\n                    <Icon type={icons.loading} size=\"small\" /> :\n                    messages[0].message.content.map(item => (\n                      <div>\n                        {item.name}: {item.value}\n                      </div>\n                    ))\n              }\n            </div>\n            :\n            <div>\n              <div>\n                <span className={style.name}>{`${name}: `}</span>\n                <span className={style.time}>{time}</span>\n              </div>\n              <div className={style.chatMeg}>\n                {messages.map(message => getMessageComponent(message))}\n              </div>\n            </div>\n        }\n      </div>\n    );\n  }\n}\n\nexport default ChatContentMsg;\n\nChatContentMsg.propTypes = {\n  messages: React.PropTypes.oneOfType([\n    React.PropTypes.shape({}),\n    React.PropTypes.arrayOf(React.PropTypes.shape({})),\n  ]),\n  getSecureFormContent: React.PropTypes.func,\n  timezone: React.PropTypes.number,\n  timezoneOffset: React.PropTypes.number,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ChatSection/ChatContent/ChatContentMsg.jsx","import React from 'react';\nimport style from './FileUploadProgress.css';\nimport Button from '../Button/Button';\n\nconst FileUploadProgress = props => (\n  <div className={style.uploadProgressContainer}>\n    {\n      (props.fileUploadProgressNumber > 0 && props.fileUploadProgressNumber < 100) ?\n        <div className={style.uploadProgress}>\n          <span className={style.uploadFileName}>\n            {props.fileName}\n          </span>\n          <span className={style.uploadProgressPercent}>{props.fileUploadProgressNumber}%</span>\n          <button\n            className={style.cancelUpload}\n            onClick={() => props.handleAbortUpload(props.file)}\n          >\n          &times;\n          </button>\n        </div>\n        : ''\n    }\n  </div>\n);\n\nexport default FileUploadProgress;\n\nFileUploadProgress.propTypes = {\n  file: React.PropTypes.object,\n  fileName: React.PropTypes.string.isRequired,\n  fileUploadProgressNumber: React.PropTypes.number.isRequired,\n  handleAbortUpload: React.PropTypes.func.isRequired,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/FileUploadProgress/FileUploadProgress.jsx","import React from 'react';\nimport classnames from 'classnames';\nimport Icon from './Icon';\nimport style from './Icon.css';\n\n\nconst Browser = (props) => {\n  const tooltip = props.name !== '-' ? props.name : 'Unknown';\n  let classname = '';\n  const nameLowerCase = props.name.toLowerCase();\n  if (nameLowerCase.indexOf('chrome') !== -1) {\n    classname = 'chrome';\n  } else if (nameLowerCase.indexOf('ie') !== -1) {\n    classname = 'ie';\n  } else if (nameLowerCase.indexOf('edge') !== -1) {\n    classname = 'edge';\n  } else if (nameLowerCase.indexOf('firefox') !== -1) {\n    classname = 'firefox';\n  } else if (nameLowerCase.indexOf('safari') !== -1) {\n    classname = 'safari';\n  } else if (nameLowerCase.indexOf('opera') !== -1) {\n    classname = 'opera';\n  } else {\n    classname = 'default';\n  }\n  return (\n    <span data-tip={tooltip} data-for=\"chatContainer\">\n      <Icon className={classnames(style[`browser-${classname}`], style.iconOffsetDown)} />\n    </span>\n  );\n};\n\nexport default Browser;\n\nBrowser.propTypes = {\n  name: React.PropTypes.string,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Icons/Browser.jsx","import React, { Component } from 'react';\nimport classnames from 'classnames';\nimport Upload from 'rc-upload';\nimport * as _ from 'lodash';\nimport style from '../Icon.css';\nimport Icon from '../../Icon/Icon';\nimport { icons as enums } from '../../../constants/enums';\nimport { formatAgentChatDownloadUrl, shouldComponentUpdateGen } from '../../../utils/helper';\n\nimport FileUploadProgress from '../../FileUploadProgress/FileUploadProgress';\n\nconst shouldComponentUpdateHelper = shouldComponentUpdateGen(\n  'SendFile',\n  ['disabled'],\n  ['file', 'fileName', 'fileUploadProgressNumber', 'uploadedFileNumber', 'errorMessage']\n);\n\nclass SendFile extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      file: null,\n      fileName: '',\n      fileUploadProgressNumber: 0,\n      uploadedFileNumber: 0,\n      errorMessage: '',\n    };\n    this.upload = null;\n\n    this.showErrorMessage = props.showErrorMessage.bind(null, props.chatId);\n\n    this.uploadConfig = {\n      action: props.siteInfo.sendFileUploadUrl,\n      multiple: false,\n      disabled: props.disabled,\n      beforeUpload: this.beforeUpload,\n      onStart: props.onStart || _.noop,\n      onSuccess: this.onSuccess,\n      onProgress: this.onProgress,\n      onError: props.onError || _.noop,\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.uploadConfig.action = nextProps.siteInfo.sendFileUploadUrl;\n    this.uploadConfig.disabled = nextProps.disabled;\n    if (nextProps.chatId !== this.props.chatId) {\n      this.showErrorMessage = this.props.showErrorMessage.bind(null, nextProps.chatId);\n    }\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return shouldComponentUpdateHelper(this.props, nextProps, this.state, nextState);\n  }\n\n  beforeUpload = (file) => {\n    const siteInfo = this.props.siteInfo;\n    if (file.size <= siteInfo.maxFileSize * 1024 * 1024) {\n      /**\n       * @todo wrong implementation.\n       * this.state will not be remembered, when component re-create.\n       *\n       * example:\n       * if switch from one chat to another, and switch back, this.state.uploadedFileNumber\n       * will be re-set to 0, as `constructor` is called again.\n       */\n      if (this.state.uploadedFileNumber > siteInfo.maxFileNum) {\n        this.showErrorMessage(`Error sending file: The max number of files you can send/receive during this chat session is\n                          ${siteInfo.maxFileNum}.`);\n        return false;\n      }\n    } else {\n      this.showErrorMessage(`Error sending file: The max file size is ${siteInfo.maxFileSize} MB.`);\n      return false;\n    }\n    return this.props.beforeUpload ? this.props.beforeUpload(file) : true;\n  }\n\n  onProgress = (step, file) => {\n    if (this.props.onProgress) {\n      this.props.onProgress(step, file, this.upload);\n    }\n    this.setState({\n      file,\n      fileName: file.name,\n      fileUploadProgressNumber: step.percent === 100 ? 100 : parseFloat(step.percent.toFixed(1)),\n    });\n  }\n\n  onSuccess = (rsp, file) => {\n    if (rsp && (rsp === 'success' || rsp.isSuccess)) {\n      this.setState({\n        uploadedFileNumber: this.state.uploadedFileNumber + 1,\n      });\n      if (this.props.onSuccess) {\n        this.props.onSuccess(rsp,\n                            file,\n                            this.getDownloadUrl(rsp.guid, file.name),\n                            this.props.siteInfo);\n      }\n      return;\n    }\n    const errorMsg = rsp.errorMessage || rsp;\n    this.showErrorMessage(`Error sending file: ${errorMsg}`);\n    // this.props.onError(rsp.errorMessage);\n  }\n\n  getDownloadUrl = (guid, name) => {\n    if (!this.props.siteInfo) return '';\n    const { downloadUrl, sessionId, siteId, privateMessage } = this.props.siteInfo;\n    return formatAgentChatDownloadUrl(downloadUrl,\n                            sessionId,\n                            siteId,\n                            privateMessage,\n                            guid,\n                            name);\n  }\n\n\n\n  handleAbortUpload = (file) => {\n    if (this.upload) this.upload.abort(file);\n    this.setState({\n      fileUploadProgressNumber: 0,\n    });\n  }\n\n  render() {\n    this.uploadConfig.disabled = this.props.disabled;\n    if (!this.props.disabled) {\n      if (this.state.fileUploadProgressNumber !== 100 &&\n          this.state.fileUploadProgressNumber !== 0) {\n        this.uploadConfig.disabled  = true;\n      } else {\n        this.uploadConfig.disabled  = false;\n      }\n\n    }\n    return (\n      <div>\n        <FileUploadProgress\n          file={this.state.file}\n          fileName={this.state.fileName}\n          fileUploadProgressNumber={this.state.fileUploadProgressNumber}\n          handleAbortUpload={this.handleAbortUpload}\n        />\n        <span\n          className={classnames(style.fileupload, this.props.className)}\n          data-tip=\"Send a file from your local machine.\" data-for=\"chatContainer\"\n        >\n        <Upload\n          ref={(element) => { this.upload = element; }}\n          {...this.uploadConfig}\n        >\n          <Icon type={enums.sendFile} />\n        </Upload>\n        </span>\n      </div>\n    );\n  }\n}\n\nSendFile.propTypes = {\n  siteInfo: React.PropTypes.shape({\n    sendFileUploadUrl: React.PropTypes.string,\n    downloadUrl: React.PropTypes.string,\n    sessionId: React.PropTypes.string,\n    siteId: React.PropTypes.number,\n    privateMessage: React.PropTypes.number,\n    maxFileSize: React.PropTypes.number,\n    maxFileNum: React.PropTypes.number,\n  }).isRequired,\n  className: React.PropTypes.string,\n  disabled: React.PropTypes.bool.isRequired,\n  beforeUpload: React.PropTypes.func,\n  onStart: React.PropTypes.func,\n  onSuccess: React.PropTypes.func,\n  onProgress: React.PropTypes.func,\n  onError: React.PropTypes.func,\n  showErrorMessage: React.PropTypes.func,\n  chatId: React.PropTypes.number.isRequired,\n};\n\nexport default SendFile;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Icons/ChatAction/SendFile.jsx","import React from 'react';\nimport classnames from 'classnames';\nimport style from './Icon.css';\nimport Icon from './Icon.jsx';\n\n\nconst Country = (props) => {\n  const tooltip = `${props.city}, ${props.state}, ${props.countryName}`;\n  if (!props.countryCode) return null;\n  const nameLowerCase = props.countryCode.toLowerCase();\n  const imgCountry = require(`./images/flag/${nameLowerCase}.svg`);\n  return (\n    <span data-tip={tooltip} data-for={props['data-for'] || 'chatContainer'}>\n      <Icon\n        className={classnames(style.iconSmaller, style.iconOffsetDown)}\n        style={{ backgroundImage: `url(${imgCountry})` }}\n      />\n    </span>\n  );\n};\n\nexport default Country;\n\nCountry.propTypes = {\n  countryName: React.PropTypes.string,\n  city: React.PropTypes.string,\n  state: React.PropTypes.string,\n  countryCode: React.PropTypes.string,\n  'data-for': React.PropTypes.string,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Icons/Country.jsx","import React from 'react';\nimport classnames from 'classnames';\nimport Icon from './Icon';\nimport style from './Icon.css';\n\nconst OS = (props) => {\n  const tooltip = props.name !== '-' ? props.name : 'Unknown';\n  let classname = '';\n  const nameLowerCase = props.name.toLowerCase();\n  if (nameLowerCase.indexOf('windows') !== -1) {\n    classname = 'windows';\n    if (nameLowerCase.indexOf('windows 10') !== -1 || nameLowerCase.indexOf('windows 8') !== -1) {\n      classname = 'windows8';\n    }\n  } else if (nameLowerCase.indexOf('mac') !== -1) {\n    classname = 'mac';\n  } else if (nameLowerCase.indexOf('android') !== -1) {\n    classname = 'android';\n  } else if (nameLowerCase.indexOf('ios') !== -1) {\n    classname = 'ios';\n  } else if (nameLowerCase.indexOf('linux') !== -1) {\n    classname = 'linux';\n  } else {\n    classname = 'default';\n  }\n\n  return (\n    <span data-tip={tooltip} data-for=\"chatContainer\">\n      <Icon className={classnames(style[`os-${classname}`], style.iconOffsetDown)} />\n    </span>\n  );\n};\n\nexport default OS;\n\nOS.propTypes = {\n  name: React.PropTypes.string,\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Icons/OS.jsx","import React from 'react';\n// import classnames from 'classnames';\n\nimport Modal from '../Modal';\n// import ModalStyle from '../Modal.css';\nimport TextArea from '../../TextArea/TextArea';\n// import Button from '../../Button/Button';\nimport RadioButton from '../../RadioButton/RadioButton';\nimport { shouldComponentUpdateGen } from '../../../utils/helper';\n\nconst shouldComponentUpdateHelper = shouldComponentUpdateGen(\n  'ModalBanChat',\n  ['visitorId', 'realVisitorId', 'visitorIP', 'ifOpen'],\n  ['banType', 'comment']\n);\n\nclass ModalBanChat extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      banType: '0',\n      comment: '',\n    };\n    this.handleRadioChange = this.handleRadioChange.bind(this);\n    this.handleTextAreaChange = this.handleTextAreaChange.bind(this);\n    this.handleBanChat = this.handleBanChat.bind(this);\n  }\n  shouldComponentUpdate(nextProps, nextState) {\n    // if (nextProps.ifOpen === false && this.props.ifOpen === false) return false;\n    return shouldComponentUpdateHelper(this.props, nextProps, this.state, nextState);\n  }\n  handleRadioChange(event) {\n    this.setState({\n      banType: event.target.value,\n    });\n  }\n  handleTextAreaChange(event) {\n    this.setState({\n      comment: event.target.value,\n    });\n  }\n  handleBanChat() {\n    const banInfo = {\n      banType: this.state.banType,\n      ip: this.props.visitorIP,\n      comment: this.state.comment,\n    };\n    this.props.onBanChat(this.props.visitorId, banInfo);\n    this.props.closeModal();\n  }\n  render() {\n    const id = this.props.realVisitorId;\n    const text = id > 0 ? ` (Visitor Id: ${id})` : '';\n    return (\n      <Modal\n        closeModal={this.props.closeModal}\n        title=\"Ban Visitor\"\n        actions={{\n          okProps: { text: 'OK', eventClick: this.handleBanChat },\n          cancelProps: { text: 'Cancel' },\n        }}\n      >\n        <RadioButton\n          name=\"banvisitor\"\n          radioOption={[\n            {\n              text: `Ban visitor from this Visitor Id.${text}`,\n              value: '0',\n              checked: this.state.banType === '0',\n            },\n            {\n              text: `Ban visitor from this IP. (IP: ${this.props.visitorIP})`,\n              value: '1',\n              checked: this.state.banType === '1',\n            },\n          ]}\n          // selectedVal={this.state.banType}\n          handleChange={this.handleRadioChange}\n        />\n        <div>Comment:</div>\n        <TextArea\n          meta={{}}\n          input={{ onChange: this.handleTextAreaChange }}\n          name=\"bancomment\"\n          cols=\"40\"\n          rows=\"5\"\n        />\n\n      </Modal>\n    );\n  }\n\n}\n\nexport default ModalBanChat;\n\nModalBanChat.propTypes = {\n  // ifOpen: React.PropTypes.bool.isRequired,\n  onBanChat: React.PropTypes.func.isRequired,\n  closeModal: React.PropTypes.func.isRequired,\n  visitorId: React.PropTypes.number,\n  realVisitorId: React.PropTypes.number,\n  visitorIP: React.PropTypes.string,\n};\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Modal/ModalBanChat/ModalBanChat.jsx","export const visitorIdentityTypeNone = 0;\nexport const visitorIdentityTypeOperator = 1;\nexport const visitorIdentityTypeUser = 2;\nexport const visitorIdentityTypeContact = 3;\nexport const visitorIdentityTypeEmailAddress = 4;\nexport const visitorIdentityTypeCookie = 5;\nexport const visitorIdentityTypeVisitor = 6;\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants/enums/visitorType.js","import React from 'react';\nimport LazilyLoad, { importLazy } from 'src/components/LazilyLoad/LazilyLoad';\nimport loadingComponent from 'src/components/Icons/LoadingComponent';\nimport Reload from 'src/components/Widget/Reload';\n\nexport default () => (\n  <LazilyLoad\n    modules={{ VisitorDetailsTab: () => importLazy(new Promise((resolve, reject) => {\n      require.ensure(['./VisitorDetailsTab'], (require) => {\n        resolve(require('./VisitorDetailsTab'));\n      }, 'details-tab').catch(reject);\n    })) }}\n    loading={loadingComponent}\n    retry={Reload}\n  >\n    {\n      ({ VisitorDetailsTab }) => (\n        <VisitorDetailsTab />\n      )\n    }\n  </LazilyLoad>\n);\n\n\n\n// WEBPACK FOOTER //\n// ./src/containers/SplitterVisitorDetailsTab.jsx","// removed by extract-text-webpack-plugin\nmodule.exports = {\"uploadProgressContainer\":\"FileUploadProgress__uploadProgressContainer--2X8I6\",\"uploadProgress\":\"FileUploadProgress__uploadProgress--z1S5B\",\"uploadProgressPercent\":\"FileUploadProgress__uploadProgressPercent--2Kuai\",\"uploadProgressBarContainer\":\"FileUploadProgress__uploadProgressBarContainer--1y0Vz\",\"uploadProgressBar\":\"FileUploadProgress__uploadProgressBar--1Y9LY\",\"cancelUpload\":\"FileUploadProgress__cancelUpload--1YVmG\",\"uploadFileName\":\"FileUploadProgress__uploadFileName--3j-Sc\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/FileUploadProgress/FileUploadProgress.css\n// module id = 969\n// module chunks = 1 2","// removed by extract-text-webpack-plugin\nmodule.exports = {\"promptWindow\":\"Prompt__promptWindow--1pSIE\",\"close\":\"Prompt__close--1armJ\",\"action\":\"Prompt__action--8U9t9\",\"dropdown\":\"Prompt__dropdown--dWvdQ\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Prompt/Prompt.css\n// module id = 971\n// module chunks = 1","// removed by extract-text-webpack-plugin\nmodule.exports = {\"container\":\"Tooltip__container--202Gq\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Tooltip/Tooltip.css\n// module id = 974\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/ad.2w4fR.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/ad.svg\n// module id = 979\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/ae.QKKnW.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/ae.svg\n// module id = 980\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/af.34HyY.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/af.svg\n// module id = 981\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/ag.3oxDo.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/ag.svg\n// module id = 982\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/ai.1ePWR.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/ai.svg\n// module id = 983\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/al.1vueq.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/al.svg\n// module id = 984\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/am.47rmP.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/am.svg\n// module id = 985\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/ao.3jr2Q.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/ao.svg\n// module id = 986\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/aq.3EaFW.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/aq.svg\n// module id = 987\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/ar.2ETX6.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/ar.svg\n// module id = 988\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/as.1p0xc.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/as.svg\n// module id = 989\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/at.2q7_9.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/at.svg\n// module id = 990\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/au.3DiLj.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/au.svg\n// module id = 991\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/aw.4BBWc.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/aw.svg\n// module id = 992\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/ax.36jxg.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/ax.svg\n// module id = 993\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/az.1qUdn.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/az.svg\n// module id = 994\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/ba.25bIN.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/ba.svg\n// module id = 995\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/bb.BcX82.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/bb.svg\n// module id = 996\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/bd.2fEO9.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/bd.svg\n// module id = 997\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/be.26Thv.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/be.svg\n// module id = 998\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/bf.2lL_M.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/bf.svg\n// module id = 999\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/bg.3FL0Z.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/bg.svg\n// module id = 1000\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/bh.2P2db.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/bh.svg\n// module id = 1001\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/bi.xNOIF.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/bi.svg\n// module id = 1002\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/bj.2RzLF.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/bj.svg\n// module id = 1003\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/bl.AXPio.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/bl.svg\n// module id = 1004\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/bm.9mtgH.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/bm.svg\n// module id = 1005\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/bn.3SkJy.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/bn.svg\n// module id = 1006\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/bo.3Pn4G.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/bo.svg\n// module id = 1007\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/bq.2b5iS.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/bq.svg\n// module id = 1008\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/br.31kAh.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/br.svg\n// module id = 1009\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/bs.3x6BN.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/bs.svg\n// module id = 1010\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/bt.BqUXg.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/bt.svg\n// module id = 1011\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/bv.1omMS.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/bv.svg\n// module id = 1012\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/bw.fXfB3.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/bw.svg\n// module id = 1013\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/by.fkEtY.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/by.svg\n// module id = 1014\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/bz.3zcxn.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/bz.svg\n// module id = 1015\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/ca.3yloD.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/ca.svg\n// module id = 1016\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/cc.1BE1c.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/cc.svg\n// module id = 1017\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/cd.1aL94.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/cd.svg\n// module id = 1018\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/cf.1KZPZ.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/cf.svg\n// module id = 1019\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/cg.5-Xxi.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/cg.svg\n// module id = 1020\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/ch.WYetg.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/ch.svg\n// module id = 1021\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/ci.1IYx6.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/ci.svg\n// module id = 1022\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/ck.3tyQv.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/ck.svg\n// module id = 1023\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/cl.2NI88.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/cl.svg\n// module id = 1024\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/cm.9MohG.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/cm.svg\n// module id = 1025\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/cn.1N1to.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/cn.svg\n// module id = 1026\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/co.1RsuP.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/co.svg\n// module id = 1027\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/cr.3Yju6.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/cr.svg\n// module id = 1028\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/cu.3p081.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/cu.svg\n// module id = 1029\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/cv.1ygJ9.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/cv.svg\n// module id = 1030\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/cw.1RthL.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/cw.svg\n// module id = 1031\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/cx.38aoS.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/cx.svg\n// module id = 1032\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/cy.uMX3m.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/cy.svg\n// module id = 1033\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/cz.eJUf5.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/cz.svg\n// module id = 1034\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/de.2Ts3w.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/de.svg\n// module id = 1035\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/dj.1fpHg.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/dj.svg\n// module id = 1036\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/dk.3juVM.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/dk.svg\n// module id = 1037\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/dm.1rpAy.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/dm.svg\n// module id = 1038\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/do.1DAN7.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/do.svg\n// module id = 1039\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/dz.1vHVr.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/dz.svg\n// module id = 1040\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/ec.hwbbX.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/ec.svg\n// module id = 1041\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/ee.KILMu.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/ee.svg\n// module id = 1042\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/eg.3U_QX.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/eg.svg\n// module id = 1043\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/eh.2skcW.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/eh.svg\n// module id = 1044\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/er.3T2BO.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/er.svg\n// module id = 1045\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/es.1iqTD.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/es.svg\n// module id = 1046\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/et.17Ajh.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/et.svg\n// module id = 1047\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/eu.3bw_3.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/eu.svg\n// module id = 1048\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/fi.3ztSq.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/fi.svg\n// module id = 1049\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/fj.1cU11.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/fj.svg\n// module id = 1050\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/fk.2QJ47.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/fk.svg\n// module id = 1051\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/fm.1CfPN.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/fm.svg\n// module id = 1052\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/fo.3iKwE.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/fo.svg\n// module id = 1053\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/fr.2piL-.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/fr.svg\n// module id = 1054\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/ga.3NQKi.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/ga.svg\n// module id = 1055\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/gb-eng.3CFDF.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/gb-eng.svg\n// module id = 1056\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/gb-nir.36y8P.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/gb-nir.svg\n// module id = 1057\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/gb-sct.1ByLH.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/gb-sct.svg\n// module id = 1058\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/gb-wls._syZw.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/gb-wls.svg\n// module id = 1059\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/gb.14AVo.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/gb.svg\n// module id = 1060\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/gd.1Stf-.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/gd.svg\n// module id = 1061\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/ge.2zNqV.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/ge.svg\n// module id = 1062\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/gf.qc_td.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/gf.svg\n// module id = 1063\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/gg.31NRj.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/gg.svg\n// module id = 1064\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/gh.1Tgnf.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/gh.svg\n// module id = 1065\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/gi.1nA7a.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/gi.svg\n// module id = 1066\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/gl.hATVw.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/gl.svg\n// module id = 1067\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/gm.xpnyt.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/gm.svg\n// module id = 1068\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/gn.1aCvk.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/gn.svg\n// module id = 1069\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/gp.2piL-.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/gp.svg\n// module id = 1070\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/gq.1oDwE.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/gq.svg\n// module id = 1071\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/gr.4ZgKs.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/gr.svg\n// module id = 1072\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/gs.2543W.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/gs.svg\n// module id = 1073\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/gt.35oze.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/gt.svg\n// module id = 1074\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/gu.2dYTQ.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/gu.svg\n// module id = 1075\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/gw.1LVc9.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/gw.svg\n// module id = 1076\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/gy.2vj9x.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/gy.svg\n// module id = 1077\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/hk.2v-pS.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/hk.svg\n// module id = 1078\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/hm.2wnFl.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/hm.svg\n// module id = 1079\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/hn.2ttXd.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/hn.svg\n// module id = 1080\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/hr.2lFUr.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/hr.svg\n// module id = 1081\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/ht.3E_g7.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/ht.svg\n// module id = 1082\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/hu.3JCUx.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/hu.svg\n// module id = 1083\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/id.ZZ8zx.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/id.svg\n// module id = 1084\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/ie.3jKk2.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/ie.svg\n// module id = 1085\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/il.2IR-H.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/il.svg\n// module id = 1086\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/im.2T3ee.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/im.svg\n// module id = 1087\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/in.zCN5C.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/in.svg\n// module id = 1088\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/io.3Hueg.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/io.svg\n// module id = 1089\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/iq.2-x9U.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/iq.svg\n// module id = 1090\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/ir.1FkmY.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/ir.svg\n// module id = 1091\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/is.2-htH.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/is.svg\n// module id = 1092\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/it.1pZzK.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/it.svg\n// module id = 1093\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/je.1BsCZ.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/je.svg\n// module id = 1094\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/jm.2Ls7t.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/jm.svg\n// module id = 1095\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/jo.1f_fj.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/jo.svg\n// module id = 1096\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/jp.UXaTU.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/jp.svg\n// module id = 1097\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/ke.hvJXJ.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/ke.svg\n// module id = 1098\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/kg.2mryN.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/kg.svg\n// module id = 1099\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/kh.2fKfl.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/kh.svg\n// module id = 1100\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/ki.rop2G.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/ki.svg\n// module id = 1101\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/km.DTOdx.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/km.svg\n// module id = 1102\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/kn.EftCL.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/kn.svg\n// module id = 1103\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/kp.4J00M.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/kp.svg\n// module id = 1104\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/kr.pR_NP.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/kr.svg\n// module id = 1105\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/kw.2obiU.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/kw.svg\n// module id = 1106\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/ky.z-Miu.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/ky.svg\n// module id = 1107\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/kz.DQkxo.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/kz.svg\n// module id = 1108\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/la.2eB4J.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/la.svg\n// module id = 1109\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/lb.30pnU.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/lb.svg\n// module id = 1110\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/lc.EKPVR.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/lc.svg\n// module id = 1111\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/li.2WpEC.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/li.svg\n// module id = 1112\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/lk.k1C0H.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/lk.svg\n// module id = 1113\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/lr.2Uw0P.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/lr.svg\n// module id = 1114\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/ls.VBEQt.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/ls.svg\n// module id = 1115\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/lt.-y825.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/lt.svg\n// module id = 1116\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/lu.3uxLI.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/lu.svg\n// module id = 1117\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/lv.ZvSWw.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/lv.svg\n// module id = 1118\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/ly.3sE_g.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/ly.svg\n// module id = 1119\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/ma.1EL7B.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/ma.svg\n// module id = 1120\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/mc.2WhRw.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/mc.svg\n// module id = 1121\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/md.vsh0e.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/md.svg\n// module id = 1122\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/me.1qPvt.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/me.svg\n// module id = 1123\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/mf.2piL-.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/mf.svg\n// module id = 1124\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/mg.3xRR5.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/mg.svg\n// module id = 1125\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/mh.2wUrT.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/mh.svg\n// module id = 1126\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/mk.2BczB.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/mk.svg\n// module id = 1127\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/ml.1kv7-.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/ml.svg\n// module id = 1128\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/mm.2ffBN.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/mm.svg\n// module id = 1129\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/mn.lruf-.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/mn.svg\n// module id = 1130\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/mo.3sSWi.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/mo.svg\n// module id = 1131\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/mp.1O98X.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/mp.svg\n// module id = 1132\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/mq.1j0c-.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/mq.svg\n// module id = 1133\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/mr.2nSlc.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/mr.svg\n// module id = 1134\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/ms.2S4dH.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/ms.svg\n// module id = 1135\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/mt.3YVu7.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/mt.svg\n// module id = 1136\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/mu.2xe4w.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/mu.svg\n// module id = 1137\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/mv.1pAcK.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/mv.svg\n// module id = 1138\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/mw.2u2G-.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/mw.svg\n// module id = 1139\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/mx.3HHm5.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/mx.svg\n// module id = 1140\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/my.2ROqC.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/my.svg\n// module id = 1141\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/mz.1madv.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/mz.svg\n// module id = 1142\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/na.3b9ka.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/na.svg\n// module id = 1143\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/nc.2SMtj.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/nc.svg\n// module id = 1144\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/ne.2AJeB.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/ne.svg\n// module id = 1145\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/nf.3jVrH.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/nf.svg\n// module id = 1146\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/ng.1m-Ff.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/ng.svg\n// module id = 1147\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/ni.3edd4.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/ni.svg\n// module id = 1148\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/nl.2bwMS.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/nl.svg\n// module id = 1149\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/no.1IabM.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/no.svg\n// module id = 1150\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/np.IB5s7.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/np.svg\n// module id = 1151\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/nr.3s4iU.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/nr.svg\n// module id = 1152\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/nu.2WiGe.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/nu.svg\n// module id = 1153\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/nz.gV5t6.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/nz.svg\n// module id = 1154\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/om.2IQ-j.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/om.svg\n// module id = 1155\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/pa.22K2M.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/pa.svg\n// module id = 1156\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/pe.1_GS_.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/pe.svg\n// module id = 1157\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/pf.3tk8E.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/pf.svg\n// module id = 1158\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/pg.3w7D2.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/pg.svg\n// module id = 1159\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/ph.1K-EN.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/ph.svg\n// module id = 1160\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/pk.7QViU.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/pk.svg\n// module id = 1161\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/pl.2a9yb.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/pl.svg\n// module id = 1162\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/pm.2SMtj.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/pm.svg\n// module id = 1163\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/pn.3mRNc.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/pn.svg\n// module id = 1164\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/pr.TkG0b.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/pr.svg\n// module id = 1165\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/ps.BcoId.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/ps.svg\n// module id = 1166\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/pt.3XLbQ.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/pt.svg\n// module id = 1167\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/pw.3J0Gx.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/pw.svg\n// module id = 1168\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/py.2SA6U.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/py.svg\n// module id = 1169\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/qa.3CXHK.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/qa.svg\n// module id = 1170\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/re.2SMtj.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/re.svg\n// module id = 1171\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/ro.1xgq6.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/ro.svg\n// module id = 1172\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/rs.28IQy.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/rs.svg\n// module id = 1173\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/ru.3RAq4.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/ru.svg\n// module id = 1174\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/rw.34cXU.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/rw.svg\n// module id = 1175\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/sa.2bh1V.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/sa.svg\n// module id = 1176\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/sb.2zDCO.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/sb.svg\n// module id = 1177\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/sc.1AnTz.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/sc.svg\n// module id = 1178\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/sd.c8kmJ.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/sd.svg\n// module id = 1179\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/se.31NU3.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/se.svg\n// module id = 1180\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/sg.8o5QE.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/sg.svg\n// module id = 1181\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/sh.1nwc1.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/sh.svg\n// module id = 1182\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/si.s4x5x.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/si.svg\n// module id = 1183\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/sj.2HjXs.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/sj.svg\n// module id = 1184\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/sk.1xk77.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/sk.svg\n// module id = 1185\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/sl.DGVaX.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/sl.svg\n// module id = 1186\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/sm.2jefN.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/sm.svg\n// module id = 1187\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/sn.1N8aE.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/sn.svg\n// module id = 1188\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/so.2wReU.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/so.svg\n// module id = 1189\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/sr.tPEMt.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/sr.svg\n// module id = 1190\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/ss.3Geds.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/ss.svg\n// module id = 1191\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/st.1gBcE.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/st.svg\n// module id = 1192\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/sv.3MFAg.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/sv.svg\n// module id = 1193\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/sx.1QgmA.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/sx.svg\n// module id = 1194\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/sy.EZ4pb.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/sy.svg\n// module id = 1195\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/sz.3eOag.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/sz.svg\n// module id = 1196\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/tc.2Q-RA.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/tc.svg\n// module id = 1197\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/td.XwVK8.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/td.svg\n// module id = 1198\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/tf.3xaTz.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/tf.svg\n// module id = 1199\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/tg.Jykqh.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/tg.svg\n// module id = 1200\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/th.3ETCo.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/th.svg\n// module id = 1201\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/tj.3zkP-.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/tj.svg\n// module id = 1202\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/tk.1YQsC.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/tk.svg\n// module id = 1203\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/tl.1GOaM.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/tl.svg\n// module id = 1204\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/tm.2Ekpc.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/tm.svg\n// module id = 1205\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/tn.3KaBy.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/tn.svg\n// module id = 1206\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/to.WnJJp.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/to.svg\n// module id = 1207\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/tr.2NjR_.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/tr.svg\n// module id = 1208\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/tt.TUf9C.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/tt.svg\n// module id = 1209\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/tv.36m3F.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/tv.svg\n// module id = 1210\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/tw.2wleo.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/tw.svg\n// module id = 1211\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/tz.V_aqs.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/tz.svg\n// module id = 1212\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/ua.2llWW.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/ua.svg\n// module id = 1213\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/ug.3XVhp.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/ug.svg\n// module id = 1214\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/um.1Qc3K.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/um.svg\n// module id = 1215\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/un.2zA6C.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/un.svg\n// module id = 1216\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/us.1Qc3K.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/us.svg\n// module id = 1217\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/uy.1Y1mC.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/uy.svg\n// module id = 1218\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/uz.2nIPH.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/uz.svg\n// module id = 1219\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/va.H-TnN.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/va.svg\n// module id = 1220\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/vc.cEOJq.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/vc.svg\n// module id = 1221\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/ve.1-rAI.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/ve.svg\n// module id = 1222\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/vg.27WC7.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/vg.svg\n// module id = 1223\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/vi.j0S1B.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/vi.svg\n// module id = 1224\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/vn.2F_Zc.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/vn.svg\n// module id = 1225\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/vu.3UgNZ.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/vu.svg\n// module id = 1226\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/wf.3Mk2v.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/wf.svg\n// module id = 1227\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/ws.3o3sr.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/ws.svg\n// module id = 1228\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/ye.2ilYd.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/ye.svg\n// module id = 1229\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/yt.2SMtj.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/yt.svg\n// module id = 1230\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/za.3BjEA.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/za.svg\n// module id = 1231\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/zm.lNiy4.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/zm.svg\n// module id = 1232\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/zw.2-n04.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/zw.svg\n// module id = 1233\n// module chunks = 0 1","module.exports = \"agent-console/./resources/flags/zz.1ITA-.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag/zz.svg\n// module id = 1234\n// module chunks = 0 1","/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nmodule.exports = noop;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/noop.js\n// module id = 1236\n// module chunks = 1 2","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _defineProperty2 = require('babel-runtime/helpers/defineProperty');\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _request = require('./request');\n\nvar _request2 = _interopRequireDefault(_request);\n\nvar _uid = require('./uid');\n\nvar _uid2 = _interopRequireDefault(_uid);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/* eslint react/no-is-mounted:0*/\n\nvar AjaxUploader = _react2[\"default\"].createClass({\n  displayName: 'AjaxUploader',\n\n  propTypes: {\n    component: _react.PropTypes.string,\n    style: _react.PropTypes.object,\n    prefixCls: _react.PropTypes.string,\n    className: _react.PropTypes.string,\n    multiple: _react.PropTypes.bool,\n    disabled: _react.PropTypes.bool,\n    accept: _react.PropTypes.string,\n    children: _react.PropTypes.any,\n    onStart: _react.PropTypes.func,\n    data: _react.PropTypes.oneOfType([_react.PropTypes.object, _react.PropTypes.func]),\n    headers: _react.PropTypes.object,\n    beforeUpload: _react.PropTypes.func,\n    customRequest: _react.PropTypes.func,\n    onProgress: _react.PropTypes.func,\n    withCredentials: _react.PropTypes.bool\n  },\n\n  getInitialState: function getInitialState() {\n    this.reqs = {};\n    return {\n      uid: (0, _uid2[\"default\"])()\n    };\n  },\n  componentWillUnmount: function componentWillUnmount() {\n    this.abort();\n  },\n  onChange: function onChange(e) {\n    var files = e.target.files;\n    this.uploadFiles(files);\n    this.reset();\n  },\n  onClick: function onClick() {\n    var el = this.refs.file;\n    if (!el) {\n      return;\n    }\n    el.click();\n  },\n  onKeyDown: function onKeyDown(e) {\n    if (e.key === 'Enter') {\n      this.onClick();\n    }\n  },\n  onFileDrop: function onFileDrop(e) {\n    if (e.type === 'dragover') {\n      e.preventDefault();\n      return;\n    }\n\n    var files = e.dataTransfer.files;\n    this.uploadFiles(files);\n\n    e.preventDefault();\n  },\n  uploadFiles: function uploadFiles(files) {\n    var postFiles = Array.prototype.slice.call(files);\n    var len = postFiles.length;\n    for (var i = 0; i < len; i++) {\n      var file = postFiles[i];\n      file.uid = (0, _uid2[\"default\"])();\n      this.upload(file, postFiles);\n    }\n  },\n  upload: function upload(file, fileList) {\n    var _this = this;\n\n    var props = this.props;\n\n    if (!props.beforeUpload) {\n      // always async in case use react state to keep fileList\n      return setTimeout(function () {\n        return _this.post(file);\n      }, 0);\n    }\n\n    var before = props.beforeUpload(file, fileList);\n    if (before && before.then) {\n      before.then(function (processedFile) {\n        var processedFileType = Object.prototype.toString.call(processedFile);\n        if (processedFileType === '[object File]' || processedFileType === '[object Blob]') {\n          _this.post(processedFile);\n        } else {\n          _this.post(file);\n        }\n      })[\"catch\"](function (e) {\n        console && console.log(e); // eslint-disable-line\n      });\n    } else if (before !== false) {\n      setTimeout(function () {\n        return _this.post(file);\n      }, 0);\n    }\n  },\n  post: function post(file) {\n    var _this2 = this;\n\n    if (!this.isMounted()) {\n      return;\n    }\n    var props = this.props;\n    var data = props.data;\n    var onStart = props.onStart,\n        onProgress = props.onProgress;\n\n    if (typeof data === 'function') {\n      data = data(file);\n    }\n    var uid = file.uid;\n\n    var request = props.customRequest || _request2[\"default\"];\n    this.reqs[uid] = request({\n      action: props.action,\n      filename: props.name,\n      file: file,\n      data: data,\n      headers: props.headers,\n      withCredentials: props.withCredentials,\n      onProgress: onProgress ? function (e) {\n        onProgress(e, file);\n      } : null,\n      onSuccess: function onSuccess(ret) {\n        delete _this2.reqs[uid];\n        props.onSuccess(ret, file);\n      },\n      onError: function onError(err, ret) {\n        delete _this2.reqs[uid];\n        props.onError(err, ret, file);\n      }\n    });\n    onStart(file);\n  },\n  reset: function reset() {\n    this.setState({\n      uid: (0, _uid2[\"default\"])()\n    });\n  },\n  abort: function abort(file) {\n    var reqs = this.reqs;\n\n    if (file) {\n      var uid = file;\n      if (file && file.uid) {\n        uid = file.uid;\n      }\n      if (reqs[uid]) {\n        reqs[uid].abort();\n        delete reqs[uid];\n      }\n    } else {\n      Object.keys(reqs).forEach(function (uid) {\n        if (reqs[uid]) {\n          reqs[uid].abort();\n        }\n\n        delete reqs[uid];\n      });\n    }\n  },\n  render: function render() {\n    var _classNames;\n\n    var _props = this.props,\n        Tag = _props.component,\n        prefixCls = _props.prefixCls,\n        className = _props.className,\n        disabled = _props.disabled,\n        style = _props.style,\n        multiple = _props.multiple,\n        accept = _props.accept,\n        children = _props.children;\n\n    var cls = (0, _classnames2[\"default\"])((_classNames = {}, (0, _defineProperty3[\"default\"])(_classNames, prefixCls, true), (0, _defineProperty3[\"default\"])(_classNames, prefixCls + '-disabled', disabled), (0, _defineProperty3[\"default\"])(_classNames, className, className), _classNames));\n    var events = disabled ? {} : {\n      onClick: this.onClick,\n      onKeyDown: this.onKeyDown,\n      onDrop: this.onFileDrop,\n      onDragOver: this.onFileDrop,\n      tabIndex: '0'\n    };\n    return _react2[\"default\"].createElement(\n      Tag,\n      (0, _extends3[\"default\"])({}, events, {\n        className: cls,\n        role: 'button',\n        style: style\n      }),\n      _react2[\"default\"].createElement('input', {\n        type: 'file',\n        ref: 'file',\n        key: this.state.uid,\n        style: { display: 'none' },\n        accept: accept,\n        multiple: multiple,\n        onChange: this.onChange\n      }),\n      children\n    );\n  }\n});\n\nexports[\"default\"] = AjaxUploader;\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rc-upload/lib/AjaxUploader.js\n// module id = 1239\n// module chunks = 1 2","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _defineProperty2 = require('babel-runtime/helpers/defineProperty');\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _uid = require('./uid');\n\nvar _uid2 = _interopRequireDefault(_uid);\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar IFRAME_STYLE = {\n  position: 'absolute',\n  top: 0,\n  opacity: 0,\n  filter: 'alpha(opacity=0)',\n  left: 0,\n  zIndex: 9999\n};\n\n// diferent from AjaxUpload, can only upload on at one time, serial seriously\nvar IframeUploader = _react2[\"default\"].createClass({\n  displayName: 'IframeUploader',\n\n  propTypes: {\n    component: _react.PropTypes.string,\n    style: _react.PropTypes.object,\n    disabled: _react.PropTypes.bool,\n    prefixCls: _react.PropTypes.string,\n    className: _react.PropTypes.string,\n    accept: _react.PropTypes.string,\n    onStart: _react.PropTypes.func,\n    multiple: _react.PropTypes.bool,\n    children: _react.PropTypes.any,\n    data: _react.PropTypes.oneOfType([_react.PropTypes.object, _react.PropTypes.func]),\n    action: _react.PropTypes.string,\n    name: _react.PropTypes.string\n  },\n\n  getInitialState: function getInitialState() {\n    this.file = {};\n    return {\n      uploading: false\n    };\n  },\n  componentDidMount: function componentDidMount() {\n    this.updateIframeWH();\n    this.initIframe();\n  },\n  componentDidUpdate: function componentDidUpdate() {\n    this.updateIframeWH();\n  },\n  onLoad: function onLoad() {\n    if (!this.state.uploading) {\n      return;\n    }\n    var props = this.props,\n        file = this.file;\n\n    var response = void 0;\n    try {\n      var doc = this.getIframeDocument();\n      var script = doc.getElementsByTagName('script')[0];\n      if (script && script.parentNode === doc.body) {\n        doc.body.removeChild(script);\n      }\n      response = doc.body.innerHTML;\n      props.onSuccess(response, file);\n    } catch (err) {\n      (0, _warning2[\"default\"])(false, 'cross domain error for Upload. Maybe server should return document.domain script. see Note from https://github.com/react-component/upload');\n      response = 'cross-domain';\n      props.onError(err, null, file);\n    }\n    this.endUpload();\n  },\n  onChange: function onChange() {\n    var _this = this;\n\n    var target = this.getFormInputNode();\n    // ie8/9 don't support FileList Object\n    // http://stackoverflow.com/questions/12830058/ie8-input-type-file-get-files\n    var file = this.file = {\n      uid: (0, _uid2[\"default\"])(),\n      name: target.value\n    };\n    this.startUpload();\n    var props = this.props;\n\n    if (!props.beforeUpload) {\n      return this.post(file);\n    }\n    var before = props.beforeUpload(file);\n    if (before && before.then) {\n      before.then(function () {\n        _this.post(file);\n      }, function () {\n        _this.endUpload();\n      });\n    } else if (before !== false) {\n      this.post(file);\n    } else {\n      this.endUpload();\n    }\n  },\n  getIframeNode: function getIframeNode() {\n    return this.refs.iframe;\n  },\n  getIframeDocument: function getIframeDocument() {\n    return this.getIframeNode().contentDocument;\n  },\n  getFormNode: function getFormNode() {\n    return this.getIframeDocument().getElementById('form');\n  },\n  getFormInputNode: function getFormInputNode() {\n    return this.getIframeDocument().getElementById('input');\n  },\n  getFormDataNode: function getFormDataNode() {\n    return this.getIframeDocument().getElementById('data');\n  },\n  getFileForMultiple: function getFileForMultiple(file) {\n    return this.props.multiple ? [file] : file;\n  },\n  getIframeHTML: function getIframeHTML(domain) {\n    var domainScript = '';\n    var domainInput = '';\n    if (domain) {\n      var script = 'script';\n      domainScript = '<' + script + '>document.domain=\"' + domain + '\";</' + script + '>';\n      domainInput = '<input name=\"_documentDomain\" value=\"' + domain + '\" />';\n    }\n    return '\\n    <!DOCTYPE html>\\n    <html>\\n    <head>\\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\\n    <style>\\n    body,html {padding:0;margin:0;border:0;overflow:hidden;}\\n    </style>\\n    ' + domainScript + '\\n    </head>\\n    <body>\\n    <form method=\"post\"\\n    encType=\"multipart/form-data\"\\n    action=\"' + this.props.action + '\" id=\"form\"\\n    style=\"display:block;height:9999px;position:relative;overflow:hidden;\">\\n    <input id=\"input\" type=\"file\"\\n     name=\"' + this.props.name + '\"\\n     style=\"position:absolute;top:0;right:0;height:9999px;font-size:9999px;cursor:pointer;\"/>\\n    ' + domainInput + '\\n    <span id=\"data\"></span>\\n    </form>\\n    </body>\\n    </html>\\n    ';\n  },\n  initIframeSrc: function initIframeSrc() {\n    if (this.domain) {\n      this.getIframeNode().src = 'javascript:void((function(){\\n        var d = document;\\n        d.open();\\n        d.domain=\\'' + this.domain + '\\';\\n        d.write(\\'\\');\\n        d.close();\\n      })())';\n    }\n  },\n  initIframe: function initIframe() {\n    var iframeNode = this.getIframeNode();\n    var win = iframeNode.contentWindow;\n    var doc = void 0;\n    this.domain = this.domain || '';\n    this.initIframeSrc();\n    try {\n      doc = win.document;\n    } catch (e) {\n      this.domain = document.domain;\n      this.initIframeSrc();\n      win = iframeNode.contentWindow;\n      doc = win.document;\n    }\n    doc.open('text/html', 'replace');\n    doc.write(this.getIframeHTML(this.domain));\n    doc.close();\n    this.getFormInputNode().onchange = this.onChange;\n  },\n  endUpload: function endUpload() {\n    if (this.state.uploading) {\n      this.file = {};\n      // hack avoid batch\n      this.state.uploading = false;\n      this.setState({\n        uploading: false\n      });\n      this.initIframe();\n    }\n  },\n  startUpload: function startUpload() {\n    if (!this.state.uploading) {\n      this.state.uploading = true;\n      this.setState({\n        uploading: true\n      });\n    }\n  },\n  updateIframeWH: function updateIframeWH() {\n    var rootNode = _reactDom2[\"default\"].findDOMNode(this);\n    var iframeNode = this.getIframeNode();\n    iframeNode.style.height = rootNode.offsetHeight + 'px';\n    iframeNode.style.width = rootNode.offsetWidth + 'px';\n  },\n  abort: function abort(file) {\n    if (file) {\n      var uid = file;\n      if (file && file.uid) {\n        uid = file.uid;\n      }\n      if (uid === this.file.uid) {\n        this.endUpload();\n      }\n    } else {\n      this.endUpload();\n    }\n  },\n  post: function post(file) {\n    var formNode = this.getFormNode();\n    var dataSpan = this.getFormDataNode();\n    var data = this.props.data;\n    var onStart = this.props.onStart;\n\n    if (typeof data === 'function') {\n      data = data(file);\n    }\n    var inputs = [];\n    for (var key in data) {\n      if (data.hasOwnProperty(key)) {\n        inputs.push('<input name=\"' + key + '\" value=\"' + data[key] + '\"/>');\n      }\n    }\n    dataSpan.innerHTML = inputs.join('');\n    formNode.submit();\n    dataSpan.innerHTML = '';\n    onStart(file);\n  },\n  render: function render() {\n    var _classNames;\n\n    var _props = this.props,\n        Tag = _props.component,\n        disabled = _props.disabled,\n        className = _props.className,\n        prefixCls = _props.prefixCls,\n        children = _props.children,\n        style = _props.style;\n\n    var iframeStyle = (0, _extends3[\"default\"])({}, IFRAME_STYLE, {\n      display: this.state.uploading || disabled ? 'none' : ''\n    });\n    var cls = (0, _classnames2[\"default\"])((_classNames = {}, (0, _defineProperty3[\"default\"])(_classNames, prefixCls, true), (0, _defineProperty3[\"default\"])(_classNames, prefixCls + '-disabled', disabled), (0, _defineProperty3[\"default\"])(_classNames, className, className), _classNames));\n    return _react2[\"default\"].createElement(\n      Tag,\n      {\n        className: cls,\n        style: (0, _extends3[\"default\"])({ position: 'relative', zIndex: 0 }, style)\n      },\n      _react2[\"default\"].createElement('iframe', {\n        ref: 'iframe',\n        onLoad: this.onLoad,\n        style: iframeStyle\n      }),\n      children\n    );\n  }\n});\n\nexports[\"default\"] = IframeUploader;\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rc-upload/lib/IframeUploader.js\n// module id = 1240\n// module chunks = 1 2","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _AjaxUploader = require('./AjaxUploader');\n\nvar _AjaxUploader2 = _interopRequireDefault(_AjaxUploader);\n\nvar _IframeUploader = require('./IframeUploader');\n\nvar _IframeUploader2 = _interopRequireDefault(_IframeUploader);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction empty() {}\n\nvar Upload = _react2[\"default\"].createClass({\n  displayName: 'Upload',\n\n  propTypes: {\n    component: _react.PropTypes.string,\n    style: _react.PropTypes.object,\n    prefixCls: _react.PropTypes.string,\n    action: _react.PropTypes.string,\n    name: _react.PropTypes.string,\n    multipart: _react.PropTypes.bool,\n    onError: _react.PropTypes.func,\n    onSuccess: _react.PropTypes.func,\n    onProgress: _react.PropTypes.func,\n    onStart: _react.PropTypes.func,\n    data: _react.PropTypes.oneOfType([_react.PropTypes.object, _react.PropTypes.func]),\n    headers: _react.PropTypes.object,\n    accept: _react.PropTypes.string,\n    multiple: _react.PropTypes.bool,\n    disabled: _react.PropTypes.bool,\n    beforeUpload: _react.PropTypes.func,\n    customRequest: _react.PropTypes.func,\n    onReady: _react.PropTypes.func,\n    withCredentials: _react.PropTypes.bool,\n    supportServerRender: _react.PropTypes.bool\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      component: 'span',\n      prefixCls: 'rc-upload',\n      data: {},\n      headers: {},\n      name: 'file',\n      multipart: false,\n      onReady: empty,\n      onStart: empty,\n      onError: empty,\n      onSuccess: empty,\n      supportServerRender: false,\n      multiple: false,\n      beforeUpload: null,\n      customRequest: null,\n      withCredentials: false\n    };\n  },\n  getInitialState: function getInitialState() {\n    return {\n      Component: null\n    };\n  },\n  componentDidMount: function componentDidMount() {\n    if (this.props.supportServerRender) {\n      /* eslint react/no-did-mount-set-state:0 */\n      this.setState({\n        Component: this.getComponent()\n      }, this.props.onReady);\n    }\n  },\n  getComponent: function getComponent() {\n    return typeof FormData !== 'undefined' ? _AjaxUploader2[\"default\"] : _IframeUploader2[\"default\"];\n  },\n  abort: function abort(file) {\n    this.refs.inner.abort(file);\n  },\n  render: function render() {\n    if (this.props.supportServerRender) {\n      var _Component = this.state.Component;\n\n      if (_Component) {\n        return _react2[\"default\"].createElement(_Component, (0, _extends3[\"default\"])({}, this.props, { ref: 'inner' }));\n      }\n      return null;\n    }\n    var Component = this.getComponent();\n    return _react2[\"default\"].createElement(Component, (0, _extends3[\"default\"])({}, this.props, { ref: 'inner' }));\n  }\n});\n\nexports[\"default\"] = Upload;\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rc-upload/lib/Upload.js\n// module id = 1241\n// module chunks = 1 2","'use strict';\n\n// export this package's api\nmodule.exports = require('./Upload');\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rc-upload/lib/index.js\n// module id = 1242\n// module chunks = 1 2","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = upload;\nfunction getError(option, xhr) {\n  var msg = 'cannot post ' + option.action + ' ' + xhr.status + '\\'';\n  var err = new Error(msg);\n  err.status = xhr.status;\n  err.method = 'post';\n  err.url = option.action;\n  return err;\n}\n\nfunction getBody(xhr) {\n  var text = xhr.responseText || xhr.response;\n  if (!text) {\n    return text;\n  }\n\n  try {\n    return JSON.parse(text);\n  } catch (e) {\n    return text;\n  }\n}\n\n// option {\n//  onProgress: (event: { percent: number }): void,\n//  onError: (event: Error, body?: Object): void,\n//  onSuccess: (body: Object): void,\n//  data: Object,\n//  filename: String,\n//  file: File,\n//  withCredentials: Boolean,\n//  action: String,\n//  headers: Object,\n// }\nfunction upload(option) {\n  var xhr = new XMLHttpRequest();\n\n  if (option.onProgress && xhr.upload) {\n    xhr.upload.onprogress = function progress(e) {\n      if (e.total > 0) {\n        e.percent = e.loaded / e.total * 100;\n      }\n      option.onProgress(e);\n    };\n  }\n\n  var formData = new FormData();\n\n  if (option.data) {\n    Object.keys(option.data).map(function (key) {\n      formData.append(key, option.data[key]);\n    });\n  }\n\n  formData.append(option.filename, option.file);\n\n  xhr.onerror = function error(e) {\n    option.onError(e);\n  };\n\n  xhr.onload = function onload() {\n    // allow success when 2xx status\n    // see https://github.com/react-component/upload/issues/34\n    if (xhr.status < 200 || xhr.status >= 300) {\n      return option.onError(getError(option, xhr), getBody(xhr));\n    }\n\n    option.onSuccess(getBody(xhr));\n  };\n\n  xhr.open('post', option.action, true);\n\n  // Has to be after `.open()`. See https://github.com/enyo/dropzone/issues/179\n  if (option.withCredentials && 'withCredentials' in xhr) {\n    xhr.withCredentials = true;\n  }\n\n  var headers = option.headers || {};\n\n  // when set headers['X-Requested-With'] = null , can close default XHR header\n  // see https://github.com/react-component/upload/issues/33\n  if (headers['X-Requested-With'] !== null) {\n    xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n  }\n\n  for (var h in headers) {\n    if (headers.hasOwnProperty(h) && headers[h] !== null) {\n      xhr.setRequestHeader(h, headers[h]);\n    }\n  }\n  xhr.send(formData);\n\n  return {\n    abort: function abort() {\n      xhr.abort();\n    }\n  };\n}\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rc-upload/lib/request.js\n// module id = 1243\n// module chunks = 1 2","/**\n * Copyright 2014-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n'use strict';\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar warning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  warning = function(condition, format, args) {\n    var len = arguments.length;\n    args = new Array(len > 2 ? len - 2 : 0);\n    for (var key = 2; key < len; key++) {\n      args[key - 2] = arguments[key];\n    }\n    if (format === undefined) {\n      throw new Error(\n        '`warning(condition, format, ...args)` requires a warning ' +\n        'message argument'\n      );\n    }\n\n    if (format.length < 10 || (/^[s\\W]*$/).test(format)) {\n      throw new Error(\n        'The warning format should be able to uniquely identify this ' +\n        'warning. Please, use a more descriptive format than: ' + format\n      );\n    }\n\n    if (!condition) {\n      var argIndex = 0;\n      var message = 'Warning: ' +\n        format.replace(/%s/g, function() {\n          return args[argIndex++];\n        });\n      if (typeof console !== 'undefined') {\n        console.error(message);\n      }\n      try {\n        // This error was thrown as a convenience so that you can use this stack\n        // to find the callsite that caused this warning to fire.\n        throw new Error(message);\n      } catch(x) {}\n    }\n  };\n}\n\nmodule.exports = warning;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/warning/browser.js\n// module id = 1252\n// module chunks = 1 2","var map = {\n\t\"./ad.svg\": 979,\n\t\"./ae.svg\": 980,\n\t\"./af.svg\": 981,\n\t\"./ag.svg\": 982,\n\t\"./ai.svg\": 983,\n\t\"./al.svg\": 984,\n\t\"./am.svg\": 985,\n\t\"./ao.svg\": 986,\n\t\"./aq.svg\": 987,\n\t\"./ar.svg\": 988,\n\t\"./as.svg\": 989,\n\t\"./at.svg\": 990,\n\t\"./au.svg\": 991,\n\t\"./aw.svg\": 992,\n\t\"./ax.svg\": 993,\n\t\"./az.svg\": 994,\n\t\"./ba.svg\": 995,\n\t\"./bb.svg\": 996,\n\t\"./bd.svg\": 997,\n\t\"./be.svg\": 998,\n\t\"./bf.svg\": 999,\n\t\"./bg.svg\": 1000,\n\t\"./bh.svg\": 1001,\n\t\"./bi.svg\": 1002,\n\t\"./bj.svg\": 1003,\n\t\"./bl.svg\": 1004,\n\t\"./bm.svg\": 1005,\n\t\"./bn.svg\": 1006,\n\t\"./bo.svg\": 1007,\n\t\"./bq.svg\": 1008,\n\t\"./br.svg\": 1009,\n\t\"./bs.svg\": 1010,\n\t\"./bt.svg\": 1011,\n\t\"./bv.svg\": 1012,\n\t\"./bw.svg\": 1013,\n\t\"./by.svg\": 1014,\n\t\"./bz.svg\": 1015,\n\t\"./ca.svg\": 1016,\n\t\"./cc.svg\": 1017,\n\t\"./cd.svg\": 1018,\n\t\"./cf.svg\": 1019,\n\t\"./cg.svg\": 1020,\n\t\"./ch.svg\": 1021,\n\t\"./ci.svg\": 1022,\n\t\"./ck.svg\": 1023,\n\t\"./cl.svg\": 1024,\n\t\"./cm.svg\": 1025,\n\t\"./cn.svg\": 1026,\n\t\"./co.svg\": 1027,\n\t\"./cr.svg\": 1028,\n\t\"./cu.svg\": 1029,\n\t\"./cv.svg\": 1030,\n\t\"./cw.svg\": 1031,\n\t\"./cx.svg\": 1032,\n\t\"./cy.svg\": 1033,\n\t\"./cz.svg\": 1034,\n\t\"./de.svg\": 1035,\n\t\"./dj.svg\": 1036,\n\t\"./dk.svg\": 1037,\n\t\"./dm.svg\": 1038,\n\t\"./do.svg\": 1039,\n\t\"./dz.svg\": 1040,\n\t\"./ec.svg\": 1041,\n\t\"./ee.svg\": 1042,\n\t\"./eg.svg\": 1043,\n\t\"./eh.svg\": 1044,\n\t\"./er.svg\": 1045,\n\t\"./es.svg\": 1046,\n\t\"./et.svg\": 1047,\n\t\"./eu.svg\": 1048,\n\t\"./fi.svg\": 1049,\n\t\"./fj.svg\": 1050,\n\t\"./fk.svg\": 1051,\n\t\"./fm.svg\": 1052,\n\t\"./fo.svg\": 1053,\n\t\"./fr.svg\": 1054,\n\t\"./ga.svg\": 1055,\n\t\"./gb-eng.svg\": 1056,\n\t\"./gb-nir.svg\": 1057,\n\t\"./gb-sct.svg\": 1058,\n\t\"./gb-wls.svg\": 1059,\n\t\"./gb.svg\": 1060,\n\t\"./gd.svg\": 1061,\n\t\"./ge.svg\": 1062,\n\t\"./gf.svg\": 1063,\n\t\"./gg.svg\": 1064,\n\t\"./gh.svg\": 1065,\n\t\"./gi.svg\": 1066,\n\t\"./gl.svg\": 1067,\n\t\"./gm.svg\": 1068,\n\t\"./gn.svg\": 1069,\n\t\"./gp.svg\": 1070,\n\t\"./gq.svg\": 1071,\n\t\"./gr.svg\": 1072,\n\t\"./gs.svg\": 1073,\n\t\"./gt.svg\": 1074,\n\t\"./gu.svg\": 1075,\n\t\"./gw.svg\": 1076,\n\t\"./gy.svg\": 1077,\n\t\"./hk.svg\": 1078,\n\t\"./hm.svg\": 1079,\n\t\"./hn.svg\": 1080,\n\t\"./hr.svg\": 1081,\n\t\"./ht.svg\": 1082,\n\t\"./hu.svg\": 1083,\n\t\"./id.svg\": 1084,\n\t\"./ie.svg\": 1085,\n\t\"./il.svg\": 1086,\n\t\"./im.svg\": 1087,\n\t\"./in.svg\": 1088,\n\t\"./io.svg\": 1089,\n\t\"./iq.svg\": 1090,\n\t\"./ir.svg\": 1091,\n\t\"./is.svg\": 1092,\n\t\"./it.svg\": 1093,\n\t\"./je.svg\": 1094,\n\t\"./jm.svg\": 1095,\n\t\"./jo.svg\": 1096,\n\t\"./jp.svg\": 1097,\n\t\"./ke.svg\": 1098,\n\t\"./kg.svg\": 1099,\n\t\"./kh.svg\": 1100,\n\t\"./ki.svg\": 1101,\n\t\"./km.svg\": 1102,\n\t\"./kn.svg\": 1103,\n\t\"./kp.svg\": 1104,\n\t\"./kr.svg\": 1105,\n\t\"./kw.svg\": 1106,\n\t\"./ky.svg\": 1107,\n\t\"./kz.svg\": 1108,\n\t\"./la.svg\": 1109,\n\t\"./lb.svg\": 1110,\n\t\"./lc.svg\": 1111,\n\t\"./li.svg\": 1112,\n\t\"./lk.svg\": 1113,\n\t\"./lr.svg\": 1114,\n\t\"./ls.svg\": 1115,\n\t\"./lt.svg\": 1116,\n\t\"./lu.svg\": 1117,\n\t\"./lv.svg\": 1118,\n\t\"./ly.svg\": 1119,\n\t\"./ma.svg\": 1120,\n\t\"./mc.svg\": 1121,\n\t\"./md.svg\": 1122,\n\t\"./me.svg\": 1123,\n\t\"./mf.svg\": 1124,\n\t\"./mg.svg\": 1125,\n\t\"./mh.svg\": 1126,\n\t\"./mk.svg\": 1127,\n\t\"./ml.svg\": 1128,\n\t\"./mm.svg\": 1129,\n\t\"./mn.svg\": 1130,\n\t\"./mo.svg\": 1131,\n\t\"./mp.svg\": 1132,\n\t\"./mq.svg\": 1133,\n\t\"./mr.svg\": 1134,\n\t\"./ms.svg\": 1135,\n\t\"./mt.svg\": 1136,\n\t\"./mu.svg\": 1137,\n\t\"./mv.svg\": 1138,\n\t\"./mw.svg\": 1139,\n\t\"./mx.svg\": 1140,\n\t\"./my.svg\": 1141,\n\t\"./mz.svg\": 1142,\n\t\"./na.svg\": 1143,\n\t\"./nc.svg\": 1144,\n\t\"./ne.svg\": 1145,\n\t\"./nf.svg\": 1146,\n\t\"./ng.svg\": 1147,\n\t\"./ni.svg\": 1148,\n\t\"./nl.svg\": 1149,\n\t\"./no.svg\": 1150,\n\t\"./np.svg\": 1151,\n\t\"./nr.svg\": 1152,\n\t\"./nu.svg\": 1153,\n\t\"./nz.svg\": 1154,\n\t\"./om.svg\": 1155,\n\t\"./pa.svg\": 1156,\n\t\"./pe.svg\": 1157,\n\t\"./pf.svg\": 1158,\n\t\"./pg.svg\": 1159,\n\t\"./ph.svg\": 1160,\n\t\"./pk.svg\": 1161,\n\t\"./pl.svg\": 1162,\n\t\"./pm.svg\": 1163,\n\t\"./pn.svg\": 1164,\n\t\"./pr.svg\": 1165,\n\t\"./ps.svg\": 1166,\n\t\"./pt.svg\": 1167,\n\t\"./pw.svg\": 1168,\n\t\"./py.svg\": 1169,\n\t\"./qa.svg\": 1170,\n\t\"./re.svg\": 1171,\n\t\"./ro.svg\": 1172,\n\t\"./rs.svg\": 1173,\n\t\"./ru.svg\": 1174,\n\t\"./rw.svg\": 1175,\n\t\"./sa.svg\": 1176,\n\t\"./sb.svg\": 1177,\n\t\"./sc.svg\": 1178,\n\t\"./sd.svg\": 1179,\n\t\"./se.svg\": 1180,\n\t\"./sg.svg\": 1181,\n\t\"./sh.svg\": 1182,\n\t\"./si.svg\": 1183,\n\t\"./sj.svg\": 1184,\n\t\"./sk.svg\": 1185,\n\t\"./sl.svg\": 1186,\n\t\"./sm.svg\": 1187,\n\t\"./sn.svg\": 1188,\n\t\"./so.svg\": 1189,\n\t\"./sr.svg\": 1190,\n\t\"./ss.svg\": 1191,\n\t\"./st.svg\": 1192,\n\t\"./sv.svg\": 1193,\n\t\"./sx.svg\": 1194,\n\t\"./sy.svg\": 1195,\n\t\"./sz.svg\": 1196,\n\t\"./tc.svg\": 1197,\n\t\"./td.svg\": 1198,\n\t\"./tf.svg\": 1199,\n\t\"./tg.svg\": 1200,\n\t\"./th.svg\": 1201,\n\t\"./tj.svg\": 1202,\n\t\"./tk.svg\": 1203,\n\t\"./tl.svg\": 1204,\n\t\"./tm.svg\": 1205,\n\t\"./tn.svg\": 1206,\n\t\"./to.svg\": 1207,\n\t\"./tr.svg\": 1208,\n\t\"./tt.svg\": 1209,\n\t\"./tv.svg\": 1210,\n\t\"./tw.svg\": 1211,\n\t\"./tz.svg\": 1212,\n\t\"./ua.svg\": 1213,\n\t\"./ug.svg\": 1214,\n\t\"./um.svg\": 1215,\n\t\"./un.svg\": 1216,\n\t\"./us.svg\": 1217,\n\t\"./uy.svg\": 1218,\n\t\"./uz.svg\": 1219,\n\t\"./va.svg\": 1220,\n\t\"./vc.svg\": 1221,\n\t\"./ve.svg\": 1222,\n\t\"./vg.svg\": 1223,\n\t\"./vi.svg\": 1224,\n\t\"./vn.svg\": 1225,\n\t\"./vu.svg\": 1226,\n\t\"./wf.svg\": 1227,\n\t\"./ws.svg\": 1228,\n\t\"./ye.svg\": 1229,\n\t\"./yt.svg\": 1230,\n\t\"./za.svg\": 1231,\n\t\"./zm.svg\": 1232,\n\t\"./zw.svg\": 1233,\n\t\"./zz.svg\": 1234\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 1253;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/flag ^\\.\\/.*\\.svg$\n// module id = 1253\n// module chunks = 0 1","import React, { PropTypes } from 'react';\nimport styles from './ChatItem.css';\nimport ChatItem from './ChatItem';\n\nconst ShowChatViaList = props => (\n  <div className={styles.showChatViaList}>\n    {props.chats.map(item => (\n      <ChatItem\n        key={item.chatId}\n        chatItem={item}\n        enableRefuseChat={props.enableRefuseChat}\n        ifEnableSegmentation={props.ifEnableSegmentation}\n        isShowUnreposiveTime={props.isShowUnreposiveTime}\n        isShowDepartment={props.isShowDepartment}\n        onClickPin={props.onClickPin}\n        onItemClick={props.onItemClick}\n        onAcceptChat={props.onAcceptChat}\n        onRefusedChat={props.onRefusedChat}\n        onWrapUp={props.onWrapUp}\n        onDeleteItem={props.onDeleteItem}\n      />\n    ))}\n  </div>\n);\n\nShowChatViaList.propTypes = {\n  chats: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n  isShowUnreposiveTime: PropTypes.bool.isRequired,\n  isShowDepartment: PropTypes.bool.isRequired,\n  ifEnableSegmentation: PropTypes.bool,\n  enableRefuseChat: PropTypes.bool,\n  onClickPin: PropTypes.func.isRequired,\n  onItemClick: PropTypes.func.isRequired,\n  onAcceptChat: PropTypes.func.isRequired,\n  onRefusedChat: PropTypes.func.isRequired,\n  onWrapUp: PropTypes.func.isRequired,\n  onDeleteItem: PropTypes.func.isRequired,\n  audioVideoStatus: PropTypes.number,\n};\nexport default ShowChatViaList;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ChatItem/ShowChatViaList.jsx","export const PromoteToContact = 1;\nexport const PromoteToUser = 2;\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants/enums/promote.js","export const Facebook = 1;\nexport const googlePlus = 2;\nexport const Zendesk = 3;\nexport const Salesforce = 4;\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants/enums/socialType.js","import 'webrtc-adapter';\n/* eslint-disable */\n\nfunction SignalingChannel(args) {\n  var url = args.url;\n  var chat = args.chat;\n  var iceServers;\n  var peersCount = 0;\n  var pingTimer;\n  var messageHandler;\n  var remoteStarted = false;\n  var remoteStartHandler;\n  var getIceServersHandler;\n  var schema = url.indexOf('localhost') === -1 ? 'wss://' : 'ws://';\n  var ws;\n  ws = new WebSocket(schema + url + '?chatId=' + chat);\n  var pingTimes = 0;\n  ws.onopen = function () {\n    console.log('open');\n    pingTimer = setInterval(function () {\n      pingTimes++;\n      ws.send('ping');\n      if (pingTimes >= 3) {\n        clearInterval(pingTimer);\n      }\n    }, 20 * 1000);\n  };\n\n  ws.onmessage = function (evt) {\n    var resp = JSON.parse(evt.data);\n    if (resp.count != null) {\n      console.log(resp);\n      if (peersCount === 0 && resp.count > 1) {\n        ensureGetIceServers();\n        console.log('send start');\n        // say start when some one alreay in room\n        send({ start: 1 });\n      }\n      peersCount = resp.count;\n      if (peersCount < 2) {\n        remoteStarted = false;\n      }\n    } else if (resp.start) {\n      ensureGetIceServers();\n      console.log('receive start');\n      remoteStarted = true;\n      checkRemoteStart();\n    } else if (resp.s) {\n      if (resp.s !== 200) {\n        console.error(resp);\n      }\n\n      if (iceServers == null) {\n        iceServers = resp.d ? resp.d.iceServers || [] : [];\n        console.log('get ice servers:', iceServers);\n        iceServers.push(DEFAULT_STUN_SERVER);\n        if (getIceServersHandler) getIceServersHandler(iceServers);\n      }\n    } else {\n      if (messageHandler)\n        messageHandler(resp);\n    }\n  };\n\n  ws.onclose = function () {\n    reset();\n  };\n\n  var DEFAULT_STUN_SERVER = { urls: 'stun:stun.l.google.com:19302' };\n\n  function ensureGetIceServers() {\n    if (iceServers == null) {\n      iceServers = [DEFAULT_STUN_SERVER];\n      if (getIceServersHandler) getIceServersHandler(iceServers);\n    }\n  }\n\n  function resetState() {\n    clearInterval(pingTimer);\n    remoteStarted = false;\n    iceServers = null;\n    peersCount = 0;\n  }\n\n  function reset() {\n    resetState();\n    getIceServersHandler = null;\n    messageHandler = null;\n    remoteStartHandler = null;\n  }\n\n  function checkRemoteStart() {\n    if (remoteStarted && remoteStartHandler) {\n      remoteStartHandler();\n    }\n  }\n\n  function send(data) {\n    ws.send(JSON.stringify(data));\n  }\n\n  function close() {\n    try {\n      reset();\n      ws.onerror = null;\n      ws.close();\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  this.send = send;\n  this.close = close;\n\n  this.onRemoteStart = function (fn) {\n    remoteStartHandler = fn;\n    checkRemoteStart();\n  };\n\n  this.onMessage = function (fn) {\n    messageHandler = fn;\n  };\n\n  this.onGetIceServers = function (fn) {\n    getIceServersHandler = fn;\n    if (iceServers) {\n      if (fn) fn(iceServers);\n    }\n  };\n}\n\nfunction P2PChat(args) {\n  var chat = args.chat;\n  var localVideo = args.localVideo;\n  var remoteVideo = args.remoteVideo;\n  var url = args.url;\n  var handlers = [];\n  var connection = null;\n  var localStream;\n  var remoteStream;\n  var useRelayOnly = false;\n\n  function handleSignal(conn, signal) {\n    console.log(signal);\n    var pc = conn.peerConn;\n    var chan = conn.signalingChannel;\n\n    if (signal.offer) {\n      console.log('receive offer:', signal.offer);\n      console.log('pc.signalingState:', pc.signalingState)\n      pc.setRemoteDescription(new RTCSessionDescription(signal.offer))\n        .then(function () {\n          return pc.createAnswer()\n        })\n        .then(function (answer) {\n          return pc.setLocalDescription(answer)\n        })\n        .then(function () {\n          chan.send({ answer: pc.localDescription });\n          return Promise.resolve();\n        })\n        .catch(function (err) {\n          console.error(err);\n          restart(conn);\n        });\n    }\n\n    if (signal.answer) {\n      console.log('receive answer:', signal.answer);\n      console.log('pc.signalingState:', pc.signalingState)\n      pc.setRemoteDescription(new RTCSessionDescription(signal.answer))\n        .then(function () {\n          console.log('set answer success');\n          return Promise.resolve();\n        })\n        .catch(function (err) {\n          console.log(err);\n          restart(conn);\n        });\n    }\n\n    if (signal.candidate) {\n      console.log('receive candidate:', signal.candidate);\n      console.log('pc.iceGatheringState', pc.iceGatheringState);\n      pc.addIceCandidate(new RTCIceCandidate(signal.candidate))\n        .catch(function () {\n          restart(conn);\n        });\n    }\n\n    if (signal.stop) {\n      console.log('receive stop');\n      this.stop();\n    }\n\n    if (signal.restart) {\n      console.log('receive restart');\n      restart(conn, true);\n    }\n  }\n\n  var restartCount = 0;\n  function restart(conn, signalRestart) {\n    restartCount++;\n    console.log('restart:', restartCount);\n\n    if (!signalRestart) {\n      conn.signalingChannel.send({ restart: 1 });\n    }\n    //避免重复不停地restart\n    if (restartCount <= 5) {\n      reset(conn);\n      start();\n    } else {\n      reset(conn);\n      resetLocal();\n      fireEvent('error', 'P2PChat Error: restart more than 5 times');\n    }\n  }\n\n  function sendOffer(conn) {\n    var pc = conn.peerConn;\n    var chan = conn.signalingChannel;\n\n    console.log('sendOffer');\n    pc.createOffer()\n      .then(function (offer) {\n        console.log('create offer:', offer);\n        return pc.setLocalDescription(offer);\n      })\n      .then(function () {\n        console.log('send offer:', pc.localDescription);\n        chan.send({ offer: pc.localDescription });\n        return Promise.resolve();\n      }).catch(function (e) {\n        console.error(e);\n        restart(conn);\n      });\n  }\n\n  function requirePermission(isVideo) {\n    return navigator.mediaDevices\n      .getUserMedia({ audio: true, video: isVideo ? { facingMode: \"user\" } : false })\n      .then(function (stream) {\n        resetLocal();\n        console.log('add local stream');\n        localStream = stream;\n        localVideo.autoplay = true;\n        localVideo.muted = true;\n        localVideo.srcObject = localStream;\n\n        return Promise.resolve();\n      });\n  }\n\n  function getStats() {\n    if (conn.peerConn) {\n      conn.peerConn.getStats().then(console.log);\n      return conn.peerConn.getStats();\n    } else {\n      return Promise.resolve();\n    }\n  }\n\n  function resetLocal() {\n    if (localStream) stopStream(localStream);\n    localStream = null;\n    localVideo.srcObject = null;\n  }\n\n  function resetRemote() {\n    if (remoteStream) stopStream(remoteStream);\n    remoteStream = null;\n    remoteVideo.srcObject = null;\n  }\n\n\n  function reset(conn) {\n    if (!conn) return;\n    if (!conn.peerConn && !conn.signalingChannel) return;\n\n    resetRemote();\n\n    try {\n      var pc = conn.peerConn;\n      if (pc) {\n        pc.onicecandidate = null;\n        pc.oniceconnectionstatechange = null;\n        pc.ontrack = null;\n        pc.close();\n      }\n    } catch (e) {\n      console.error(e);\n    }\n\n    try {\n      conn.signalingChannel.close();\n    } catch (e) {\n      console.error(e);\n    }\n\n    conn.peerConn = null;\n    conn.signalingChannel = null;\n  }\n\n  function start(relayOnly) {\n    console.log('start');\n    useRelayOnly = relayOnly == null ? useRelayOnly : relayOnly;\n    if (connection)\n      reset(connection);\n\n    var conn = {};\n    var chan = new SignalingChannel({\n      chat: chat,\n      url: url,\n    });\n    conn.signalingChannel = chan;\n    chan.onGetIceServers(function (iceServers) {\n      var pc = new RTCPeerConnection({\n        iceServers: iceServers,\n        iceTransportPolicy: useRelayOnly ? 'relay' : 'all',\n      });\n      conn.peerConn = pc;\n\n      // send any ice candidates to the other peer\n      pc.onicecandidate = function (evt) {\n        if (evt.candidate == null) return;\n        chan.send({ \"candidate\": evt.candidate });\n      };\n\n      pc.oniceconnectionstatechange = function (evt) {\n        console.log(pc.iceConnectionState);\n        if (pc.iceConnectionState === 'closed') {\n          reset(conn);\n        } else if (pc.iceConnectionState === 'failed') {\n          restart(conn);\n        }\n      }\n\n      if (localStream) pc.addStream(localStream);\n\n      pc.onaddstream = function (evt) {\n        console.log('add remote stream');\n        remoteStream = evt.stream;\n        remoteVideo.autoplay = true;\n        remoteVideo.srcObject = remoteStream;\n      };\n\n      chan.onMessage(handleSignal.bind(null, conn));\n      // only one peer will fire start event (the first one enter room)\n      chan.onRemoteStart(function () {\n        //restart if already started\n        if (remoteStream) {\n          restartCount = 0;   //对方重启，本地是好的，这时候重置restartCount\n          restart(conn);\n          return;\n        }\n        sendOffer(conn);\n      });\n    });\n    connection = conn;\n  }\n\n  function onevent(f) {\n    if (handlers.indexOf(f) === -1)\n      handlers.push(f);\n  }\n\n  function fireEvent(message, obj) {\n    handlers.forEach(function (fn) {\n      fn(message, obj)\n    });\n  };\n\n  function stopStream(stream) {\n    stream.getTracks().forEach(function (t) {\n      t.stop();\n    });\n  }\n\n  function stop() {\n    restartCount = 0;\n    resetLocal();\n    reset(connection);\n  }\n\n  this.requirePermission = requirePermission;\n  this.getPeerConnectionStats = getStats;\n  this.start = start;\n  this.onevent = onevent;\n  this.stop = stop;\n\n  this.getLocalVideo = function () {\n    return localVideo;\n  };\n\n  this.getRemoteVideo = function () {\n    return remoteVideo;\n  };\n}\n\nexport default P2PChat\n\n\n// WEBPACK FOOTER //\n// ./src/services/p2pChat.js","import * as _ from 'lodash';\nimport axios from 'axios';\nimport { createGUID } from '../utils/guid';\n\n/**\n * @param {string} serverPath - secure form server path, https://secureForm.comm100.com\n * @param {object} secureForm - secure form object\n * @param {object} config\n * config:\n * {\n *  siteId: 10000,\n *  visitorId: 1,\n *  authToken: '[sessionId]',\n *  authProvider: 'chatserver.comm100.com',\n *  themeColor: '#ff0000',\n * }\n * @returns {Promise} -\n */\n\nexport const requestSecureForm = (serverPath, secureForm, config) =>\n  new Promise((resolve) => {\n    require.ensure(['node-rsa'], (require) => {\n      resolve(require('node-rsa'));\n    }, 'secure-form');\n  }).then(NodeRSA =>\n    new Promise((resolve, reject) => {\n      const rsaKey = new NodeRSA({ b: 512 }, null, {\n        environment: 'browser',\n        encryptionScheme: 'pkcs1',\n      });\n      const token = createGUID();\n      const url = `${serverPath}/formbuilder.ashx`;\n      const data = JSON.stringify(\n        Object.assign(\n          {},\n          config,\n          {\n            accessToken: token,\n            publicKey: rsaKey.exportKey('pkcs8-public-pem'),\n            formName: secureForm.name,\n            jsonFormFields: JSON.stringify(secureForm.fields),\n          }\n        )\n      );\n      axios.post(url, data)\n        .then((res) => {\n          if (res.data.success) {\n            resolve({ token, rsaKey });\n          } else {\n            reject(res.error_message);\n          }\n        })\n        .catch((err) => {\n          reject(err);\n        });\n    })\n  );\n\n/**\n * @param {string} serverPath - secure form server path, https://secureForm.comm100.com\n * @param {object} config\n * {\n *  siteId: 10000,\n *  visitorId: 1,\n *  accessToken: token,\n *  authToken: '[sessionId]'\n * }\n * @param {NodeRSA} rsaKey -\n * @returns {Promise} -\n */\nexport const getSecureFormContent = (serverPath, config, rsaKey) =>\n  new Promise((resolve, reject) => {\n    const url = `${serverPath}/formconsumer.ashx`;\n    const data = JSON.stringify(config);\n    axios.post(url, data)\n      .then((res) => {\n        const { error_code: errorCode, error_message: errorMessage, formContent } = res.data;\n        if (errorCode === 0) {\n          const baseLength = 88;  // (512/48 + 1) * 8;\n          const encryptTexts = _.chunk(formContent, baseLength).map(chars => chars.join(''));\n          const bufferContent = Buffer.concat(encryptTexts.map(texts => rsaKey.decrypt(texts)));\n          const encodedContent = new Buffer(bufferContent).toString('utf8');\n          const content = new Buffer(encodedContent, 'base64').toString();\n          const fields = JSON.parse(content).fields;\n          resolve(fields);\n        } else {\n          reject(errorMessage);\n        }\n      })\n      .catch((err) => {\n        reject(err);\n      });\n  });\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/secureForm.js","import React, { PropTypes } from 'react';\nimport classnames from 'classnames';\nimport _ from 'lodash';\nimport Tooltip from 'src/components/Tooltip/Tooltip';\nimport styles from './ChatItem.css';\nimport ChatStatus from '../ChatStatus/ChatStatus';\nimport { chatStatus, icons } from '../../constants/enums';\nimport Icon from '../Icon/Icon';\nimport ChatItemDetail from './ChatItemDetail';\nimport ChatItemPrompt from './ChatItemPrompt';\nimport ChatItemSegment from './ChatItemSegment';\nimport * as visitorAudioVideoChatStatus from '../../constants/enums/visitorAudioVideoChatStatus';\n\nclass ChatItem extends React.Component {\n  componentDidMount() {\n    Tooltip.rebuild();\n  }\n\n  shouldComponentUpdate(nextProps) {\n    return !_.isEqual(this.props, nextProps);\n  }\n\n  componentDidUpdate() {\n    Tooltip.rebuild();\n  }\n\n  render() {\n    const tooltipId = 'chatlist';\n    const chatItem = this.props.chatItem;\n    return (\n      <div\n        className={classnames(styles.chatitemcontainer,\n          (chatItem.isShowAcceptAndRefuse\n            || chatItem.audioVideoStatus === visitorAudioVideoChatStatus.visitorRequestAudioChat\n            || chatItem.audioVideoStatus === visitorAudioVideoChatStatus.visitorRequestVideoChat)\n          && styles.acceptStyle,\n          chatItem.isSelected && styles.selected,\n          (!chatItem.isShowAcceptAndRefuse &&\n            !chatItem.isShowWrapUp &&\n            ((this.props.isShowDepartment &&\n              _.isEmpty(chatItem.visitor.department)) ||\n              (!this.props.isShowDepartment &&\n                _.isEmpty(chatItem.visitor.agentName))))\n          && styles.nobutton)}\n        onClick={() => this.props.onItemClick(chatItem)}\n      >\n        <div\n          className={styles.captureitem}\n        >\n          <Icon\n            type={icons.pin}\n            size={14}\n            data-tip={chatItem.isPinned ? 'Unpin' : 'Pin'}\n            data-for={tooltipId}\n            className={classnames(styles.pinnStyle,\n              chatItem.isPinned ? styles.pinned : styles.nopinned)}\n            onClick={() => {\n              this.props.onClickPin(chatItem);\n            }}\n          />\n        </div>\n        <div className={styles.statusitem}>\n          <ChatStatus\n            statusCode={chatItem.currentStatus}\n            audioVideoStatus={chatItem.audioVideoStatus}\n            dataFor={tooltipId}\n          />\n        </div>\n        <div className={styles.detailitem}>\n          <ChatItemDetail\n            chatItem={chatItem}\n            enableRefuseChat={this.props.enableRefuseChat}\n            isShowDepartment={this.props.isShowDepartment}\n            onAcceptChat={this.props.onAcceptChat}\n            onRefusedChat={this.props.onRefusedChat}\n            onWrapUp={this.props.onWrapUp}\n          />\n        </div>\n        <div className={styles.infoitem}>\n          <ChatItemPrompt\n            chatItem={chatItem}\n            isShowUnreposiveTime={this.props.isShowUnreposiveTime}\n            onDeleteItem={this.props.onDeleteItem}\n          />\n        </div>\n        <div className={styles.segmentitem}>\n          <ChatItemSegment\n            chatItem={chatItem}\n            ifEnableSegmentation={this.props.ifEnableSegmentation}\n            dataFor={tooltipId}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nChatItem.propTypes = {\n  chatItem: PropTypes.shape({\n    visitorId: PropTypes.number.isRequired,\n    visitor: PropTypes.shape({\n      name: PropTypes.string,\n      agentName: PropTypes.string,\n      department: PropTypes.string,\n    }).isRequired,\n    segments: PropTypes.arrayOf(PropTypes.shape({\n      name: PropTypes.string,\n      color: PropTypes.string,\n    })).isRequired,\n    isPinned: PropTypes.bool.isRequired,\n    isShowWrapUp: PropTypes.bool.isRequired,\n    isShowAcceptAndRefuse: PropTypes.bool.isRequired,\n    isShowDeleteIcon: PropTypes.bool.isRequired,\n    unresponseBeginTime: PropTypes.number,\n    currentStatus: PropTypes.number.isRequired,\n    messageNumber: PropTypes.number.isRequired,\n    isSelected: PropTypes.bool.isRequired,\n    audioVideoStatus: PropTypes.number,\n  }),\n  /* following setting for all chat */\n  enableRefuseChat: PropTypes.bool.isRequired,\n  ifEnableSegmentation: PropTypes.bool.isRequired,\n  isShowUnreposiveTime: PropTypes.bool.isRequired,\n  isShowDepartment: PropTypes.bool.isRequired,\n  onClickPin: PropTypes.func.isRequired,\n  onItemClick: PropTypes.func.isRequired,\n  onAcceptChat: PropTypes.func.isRequired,\n  onRefusedChat: PropTypes.func.isRequired,\n  onWrapUp: PropTypes.func.isRequired,\n  onDeleteItem: PropTypes.func.isRequired,\n};\nChatItem.examples = {\n  'Default Example': {\n    description: 'chat item',\n    component:\n    <ChatItem\n      currentStatus={chatStatus.waitingForChat}\n      visitor={{\n        name: 'Andy',\n        ip: '0.0.0.0',\n        department: 'department',\n      }}\n      segments={[\n        { name: 'name1', color: '#ccc' },\n      ]}\n    />\n    ,\n  },\n};\nexport default ChatItem;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ChatItem/ChatItem.jsx","import React, { PropTypes } from 'react';\nimport _ from 'lodash';\nimport classnames from 'classnames';\nimport styles from './ChatItem.css';\nimport Icon from '../Icon/Icon';\nimport { chatListConfig, icons } from '../../constants/enums';\n\nclass ChatItemConfig extends React.Component {\n  shouldComponentUpdate(nextProps) {\n    return !_.isEqual(this.props, nextProps);\n  }\n  render() {\n    return (\n      <div className={styles.chatItemConfig}>\n        <ul className={styles.chatconfigpanel}>\n          {this.props.ifDepartmentEnabled && (\n            <li\n              onClick={(e) => {\n                e.stopPropagation();\n                this.props.onClickConfig(chatListConfig.showDepartment);\n              }}\n            >\n              <Icon\n                type={icons.success}\n                className={classnames(styles.configitem,\n                    this.props.isShowDepartment && styles.selectedicon)}\n              />\n              Show department\n            </li>\n          )}\n          <li\n            onClick={(e) => {\n              e.stopPropagation();\n              this.props.onClickConfig(chatListConfig.showUnreposiveTime);\n            }}\n          >\n            <Icon\n              type={icons.success}\n              className={classnames(styles.configitem,\n                  this.props.isShowUnreposiveTime && styles.selectedicon)}\n            />\n            Show agent unresponsive time\n          </li>\n          <li\n            onClick={(e) => {\n              e.stopPropagation();\n              this.props.onClickConfig(chatListConfig.showByStatus);\n            }}\n          >\n            <Icon\n              type={icons.success}\n              className={classnames(styles.configitem,\n                  this.props.isShowChatItemsViaStatus && styles.selectedicon)}\n            />\n            Group chat by status\n          </li>\n        </ul>\n      </div>\n    );\n  }\n}\nChatItemConfig.propTypes = {\n  isShowUnreposiveTime: PropTypes.bool.isRequired,\n  ifDepartmentEnabled: PropTypes.bool.isRequired,\n  isShowDepartment: PropTypes.bool.isRequired,\n  isShowChatItemsViaStatus: PropTypes.bool.isRequired,\n  onClickConfig: PropTypes.func.isRequired,\n};\nChatItemConfig.examples = {\n  'Default Example': {\n    description: 'chat config',\n    component:\n      <ChatItemConfig\n        isShowUnreposiveTime\n      />\n        ,\n  },\n};\nexport default ChatItemConfig;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ChatItem/ChatItemConfig.jsx","import React, { PropTypes } from 'react';\nimport ReactTooltip from 'react-tooltip';\nimport commonStyle from '../CommonResources/common.css';\nimport styles from './ChatItem.css';\nimport ChatItemConfig from './ChatItemConfig';\nimport ShowChatViaGroup from './ShowChatViaGroup';\nimport ShowChatViaList from './ShowChatViaList';\nimport { icons } from '../../constants/enums';\nimport Icon from '../Icon/Icon';\n\nconst ChatItemContainer = props => (\n  <div className={styles.itemContainer}>\n    {\n      props.isShowChatItemsViaStatus ?\n        (\n          <ShowChatViaGroup\n            groupItems={props.groupItems}\n            enableRefuseChat={props.enableRefuseChat}\n            ifEnableSegmentation={props.ifEnableSegmentation}\n            isShowUnreposiveTime={props.isShowUnreposiveTime}\n            isShowDepartment={props.isShowDepartment}\n            onClickPin={props.onClickPin}\n            onItemClick={props.onItemClick}\n            onAcceptChat={props.onAcceptChat}\n            onRefusedChat={props.onRefusedChat}\n            onWrapUp={props.onWrapUp}\n            onDeleteItem={props.onDeleteItem}\n            onClickArrow={props.onClickArrow}\n          />\n        ) : (\n          <ShowChatViaList\n            chats={props.chats}\n            enableRefuseChat={props.enableRefuseChat}\n            ifEnableSegmentation={props.ifEnableSegmentation}\n            isShowUnreposiveTime={props.isShowUnreposiveTime}\n            isShowDepartment={props.isShowDepartment}\n            onClickPin={props.onClickPin}\n            onItemClick={props.onItemClick}\n            onAcceptChat={props.onAcceptChat}\n            onRefusedChat={props.onRefusedChat}\n            onWrapUp={props.onWrapUp}\n            onDeleteItem={props.onDeleteItem}\n          />\n        )\n    }\n    <div className={styles.configPanel}>\n      <div>\n        <Icon\n          type={icons.chatListSetting}\n          size={14}\n          tabIndex={0}\n          className={styles.configicon}\n        >\n          <ChatItemConfig\n            isShowChatItemsViaStatus={props.isShowChatItemsViaStatus}\n            isShowUnreposiveTime={props.isShowUnreposiveTime}\n            ifDepartmentEnabled={props.ifDepartmentEnabled}\n            isShowDepartment={props.isShowDepartment}\n            onClickConfig={props.onClickConfig}\n          />\n        </Icon>\n      </div>\n    </div>\n    <ReactTooltip\n      id=\"chatlist\"\n      effect=\"solid\"\n      place=\"bottom\"\n      class={commonStyle.tooltipInfoNoCapitalize}\n    />\n  </div>\n);\n\nChatItemContainer.propTypes = {\n  chats: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n  groupItems: PropTypes.arrayOf(PropTypes.shape({\n    description: PropTypes.string.isRequired,\n    chats: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n    opened: PropTypes.bool,\n  })).isRequired,\n  /* following setting for all chat */\n  isShowChatItemsViaStatus: PropTypes.bool.isRequired,\n  isShowUnreposiveTime: PropTypes.bool.isRequired,\n  ifDepartmentEnabled: PropTypes.bool.isRequired,\n  isShowDepartment: PropTypes.bool.isRequired,\n  ifEnableSegmentation: PropTypes.bool,\n  enableRefuseChat: PropTypes.bool,\n  onClickConfig: PropTypes.func.isRequired,\n  onClickPin: PropTypes.func.isRequired,\n  onItemClick: PropTypes.func.isRequired,\n  onAcceptChat: PropTypes.func.isRequired,\n  onRefusedChat: PropTypes.func.isRequired,\n  onWrapUp: PropTypes.func.isRequired,\n  onDeleteItem: PropTypes.func.isRequired,\n  onClickArrow: PropTypes.func.isRequired,\n};\nChatItemContainer.examples = {\n  'Default Example': {\n    description: 'chat container',\n    component:\n    <ChatItemContainer\n      chatItems={[]}\n    />\n    ,\n  },\n};\nexport default ChatItemContainer;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ChatItem/ChatItemContainer.jsx","import React, { PropTypes } from 'react';\nimport _ from 'lodash';\nimport styles from './ChatItem.css';\nimport Button from '../Button/Button';\n\nclass ChatItemDetail extends React.Component {\n  shouldComponentUpdate(nextProps) {\n    return !_.isEqual(this.props, nextProps);\n  }\n  render() {\n    return (\n      <div className={styles.chatItemDetail}>\n        <div className={styles.visitorName}>\n          {this.props.chatItem.visitor.name}\n        </div>\n        {!this.props.isShowDepartment &&\n          this.props.chatItem.visitor.agentName &&\n          (\n          <div className={styles.visitorDepartment}>\n            ({this.props.chatItem.visitor.agentName})\n          </div>\n        )}\n        {this.props.isShowDepartment &&\n          this.props.chatItem.visitor.department &&\n          (\n          <div className={styles.visitorDepartment}>\n            ({this.props.chatItem.visitor.department})\n          </div>\n        )}\n        {this.props.chatItem.isShowAcceptAndRefuse &&\n            (\n              <div className={styles.actioncontainer}>\n                <Button\n                  type=\"primary\"\n                  text=\"Accept\"\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    this.props.onAcceptChat(this.props.chatItem);\n                  }}\n                  size={'small'}\n                  className={styles.acceptBtn}\n                />\n                {this.props.enableRefuseChat && (<Button\n                  text=\"Refuse\"\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    this.props.onRefusedChat(this.props.chatItem);\n                  }}\n                  className={styles.refuseBtn}\n                />)}\n              </div>\n            )}\n        {this.props.chatItem.isShowWrapUp && (\n          <Button\n            type=\"primary\"\n            text=\"Wrap up\"\n            onClick={(e) => {\n              e.stopPropagation();\n              this.props.onWrapUp(this.props.chatItem);\n            }}\n            size={'small'}\n            className={styles.wrapupbtn}\n          />\n        )}\n      </div>\n    );\n  }\n}\nChatItemDetail.propTypes = {\n  chatItem: PropTypes.shape({\n    visitor: PropTypes.shape({\n      name: PropTypes.string,\n      agentName: PropTypes.string,\n      department: PropTypes.string,\n    }).isRequired,\n    isShowWrapUp: PropTypes.bool.isRequired,\n    isShowAcceptAndRefuse: PropTypes.bool.isRequired,\n  }),\n  enableRefuseChat: PropTypes.bool.isRequired,\n  isShowDepartment: PropTypes.bool.isRequired,\n  onAcceptChat: PropTypes.func.isRequired,\n  onRefusedChat: PropTypes.func.isRequired,\n  onWrapUp: PropTypes.func.isRequired,\n};\nChatItemDetail.examples = {\n  'Default Example': {\n    description: 'chat detail',\n    component:\n      <ChatItemDetail\n        visitor={{\n          name: 'Andy',\n          ip: '0.0.0.0',\n          department: 'department',\n        }}\n        showAcceptAndRefuse\n      />\n        ,\n  },\n};\nexport default ChatItemDetail;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ChatItem/ChatItemDetail.jsx","import * as _ from 'lodash';\nimport React, { PropTypes, Component } from 'react';\nimport styles from './ChatItem.css';\nimport PromptNumber from '../Icons/PromptNumber';\nimport Icon from '../Icon/Icon';\nimport { icons, chatStatus } from '../../constants/enums';\nimport { formatWaitingTimeWithMillsecond } from '../../utils/time';\n\nconst ifShowTime = (currentStatus, isShowUnresponsiveTime) => {\n  if (currentStatus === chatStatus.waitingForChat ||\n      currentStatus === chatStatus.transferring ||\n      currentStatus === chatStatus.invitedAndWaitingForChat) {\n    return true;\n  }\n  if (currentStatus === chatStatus.chatting && isShowUnresponsiveTime) {\n    return true;\n  }\n  return false;\n};\n\nclass ChatItemPrompt extends Component {\n  constructor(props) {\n    super(props);\n    this.timer = null;\n    this.unresponseBeginTime = props.chatItem.unresponseBeginTime;\n    this.updateUnresponsiveTime = this.updateUnresponsiveTime.bind(this);\n  }\n  componentDidMount() {\n    if (ifShowTime(this.props.chatItem.currentStatus, this.props.isShowUnreposiveTime)) {\n      this.updateUnresponsiveTime();\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.chatItem.unresponseBeginTime !== this.props.chatItem.unresponseBeginTime) {\n      if (nextProps.chatItem.unresponseBeginTime === null) {\n        clearTimeout(this.timer);\n        this.timer = null;\n        this.unresponseBeginTime = 0;\n        this.timestamp.textContent = '';\n      } else {\n        this.unresponseBeginTime = nextProps.chatItem.unresponseBeginTime;\n        if (ifShowTime(nextProps.chatItem.currentStatus, nextProps.isShowUnreposiveTime)) {\n          this.updateUnresponsiveTime();\n        }\n      }\n    }\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return !_.isEqual(this.state, nextState) ||\n           !_.isEqual(this.props, nextProps);\n  }\n\n  componentDidUpdate(prevProps) {\n    const shouldShow =\n      ifShowTime(this.props.chatItem.currentStatus, this.props.isShowUnreposiveTime);\n    const prevShouldShow =\n      ifShowTime(prevProps.chatItem.currentStatus, prevProps.isShowUnreposiveTime);\n    if (!prevShouldShow && shouldShow) {\n      this.updateUnresponsiveTime();\n    } else if (prevShouldShow && !shouldShow && this.timer) {\n      clearTimeout(this.timer);\n      this.timer = null;\n      this.timestamp.textContent = '';\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.timer !== null) {\n      clearTimeout(this.timer);\n      this.timer = null;\n    }\n  }\n\n  updateUnresponsiveTime() {\n    if (!this.unresponseBeginTime) {\n      if (this.timer) {\n        clearTimeout(this.timer);\n        this.timer = null;\n      }\n      return;\n    }\n    const ticks = Date.now() - this.unresponseBeginTime;\n    this.timestamp.textContent = ticks < 1000 ? '' : formatWaitingTimeWithMillsecond(ticks);\n    this.timer = setTimeout(() => {\n      if (!this.timestamp) {\n        this.timer = null;\n        return;\n      }\n      this.updateUnresponsiveTime();\n    }, 1000);\n  }\n\n  render() {\n    return (\n      <div className={styles.chatItemPrompt}>\n        {this.props.chatItem.messageNumber > 0 && (\n          <PromptNumber\n            customClass={styles.promptNumber}\n            number={this.props.chatItem.messageNumber}\n          />\n        )}\n        <span className={styles.idleStyle} ref={(span) => { this.timestamp = span; }} />\n        {this.props.chatItem.isShowDeleteIcon && (\n          <Icon\n            type={icons.close}\n            size={10}\n            className={styles.deleteIcon}\n            onClick={(e) => {\n              e.stopPropagation();\n              this.props.onDeleteItem(this.props.chatItem);\n            }}\n          />\n        )\n        }\n      </div>\n    );\n  }\n}\nChatItemPrompt.propTypes = {\n  chatItem: PropTypes.shape({\n    isShowDeleteIcon: PropTypes.bool.isRequired,\n    messageNumber: PropTypes.number.isRequired,\n    unresponseBeginTime: PropTypes.number,\n    currentStatus: PropTypes.number.isRequired,\n  }),\n  isShowUnreposiveTime: PropTypes.bool.isRequired,\n  onDeleteItem: PropTypes.func.isRequired,\n};\nChatItemPrompt.examples = {\n  'Default Example': {\n    description: 'chat prompt',\n    component:\n      <ChatItemPrompt\n        messageNumber={5}\n        isShowChatItemsViaGroup={1000}\n        isShowUnreposiveTime\n        isShowDeleteIcon\n      />\n        ,\n  },\n};\nexport default ChatItemPrompt;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ChatItem/ChatItemPrompt.jsx","import React, { PropTypes } from 'react';\nimport _ from 'lodash';\nimport styles from './ChatItem.css';\n\nclass ChatItemSegment extends React.Component {\n  shouldComponentUpdate(nextProps) {\n    return !_.isEqual(this.props, nextProps);\n  }\n  render() {\n    let height = 10;\n    if (this.props.chatItem.segments.length <= 2) {\n      height = 15;\n    }\n    return (\n      <div className={styles.chatItemSegment}>\n        {this.props.ifEnableSegmentation && this.props.chatItem.segments.map((segment, i) => (\n          <i\n            key={`segment_${i}`}\n            data-tip={segment.name}\n            data-for={this.props.dataFor}\n            data-place=\"right\"\n            style={{ backgroundColor: segment.color, height }}\n          />\n        ))}\n      </div>\n    );\n  }\n}\nChatItemSegment.propTypes = {\n  chatItem: PropTypes.shape({\n    segments: PropTypes.arrayOf(PropTypes.shape({\n      name: PropTypes.string,\n      color: PropTypes.string,\n    })).isRequired,\n  }).isRequired,\n  dataFor: PropTypes.string,\n  ifEnableSegmentation: PropTypes.bool.isRequired,\n};\nChatItemSegment.examples = {\n  'Default Example': {\n    description: 'chat segment',\n    component:\n      <ChatItemSegment />\n        ,\n  },\n};\nexport default ChatItemSegment;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ChatItem/ChatItemSegment.jsx","import React, { PropTypes } from 'react';\nimport styles from './ChatItem.css';\n\nconst NoChat = props => (\n  <div className={styles.noChatSection}>\n    <div>\n      <h1>You have no chats now.</h1>\n      <span\n        onClick={props.goToVisitors}\n      >\n        Go to Visitor list\n      </span> to invite a visitor to chat\n    </div>\n  </div>\n);\nNoChat.propTypes = {\n  goToVisitors: PropTypes.func.isRequired,\n};\nexport default NoChat;\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ChatItem/NoChat.jsx","import React, { PropTypes } from 'react';\nimport * as _ from 'lodash';\nimport classnames from 'classnames';\nimport styles from './ChatItem.css';\nimport ShowChatViaList from './ShowChatViaList';\nimport Icon from '../Icon/Icon';\nimport { icons } from '../../constants/enums';\n\nclass ShowChatViaGroup extends React.Component {\n  constructor(props) {\n    super(props);\n    this.timer = null;\n    this.clickArrow = this.clickArrow.bind(this);\n  }\n  shouldComponentUpdate(nextProps) {\n    return !_.isEqual(this.props, nextProps);\n  }\n  clickArrow(id) {\n    this.props.onClickArrow(id);\n  }\n  render() {\n    return (\n      <div className={styles.showChatViaGroup}>\n        {this.props.groupItems.filter(item => item.chats.length > 0)\n          .map(item => (\n            <div\n              key={item.id}\n              className={styles.groupSection}\n            >\n              <div\n                className={classnames(styles.groupNameWraper, item.opened && styles.opened)}\n                onClick={() => this.clickArrow(item.id)}\n              >\n                <Icon type={icons.arrowDown} className={styles.groupSpread} />\n                <span>\n                  {`${item.description}(${item.chats.length})`}\n                </span>\n              </div>\n              {\n                item.opened && (\n                  <ShowChatViaList\n                    chats={item.chats}\n                    enableRefuseChat={this.props.enableRefuseChat}\n                    ifEnableSegmentation={this.props.ifEnableSegmentation}\n                    isShowUnreposiveTime={this.props.isShowUnreposiveTime}\n                    isShowDepartment={this.props.isShowDepartment}\n                    onClickPin={this.props.onClickPin}\n                    onItemClick={this.props.onItemClick}\n                    onAcceptChat={this.props.onAcceptChat}\n                    onRefusedChat={this.props.onRefusedChat}\n                    onWrapUp={this.props.onWrapUp}\n                    onDeleteItem={this.props.onDeleteItem}\n                  />\n                )\n              }\n            </div>\n        ))}\n      </div>\n    );\n  }\n}\n\nShowChatViaGroup.propTypes = {\n  groupItems: PropTypes.arrayOf(PropTypes.shape({\n    description: PropTypes.string.isRequired,\n    chats: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n    opened: PropTypes.bool,\n  })).isRequired,\n  isShowUnreposiveTime: PropTypes.bool.isRequired,\n  isShowDepartment: PropTypes.bool.isRequired,\n  ifEnableSegmentation: PropTypes.bool,\n  enableRefuseChat: PropTypes.bool,\n  onClickPin: PropTypes.func.isRequired,\n  onItemClick: PropTypes.func.isRequired,\n  onAcceptChat: PropTypes.func.isRequired,\n  onRefusedChat: PropTypes.func.isRequired,\n  onWrapUp: PropTypes.func.isRequired,\n  onDeleteItem: PropTypes.func.isRequired,\n  onClickArrow: PropTypes.func.isRequired,\n};\nexport default ShowChatViaGroup;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ChatItem/ShowChatViaGroup.jsx","import React from 'react';\nimport GrayButton from '../../Button/Button';\nimport chatHeaderStyle from '../ChatHeader/ChatHeader.css';\n\nimport ModalBanChat from '../../Modal/ModalBanChat/ModalBanChat';\n\nclass BanChat extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      open: false,\n    };\n    this.openModal = this.openModal.bind(this);\n    this.closeModal = this.closeModal.bind(this);\n  }\n  closeModal() {\n    this.setState(\n      { open: false }\n    );\n  }\n  openModal() {\n    this.setState(\n      { open: true }\n    );\n  }\n  render() {\n    return (\n      <div>\n        <GrayButton\n          text=\"Ban\"\n          className={chatHeaderStyle.btnAction}\n          onClick={this.openModal}\n          disabled={this.props.disabled}\n        />\n        {this.state.open && <ModalBanChat\n          openModal={this.openModal}\n          closeModal={this.closeModal}\n          onBanChat={this.props.onBanChat}\n          realVisitorId={this.props.realVisitorId}\n          visitorId={this.props.visitorId}\n          visitorIP={this.props.visitorIP}\n        />}\n      </div>\n    );\n  }\n}\n\nexport default BanChat;\n\n\nBanChat.propTypes = {\n  onBanChat: React.PropTypes.func.isRequired,\n  realVisitorId: React.PropTypes.number,\n  visitorId: React.PropTypes.number,\n  visitorIP: React.PropTypes.string,\n  disabled: React.PropTypes.bool,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ChatSection/BanChat/BanChat.jsx","import React from 'react';\nimport commonStyle from '../../CommonResources/common.css';\nimport ChatActionStyle from './ChatAction.css';\nimport Font from '../../Icons/ChatAction/Font';\nimport Transfer from '../../Icons/ChatAction/Transfer';\nimport SendFile from '../../Icons/ChatAction/SendFile';\nimport SendEmail from '../../Icons/ChatAction/SendEmail';\nimport AttachTicket from '../../Icons/ChatAction/AttachTicket';\nimport Translate from '../../Icons/ChatAction/Translate';\nimport GoToMeeting from '../../Icons/ChatAction/GoToMeeting';\nimport Joinme from '../../Icons/ChatAction/Joinme';\nimport SecureForm from '../../Icons/ChatAction/SecureForm';\nimport AudioChat from '../../Icons/ChatAction/AudioChat';\nimport VideoChat from '../../Icons/ChatAction/VideoChat';\nimport { shouldComponentUpdateGen } from '../../../utils/helper';\n\nconst shouldComponentUpdateHelper = shouldComponentUpdateGen(\n  'ChatAction',\n  [\n    // 'siteId', // site id should never be changed\n    'selectedFontSize',\n    'visitorId',\n    'chatId',\n    'ticketId',\n    'chatActionDisplay',\n    'chatActionEnable',\n    'transcriptInfo',\n    'responseErrorMessage',\n    'sendEmailSuccessMessage',\n    'autoTranslateInfo',\n    'pciForm',\n    'transfer',\n    'joinMeIntegrationServer',\n  ],\n);\n\nconst relative = { position: 'relative' };\n\nclass ChatAction extends React.Component {\n  shouldComponentUpdate(nextProps) {\n    return shouldComponentUpdateHelper(this.props, nextProps);\n  }\n\n  render() {\n    const props = this.props;\n    return (\n      <div>\n        <div className={ChatActionStyle.chatAction}>\n          <ul className={commonStyle.clearfix}>\n            <li>\n              <Font\n                selectedFontSize={props.selectedFontSize}\n                onFontSelect={props.onFontSelect}\n              />\n            </li>\n            {props.chatActionDisplay.transfer &&\n              <li>\n                <Transfer\n                  ifEnable={props.chatActionEnable.transfer}\n                  visitorId={props.visitorId}\n                  transfer={props.transfer}\n                  onTransferChat={props.onTransferChat}\n                  onTransferIconClick={props.onTransferIconClick}\n                />\n              </li>\n            }\n            <li>\n              <SendFile\n                disabled={!props.chatActionEnable.sendFile}\n                siteInfo={props.siteInfo}\n                chatId={props.chatId}\n                beforeUpload={props.beforeUpload}\n                onStart={props.onSendFileStart}\n                onSuccess={props.onSendFileSuccess}\n                onProgress={props.onSendFileProgress}\n                onError={props.onSendFileError}\n                showErrorMessage={props.showErrorMessage}\n              />\n            </li>\n            {props.chatActionDisplay.sendTranscript &&\n              <li>\n                <SendEmail\n                  ifEnable={props.chatActionEnable.sendTranscript}\n                  visitorId={props.visitorId}\n                  chatId={props.chatId}\n                  handleSendTranscript={props.handleSendTranscript}\n                  transcriptInfo={props.transcriptInfo}\n                  initialSendTranscriptForm={props.initialSendTranscriptForm}\n                  responseErrorMessage={props.responseErrorMessage}\n                  sendEmailSuccessMessage={props.sendEmailSuccessMessage}\n                  showResponseErrorMessage={props.showResponseErrorMessage}\n                  hideResponseErrorMessage={props.hideResponseErrorMessage}\n                  hideSendEmailSuccessMessage={props.hideSendEmailSuccessMessage}\n                />\n              </li>\n            }\n            {props.chatActionDisplay.attachTicket &&\n              <li>\n                <AttachTicket\n                  ifEnable={props.chatActionEnable.attachTicket}\n                  siteId={props.siteId}\n                  visitorId={props.visitorId}\n                  ticketId={props.ticketId}\n                  handleAttachTicket={props.handleAttachTicket}\n                  gotoAttachTicket={props.gotoAttachTicket}\n                  ifUseMainServer={props.ifUseMainServer}\n                  responseErrorMessage={props.responseErrorMessage}\n                  hideResponseErrorMessage={props.hideResponseErrorMessage}\n                />\n              </li>\n            }\n            {props.chatActionDisplay.autoTranslate &&\n              <li style={relative}>\n                <Translate\n                  ifEnable={props.chatActionEnable.autoTranslate}\n                  visitorId={props.visitorId}\n                  chatId={props.chatId}\n                  autoTranslateInfo={props.autoTranslateInfo}\n                  onToggleAutoTranslate={props.onToggleAutoTranslate}\n                  onUpdateIfPopTranslation={props.onUpdateIfPopTranslation}\n                />\n              </li>\n            }\n            {props.chatActionDisplay.gotoMeeting &&\n              <li style={relative}>\n                <GoToMeeting\n                  ifEnable={props.chatActionEnable.gotoMeeting}\n                  visitorId={props.visitorId}\n                  onRequestGotoMeeting={props.onRequestGotoMeeting}\n                />\n              </li>\n            }\n            {props.chatActionDisplay.joinMe &&\n              <li>\n                <Joinme\n                  ifEnable={props.chatActionEnable.joinMe}\n                  joinMeIntegrationServer={props.joinMeIntegrationServer}\n                  siteId={props.siteId}\n                  visitorId={props.visitorId}\n                  currentAgentId={props.currentAgentId}\n                  agentSession={props.agentSession}\n                />\n              </li>\n            }\n            {props.chatActionDisplay.pciForm &&\n              <li style={relative}>\n                <SecureForm\n                  ifDisplay={props.chatActionDisplay.pciForm}\n                  ifEnable={props.chatActionEnable.pciForm}\n                  visitorId={props.visitorId}\n                  chatId={props.chatId}\n                  pciForm={props.pciForm}\n                  onRequestPCIForm={props.onRequestPCIForm}\n                />\n              </li>\n            }\n            {props.chatActionDisplay.audioChat &&\n              <li>\n                <AudioChat\n                  ifEnable={props.chatActionEnable.audioChat}\n                  chatId={props.chatId}\n                  onClick={props.onRequestAudioChat}\n                />\n              </li>\n            }\n            {props.chatActionDisplay.videoChat &&\n              <li>\n                <VideoChat\n                  ifEnable={props.chatActionEnable.videoChat}\n                  chatId={props.chatId}\n                  onClick={props.onRequestVideoChat}\n                />\n              </li>\n            }\n          </ul>\n        </div>\n\n      </div>\n    );\n  }\n}\nexport default ChatAction;\n\nChatAction.propTypes = {\n  siteId: React.PropTypes.number.isRequired,\n  chatActionEnable: React.PropTypes.shape({\n    transfer: React.PropTypes.bool,\n    sendFile: React.PropTypes.bool,\n    sendTranscript: React.PropTypes.bool,\n    attachTicket: React.PropTypes.bool,\n    autoTranslate: React.PropTypes.bool,\n    gotoMeeting: React.PropTypes.bool,\n    joinMe: React.PropTypes.bool,\n    pciForm: React.PropTypes.bool,\n  }).isRequired,\n  currentAgentId: React.PropTypes.number.isRequired,\n  joinMeIntegrationServer: React.PropTypes.string,\n  selectedFontSize: React.PropTypes.string.isRequired,\n  onFontSelect: React.PropTypes.func.isRequired,\n  visitorId: React.PropTypes.number.isRequired,\n  ticketId: React.PropTypes.string.isRequired,\n  handleAttachTicket: React.PropTypes.func.isRequired,\n  onRequestPCIForm: React.PropTypes.func.isRequired,\n  onRequestGotoMeeting: React.PropTypes.func.isRequired,\n  transfer: React.PropTypes.shape({}).isRequired,\n  onTransferChat: React.PropTypes.func,\n  onToggleAutoTranslate: React.PropTypes.func,\n  handleSendTranscript: React.PropTypes.func,\n  transcriptInfo: React.PropTypes.shape({}),\n  autoTranslateInfo: React.PropTypes.shape({}),\n  chatActionDisplay: React.PropTypes.shape({\n    transfer: React.PropTypes.bool,\n    sendFile: React.PropTypes.bool,\n    sendTranscript: React.PropTypes.bool,\n    attachTicket: React.PropTypes.bool,\n    autoTranslate: React.PropTypes.bool,\n    gotoMeeting: React.PropTypes.bool,\n    joinMe: React.PropTypes.bool,\n    pciForm: React.PropTypes.bool,\n  }),\n  initialSendTranscriptForm: React.PropTypes.func,\n  responseErrorMessage: React.PropTypes.string,\n  sendEmailSuccessMessage: React.PropTypes.string,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ChatSection/ChatAction/ChatAction.jsx","import React from 'react';\n\nimport classnames from 'classnames';\nimport _ from 'lodash';\nimport commonStyle from '../../CommonResources/common.css';\nimport chatHeaderStyle from './ChatHeader.css';\n\nimport Avatar from '../../Icons/Avatar';\nimport Country from '../../Icons/Country';\nimport Os from '../../Icons/OS';\nimport Browser from '../../Icons/Browser';\nimport Social from '../../Icons/Social';\nimport Promote from '../Promote/Promote';\nimport BanChat from '../BanChat/BanChat';\nimport LeaveChat from '../LeaveChat/LeaveChat';\nimport CloseChat from '../CloseChat/CloseChat';\n\nimport { Zendesk, Salesforce } from '../../../constants/enums/socialType';\n\nclass ChatHeader extends React.Component {\n  shouldComponentUpdate(nextProps) {\n    return !_.isEqual(this.props, nextProps);\n  }\n  render() {\n    return (\n      <div className={classnames(chatHeaderStyle.chatHeader, commonStyle.clearfix)}>\n        <div className={classnames(chatHeaderStyle.visitorDetails, commonStyle.clearfix)}>\n          <div className={chatHeaderStyle.avatar}>\n            <Avatar\n              isContactOrUserOpen={this.props.isContactOrUserOpen}\n              avatarLink={this.props.visitorInfo.avatar}\n              identityType={this.props.visitorInfo.identityType}\n            />\n          </div>\n          <div className={chatHeaderStyle.details}>\n            <div className={chatHeaderStyle.name}>\n              {this.props.visitorInfo.latestName}\n            </div>\n            <div className={classnames(chatHeaderStyle.others, commonStyle.clearfix)}>\n              <Country\n                countryName={this.props.visitorInfo.country}\n                city={this.props.visitorInfo.city}\n                state={this.props.visitorInfo.state}\n                countryCode={this.props.visitorInfo.countryCode}\n              />\n              <Os name={this.props.visitorInfo.operatingSystem} />\n              <Browser name={this.props.visitorInfo.browser} />\n              {\n                this.props.saleforceURL !== '' && <Social\n                  type={Salesforce}\n                  socialUrl={this.props.saleforceURL}\n                />\n              }\n              {\n                this.props.visitorInfo.zendeskUrl !== '' && <Social\n                  type={Zendesk}\n                  socialUrl={this.props.visitorInfo.zendeskUrl}\n                />\n              }\n              {\n                this.props.visitorInfo.socialType > 0 && <Social\n                  type={this.props.visitorInfo.socialType}\n                  socialUrl={this.props.visitorInfo.socialUrl}\n                />\n              }\n            </div>\n          </div>\n        </div>\n        <div className={chatHeaderStyle.action}>\n          {\n            this.props.chatHeaderToolBarDisplay.displayPromote && <Promote\n              onPromote={this.props.onPromote}\n              visitorId={this.props.visitorInfo.id}\n              preChatEmail={this.props.visitorInfo.prechatEmail}\n              disabled={this.props.disabledPromote}\n              ifUseMainServer={this.props.ifUseMainServer}\n            />\n          }\n          {\n            this.props.chatHeaderToolBarDisplay.displayBan && <BanChat\n              onBanChat={this.props.onBanChat}\n              realVisitorId={this.props.visitorInfo.realVisitorId}\n              visitorId={this.props.visitorInfo.id}\n              visitorIP={this.props.visitorInfo.ip}\n              disabled={this.props.disabledBan}\n            />\n          }\n          {\n            this.props.chatHeaderToolBarDisplay.displayLeave && <LeaveChat\n              visitorId={this.props.visitorInfo.id}\n              onLeaveChat={this.props.onLeaveChat}\n            />\n          }\n          {\n            this.props.chatHeaderToolBarDisplay.displayCloseChat && <CloseChat\n              chatId={this.props.chatId}\n              visitorId={this.props.visitorInfo.id}\n              status={this.props.visitorInfo.status}\n              onCloseChat={this.props.onCloseChat}\n            />\n          }\n        </div>\n\n      </div>\n    );\n  }\n}\n\nexport default ChatHeader;\n\nChatHeader.propTypes = {\n  chatId: React.PropTypes.number.isRequired,\n  visitorInfo: React.PropTypes.shape({\n    avatar: React.PropTypes.string,\n    latestName: React.PropTypes.string,\n    prechatEmail: React.PropTypes.string,\n    country: React.PropTypes.string,\n    city: React.PropTypes.string,\n    state: React.PropTypes.string,\n    countryCode: React.PropTypes.string,\n    operatingSystem: React.PropTypes.string,\n    browser: React.PropTypes.string,\n    id: React.PropTypes.number,\n    realVisitorId: React.PropTypes.number,\n    ip: React.PropTypes.string,\n    socialType: React.PropTypes.number,\n    socialUrl: React.PropTypes.string,\n    status: React.PropTypes.number,\n    zendeskUrl: React.PropTypes.string,\n    identityType: React.PropTypes.number,\n  }),\n  saleforceURL: React.PropTypes.string,\n  disabledPromote: React.PropTypes.bool,\n  disabledBan: React.PropTypes.bool,\n  isContactOrUserOpen: React.PropTypes.bool,\n  chatHeaderToolBarDisplay: React.PropTypes.object,\n  onPromote: React.PropTypes.func.isRequired,\n  onBanChat: React.PropTypes.func.isRequired,\n  onLeaveChat: React.PropTypes.func.isRequired,\n  onCloseChat: React.PropTypes.func.isRequired,\n  ifUseMainServer: React.PropTypes.bool.isRequired,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ChatSection/ChatHeader/ChatHeader.jsx","import React from 'react';\nimport GrayButton from '../../Button/Button';\nimport chatHeaderStyle from '../ChatHeader/ChatHeader.css';\n\nconst CloseChat = props => (\n  <div>\n    <GrayButton\n      text=\"Close Chat Window\"\n      className={chatHeaderStyle.btnAction}\n      onClick={() => props.onCloseChat(props.chatId, props.status, props.visitorId)}\n    />\n  </div>\n);\n\nexport default CloseChat;\n\n\nCloseChat.propTypes = {\n  onCloseChat: React.PropTypes.func.isRequired,\n  chatId: React.PropTypes.number,\n  visitorId: React.PropTypes.number,\n  status: React.PropTypes.number,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ChatSection/CloseChat/CloseChat.jsx","import React from 'react';\nimport GrayButton from '../../Button/Button';\nimport chatHeaderStyle from '../ChatHeader/ChatHeader.css';\n\nimport ModalLeaveChat from '../../Modal/ModalLeaveChat/ModalLeaveChat';\n\nclass LeaveChat extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      open: false,\n    };\n    this.onLeaveChat = this.onLeaveChat.bind(this);\n    this.openModal = this.openModal.bind(this);\n    this.closeModal = this.closeModal.bind(this);\n  }\n  onLeaveChat() {\n    this.props.onLeaveChat(this.props.visitorId);\n    this.closeModal();\n  }\n  closeModal() {\n    this.setState(\n      { open: false }\n    );\n  }\n  openModal() {\n    this.setState(\n      { open: true }\n    );\n  }\n  render() {\n    return (\n      <div>\n        <GrayButton\n          text=\"Leave Chat\"\n          className={chatHeaderStyle.btnAction}\n          onClick={this.openModal}\n        />\n        {this.state.open && <ModalLeaveChat\n          openModal={this.openModal}\n          closeModal={this.closeModal}\n          onLeaveChat={this.onLeaveChat}\n        />}\n      </div>\n    );\n  }\n}\n\nexport default LeaveChat;\n\nLeaveChat.propTypes = {\n  visitorId: React.PropTypes.number.isRequired,\n  onLeaveChat: React.PropTypes.func.isRequired,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ChatSection/LeaveChat/LeaveChat.jsx","import React from 'react';\nimport classnames from 'classnames';\nimport Link from 'src/components/Link/Link';\nimport GrayButton from '../../Button/Button';\nimport chatHeaderStyle from '../ChatHeader/ChatHeader.css';\nimport commonStyle from '../../CommonResources/common.css';\nimport { PromoteToUser, PromoteToContact } from 'src/constants/enums/promote';\n\nimport ModalStandbyNotice from '../../Modal/StandbyNotice/StandbyNotice';\n\nclass Promote extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      isOpen: false,\n      isOpenModalStandbyNotice: false,\n    };\n    this.handleClick = this.handleClick.bind(this);\n    this.toggle = this.toggle.bind(this);\n    this.onPromote = this.onPromote.bind(this);\n    this.popUpStandbyWindow = this.popUpStandbyWindow.bind(this);\n    this.closeStandbyWindow = this.closeStandbyWindow.bind(this);\n  }\n  componentDidMount() {\n    document.addEventListener('click', this.handleClick, false);\n  }\n  componentWillUnmount() {\n    document.removeEventListener('click', this.handleClick, false);\n  }\n  onPromote(promoteType) {\n    this.setState(\n      { isOpen: false }\n    );\n    if (this.props.ifUseMainServer) {\n      this.props.onPromote(this.props.visitorId, promoteType);\n    } else {\n      this.popUpStandbyWindow();\n    }\n  }\n  popUpStandbyWindow() {\n    this.setState(\n      { isOpenModalStandbyNotice: true }\n    );\n  }\n  closeStandbyWindow() {\n    this.setState(\n      { isOpenModalStandbyNotice: false }\n    );\n  }\n  handleClick(event) {\n    const container = this.container;\n    if (container && !container.contains(event.target) && this.state.isOpen) {\n      this.setState({ isOpen: false });\n    }\n  }\n  toggle() {\n    this.setState({ isOpen: !this.state.isOpen });\n  }\n  render() {\n    return (\n      <div ref={(element) => { this.container = element; }}>\n        <GrayButton\n          text=\"Promote\"\n          className={chatHeaderStyle.btnAction}\n          onClick={this.toggle}\n          disabled={this.props.disabled}\n        />\n        <ul\n          className={\n            classnames(commonStyle.popupList, this.state.isOpen && commonStyle.open)}\n        >\n          <li>\n            <Link onClick={() => this.onPromote(PromoteToContact)}>Promote to Contact</Link>\n          </li>\n          {\n            this.props.preChatEmail !== '' ?\n              <li>\n                <Link onClick={() => this.onPromote(PromoteToUser)}>Promote to User</Link>\n              </li>\n              :\n              ''\n          }\n        </ul>\n        {this.state.isOpenModalStandbyNotice && <ModalStandbyNotice\n          ifOpen={this.state.isOpenModalStandbyNotice}\n          closeModal={this.closeStandbyWindow}\n          text=\"Live Chat is running on the secondary server. We're sorry but you're\n          unable to perform this action now. Please try again after Live Chat goes back\n          to the primary server.\"\n        />}\n      </div>\n    );\n  }\n}\n\nexport default Promote;\n\nPromote.propTypes = {\n  visitorId: React.PropTypes.number.isRequired,\n  onPromote: React.PropTypes.func.isRequired,\n  preChatEmail: React.PropTypes.string,\n  disabled: React.PropTypes.bool,\n  ifUseMainServer: React.PropTypes.bool.isRequired,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ChatSection/Promote/Promote.jsx","import React, { PropTypes } from 'react';\nimport { chatStatus, icons } from '../../constants/enums';\nimport Icon from '../Icon/Icon';\nimport * as visitorStatus from '../../constants/languages/visitorStatus';\nimport * as visitorAudioVideoChatStatus from '../../constants/enums/visitorAudioVideoChatStatus';\n\nfunction getAudioVideoChatStatusIconAndTitle(avStatus) {\n  switch (avStatus) {\n    case visitorAudioVideoChatStatus.visitorRequestAudioChat:\n      return {\n        type: icons.audioChatRequesting,\n        title: visitorStatus.audioChatRequesting,\n      };\n    case visitorAudioVideoChatStatus.visitorRequestVideoChat:\n      return {\n        type: icons.videoChatRequesting,\n        title: visitorStatus.videoChatRequesting,\n      };\n    case visitorAudioVideoChatStatus.audioChatting:\n      return {\n        type: icons.audioChatRequesting,\n        title: visitorStatus.audioChatting,\n      };\n    case visitorAudioVideoChatStatus.videoChatting:\n      return {\n        type: icons.videoChatRequesting,\n        title: visitorStatus.videoChatting,\n      };\n    default:\n      return { type: icons.chatting, title: visitorStatus.chatting };\n  }\n}\n\nfunction getClassNameByCode(code, avStatus) {\n  switch (code) {\n    case chatStatus.waitingForChat:\n      return { type: icons.waitting, title: visitorStatus.waitingForChat };\n    case chatStatus.chatting:\n      return getAudioVideoChatStatusIconAndTitle(avStatus);\n    case chatStatus.preChat:\n      return { type: icons.prechat, title: visitorStatus.preChat };\n    case chatStatus.invited:\n      return { type: icons.invited, title: visitorStatus.invited };\n    case chatStatus.autoInvited:\n      return { type: icons.invited, title: visitorStatus.autoInvited };\n    case chatStatus.offlineMessage:\n      return { type: icons.offline, title: visitorStatus.offlineMessage };\n    case chatStatus.refusedByAgent:\n      return { type: icons.refused, title: visitorStatus.refusedByAgent };\n    case chatStatus.refusedByVisitor:\n      return { type: icons.refused, title: visitorStatus.refusedByVisitor };\n    case chatStatus.chatEnded:\n      return { type: icons.chatEnd, title: visitorStatus.chatEnded };\n    case chatStatus.inSite:\n      return { type: icons.insite, title: visitorStatus.inSite };\n    case chatStatus.outOfSite:\n      return { type: icons.outOfSite, title: visitorStatus.outOfSite };\n    case chatStatus.transferring:\n      return { type: icons.transferring, title: visitorStatus.transferring };\n    case chatStatus.manuallyInvitedAndWatingVisitor:\n      return { type: icons.inviteWaiting, title: visitorStatus.manuallyInvitedAndWaitingVisitor };\n    case chatStatus.invitedAndWaitingForChat:\n      return { type: icons.waitingInvite, title: visitorStatus.invitedAndWaitingForChat };\n    case chatStatus.monitorChatEnded:\n      return { type: icons.monitorEnded, title: visitorStatus.monitorChatEnded };\n    case chatStatus.monitorChatting:\n      return { type: icons.monitorChatting, title: visitorStatus.monitorChatting };\n    default:\n      return { type: '', color: '', title: '' };\n  }\n}\nclass ChatStatus extends React.Component {\n  shouldComponentUpdate(nextProps) {\n    return nextProps.statusCode !== this.props.statusCode\n      || nextProps.audioVideoStatus !== this.props.audioVideoStatus;\n  }\n  render() {\n    const { type, title } = getClassNameByCode(this.props.statusCode, this.props.audioVideoStatus);\n    return (\n      <Icon\n        type={type}\n        size={this.props.size}\n        data-tip={title}\n        data-for={this.props.dataFor}\n      />\n    );\n  }\n}\nChatStatus.defaultProps = {\n  size: 18,\n};\nChatStatus.propTypes = {\n  /* status of chat */\n  statusCode: PropTypes.oneOf(Object.keys(chatStatus).map(key => chatStatus[key])).isRequired,\n  /* the size of chat icon */\n  size: PropTypes.oneOfType([\n    PropTypes.oneOf(['larger', 'large', 'normal', 'small', 'smaller']),\n    PropTypes.number,\n  ]),\n  /* this config for tooltip data-for */\n  dataFor: PropTypes.string,\n  audioVideoStatus: PropTypes.oneOf(\n    Object.keys(visitorAudioVideoChatStatus)\n      .map(key => visitorAudioVideoChatStatus[key])).isRequired,\n};\nChatStatus.examples = {\n  'Default Example': {\n    description: 'chat status',\n    component: <ChatStatus statusCode={chatStatus.waitingForChat} />,\n  },\n};\nexport default ChatStatus;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ChatStatus/ChatStatus.jsx","import React from 'react';\nimport classnames from 'classnames';\nimport Button from 'src/components/Button/Button';\nimport chatActionStyle from '../../ChatSection/ChatAction/ChatAction.css';\nimport Icon from '../../Icon/Icon';\nimport { icons as enums } from '../../../constants/enums';\n\nimport ModalAttachTicket from '../../Modal/ModalAttachTicket/ModalAttachTicket';\nimport ModalStandbyNotice from '../../Modal/StandbyNotice/StandbyNotice';\n\nconst dataFor = 'chatContainer';\nconst dataTip = 'Attach this chat to a ticket.';\n\nclass AttachTicket extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      open: false,\n      dataFor,\n      dataTip,\n      isOpenModalStandbyNotice: false,\n    };\n    this.openModal = this.openModal.bind(this);\n    this.closeModal = this.closeModal.bind(this);\n    this.closeStandbyWindow = this.closeStandbyWindow.bind(this);\n  }\n\n\n  closeModal() {\n    /** @todo why is dataFor and dataTip useful here? */\n    this.setState(\n      { open: false, dataFor, dataTip }\n    );\n  }\n  closeStandbyWindow() {\n    this.setState({\n      isOpenModalStandbyNotice: false,\n      dataFor,\n      dataTip,\n    });\n  }\n  openModal() {\n    if (this.props.ifUseMainServer) {\n      this.setState(\n        { open: true, dataFor: '', dataTip: '' }\n      );\n    } else {\n      this.setState(\n        { isOpenModalStandbyNotice: true, dataFor: '', dataTip: '' }\n      );\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <Button\n          type=\"noborder\"\n          className={classnames(\n            chatActionStyle.chatActionIcon,\n            !this.props.ifEnable && chatActionStyle.chatActionIconDisabled\n          )}\n          onClick={this.props.ifEnable ? this.openModal : undefined}\n          data-tip={this.state.dataTip}\n          data-for={this.state.dataFor}\n        >\n          <Icon type={enums.attachticket} />\n        </Button>\n        {this.state.open && <ModalAttachTicket\n          closeModal={this.closeModal}\n          siteId={this.props.siteId}\n          visitorId={this.props.visitorId}\n          ticketId={this.props.ticketId}\n          handleAttachTicket={this.props.handleAttachTicket}\n          gotoAttachTicket={this.props.gotoAttachTicket}\n          responseErrorMessage={this.props.responseErrorMessage}\n          hideResponseErrorMessage={this.props.hideResponseErrorMessage}\n        />}\n        {this.state.isOpenModalStandbyNotice && <ModalStandbyNotice\n          closeModal={this.closeStandbyWindow}\n          text=\"Live Chat is running on the secondary server. We're sorry but you're\n                unable to perform this action now. Please try again after Live Chat\n                goes back to the primary server.\"\n        />}\n      </div>\n    );\n  }\n}\n\nexport default AttachTicket;\n\nAttachTicket.propTypes = {\n  ifEnable: React.PropTypes.bool,\n  siteId: React.PropTypes.number.isRequired,\n  visitorId: React.PropTypes.number.isRequired,\n  ticketId: React.PropTypes.string.isRequired,\n  handleAttachTicket: React.PropTypes.func.isRequired,\n  gotoAttachTicket: React.PropTypes.func,\n  ifUseMainServer: React.PropTypes.bool.isRequired,\n  responseErrorMessage: React.PropTypes.string,\n  hideResponseErrorMessage: React.PropTypes.func,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Icons/ChatAction/AttachTicket.jsx","import React from 'react';\nimport classnames from 'classnames';\nimport Button from 'src/components/Button/Button';\nimport chatActionStyle from '../../ChatSection/ChatAction/ChatAction.css';\nimport Icon from '../../Icon/Icon';\nimport { icons as enums } from '../../../constants/enums';\n\nconst AudioChat = props =>\n  <div>\n    <Button\n      type=\"noborder\"\n      className={\n        classnames(\n          chatActionStyle.chatActionIcon,\n          !props.ifEnable && chatActionStyle.chatActionIconDisabled\n        )\n      }\n      onClick={props.ifEnable ? props.onClick : undefined}\n      data-tip=\"Audio Chat\"\n      data-for=\"chatContainer\"\n    >\n      <Icon type={enums.audioChat} />\n    </Button>\n  </div>;\n\nexport default AudioChat;\n\nAudioChat.propTypes = {\n  ifEnable: React.PropTypes.bool,\n  onClick: React.PropTypes.func,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Icons/ChatAction/AudioChat.jsx","import React from 'react';\nimport classnames from 'classnames';\nimport Link from 'src/components/Link/Link';\nimport * as enumFontSize from 'src/constants/enums/fontSize';\nimport Button from 'src/components/Button/Button';\nimport style from '../Icon.css';\nimport chatActionStyle from '../../ChatSection/ChatAction/ChatAction.css';\nimport Icon from '../../Icon/Icon';\nimport { icons as enums } from '../../../constants/enums';\n\nclass Font extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpen: false,\n    };\n    this.toggle = this.toggle.bind(this);\n    this.selectSmall = this.onSelect.bind(this, enumFontSize.small);\n    this.selectMiddle = this.onSelect.bind(this, enumFontSize.middle);\n    this.selectLarge = this.onSelect.bind(this, enumFontSize.large);\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  componentDidMount() {\n    document.addEventListener('click', this.handleClick, false);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('click', this.handleClick, false);\n  }\n\n  onSelect(type) {\n    this.setState({ isOpen: false });\n    this.props.onFontSelect(type);\n  }\n\n  handleClick(event) {\n    const container = this.container;\n    if (this.state.isOpen && container && !container.contains(event.target)) {\n      this.setState({ isOpen: false });\n    }\n  }\n\n  toggle() {\n    this.setState({\n      isOpen: !this.state.isOpen,\n    });\n  }\n\n  render() {\n    const { isOpen } = this.state;\n    const { selectedFontSize } = this.props;\n    const isSmall = selectedFontSize === enumFontSize.small;\n    const isMiddle = selectedFontSize === enumFontSize.middle;\n    const isLarge = selectedFontSize === enumFontSize.large;\n    return (\n      <div ref={(element) => { this.container = element; }}>\n        <Button\n          type=\"noborder\"\n          className={\n            classnames(\n                  chatActionStyle.chatActionIcon,\n                  isOpen && chatActionStyle.iconActive\n                )\n          }\n          onClick={this.toggle}\n          data-tip=\"Adjust font size of chat messages.\" data-for=\"chatContainer\"\n        >\n          <Icon type={enums.font} />\n        </Button>\n        <div\n          className={classnames(style.cover, isOpen && style.coverOpen)}\n          onClick={this.toggle}\n        />\n        <ul className={classnames(style.fontList, isOpen && style.fontOpen)}>\n          <li className={isSmall && style.fontActive}>\n            <Link onClick={this.selectSmall}>Small</Link>\n          </li>\n          <li className={isMiddle && style.fontActive} >\n            <Link onClick={this.selectMiddle}>Middle</Link>\n          </li>\n          <li className={isLarge && style.fontActive} >\n            <Link onClick={this.selectLarge}>Large</Link>\n          </li>\n        </ul>\n      </div>\n    );\n  }\n}\n\nFont.propTypes = {\n  selectedFontSize: React.PropTypes.string.isRequired,\n  onFontSelect: React.PropTypes.func.isRequired,\n};\n\nexport default Font;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Icons/ChatAction/Font.jsx","import React from 'react';\nimport classnames from 'classnames';\nimport Button from 'src/components/Button/Button';\nimport chatActionStyle from '../../ChatSection/ChatAction/ChatAction.css';\nimport Icon from '../../Icon/Icon';\nimport { icons as enums } from '../../../constants/enums';\n\nimport PromptGotoMeeting from '../../Prompt/PromptGotoMeeting/PromptGotoMeeting';\n\nclass GotoMeeting extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      isOpenGotoMeeting: false,\n    };\n    this.toggleOpenPrompt = this.toggleOpenPrompt.bind(this);\n    this.closeOpenPrompt = this.closeOpenPrompt.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n  }\n  componentDidMount() {\n    document.addEventListener('click', this.handleClick, false);\n  }\n  componentWillUnmount() {\n    document.removeEventListener('click', this.handleClick, false);\n  }\n  handleClick(event) {\n    const container = this.container;\n    if (container && !container.contains(event.target) && this.state.isOpenGotoMeeting) {\n      this.setState({ isOpenGotoMeeting: false });\n    }\n  }\n  toggleOpenPrompt() {\n    this.setState({\n      isOpenGotoMeeting: !this.state.isOpenGotoMeeting,\n    });\n  }\n  closeOpenPrompt() {\n    this.setState({\n      isOpenGotoMeeting: false,\n    });\n  }\n  render() {\n    return (\n      <div ref={(element) => { this.container = element; }}>\n        <Button\n          type=\"noborder\"\n          className={\n            classnames(\n              chatActionStyle.chatActionIcon,\n              !this.props.ifEnable && chatActionStyle.chatActionIconDisabled,\n              this.state.isOpen && chatActionStyle.iconActive\n            )\n          }\n          onClick={this.props.ifEnable ? this.toggleOpenPrompt : () => {}}\n          data-tip=\"Start screen sharing session with your visitors through GoToMeeting.\"\n          data-for=\"chatContainer\"\n        >\n          <Icon type={enums.gotomeeting} />\n        </Button>\n        {\n          this.state.isOpenGotoMeeting &&\n            <PromptGotoMeeting\n              closePrompt={this.closeOpenPrompt}\n              visitorId={this.props.visitorId}\n              onRequestGotoMeeting={this.props.onRequestGotoMeeting}\n            />\n        }\n      </div>\n    );\n  }\n}\n\nexport default GotoMeeting;\n\nGotoMeeting.propTypes = {\n  ifEnable: React.PropTypes.bool,\n  ifDisplay: React.PropTypes.bool,\n  visitorId: React.PropTypes.number.isRequired,\n  onRequestGotoMeeting: React.PropTypes.func.isRequired,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Icons/ChatAction/GoToMeeting.jsx","import React from 'react';\nimport classnames from 'classnames';\nimport Link from 'src/components/Link/Link';\nimport chatActionStyle from '../../ChatSection/ChatAction/ChatAction.css';\nimport Icon from '../../Icon/Icon';\nimport { icons as enums } from '../../../constants/enums';\n\nconst Joinme = (props) => {\n  const { joinMeIntegrationServer, siteId, visitorId, currentAgentId, agentSession } = props;\n  const url = [\n    `${joinMeIntegrationServer}/auth.aspx?siteId=${siteId}`,\n    `visitorId=${visitorId}`,\n    `operatorId=${currentAgentId}`,\n    `token=${agentSession}`,\n  ].join('&');\n  return (\n    <div>\n      <Link\n        type=\"noborder\"\n        className={\n          classnames(\n            chatActionStyle.chatActionIcon,\n            !props.ifEnable && chatActionStyle.chatActionIconDisabled,\n          )\n        }\n        href={props.ifEnable ? url : ''}\n        newWindow\n        data-tip=\"Start screen sharing session with your visitors through Join.Me.\"\n        data-for=\"chatContainer\"\n      >\n        <Icon type={enums.joinMe} />\n      </Link>\n    </div>\n  );\n};\n\nexport default Joinme;\n\nJoinme.propTypes = {\n  ifEnable: React.PropTypes.bool,\n  joinMeIntegrationServer: React.PropTypes.string,\n  siteId: React.PropTypes.number.isRequired,\n  currentAgentId: React.PropTypes.number.isRequired,\n  visitorId: React.PropTypes.number.isRequired,\n  agentSession: React.PropTypes.string.isRequired,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Icons/ChatAction/Joinme.jsx","import React from 'react';\nimport classnames from 'classnames';\nimport Button from 'src/components/Button/Button';\nimport chatActionStyle from '../../ChatSection/ChatAction/ChatAction.css';\nimport Icon from '../../Icon/Icon';\nimport { icons as enums } from '../../../constants/enums';\nimport PromptSecureForm from '../../Prompt/PromptSecureForm/PromptSecureForm';\n\nclass SecureForm extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      isOpenSecureForm: false,\n    };\n    this.toggleOpenPrompt = this.toggleOpenPrompt.bind(this);\n    this.closeOpenPrompt = this.closeOpenPrompt.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n  }\n  componentDidMount() {\n    document.addEventListener('click', this.handleClick, false);\n  }\n  componentWillUnmount() {\n    document.removeEventListener('click', this.handleClick, false);\n  }\n  handleClick(event) {\n    const container = this.container;\n    if (container && !container.contains(event.target) && this.state.isOpenSecureForm) {\n      this.setState({ isOpenSecureForm: false });\n    }\n  }\n  toggleOpenPrompt() {\n    this.setState({\n      isOpenSecureForm: !this.state.isOpenSecureForm,\n    });\n  }\n  closeOpenPrompt() {\n    this.setState({\n      isOpenSecureForm: false,\n    });\n  }\n  render() {\n    return (\n      <div ref={(element) => { this.container = element; }}>\n        <Button\n          type=\"noborder\"\n          className={\n            classnames(\n              chatActionStyle.chatActionIcon,\n              !this.props.ifEnable && chatActionStyle.chatActionIconDisabled,\n              this.state.isOpenSecureForm && chatActionStyle.iconActive,\n            )\n          }\n          onClick={this.props.ifEnable ? this.toggleOpenPrompt : undefined}\n          data-tip=\"Request a PCI form from your visitor.\"\n          data-for=\"chatContainer\"\n        >\n          <Icon type={enums.secureForm} />\n        </Button>\n        {\n          this.state.isOpenSecureForm &&\n            <PromptSecureForm\n              closePrompt={this.closeOpenPrompt}\n              visitorId={this.props.visitorId}\n              chatId={this.props.chatId}\n              pciForm={this.props.pciForm}\n              onRequestPCIForm={this.props.onRequestPCIForm}\n            />\n        }\n      </div>\n    );\n  }\n}\n\n\nexport default SecureForm;\n\nSecureForm.propTypes = {\n  ifEnable: React.PropTypes.bool,\n  ifDisplay: React.PropTypes.bool,\n  visitorId: React.PropTypes.number.isRequired,\n  chatId: React.PropTypes.number,\n  pciForm: React.PropTypes.object.isRequired,\n  onRequestPCIForm: React.PropTypes.func.isRequired,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Icons/ChatAction/SecureForm.jsx","import React from 'react';\nimport classnames from 'classnames';\nimport Button from 'src/components/Button/Button';\nimport chatActionStyle from '../../ChatSection/ChatAction/ChatAction.css';\nimport Icon from '../../Icon/Icon';\nimport { icons as enums } from '../../../constants/enums';\nimport ModalSendTranscript from '../../Modal/SendTranscript/SendTranscript';\n\n\nclass SendEmail extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      open: false,\n    };\n    this.openModal = this.openModal.bind(this);\n    this.closeModal = this.closeModal.bind(this);\n  }\n  closeModal() {\n    this.setState(\n      { open: false }\n    );\n  }\n  openModal() {\n    const props = this.props;\n    props.initialSendTranscriptForm(props.visitorId, props.chatId, props.transcriptInfo);\n    this.setState(\n      { open: true }\n    );\n  }\n  render() {\n    return (\n      <div>\n        <Button\n          type=\"noborder\"\n          className={classnames(\n            chatActionStyle.chatActionIcon,\n            !this.props.ifEnable && chatActionStyle.chatActionIconDisabled\n          )}\n          onClick={this.props.ifEnable ? this.openModal : undefined}\n          data-tip=\"Send transcript to a specified email account.\"\n          data-for=\"chatContainer\"\n        >\n          <Icon type={enums.sendEmail} />\n        </Button>\n        {this.state.open && <ModalSendTranscript\n          closeModal={this.closeModal}\n          handleSendTranscript={this.props.handleSendTranscript}\n          transcriptInfo={this.props.transcriptInfo}\n          responseErrorMessage={this.props.responseErrorMessage}\n          sendEmailSuccessMessage={this.props.sendEmailSuccessMessage}\n          showResponseErrorMessage={this.props.showResponseErrorMessage}\n          hideResponseErrorMessage={this.props.hideResponseErrorMessage}\n          hideSendEmailSuccessMessage={this.props.hideSendEmailSuccessMessage}\n        />}\n      </div>\n    );\n  }\n}\n\nexport default SendEmail;\n\nSendEmail.propTypes = {\n  ifEnable: React.PropTypes.bool,\n  handleSendTranscript: React.PropTypes.func.isRequired,\n  transcriptInfo: React.PropTypes.shape({ }),\n  initialSendTranscriptForm: React.PropTypes.func,\n  responseErrorMessage: React.PropTypes.string,\n  sendEmailSuccessMessage: React.PropTypes.string,\n  showResponseErrorMessage: React.PropTypes.func,\n  hideResponseErrorMessage: React.PropTypes.func,\n  hideSendEmailSuccessMessage: React.PropTypes.func,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Icons/ChatAction/SendEmail.jsx","import React from 'react';\nimport classnames from 'classnames';\nimport Button from 'src/components/Button/Button';\nimport chatActionStyle from '../../ChatSection/ChatAction/ChatAction.css';\nimport Icon from '../../Icon/Icon';\nimport { icons as enums } from '../../../constants/enums';\nimport ModalTransfer from '../../Modal/ModalTransfer/ModalTransfer';\n\n\nclass Transfer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      open: false,\n    };\n    this.openModal = this.toggleModal.bind(this, true);\n    this.closeModal = this.toggleModal.bind(this, false);\n  }\n  toggleModal(ifOpen) {\n    this.setState({ open: ifOpen });\n    if (ifOpen && this.props.onTransferIconClick) {\n      this.props.onTransferIconClick();\n    }\n  }\n  render() {\n    return (\n      <div>\n        <Button\n          type=\"noborder\"\n          onClick={this.props.ifEnable ? this.openModal : undefined}\n          className={classnames(\n            chatActionStyle.chatActionIcon,\n            !this.props.ifEnable && chatActionStyle.chatActionIconDisabled\n          )}\n          data-tip=\"Transfer the chat to another agent or department.\"\n          data-for=\"chatContainer\"\n        >\n          <Icon type={enums.transfer} />\n        </Button>\n        {this.state.open && <ModalTransfer\n          closeModal={this.closeModal}\n          visitorId={this.props.visitorId}\n          ifDepartmentEnabled={this.props.transfer.ifDepartmentEnabled}\n          onlineDepartments={this.props.transfer.onlineDepartments}\n          onlineDepartmentOptions={this.props.transfer.onlineDepartmentComponent}\n          allAvailableAgents={this.props.transfer.allAvailableAgents}\n          onTransferChat={this.props.onTransferChat}\n        />}\n      </div>\n    );\n  }\n}\n\nexport default Transfer;\n\nTransfer.propTypes = {\n  ifEnable: React.PropTypes.bool,\n  visitorId: React.PropTypes.number,\n  transfer: React.PropTypes.shape({\n    ifDepartmentEnabled: React.PropTypes.bool.isRequired,\n    onlineDepartments: React.PropTypes.array,\n    onlineDepartmentComponent: React.PropTypes.array,\n    allAvailableAgents: React.PropTypes.array,\n  }).isRequired,\n  onTransferChat: React.PropTypes.func,\n  onTransferIconClick: React.PropTypes.func,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Icons/ChatAction/Transfer.jsx","import React from 'react';\nimport classnames from 'classnames';\nimport Button from 'src/components/Button/Button';\nimport style from '../Icon.css';\nimport chatActionStyle from '../../ChatSection/ChatAction/ChatAction.css';\nimport Icon from '../../Icon/Icon';\nimport { icons as enums } from '../../../constants/enums';\nimport PromptAutoTranslate from '../../Prompt/AutoTranslate/AutoTranslate';\n\n\nclass Translate extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpen: props.autoTranslateInfo.ifOpenAutoTranslation,\n    };\n    this.togglePrompt = this.togglePrompt.bind(this);\n    this.closePrompt = this.closePrompt.bind(this);\n  }\n  componentWillReceiveProps(nextProps) {\n    this.setState({\n      isOpen: nextProps.autoTranslateInfo.ifOpenAutoTranslation,\n    });\n  }\n  togglePrompt() {\n    this.setState({\n      isOpen: !this.state.isOpen,\n    });\n  }\n  closePrompt() {\n    this.setState({\n      isOpen: false,\n    });\n    if (!this.props.autoTranslateInfo.ifAutoPopTranslation) {\n      this.props.onUpdateIfPopTranslation(this.props.chatId);\n    }\n  }\n\n  render() {\n    return (\n      <div\n        ref={(element) => { this.container = element; }}\n      >\n        <Button\n          type=\"noborder\"\n          className={\n            classnames(\n              chatActionStyle.chatActionIcon,\n              !this.props.ifEnable && chatActionStyle.chatActionIconDisabled,\n              this.state.isOpen && chatActionStyle.iconActive\n            )\n          }\n          onClick={this.props.ifEnable ? this.togglePrompt : undefined}\n          data-tip=\"Automatically translate chat messages to a target language in real time.\"\n          data-for=\"chatContainer\"\n        >\n          <Icon type={enums.translate} />\n        </Button>\n        {\n          this.state.isOpen &&\n            <PromptAutoTranslate\n              closePrompt={this.closePrompt}\n              visitorId={this.props.visitorId}\n              detectedVisitorLanguage={this.props.autoTranslateInfo.detectedVisitorLanguage}\n              onToggleAutoTranslate={this.props.onToggleAutoTranslate}\n            />\n        }\n      </div>\n    );\n  }\n}\n\nexport default Translate;\n\nTranslate.propTypes = {\n  ifEnable: React.PropTypes.bool,\n  visitorId: React.PropTypes.number,\n  chatId: React.PropTypes.number,\n  onToggleAutoTranslate: React.PropTypes.func.isRequired,\n  autoTranslateInfo: React.PropTypes.shape({\n    detectedVisitorLanguage: React.PropTypes.string,\n    ifOpenAutoTranslation: React.PropTypes.bool,\n    ifAutoPopTranslation: React.PropTypes.bool,\n  }),\n  onUpdateIfPopTranslation: React.PropTypes.func,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Icons/ChatAction/Translate.jsx","import React from 'react';\nimport classnames from 'classnames';\nimport Button from 'src/components/Button/Button';\nimport chatActionStyle from '../../ChatSection/ChatAction/ChatAction.css';\nimport Icon from '../../Icon/Icon';\nimport { icons as enums } from '../../../constants/enums';\n\nconst VideoChat = props =>\n  <div>\n    <Button\n      type=\"noborder\"\n      className={\n        classnames(\n          chatActionStyle.chatActionIcon,\n          !props.ifEnable && chatActionStyle.chatActionIconDisabled\n        )\n      }\n      onClick={props.ifEnable ? props.onClick : undefined}\n      data-tip=\"Video Chat\"\n      data-for=\"chatContainer\"\n    >\n      <Icon type={enums.videoChat} />\n    </Button>\n  </div>;\n\nexport default VideoChat;\n\nVideoChat.propTypes = {\n  ifEnable: React.PropTypes.bool,\n  onClick: React.PropTypes.func,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Icons/ChatAction/VideoChat.jsx","import React from 'react';\nimport classnames from 'classnames';\nimport ReactTooltip from 'react-tooltip';\nimport { Facebook, googlePlus, Zendesk, Salesforce } from '../../constants/enums/socialType';\nimport Icon from './Icon';\nimport style from './Icon.css';\nimport Link from '../Link/Link';\n\n\nclass Social extends React.Component {\n  componentDidMount() {\n    // force tooltip re-render to be after children mount\n    if (this.timer) {\n      clearTimeout(this.timer);\n    }\n    this.timer = setTimeout(() => ReactTooltip.rebuild(), 0);\n  }\n  shouldComponentUpdate(nextProps) {\n    return nextProps.type !== this.props.type &&\n           nextProps.socialUrl !== this.props.socialUrl;\n  }\n  componentDidUpdate() {\n    if (this.timer) {\n      clearTimeout(this.timer);\n    }\n    this.timer = setTimeout(() => ReactTooltip.rebuild(), 0);\n  }\n\n  componentWillUnmount() {\n    if (this.timer !== null) {\n      clearTimeout(this.timer);\n      this.timer = null;\n    }\n  }\n  render() {\n    let tooltip = '';\n    let classname = '';\n    switch (this.props.type) {\n      case Facebook: {\n        classname = 'facebook';\n        tooltip = 'Facebook';\n        break;\n      }\n      case googlePlus: {\n        classname = 'googlePlus';\n        tooltip = 'GooglePlus';\n        break;\n      }\n      case Zendesk: {\n        classname = 'zendesk';\n        tooltip = 'Zendesk';\n        break;\n      }\n      case Salesforce: {\n        classname = 'salesforce';\n        tooltip = 'Salesforce';\n        break;\n      }\n      default: break;\n    }\n    return (\n      <span data-tip={tooltip} data-for=\"chatContainer\">\n        <Link newWindow href={this.props.socialUrl}>\n          <Icon className={classnames(style[`social-${classname}`], style.iconOffsetDown)} />\n        </Link>\n      </span>\n    );\n  }\n}\n\nSocial.propTypes = {\n  type: React.PropTypes.number,\n  socialUrl: React.PropTypes.string,\n};\n\nexport default Social;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Icons/Social.jsx","import React from 'react';\n// import classnames from 'classnames';\n\n// import ReactModal from 'react-modal';\nimport Modal from '../Modal';\nimport ModalStyle from '../Modal.css';\nimport RadioButton from '../../RadioButton/RadioButton';\nimport Button from '../../Button/Button';\nimport InputStyle from '../../Input/Input.css';\nimport Input from '../../Input/Input';\nimport Link from 'src/components/Link/Link';\n\nclass ModalAttachTicket extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      attachType: '0',\n      ifAttachNewTicket: true,\n      ifAttachTicketButtonEnabled: true,\n      ticketId: '',\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.changeTicketId = this.changeTicketId.bind(this);\n    this.handleAttachTicket = this.handleAttachTicket.bind(this);\n    this.hideResponseErrorMessage = this.hideResponseErrorMessage.bind(this);\n  }\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.responseErrorMessage) {\n      if (this.timeoutId !== undefined) {\n        clearTimeout(this.timeoutId);\n      }\n      this.timeoutId = setTimeout(this.hideResponseErrorMessage, 4000);\n    }\n  }\n  handleChange(event) {\n    switch (event.target.value) {\n      case '0': {\n        this.setState({\n          attachType: '0',\n          ifAttachNewTicket: true,\n          ifAttachTicketButtonEnabled: true,\n        });\n        break;\n      }\n      case '1': {\n        this.setState({\n          attachType: '1',\n          ifAttachNewTicket: false,\n          ifAttachTicketButtonEnabled: false,\n        });\n        break;\n      }\n      default: break;\n    }\n  }\n  changeTicketId(event) {\n    this.setState({\n      ifAttachTicketButtonEnabled: event.target.value,\n      ticketId: event.target.value,\n    });\n  }\n  handleAttachTicket(attachTicketId) {\n    this.props.handleAttachTicket(this.props.visitorId, attachTicketId);\n    this.setState({\n      ifAttachTicketButtonEnabled: false,\n    });\n  }\n  hideResponseErrorMessage() {\n    this.props.hideResponseErrorMessage();\n  }\n  render() {\n    const inputElement = (\n      <Input\n        meta={{}}\n        input={{ onChange: this.changeTicketId, value: this.state.ticketId }}\n        className={InputStyle.attachTicket}\n        isDisabled={this.state.ifAttachNewTicket}\n      />\n    );\n    let attachTicketId = '';\n    if (this.state.ifAttachNewTicket) {\n      attachTicketId = 0;\n    } else {\n      attachTicketId = this.state.ticketId;\n    }\n    return (\n      <Modal\n        closeModal={this.props.closeModal}\n        title=\"Attach to Ticket\"\n        actions={\n          !this.props.ticketId ? {\n            okProps: { text: 'OK', disabled: !this.state.ifAttachTicketButtonEnabled, eventClick: () => { this.handleAttachTicket(attachTicketId); } },\n            cancelProps: { text: 'Cancel' },\n          }\n            :\n            {\n              cancelProps: { text: 'Close' },\n            }\n        }\n      >\n        <div className={ModalStyle.modalAttachtTicket}>\n          {\n            !this.props.ticketId ?\n            (\n              <div>\n                <RadioButton\n                  name=\"attachTicket\"\n                  radioOption={\n                    [\n                      {\n                        text: 'A new ticket.',\n                        value: '0',\n                        checked: this.state.attachType === '0',\n                      },\n                      {\n                        text: `An existing ticket Id: S${this.props.siteId}-T`,\n                        value: '1',\n                        checked: this.state.attachType === '1',\n                        component: inputElement,\n                      },\n                    ]\n                  }\n                  handleChange={this.handleChange}\n                />\n              </div>\n            )\n            :\n            (\n              <div>\n                <p>\n                  You have attached a ticket with id: {this.props.ticketId}\n                </p>\n                <Link\n                  href=\"#\"\n                  onClick={this.props.gotoAttachTicket}\n                >\n                  &gt;&gt; Go to the ticket\n                </Link>\n              </div>\n            )\n          }\n          {\n            this.props.responseErrorMessage ?\n              <div className={ModalStyle.errorContainer}>\n                <span className={ModalStyle.message}>{this.props.responseErrorMessage}</span>\n              </div>\n              :\n              ''\n          }\n        </div>\n      </Modal>\n    );\n  }\n}\n\nexport default ModalAttachTicket;\n\nModalAttachTicket.propTypes = {\n  // ifOpen: React.PropTypes.bool.isRequired,\n  closeModal: React.PropTypes.func.isRequired,\n  siteId: React.PropTypes.number.isRequired,\n  visitorId: React.PropTypes.number.isRequired,\n  ticketId: React.PropTypes.string.isRequired,\n  handleAttachTicket: React.PropTypes.func.isRequired,\n  gotoAttachTicket: React.PropTypes.func,\n  responseErrorMessage: React.PropTypes.string,\n  hideResponseErrorMessage: React.PropTypes.func,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Modal/ModalAttachTicket/ModalAttachTicket.jsx","import React from 'react';\n// import ReactModal from 'react-modal';\nimport Modal from '../Modal';\n// import ModalStyle from '../Modal.css';\n// import Button from '../../Button/Button';\n\nconst ModalLeaveChat = props => (\n  <Modal\n    closeModal={props.closeModal}\n    title=\"Comm100 Live Chat\"\n    actions={{\n      okProps: { text: 'Yes', eventClick: props.onLeaveChat },\n      cancelProps: { text: 'No' },\n    }}\n  >\n    <div>\n      Are you sure you want to leave this chat?\n    </div>\n  </Modal>\n);\n\nexport default ModalLeaveChat;\n\nModalLeaveChat.propTypes = {\n  // ifOpen: React.PropTypes.bool.isRequired,\n  onLeaveChat: React.PropTypes.func.isRequired,\n  closeModal: React.PropTypes.func.isRequired,\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Modal/ModalLeaveChat/ModalLeaveChat.jsx","import React from 'react';\n// import classnames from 'classnames';\n\n// import ReactModal from 'react-modal';\nimport Modal from '../Modal';\nimport ModalStyle from '../Modal.css';\nimport RadioButton from '../../RadioButton/RadioButton';\nimport Button from '../../Button/Button';\n\nimport SelectDepartment from './SelectDepartment';\nimport SelectAgentByDepartmentId from './SelectAgentByDepartmentId';\nimport Checkbox from '../../Checkbox/Checkbox';\n\nclass ModalTransfer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      transferTo: props.ifDepartmentEnabled ? '0' : '1',\n      departmentId: 0,\n      selectedDepartmentIndex: -1,\n      agentId: 0,\n      selectedAgentIndex: -1,\n      enableCloseChat: false,\n    };\n    this.handleChangeTransferTo = this.handleChangeTransferTo.bind(this);\n    this.handleSelectDepartment = this.handleSelectDepartment.bind(this);\n    this.handleSelectAgent = this.handleSelectAgent.bind(this);\n    this.switchCloseChatFlag = this.switchCloseChatFlag.bind(this);\n  }\n  handleChangeTransferTo(event) {\n    this.setState({\n      transferTo: event.target.value,\n    });\n  }\n  handleSelectDepartment(departmentId, index) {\n    this.setState({\n      departmentId,\n      selectedDepartmentIndex: index,\n    });\n  }\n  handleSelectAgent(agentId, index) {\n    this.setState({\n      agentId,\n      selectedAgentIndex: index,\n    });\n  }\n  switchCloseChatFlag(tag) {\n    this.setState({ enableCloseChat: tag });\n  }\n  render() {\n    const {\n      closeModal,\n      ifDepartmentEnabled,\n      onlineDepartments,\n      onlineDepartmentOptions,\n      allAvailableAgents,\n    } = this.props;\n    return (\n      <Modal\n        closeModal={closeModal}\n        className={ModalStyle.modalTransfer}\n        title={ifDepartmentEnabled ? 'Transfer the Chat to' : 'Choose an Agent to Transfer'}\n        actions={{\n          okProps: {\n            text: 'Transfer',\n            eventClick: () => {\n              this.props.closeModal();\n              this.props.onTransferChat(\n                this.state.transferTo,\n                this.props.visitorId,\n                this.state.departmentId,\n                this.state.agentId,\n                this.state.enableCloseChat,\n              );\n            },\n          },\n          cancelProps: { text: 'Cancel' },\n        }}\n      >\n        {\n          ifDepartmentEnabled ?\n            <RadioButton\n              name=\"transfer\"\n              radioOption={\n                [\n                  {\n                    text: 'Department',\n                    value: '0',\n                    checked: this.state.transferTo === '0',\n                  },\n                  {\n                    text: 'Agent',\n                    value: '1',\n                    checked: this.state.transferTo === '1',\n                  },\n                ]\n              }\n              className={ModalStyle.transferChoose}\n              handleChange={this.handleChangeTransferTo}\n            />\n            :\n            ''\n        }\n        {\n          this.state.transferTo === '0' ?\n            <SelectDepartment\n              onlineDepartments={onlineDepartments}\n              handleSelectDepartment={this.handleSelectDepartment}\n              selectedDepartmentIndex={this.state.selectedDepartmentIndex}\n            />\n            :\n            <SelectAgentByDepartmentId\n              ifDepartmentEnabled={ifDepartmentEnabled}\n              allAvailableAgents={allAvailableAgents}\n              onlineDepartments={onlineDepartments}\n              onlineDepartmentOptions={onlineDepartmentOptions}\n              handleSelectAgent={this.handleSelectAgent}\n              selectedAgentIndex={this.state.selectedAgentIndex}\n            />\n        }\n        <Checkbox\n          input={{ value: this.state.enableCloseChat, onChange: this.switchCloseChatFlag }}\n          text=\"Leave chat after transfer\"\n          className={ModalStyle.leavechataftertransfer}\n        />\n      </Modal>\n    );\n  }\n}\n\nexport default ModalTransfer;\n\nModalTransfer.propTypes = {\n  closeModal: React.PropTypes.func.isRequired,\n  visitorId: React.PropTypes.number,\n  ifDepartmentEnabled: React.PropTypes.bool.isRequired,\n  onlineDepartments: React.PropTypes.array,\n  allAvailableAgents: React.PropTypes.array,\n  onlineDepartmentOptions: React.PropTypes.array,\n  onTransferChat: React.PropTypes.func,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Modal/ModalTransfer/ModalTransfer.jsx","import React from 'react';\nimport * as _ from 'lodash';\nimport ModalStyle from '../Modal.css';\nimport Icon from '../../Icon/Icon';\nimport Select from '../../Select/Select';\nimport { icons, agentStatus } from '../../../constants/enums';\n// import Link from 'src/components/Link/Link';\nimport Button from 'src/components/Button/Button';\n\nclass SelectAgentByDepartmentId extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedDepartmentValue: -1,\n      allAvailableAgentsByDepartmentId: props.allAvailableAgents,\n    };\n    this.handleChangeDepartment = this.handleChangeDepartment.bind(this);\n    this.getAvailableAgentsByDepartmentId = this.getAvailableAgentsByDepartmentId.bind(this);\n  }\n  componentWillReceiveProps(nextProps) {\n    if (!_.isEqual(nextProps.allAvailableAgents, this.props.allAvailableAgents)) {\n      this.setState({\n        // selectedDepartmentValue: -1,\n        allAvailableAgentsByDepartmentId:\n          this.getAvailableAgentsByDepartmentId(this.state.selectedDepartmentValue,\n          nextProps.allAvailableAgents),\n      });\n    }\n  }\n  getAvailableAgentsByDepartmentId(departmentId, allAvailableAgents) {\n    const self = this.props;\n    let allAvailableAgentsByDepartmentId = [];\n    if (departmentId !== -1) {\n      const onlineDepartmentById = self.onlineDepartments.filter(onlineDepartment => (\n        onlineDepartment.id === departmentId\n      ));\n      if (onlineDepartmentById.length > 0) {\n        onlineDepartmentById[0].agentIds.forEach((agentId) => {\n          const filterAvailableAgent = allAvailableAgents.filter(allAvailableAgent => (\n            allAvailableAgent.id === agentId\n            && (allAvailableAgent.status === agentStatus.online\n              || allAvailableAgent.status === agentStatus.away || allAvailableAgent.status >= 100)\n          ));\n          if (filterAvailableAgent.length > 0) {\n            allAvailableAgentsByDepartmentId.push(filterAvailableAgent[0]);\n          }\n        });\n      }\n    } else {\n      allAvailableAgentsByDepartmentId = allAvailableAgents;\n    }\n    return allAvailableAgentsByDepartmentId;\n  }\n  handleChangeDepartment(value) {\n    this.setState({\n      selectedDepartmentValue: value,\n      allAvailableAgentsByDepartmentId:\n        this.getAvailableAgentsByDepartmentId(value, this.props.allAvailableAgents),\n    });\n  }\n  render() {\n    return (\n      this.props.allAvailableAgents.length ?\n        <div className={ModalStyle.agentContainer}>\n          {this.props.ifDepartmentEnabled && (\n            <div className={ModalStyle.selectDepartment}>\n              <Select\n                input={{\n                  value: this.state.selectedDepartmentValue,\n                  onChange: this.handleChangeDepartment,\n                }}\n                options={this.props.onlineDepartmentOptions}\n                width={350}\n                dropdownClassName={ModalStyle.dropdown}\n              />\n            </div>\n          )}\n          <ul className={ModalStyle.availableList}>\n            {\n              this.state.allAvailableAgentsByDepartmentId.map((item, index) => (\n                <li key={index}>\n                  <Button\n                    type=\"noborder\"\n                    className={this.props.selectedAgentIndex === index ? ModalStyle.active : ''}\n                    onClick={() => this.props.handleSelectAgent(item.id, index)}\n                  >\n                    {\n                      item.status === agentStatus.online ?\n                        <Icon\n                          type={icons.statusOnline}\n                          size={16}\n                          color=\"#329fd9\"\n                        /> :\n                        <Icon\n                          type={icons.statusAway}\n                          size={16}\n                          color=\"#fe8e14\"\n                        />\n                    }\n                    <div className={ModalStyle.transferName}>\n                      {item.name}\n                    </div>\n                  </Button>\n                </li>\n              ))\n            }\n          </ul>\n        </div>\n        :\n        <p>There are no other agents available.\n        You cannot transfer the ongoing chat to another agent.</p>\n    );\n  }\n}\n\nexport default SelectAgentByDepartmentId;\n\nSelectAgentByDepartmentId.propTypes = {\n  ifDepartmentEnabled: React.PropTypes.bool,\n  allAvailableAgents: React.PropTypes.arrayOf(React.PropTypes.shape({})),\n  onlineDepartmentOptions: React.PropTypes.array,\n  onlineDepartments: React.PropTypes.arrayOf(React.PropTypes.shape({})),\n  handleSelectAgent: React.PropTypes.func,\n  selectedAgentIndex: React.PropTypes.number,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Modal/ModalTransfer/SelectAgentByDepartmentId.jsx","import React from 'react';\nimport ModalStyle from '../Modal.css';\nimport Icon from '../../Icon/Icon';\nimport { icons } from '../../../constants/enums';\nimport Button from 'src/components/Button/Button';\n\nclass SelectDepartment extends React.Component {\n  render() {\n    return (\n      this.props.onlineDepartments.length ?\n        <div className={ModalStyle.agentContainer}>\n          <ul className={ModalStyle.availableList}>\n            {\n              this.props.onlineDepartments.map((item, index) => (\n                <li key={index}>\n                  <Button\n                    type=\"noborder\"\n                    className={this.props.selectedDepartmentIndex === index ? ModalStyle.active : ''}\n                    onClick={() => this.props.handleSelectDepartment(item.id, index)}\n                  >\n                    <Icon\n                      type={icons.statusOnline}\n                      size={16}\n                      color=\"#329fd9\"\n                    />\n                    <div className={ModalStyle.transferName}>{item.name}</div>\n                  </Button>\n                </li>\n              ))\n            }\n          </ul>\n        </div>\n        :\n        <p>No department is available at the moment.</p>\n    );\n  }\n}\n\nexport default SelectDepartment;\n\nSelectDepartment.propTypes = {\n  onlineDepartments: React.PropTypes.array,\n  selectedDepartmentIndex: React.PropTypes.number,\n  handleSelectDepartment: React.PropTypes.func,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Modal/ModalTransfer/SelectDepartment.jsx","import React from 'react';\n// import { reduxForm, Field } from 'redux-form';\nimport * as _ from 'lodash';\nimport LazilyLoad, { importLazy } from 'src/components/LazilyLoad/LazilyLoad';\nimport loadingComponent from 'src/components/Icons/LoadingComponent';\n\nimport Modal from '../Modal';\nimport ModalStyle from '../Modal.css';\n// import CommonStyle from '../../CommonResources/common.css';\nimport Input from '../../Input/Input';\n// import Button from '../../Button/Button';\n// import RadioButton from '../../RadioButton/RadioButton';\n\nclass SendTranscript extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      to: props.transcriptInfo.to,\n      subject: props.transcriptInfo.subject,\n      body: props.transcriptInfo.body.content,\n      isSending: false,\n    };\n    this.hideResponseErrorMessage = this.hideResponseErrorMessage.bind(this);\n    this.hideSendEmailSuccessMessage = this.hideSendEmailSuccessMessage.bind(this);\n    this.onToChange = this.onToChange.bind(this);\n    this.onSubjectChange = this.onSubjectChange.bind(this);\n    this.onBodyChange = this.onBodyChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.responseErrorMessage) {\n      this.setState({\n        isSending: false,\n      });\n      if (this.timeoutId !== undefined) {\n        clearTimeout(this.timeoutId);\n      }\n      this.timeoutId = setTimeout(this.hideResponseErrorMessage, 5000);\n    }\n    if (nextProps.sendEmailSuccessMessage) {\n      if (this.successTimeoutId !== undefined) {\n        clearTimeout(this.successTimeoutId);\n      }\n      this.successTimeoutId = setTimeout(() => {\n        this.hideSendEmailSuccessMessage();\n        this.setState({\n          isSending: false,\n        });\n      }, 5000);\n    }\n    if (!_.isEqual(this.props.transcriptInfo.body.content,\n          nextProps.transcriptInfo.body.content)) {\n      this.setState({\n        body: nextProps.transcriptInfo.body.content,\n      });\n    }\n  }\n  onToChange(e) {\n    this.setState({\n      to: e.target.value,\n    });\n  }\n  onSubjectChange(e) {\n    this.setState({\n      subject: e.target.value,\n    });\n  }\n  onBodyChange(body) {\n    this.setState({\n      body,\n    });\n  }\n\n  onSubmit() {\n    if (!this.state.to) {\n      this.props.showResponseErrorMessage('Email to is required');\n      return;\n    } else if (this.state.to.indexOf('@') < 0) {\n      this.props.showResponseErrorMessage('Email to is invalid');\n      return;\n    }\n    this.setState({\n      isSending: true,\n    });\n    const bodyReplaceStartP = _.replace(this.state.body, new RegExp('<p>', 'g'), '<tr><td>');\n    const bodyReplaceEndP = _.replace(bodyReplaceStartP, new RegExp('</p>', 'g'), '</td></tr>');\n    const bodyAddColor = _.replace(bodyReplaceEndP, new RegExp('<td><strong>', 'g'), '<td style=\"color:#329fd9\"><strong>');\n    const form = {\n      to: this.state.to,\n      subject: this.state.subject,\n      body: `<table cellspacing=\"0\" cellpadding=\"0\"><tr><td>${bodyAddColor}</td></tr></table>`,\n      attachment: this.props.transcriptInfo.body.attachments,\n    };\n    this.props.handleSendTranscript(this.props.transcriptInfo.chatId, form);\n  }\n  hideResponseErrorMessage() {\n    this.props.hideResponseErrorMessage();\n  }\n  hideSendEmailSuccessMessage() {\n    this.props.hideSendEmailSuccessMessage();\n  }\n  render() {\n    return (\n      <Modal\n        closeModal={this.props.closeModal}\n        className={ModalStyle.modalSendTranscript}\n        title=\"Send Transcript\"\n        actions={{\n          okProps: { text: 'OK', disabled: this.state.isSending, eventClick: this.onSubmit },\n          cancelProps: { text: 'Cancel' },\n        }}\n      >\n        <div className={ModalStyle.formTranscriptLine}>\n          <span>To:</span>\n          <Input\n            className={ModalStyle.input}\n            type=\"text\"\n            meta={{}}\n            input={{\n              value: this.state.to,\n              onChange: this.onToChange,\n            }}\n          />\n        </div>\n        <div className={ModalStyle.formTranscriptLine}>\n          <span>Subject:</span>\n          <Input\n            className={ModalStyle.input}\n            type=\"text\"\n            meta={{}}\n            input={{\n              value: this.state.subject,\n              onChange: this.onSubjectChange,\n            }}\n          />\n        </div>\n\n        <div className={ModalStyle.formTranscriptLine}>\n          <span>Body:</span>\n          <LazilyLoad\n            modules={{ SendTranscriptBody: () => importLazy(new Promise((resolve, reject) => {\n              require.ensure(['./SendTranscriptBody'], (require) => {\n                resolve(require('./SendTranscriptBody'));\n              }, 'editor').catch(reject);\n            })) }}\n            loading={loadingComponent}\n          >\n            {\n              ({ SendTranscriptBody }) => (\n                <SendTranscriptBody\n                  transcriptBodyAdditionInfo={this.props.transcriptInfo}\n                  input={{\n                    value: this.state.body,\n                    onChange: (body) => { this.onBodyChange(body); },\n                  }}\n                />\n              )\n            }\n          </LazilyLoad>\n        </div>\n        <div className={ModalStyle.formTranscriptLine}>\n          <span>Attachment:</span>\n          <div className={ModalStyle.attachmentsContainer}>\n            {this.props.transcriptInfo.body.attachments}\n          </div>\n        </div>\n        {\n          this.props.responseErrorMessage ?\n            <div className={ModalStyle.errorContainer}>\n              <span className={ModalStyle.message}>{this.props.responseErrorMessage}</span>\n            </div>\n            :\n            ''\n        }\n        {\n          this.props.sendEmailSuccessMessage ?\n            <div className={ModalStyle.successContainer}>\n              <span className={ModalStyle.message}>{this.props.sendEmailSuccessMessage}</span>\n            </div>\n            :\n            ''\n        }\n      </Modal>\n    );\n  }\n\n}\nexport default SendTranscript;\n\nSendTranscript.propTypes = {\n  // ifOpen: React.PropTypes.bool.isRequired,\n  closeModal: React.PropTypes.func.isRequired,\n  handleSubmit: React.PropTypes.func,\n  transcriptInfo: React.PropTypes.shape({\n    subject: React.PropTypes.string,\n    to: React.PropTypes.string,\n    body: React.PropTypes.shape({\n      attachments: React.PropTypes.string,\n      content: React.PropTypes.string,\n    }),\n    chatId: React.PropTypes.number.isRequired,\n  }),\n  responseErrorMessage: React.PropTypes.string,\n  sendEmailSuccessMessage: React.PropTypes.string,\n  showResponseErrorMessage: React.PropTypes.func,\n  hideResponseErrorMessage: React.PropTypes.func,\n  hideSendEmailSuccessMessage: React.PropTypes.func,\n  handleSendTranscript: React.PropTypes.func,\n};\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Modal/SendTranscript/SendTranscript.jsx","import React from 'react';\nimport classnames from 'classnames';\n\nimport PromptStyle from '../Prompt.css';\nimport autoTranslateStyle from './AutoTranslate.css';\nimport Button from '../../Button/Button';\nimport Select from '../../../components/Select/Select';\nimport { turnOnAutoTranslate, turnOffAutoTranslate } from '../../../constants/enums/chatAction';\nimport Icon from '../../Icon/Icon';\nimport { icons } from '../../../constants/enums';\n\nconst languages = [\n  { text: 'Afrikaans', value: '1' },\n  { text: 'Albanian', value: '2' },\n  { text: 'Arabic', value: '3' },\n  { text: 'Armenian', value: '4' },\n  { text: 'Azerbaijani', value: '5' },\n  { text: 'Basque', value: '6' },\n  { text: 'Belarusian', value: '7' },\n  { text: 'Bengali', value: '8' },\n  { text: 'Bosnian', value: '9' },\n  { text: 'Bulgarian', value: '10' },\n  { text: 'Catalan', value: '11' },\n  { text: 'Cebuano', value: '12' },\n  { text: 'Chichewa', value: '13' },\n  { text: 'Chinese Simplified', value: '14' },\n  { text: 'Chinese Traditional', value: '15' },\n  { text: 'Croatian', value: '16' },\n  { text: 'Czech', value: '17' },\n  { text: 'Danish', value: '18' },\n  { text: 'Dutch', value: '19' },\n  { text: 'English', value: '20' },\n  { text: 'Esperanto', value: '21' },\n  { text: 'Estonian', value: '22' },\n  { text: 'Filipino', value: '23' },\n  { text: 'Finnish', value: '24' },\n  { text: 'French', value: '25' },\n  { text: 'Galician', value: '26' },\n  { text: 'Georgian', value: '27' },\n  { text: 'German', value: '28' },\n  { text: 'Greek', value: '29' },\n  { text: 'Gujarati', value: '30' },\n  { text: 'Haitian Creole', value: '31' },\n  { text: 'Hausa', value: '32' },\n  { text: 'Hebrew', value: '33' },\n  { text: 'Hindi', value: '34' },\n  { text: 'Hmong', value: '35' },\n  { text: 'Hungarian', value: '36' },\n  { text: 'Icelandic', value: '37' },\n  { text: 'Igbo', value: '38' },\n  { text: 'Indonesian', value: '39' },\n  { text: 'Irish', value: '40' },\n  { text: 'Italian', value: '41' },\n  { text: 'Japanese', value: '42' },\n  { text: 'Javanese', value: '43' },\n  { text: 'Kannada', value: '44' },\n  { text: 'Kazakh', value: '45' },\n  { text: 'Khmer', value: '46' },\n  { text: 'Korean', value: '47' },\n  { text: 'Lao', value: '48' },\n  { text: 'Latin', value: '49' },\n  { text: 'Latvian', value: '50' },\n  { text: 'Lithuanian', value: '51' },\n  { text: 'Macedonian', value: '52' },\n  { text: 'Malagasy', value: '53' },\n  { text: 'Malay', value: '54' },\n  { text: 'Malayalam', value: '55' },\n  { text: 'Maltese', value: '56' },\n  { text: 'Maori', value: '57' },\n  { text: 'Marathi', value: '58' },\n  { text: 'Mongolian', value: '59' },\n  { text: 'Myanmar Burmese', value: '60' },\n  { text: 'Nepali', value: '61' },\n  { text: 'Norwegian', value: '62' },\n  { text: 'Persian', value: '63' },\n  { text: 'Polish', value: '64' },\n  { text: 'Portuguese', value: '65' },\n  { text: 'Punjabi', value: '66' },\n  { text: 'Romanian', value: '67' },\n  { text: 'Russian', value: '68' },\n  { text: 'Serbian', value: '69' },\n  { text: 'Sesotho', value: '70' },\n  { text: 'Sinhala', value: '71' },\n  { text: 'Slovak', value: '72' },\n  { text: 'Slovenian', value: '73' },\n  { text: 'Somali', value: '74' },\n  { text: 'Spanish', value: '75' },\n  { text: 'Sundanese', value: '76' },\n  { text: 'Swahili', value: '77' },\n  { text: 'Swedish', value: '78' },\n  { text: 'Tajik', value: '79' },\n  { text: 'Tamil', value: '80' },\n  { text: 'Telugu', value: '81' },\n  { text: 'Thai', value: '82' },\n  { text: 'Turkish', value: '83' },\n  { text: 'Ukrainian', value: '84' },\n  { text: 'Urdu', value: '85' },\n  { text: 'Uzbek', value: '86' },\n  { text: 'Vietnamese', value: '87' },\n  { text: 'Welsh', value: '88' },\n  { text: 'Yiddish', value: '89' },\n  { text: 'Yoruba', value: '90' },\n  { text: 'Zulu', value: '91' },\n];\n\nclass AutoTranslate extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedLanguageValue:\n        props.detectedVisitorLanguage === '0' ? '20' : props.detectedVisitorLanguage,\n    };\n    this.handleChangeLanguage = this.handleChangeLanguage.bind(this);\n    this.handleTurnOnAutoTranslate = this.handleTurnOnAutoTranslate.bind(this);\n    this.handleTurnOffAutoTranslate = this.handleTurnOffAutoTranslate.bind(this);\n  }\n  handleChangeLanguage(value) {\n    this.setState({\n      selectedLanguageValue: value,\n    });\n  }\n  handleTurnOnAutoTranslate() {\n    this.props.closePrompt();\n    this.props.onToggleAutoTranslate(\n      turnOnAutoTranslate,\n      this.props.visitorId,\n      this.state.selectedLanguageValue\n    );\n  }\n  handleTurnOffAutoTranslate() {\n    this.props.closePrompt();\n    this.props.onToggleAutoTranslate(\n      turnOffAutoTranslate,\n      this.props.visitorId,\n      this.state.selectedLanguageValue\n    );\n  }\n  render() {\n    return (\n      <div className={classnames(PromptStyle.promptWindow, autoTranslateStyle.autoTranslate)}>\n        <button\n          className={PromptStyle.close}\n          onClick={this.props.closePrompt}\n        >\n          <Icon type={icons.close} size={10} />\n        </button>\n        <h3>Auto Translation</h3>\n        <span>Detected visitor language: </span>\n        <Select\n          options={languages}\n          width={170}\n          input={{\n            value: this.state.selectedLanguageValue,\n            onChange: this.handleChangeLanguage,\n          }}\n          dropdownClassName={PromptStyle.dropdown}\n          customizeStyle={{ top: 10, marginLeft: 5 }}\n        />\n        <div className={PromptStyle.action}>\n          <Button\n            type=\"primary\"\n            text=\"Turn On\"\n            onClick={this.handleTurnOnAutoTranslate}\n          />\n          <Button type=\"default\" text=\"Turn Off\" onClick={this.handleTurnOffAutoTranslate} />\n        </div>\n      </div>\n    );\n  }\n}\n\n\nexport default AutoTranslate;\n\nAutoTranslate.propTypes = {\n  // ifOpen: React.PropTypes.bool.isRequired,\n  closePrompt: React.PropTypes.func.isRequired,\n  visitorId: React.PropTypes.number,\n  onToggleAutoTranslate: React.PropTypes.func.isRequired,\n  detectedVisitorLanguage: React.PropTypes.string,\n};\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Prompt/AutoTranslate/AutoTranslate.jsx","import React from 'react';\n\nimport PromptStyle from '../Prompt.css';\nimport Button from '../../Button/Button';\nimport Icon from '../../Icon/Icon';\nimport { icons } from '../../../constants/enums';\n\nconst PromptGotoMeeting = (props) => (\n  <div className={PromptStyle.promptWindow}>\n    <button\n      className={PromptStyle.close}\n      onClick={props.closePrompt}\n    >\n      <Icon type={icons.close} size={10} />\n    </button>\n    <p>\n      Would you like to request a screen sharing session with the visitor?\n    </p>\n    <div className={PromptStyle.action}>\n      <Button\n        type=\"primary\"\n        text=\"Yes\"\n        onClick={\n            () => {\n              props.onRequestGotoMeeting(props.visitorId);\n              props.closePrompt();\n            }\n        }\n      />\n      <Button type=\"default\" text=\"No\" onClick={props.closePrompt} />\n    </div>\n  </div>\n);\n\nexport default PromptGotoMeeting;\n\nPromptGotoMeeting.propTypes = {\n  // ifOpen: React.PropTypes.bool.isRequired,\n  closePrompt: React.PropTypes.func.isRequired,\n  visitorId: React.PropTypes.number.isRequired,\n  onRequestGotoMeeting: React.PropTypes.func.isRequired,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Prompt/PromptGotoMeeting/PromptGotoMeeting.jsx","import React from 'react';\n// import classnames from 'classnames';\nimport _ from 'lodash';\n\nimport PromptStyle from '../Prompt.css';\nimport Button from '../../Button/Button';\nimport RadioButton from '../../RadioButton/RadioButton';\nimport Icon from '../../Icon/Icon';\nimport { icons } from '../../../constants/enums';\n\nclass PromptSecureForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      pciFormId: props.pciForm.pciFormList.length ? props.pciForm.pciFormList[0].id.toString() : '0',\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n  handleChange(event) {\n    this.setState({\n      pciFormId: event.target.value,\n    });\n  }\n  render() {\n    const pciFormList = [];\n    if (this.props.pciForm.pciFormList.length) {\n      this.props.pciForm.pciFormList.forEach((item) => {\n        pciFormList.push({\n          value: item.id.toString(),\n          text: item.name,\n        });\n      });\n    }\n\n    const selectedPCIForm = _.find(this.props.pciForm.pciFormList, pciForm => (\n      pciForm.id === parseInt(this.state.pciFormId, 10)\n    ));\n    return (\n      <div className={PromptStyle.promptWindow}>\n        <button\n          className={PromptStyle.close}\n          onClick={this.props.closePrompt}\n        >\n          <Icon type={icons.close} size={10} />\n        </button>\n        <h3>Request PCI Form</h3>\n        {\n          pciFormList.length ?\n          (\n            <RadioButton\n              name=\"pciforms\"\n              radioOption={pciFormList}\n              selectedVal={this.state.pciFormId.toString()}\n              handleChange={this.handleChange}\n            />\n          )\n          :\n          (\n            <p>\n              You have no PCI Forms.\n            </p>\n          )\n        }\n        <div className={PromptStyle.action}>\n          <Button\n            type=\"primary\"\n            text=\"OK\"\n            onClick={\n                selectedPCIForm ?\n                  () => {\n                    this.props.onRequestPCIForm(\n                      this.props.pciForm.secureFormServer,\n                      selectedPCIForm,\n                      this.props.pciForm.secureFormConfig,\n                      this.props.visitorId,\n                      this.props.chatId,\n                      selectedPCIForm.name,\n                    );\n                    this.props.closePrompt();\n                  }\n                  :\n                  this.props.closePrompt\n            }\n          />\n          <Button type=\"default\" text=\"Cancel\" onClick={this.props.closePrompt} />\n        </div>\n      </div>\n    );\n  }\n}\n\n\nexport default PromptSecureForm;\n\nPromptSecureForm.propTypes = {\n  closePrompt: React.PropTypes.func.isRequired,\n  pciForm: React.PropTypes.shape({\n    secureFormServer: React.PropTypes.string,\n    secureFormConfig: React.PropTypes.object,\n    pciFormList: React.PropTypes.array,\n  }),\n  visitorId: React.PropTypes.number.isRequired,\n  chatId: React.PropTypes.number.isRequired,\n  onRequestPCIForm: React.PropTypes.func.isRequired,\n};\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Prompt/PromptSecureForm/PromptSecureForm.jsx","export const Operator = 1;\nexport const User = 2;\nexport const Contact = 3;\nexport const Visitor = 4;\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants/enums/userType.js","import * as helpers from 'src/utils/common';\nimport * as _ from 'lodash';\nimport memoize from 'lru-memoize';\nimport { chatStatus, chatListGroup } from '../../constants/enums';\nimport * as selectors from '../../reducers/selectors';\nimport * as permissionType from '../../constants/enums/liveChatPermission';\nimport memoryStore from '../../services/memoryStore';\nimport * as memoryStoreKey from '../../constants/memoryStore';\n\nfunction getOpenedStatusById(openedStatus = {}, id) {\n  if (_.isUndefined(openedStatus[id])) return true;\n  return openedStatus[id];\n}\n/* refresh status */\nfunction getStatus(visitor, agentId) {\n  const status = visitor.get('status');\n  if (status === chatStatus.waitingForChat) {\n    return visitor.get('autoInvitationId') > 0 ?\n      chatStatus.invitedAndWaitingForChat :\n      chatStatus.waitingForChat;\n  } else if (status === chatStatus.transferring) {\n    return chatStatus.transferring;\n  } else if (status === chatStatus.chatting) {\n    return helpers.isAgentInMonitorList(visitor, agentId) ?\n      chatStatus.monitorChatting :\n      chatStatus.chatting;\n  } else if (status === chatStatus.chatEnded) {\n    return helpers.isAgentInMonitorList(visitor, agentId) ?\n      chatStatus.monitorChatEnded :\n      chatStatus.chatEnded;\n  } else if (helpers.checkIfWaitingVisitorAcceptInvitationFromMe(visitor, agentId)) {\n    return chatStatus.manuallyInvitedAndWatingVisitor;\n  } else if (helpers.checkIfVisitorRefuseMyInvitation(visitor, agentId)) {\n    return chatStatus.refusedByVisitor;\n  }\n  return chatStatus.chatEnded;\n}\n\nfunction getGroupType(visitor, agentId, isGroup) {\n  if (!isGroup) {\n    return chatListGroup.noGroup;\n  }\n  const status = visitor.get('status');\n  if (status === chatStatus.chatting ||\n    (status === chatStatus.transferring &&\n      helpers.isAgentInChatActiveList(visitor, agentId)\n    )) {\n    return chatListGroup.onGoing;\n  } else if (status === chatStatus.waitingForChat ||\n    status === chatStatus.transferring) {\n    return chatListGroup.inComing;\n  } else if (helpers.isAgentInChatActiveList(visitor, agentId) &&\n    (status === chatStatus.manuallyInvitedAndWatingVisitor ||\n      status === chatStatus.refusedByVisitor)\n  ) {\n    return chatListGroup.invited;\n  }\n  return chatListGroup.chatEnded;\n}\n\nfunction getUnresponseBeginTime(visitor, chat, delay, isOpened) {\n  if (!isOpened) return null;\n  let beginTime = null;\n  let realDelay = delay;\n  switch (visitor.get('status')) {\n    case chatStatus.waitingForChat:\n      beginTime = visitor.get('chatRequestTime');\n      break;\n    case chatStatus.transferring:\n      beginTime = visitor.get('transferTime');\n      break;\n    default:\n      realDelay = 0;\n      beginTime = chat.get('lastRepliedTime');\n      break;\n  }\n  if (!(beginTime instanceof Date)) return null;\n\n  return beginTime.getTime() + (realDelay * 1000);\n}\n\nexport const getSegmentations = (segments, ids) => {\n  if (!Array.isArray(ids)) {\n    return [];\n  }\n  return segments\n    .filter(seg => ids.indexOf(seg.id) >= 0)\n    .map(seg => ({ name: seg.name, color: `#${seg.color.toString(16)}` }));\n};\n\nexport function mapToComponentProps(\n  visitor, chat, selectedChatId, agents, agentId, departments, segments, delay\n) {\n  const status = visitor.get('status');\n  const chatId = chat.get('id');\n  const isWaiting = helpers.isWaiting(visitor, agentId, departments);\n  const isVisitorChatting = helpers.isChatting(visitor);\n  const isMonitoring = isVisitorChatting && helpers.isAgentInMonitorList(visitor, agentId);\n  const isChatting = isVisitorChatting && helpers.isAgentInChatActiveList(visitor, agentId);\n  const isShowClose = helpers.isChatEnded(visitor) ||\n    (status === chatStatus.chatEnded &&\n      helpers.isAgentInMonitorList(visitor, agentId)) ||\n    (helpers.isAgentInInvolvedList(visitor, agentId) &&\n      !(isVisitorChatting &&\n        helpers.isAgentInChatActiveList(visitor, agentId)) &&\n      !isMonitoring &&\n      status !== chatStatus.transferring);\n\n  const departmentId = visitor.get('departmentId');\n  const department = _.find(departments, dep => departmentId === dep.id);\n  const showUnreadMessages = isChatting || isMonitoring || status === chatStatus.chatEnded;\n\n  return {\n    status,\n    waitingChatOrChatBegins: visitor.get('waitingChatOrChatBegins'),\n    visitorId: visitor.get('id'),\n    chatId,\n    visitor: {\n      name: visitor.get('latestName'),\n      agentName: helpers.getAgentNames(visitor, agentId, agents),\n      department: department ? department.name : null,\n    },\n    segments: getSegmentations(segments, visitor.get('segmentIds')),\n    isPinned: chat.get('isPinned'),\n    isShowWrapUp: !isWaiting &&\n    chat.get('ifShowWrapupButton') &&\n    !chat.get('wrapupSubmitted') &&\n    chatId !== selectedChatId,\n    isShowAcceptAndRefuse: isWaiting,\n    isShowDeleteIcon: isShowClose,\n    unresponseBeginTime: getUnresponseBeginTime(visitor, chat, delay, (isWaiting || isChatting)),\n    currentStatus: getStatus(visitor, agentId),\n    messageNumber: showUnreadMessages ? chat.get('unreadMessages') : 0,\n    isSelected: (chatId === selectedChatId),\n    audioVideoStatus: visitor.get('audioVideoChatStatus'),\n  };\n}\n\nfunction getDefaultStructure(opendStatus) {\n  return {\n    chats: [],\n    groupItems: [\n      {\n        id: 'ongoingChats',\n        description: 'Ongoing Chats',\n        opened: getOpenedStatusById(opendStatus, 'ongoingChats'),\n        chats: [],\n      },\n      {\n        id: 'incomingChats',\n        description: 'Incoming Chats',\n        opened: getOpenedStatusById(opendStatus, 'incomingChats'),\n        chats: [],\n      },\n      {\n        id: 'manuallyInvited',\n        description: 'Manually Invited',\n        opened: getOpenedStatusById(opendStatus, 'manuallyInvited'),\n        chats: [],\n      },\n      {\n        id: 'endedChats',\n        description: 'Ended Chats',\n        opened: getOpenedStatusById(opendStatus, 'endedChats'),\n        chats: [],\n      },\n    ],\n    ifDepartmentEnabled: true,\n    isShowChatItemsViaStatus: false,\n    isShowUnreposiveTime: true,\n    isShowDepartment: true,\n    ifEnableSegmentation: true,\n    enableRefuseChat: true,\n  };\n}\n\nfunction initData(chats, visitors, selectedChatId, siteInfo, preferenceOther,\n  enableRefuseChat, delay, agentId, agents, departments, segments, openedStatus\n) {\n  const chatList = getDefaultStructure(openedStatus);\n  /* init global setting */\n  chatList.ifDepartmentEnabled = siteInfo.ifDepartmentEnabled;\n  chatList.isShowChatItemsViaStatus = preferenceOther.ifGroupChats;\n  chatList.isShowUnreposiveTime = preferenceOther.ifShowUnresponseTime;\n  chatList.isShowDepartment = preferenceOther.ifShowDepartment;\n  chatList.ifEnableSegmentation = siteInfo.ifEnableSegmentation;\n  chatList.enableRefuseChat = enableRefuseChat;\n\n  return chats.reduce((lists, chat, key) => {\n    const visitor = chat.get('isUnfinishedWrapup') ?\n      visitors.get(`v${chat.get('visitorId')}c${key}`) : visitors.get(chat.get('visitorId'));\n    if (!visitor) return lists;\n    const groupType = getGroupType(visitor, agentId, lists.isShowChatItemsViaStatus);\n    const item = mapToComponentProps(\n      visitor, chat, selectedChatId, agents, agentId,\n      departments, segments, delay\n    );\n    switch (groupType) {\n      case chatListGroup.onGoing:\n        lists.groupItems[0].chats.splice(0, 0, item);\n        break;\n      case chatListGroup.inComing:\n        lists.groupItems[1].chats.push(item);\n        break;\n      case chatListGroup.invited:\n        lists.groupItems[2].chats.splice(0, 0, item);\n        break;\n      case chatListGroup.chatEnded:\n        lists.groupItems[3].chats.splice(0, 0, item);\n        break;\n      default:\n        lists.chats.splice(0, 0, item);\n        break;\n    }\n    return lists;\n  }, chatList);\n}\n\nconst memoizedInitData = memoize(1)(initData);\n\nexport function createChatListState(state) {\n  const siteInfo = selectors.getSiteInfo(state);\n  const preferenceOther = selectors.getPreferenceOthers(state);\n  const enableRefuseChat = selectors.getPermission(state, permissionType.refuseChat);\n  const delay = selectors.getTimeDelay(state) || 0;\n  const agentId = selectors.getCurrentAgentId(state);\n  const chats = selectors.getChats(state);\n  const selectedChatId = selectors.getSelectedChatId(state);\n  const agents = selectors.getAgents(state);\n  const departments = selectors.getDepartments(state);\n  const segments = selectors.getSegmentations(state);\n  const visitors = selectors.getVisitors(state);\n  const openedGroupStatus = memoryStore.get(memoryStoreKey.openedGroupStatus, null, {});\n  return memoizedInitData(chats, visitors, selectedChatId, siteInfo, preferenceOther,\n    enableRefuseChat, delay, agentId, agents, departments, segments, openedGroupStatus);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/containers/Business/chatList.js","import { connect } from 'react-redux';\nimport * as _ from 'lodash';\nimport memoize from 'lru-memoize';\nimport ChatAction from 'src/components/ChatSection/ChatAction/ChatAction';\nimport * as perf from 'src/utils/perf';\nimport * as helper from 'src/utils/common';\nimport { toHHMMSS, format } from 'src/utils/time';\nimport * as messageType from 'src/constants/enums/messageType';\nimport * as visitorStatus from 'src/constants/enums/visitorStatus';\nimport * as permissionType from 'src/constants/enums/liveChatPermission';\nimport * as selectors from '../reducers/selectors';\nimport * as actions from '../actions/chat';\nimport * as uiActions from '../actions/ui';\nimport * as agentAction from '../actions/agent';\nimport * as webAction from '../actions/web';\nimport { turnOnAutoTranslate } from '../constants/enums/chatAction';\nimport { requestSecureForm } from '../services/secureForm';\nimport * as common from './Business/common';\nimport P2PChat from '../services/p2pChat';\nimport { getWebrtcSignalingServiceUrl } from '../reducers/selectors/urlsManager';\nimport * as audioVideoChatStatus from '../constants/enums/audioVideoChatStatus';\n\nconst getInitialTranscriptBody = memoize(1)(\n  (visitor, chatId, chatMessages, chatInfo, dateTimeFormat, ifDepartmentEnabled) => {\n    let chatInfoMsg = '';\n    let chatInfoDetail = '';\n    let chatContent = '<tr><td></td></tr>';\n    let chatAttachments = '';\n    let customVariables = '';\n    let customFields = '';\n    if (chatInfo) {\n      chatMessages.forEach((message) => {\n        _.each(message, (item) => {\n          if (item.type === messageType.system) {\n            chatInfoMsg += `${item.message}<br/>`;\n          }\n          if ((item.type === messageType.agent || item.type === messageType.visitor)\n            && item.message) {\n            chatInfoMsg += `[${toHHMMSS(item.time)}] ${item.sender}: ${item.message}<br/>`;\n          }\n        });\n      });\n      _.each(chatInfo.customVariables, (item) => {\n        customVariables += `${item.name}: ${item.value}<br/>`;\n      });\n      _.each(chatInfo.preChatFields, (item) => {\n        customFields += `${item.name}: ${item.value}<br/>`;\n      });\n\n      chatInfoDetail = [\n        `<tr><td>Id: ${chatId}</td></tr>`,\n        `<tr><td>Name: ${chatInfo.name}</td></tr>`,\n        `<tr><td>Email: ${chatInfo.email}</td></tr>`,\n        `<tr><td>Department: ${ifDepartmentEnabled ? chatInfo.department : ''}</td></tr>`,\n        `<tr><td>Agent: ${chatInfo.agentNames}</td></tr>`,\n        `<tr><td>Chat Start Time: ${format(chatInfo.chatStartTime, dateTimeFormat)}</td></tr>`,\n        `<tr><td>End Time: ${format(chatInfo.chatEndTime, dateTimeFormat)}</td></tr>`,\n        `<tr><td>Product/Service: ${chatInfo.service}</td></tr>`,\n        `<tr><td>Phone: ${chatInfo.phone}</td></tr>`,\n        `<tr><td>Company: ${chatInfo.company}</td></tr>`,\n        `<tr><td>Source: ${chatInfo.source}</td></tr>`,\n        `<tr><td>Auto Invitation: ${chatInfo.autoInvitation}</td></tr>`,\n        `<tr><td>Request Page: ${chatInfo.requestingPageUrl}</td></tr>`,\n        `<tr><td>Custom Variables: <br/>${customVariables.substr(0, customVariables.length - 5)}</td></tr>`,\n        `<tr><td>Custom Fields: <br/>${customFields}<br/></td></tr>`,\n      ].join('');\n\n      chatContent = [\n        '<tr><td style=\"color:#329fd9;font-family: SourceSans Pro Bold,Arial;\"><strong>Chat Info</strong></td></tr>',\n        `<tr><td>${chatInfoMsg}</td></tr>${chatInfoDetail}`,\n      ].join('');\n      chatAttachments = chatInfo.attachments.join(', ');\n    }\n\n    return {\n      content: `<table cellspacing=\"0\" cellpadding=\"0\">${chatContent}</table>`,\n      attachments: chatAttachments,\n    };\n  });\n\nconst getTranscriptVisitorInfo = memoize(1)((visitor, dateTimeFormat) => [\n  '<table cellspacing=\"0\" cellpadding=\"0\"><tr><td style=\"color:#329fd9\"><b>Visitor Info</b></td></tr>',\n  `<tr><td>Visitor Id: ${visitor.get('id')}</td></tr>`,\n  `<tr><td>Latest Name: ${visitor.get('latestName')}</td></tr>`,\n  `<tr><td>Latest Email: ${visitor.get('latestEmail')}</td></tr>`,\n  `<tr><td>First Visit Time: ${format(visitor.get('firstVisitTime'), dateTimeFormat)}</td></tr>`,\n  `<tr><td>Chat Times: ${visitor.get('chatTimes')}</td></tr>`,\n  `<tr><td>Visit Times: ${visitor.get('visitorTimes')}<br/></td></tr></table>`,\n].join(''));\n\nconst getTranscriptNavigation = memoize(1)((sessionInfo, dateTimeFormat) => (\n  sessionInfo ? [\n    '<table cellspacing=\"0\" cellpadding=\"0\"><tr><td style=\"color:#329fd9\"><b>Navigation</b></td></tr>',\n    `<tr><td>Start Time: ${format(sessionInfo.sessionStartTime, dateTimeFormat)}</td></tr>`,\n    `<tr><td>Referrer: ${sessionInfo.referrerUrl}</td></tr>`,\n    `<tr><td>Search Engine: ${sessionInfo.searchEngine}</td></tr>`,\n    `<tr><td>Keywords: ${sessionInfo.keywords}<br/></td></tr></table>`,\n  ].join('') : ''\n));\n\nconst getTranscriptGEOInfo = memoize(1)(sessionInfo => (\n  sessionInfo ? [\n    '<table cellspacing=\"0\" cellpadding=\"0\"><tr><td style=\"color:#329fd9\"><b>GEO Info</b></td></tr>',\n    `<tr><td>IP: ${sessionInfo.ip}</p></td></tr>`,\n    `<tr><td>Country/Region: ${sessionInfo.country}</p></td></tr>`,\n    `<tr><td>State/Province: ${sessionInfo.state}</p></td></tr>`,\n    `<tr><td>City: ${sessionInfo.city}<br/></p></td></tr></table>`,\n  ].join('') : ''\n));\n\nconst getTranscriptClientInfo = memoize(1)(sessionInfo => (\n  sessionInfo ? [\n    '<table cellspacing=\"0\" cellpadding=\"0\"><tr><td style=\"color:#329fd9\"><b>Client Info</b></td></tr>',\n    `<tr><td>Operating System: ${sessionInfo.operatingSystem}</td></tr>`,\n    `<tr><td>Browser: ${sessionInfo.browser}</td></tr>`,\n    `<tr><td>Flash Version: ${sessionInfo.flashVersion}</td></tr>`,\n    `<tr><td>Screen Resolution: ${sessionInfo.screenResolution}</td></tr>`,\n    `<tr><td>Language: ${sessionInfo.language}</td></tr>`,\n    `<tr><td>Time Zone: ${sessionInfo.timeZone}<br/></td></tr></table>`,\n  ].join('') : ''\n));\n\nconst getTranscriptRating = memoize(1)(chatInfo => (\n  chatInfo ? [\n    '<table cellspacing=\"0\" cellpadding=\"0\"><tr><td style=\"color:#329fd9\"><b>Rating</b></td></tr>',\n    `<tr><td>Rating: ${chatInfo.rating}</td></tr>`,\n    `<tr><td>Rating Comment: ${chatInfo.ratingComment}<br/></td></tr></table>`,\n  ].join('') : ''\n));\n\nconst getTranscriptAgentComment = memoize(1)(chatInfo => (\n  chatInfo ? [\n    '<table cellspacing=\"0\" cellpadding=\"0\"><tr><td style=\"color:#329fd9\"><b>Agent Comment</b></td></tr>',\n    `<tr><td>${chatInfo.agentComment}</td></tr></table>`,\n  ].join('') : ''\n));\n\n/**\n * @todo\n * This is a very ugly implementation of cache pure function result.\n *\n * The main idea is: if input is the same, do not call genStaticSelect again to create a new\n * component.\n *\n * The code need to be improved later.\n */\nlet cachedDepartment = [];\n\nconst getOnlineDepartmentComponent = (state) => {\n  const chatId = selectors.getSelectedChatId(state);\n  const visitor = selectors.getVisitorByChatId(state, chatId); // TODO\n  const departments = selectors.getDepartments(state).map(\n    ({ id, name }) => {\n      const availableAgentNumberByDepartmentId =\n        selectors.getAvailableAgentsNumberByDepartmentId(state, id, visitor);\n      return {\n        /** @todo notice that following two lines are not actually aligned, could be an issue */\n        text: `${name} (Online: ${availableAgentNumberByDepartmentId.onlineAgentNumber},\n                          Away: ${availableAgentNumberByDepartmentId.awayAgentNumber})`,\n        value: id,\n      };\n    }\n  );\n  const onlineAgentNumber = selectors.getOnlineAvailableAgents(state, visitor).length;\n  const awayAgentNumber = selectors.getAwayAvailableAgents(state, visitor).length;\n  const defaultSelectOption = [\n    {\n      text: `All Available (Online: ${onlineAgentNumber}, Away: ${awayAgentNumber})`,\n      value: -1,\n    },\n  ];\n  const options = defaultSelectOption.concat(departments);\n  if (options.length !== cachedDepartment.length) {\n    cachedDepartment = options;\n  } else {\n    for (let i = 0; i < options.length; i += 1) {\n      if (options[i].text !== cachedDepartment[i].text ||\n        options[i].id !== cachedDepartment[i].id) {\n        cachedDepartment = options;\n        break;\n      }\n    }\n  }\n  return cachedDepartment;\n};\n\nconst getChatActionDisplay = memoize(1)(\n  (siteInfo, ifHaveTransferPermission, ifEnableTranslate, ifG2MConnected, campaign) => ({\n    transfer: siteInfo.ifEnableTeamWork && ifHaveTransferPermission,\n    /** @todo following is not used in <SendFile />, could be an issue */\n    sendFile: siteInfo.ifCanUseAdvancedChatFunc,\n    sendTranscript: siteInfo.ifCanEmailTranscript,\n    attachTicket: siteInfo.ifTicketOpen,\n    autoTranslate: siteInfo.ifEnableChatTranslation && siteInfo.ifEnableChatIntegration &&\n    ifEnableTranslate,\n    gotoMeeting: siteInfo.ifEnableScreenSharing && siteInfo.ifEnableGotoMeeting &&\n    ifG2MConnected,\n    joinMe: siteInfo.ifEnableJoinMeScreenSharing,\n    pciForm: siteInfo.ifEnablePCIForm,\n    audioChat: helper.ifSupportWebrtc, // && campaign.ifEnableAudioChat,\n    videoChat: helper.ifSupportWebrtc, // && campaign.ifEnableVideoChat,\n  }));\n\nconst getChatActionEnable = memoize(1)(\n  (visitor, currentAgentId, ifUseMainServer, ifEnableAudioVideoChat) => {\n    const isSendingMessageAllowed = helper.isSendingMessageAllowed(visitor, currentAgentId);\n    const status = visitor.get('status');\n    const ifManuallyInvitedAndWaiting =\n      status === visitorStatus.manuallyInvitedAndWaitingVisitor;\n    const isActuallyChatting = isSendingMessageAllowed && !ifManuallyInvitedAndWaiting;\n    return {\n      transfer: isActuallyChatting,\n      sendFile: isActuallyChatting,\n      sendTranscript: status === visitorStatus.chatEnded,\n      attachTicket: helper.isAttachTicketAllowed(visitor, currentAgentId),\n      autoTranslate: isActuallyChatting,\n      gotoMeeting: isActuallyChatting,\n      joinMe: isActuallyChatting && ifUseMainServer,\n      pciForm: isSendingMessageAllowed,\n      audioChat: isActuallyChatting && ifEnableAudioVideoChat, // agent 是否在audio/video chatting\n      videoChat: isActuallyChatting && ifEnableAudioVideoChat, // agent 是否在audio/video chatting\n    };\n  });\n\nconst getTranscriptInfo = memoize(1)(\n  (visitor, chatId, chatMessages, currentAgentName, currentAgentEmail,\n    sessionInfo, chatInfo, dateTimeFormat, ifDepartmentEnabled) => {\n    const transcriptVisitorInfo = getTranscriptVisitorInfo(visitor, dateTimeFormat);\n\n    const transcriptNavigation = getTranscriptNavigation(sessionInfo, dateTimeFormat);\n    const transcriptGEOInfo = getTranscriptGEOInfo(sessionInfo);\n    const transcriptClientInfo = getTranscriptClientInfo(sessionInfo);\n    const transcriptRating = getTranscriptRating(chatInfo);\n    const transcriptAgentComment = getTranscriptAgentComment(chatInfo);\n    const transcriptBody = getInitialTranscriptBody(\n      visitor,\n      chatId,\n      chatMessages,\n      chatInfo,\n      dateTimeFormat,\n      ifDepartmentEnabled\n    );\n    return {\n      chatId,\n      transcriptVisitorInfo,\n      transcriptNavigation,\n      transcriptGEOInfo,\n      transcriptClientInfo,\n      transcriptRating,\n      transcriptAgentComment,\n      to: `${currentAgentName} <${currentAgentEmail}>`,\n      subject: `Chat_${chatId}`,\n      body: transcriptBody,\n    };\n  });\n\nconst getAutoTranslateInfo = memoize(1)(\n  (detectedVisitorLanguage, ifAutoPopTranslation, ifEnable, agentTranslationLanguage) => {\n    const ifOpenAutoTranslation = !ifAutoPopTranslation && !ifEnable &&\n      detectedVisitorLanguage !== '0' &&/** @todo what does '0' stands for? */\n      detectedVisitorLanguage !== agentTranslationLanguage;\n    return {\n      detectedVisitorLanguage,\n      ifAutoPopTranslation,\n      ifOpenAutoTranslation,\n    };\n  });\n\nconst getPCIForm = memoize(1)(\n  (secureFormServer, secureFormConfig, pciFormList) => ({\n    secureFormServer,\n    secureFormConfig,\n    pciFormList,\n  })\n);\n\nconst getTransfer = memoize(1)(\n  (ifDepartmentEnabled, onlineDepartments, onlineDepartmentComponent, allAvailableAgents) => ({\n    ifDepartmentEnabled,\n    onlineDepartments,\n    onlineDepartmentComponent,\n    allAvailableAgents,\n  })\n);\n\nfunction ifEnableAudioVideoChatButton(state) {\n  const chat = selectors.getSelectedChat(state);\n\n  if (!chat.get('ifVisitorSupportWebrtc')) {\n    return false;\n  }\n\n  const avStatus = chat.get('audioVideoStatus');\n  if (avStatus !== audioVideoChatStatus.notStart) {\n    return false;\n  }\n\n  const otherChats = (c) => {\n    const s = c.get('audioVideoStatus');\n    return s === audioVideoChatStatus.agentRequestAudioChat\n      || s === audioVideoChatStatus.agentRequestVideoChat\n      || s === audioVideoChatStatus.audioChatting\n      || s === audioVideoChatStatus.videoChatting;\n  };\n\n  return selectors.getChats(state).filter(otherChats).size === 0;\n}\n\nconst mapStateToProps = (state) => {\n  const chatId = selectors.getSelectedChatId(state);\n  if (!chatId) {\n    return {};\n  }\n  perf.markBegin('ChatAction: mapStateToProps');\n  const siteId = selectors.getSiteId(state);\n  const visitor = selectors.getVisitorByChatId(state, chatId);\n  const visitorId = visitor.get('id');\n  const ifDepartmentEnabled = selectors.getifDepartmentEnabled(state);\n  const currentAgentId = selectors.getCurrentAgentId(state);\n  const onlineDepartments = selectors.getTransferOnlineDepartments(state, visitorId);\n  const allAvailableAgents = selectors.getAllAvailableAgents(state, visitor);\n  const currentAgentName = selectors.getCurrentAgentName(state);\n  const currentAgentEmail = selectors.getCurrentAgentEmail(state);\n  const agentSession = selectors.getCurrentAgentSession(state);\n  const joinMeIntegrationServer = selectors.getJoinMeIntegrationServer(state);\n  const chat = selectors.getSelectedChat(state);\n  const secureFormServer = selectors.getSecureFormServer(state);\n  const campaign = selectors.getCodePlan(state, visitor.get('codePlanId'));\n  const ifUseMainServer = selectors.ifUseMainServer(state);\n  const chatDetails = selectors.getChatDetails(state, visitorId, chatId);\n  const dateTimeFormat = selectors.getDateTimeFormat(state);\n  const siteInfo = selectors.getSiteInfo(state);\n  const ifHaveTransferPermission = selectors.getPermission(state, permissionType.transferChat);\n\n  const chatInfo = _.get(chatDetails, 'chatInfo');\n  const sessionInfo = _.get(chatDetails, 'sessionInfo');\n\n  const onlineDepartmentComponent = getOnlineDepartmentComponent(state);\n\n  const authProvider = ifUseMainServer ?\n    selectors.getChatServerUrl(state).replace('https://', '').replace('http://', '')\n    :\n    selectors.getStandbyChatServer(state).replace('https://', '').replace('http://', '');\n  const ifAutoPopTranslation = selectors.ifPopTranslation(state, chatId);\n  const enableChatTranslation = selectors.getIfChatEnableTransaltion(state, chatId);\n\n  const secureFormConfig = {\n    siteId,\n    visitorId,\n    authToken: agentSession,\n    authProvider,\n    themeColor: campaign ? campaign.themeColor : '',\n  };\n  const detectedVisitorLanguage = selectors.getVisitorLanguage(state, chatId).toString();\n  const agentTranslationLanguage =\n    selectors.getAgentTranslationLanguage(state).toString();\n  const fileUploadUrl = selectors.getFileUploadUrl(state);\n  const sendFileUploadUrl = `${fileUploadUrl}?sessionId=${agentSession}&visitorId=${visitorId}&siteId=${siteId}`;\n\n  const {\n    isWeb,\n    attachTicketUrl,\n    loginUrl,\n    autoLoginUrl,\n  } = common.getAttachTicketURL(state, visitor.get('ticketId').split('-T')[1]);\n\n  const responseErrorMessage = selectors.getResponseErrorMessage(state);\n  const sendEmailSuccessMessage = selectors.getSendEmailSuccessMessage(state);\n\n  const transcriptInfo = getTranscriptInfo(\n    visitor, chatId, chat.get('messages'), currentAgentName, currentAgentEmail,\n    sessionInfo, chatInfo, dateTimeFormat, ifDepartmentEnabled\n  );\n\n  const ret = ({\n    responseErrorMessage,\n    sendEmailSuccessMessage,\n    chatActionDisplay: getChatActionDisplay(\n      siteInfo,\n      ifHaveTransferPermission,\n      selectors.getIfEnableTranslate(state),\n      selectors.getConfigIfG2MConnected(state),\n      selectors.getCodePlan(state, visitor.get('codePlanId'))\n    ),\n    chatActionEnable: getChatActionEnable(\n      visitor,\n      currentAgentId,\n      selectors.getIfUseMainServer(state),\n      ifEnableAudioVideoChatButton(state),\n    ),\n    siteId,\n    agentSession,\n    ifUseMainServer,\n    selectedFontSize: selectors.getFontSize(state),\n    siteInfo: {\n      visitorId,\n      uploadUrl: selectors.getFileUploadUrl(state),\n      downloadUrl: selectors.getFileDownloadUrl(state),\n      sessionId: selectors.getCurrentAgentSession(state),\n      siteId,\n      privateMessage: 1,\n      maxFileSize: selectors.getMaxFileSize(state),\n      maxFileNum: selectors.getMaxFileNum(state),\n      sendFileUploadUrl,\n    },\n    visitorId,\n    chatId,\n    ticketId: visitor.get('ticketId'),\n    joinMeIntegrationServer,\n    currentAgentId,\n    transfer: getTransfer(\n      ifDepartmentEnabled,\n      onlineDepartments,\n      onlineDepartmentComponent,\n      allAvailableAgents,\n    ),\n    transcriptInfo,\n    pciForm: getPCIForm(secureFormServer, secureFormConfig, selectors.getPCIForms(state)),\n    autoTranslateInfo: getAutoTranslateInfo(\n      detectedVisitorLanguage,\n      ifAutoPopTranslation,\n      enableChatTranslation,\n      agentTranslationLanguage\n    ),\n    gotoAttachTicket() {\n      common.gotoAttachTicket({\n        isWeb,\n        attachTicketUrl,\n        loginUrl,\n        autoLoginUrl,\n      });\n    },\n    chatGuid: visitor.get('chatGuid'),\n    webrtcSignalingServiceUrl: getWebrtcSignalingServiceUrl(state),\n  });\n  perf.markEnd('ChatAction: mapStateToProps');\n  return ret;\n};\n\nconst mergeProps = (stateProps, dispatchProps) => {\n  const { dispatch } = dispatchProps;\n\n  const dispatchObject = {\n    onFontSelect(selectedFontSize) {\n      dispatch(uiActions.changeFontSize(selectedFontSize));\n      dispatch(webAction.setPreference());\n    },\n\n    handleAttachTicket(visitorId, ticketId) {\n      if (ticketId === 0) {\n        dispatch(webAction.attachNewTicket(visitorId));\n      } else {\n        dispatch(webAction.attachToExistTicket(visitorId, ticketId));\n      }\n    },\n    onRequestGotoMeeting(visitorId) {\n      dispatch(webAction.createG2MMeeting(visitorId));\n    },\n    onTransferIconClick() {\n      dispatch(webAction.getAgents());\n    },\n    onTransferChat(transferType, visitorId, departmentId, agentId, ifCloseChat) {\n      if (transferType === '0' && departmentId > 0) {\n        dispatch(agentAction.transferChatToDepartment(visitorId, departmentId, ifCloseChat));\n      } else if (transferType === '1' && agentId > 0) {\n        dispatch(agentAction.transferChatToAgent(visitorId, agentId, ifCloseChat)); // todo\n      }\n    },\n    onToggleAutoTranslate(turnOnOrTurnOff, visitorId, language) {\n      if (turnOnOrTurnOff === turnOnAutoTranslate) {\n        dispatch(agentAction.enableTranslation(visitorId, language));\n      }\n    },\n    handleSendTranscript(chatId, form) {\n      console.log(form);\n      dispatch(webAction.sendEmail(chatId, form));\n    },\n    showResponseErrorMessage(errorMsg) {\n      dispatch(uiActions.setResponseErrorMessage(errorMsg));\n    },\n    hideResponseErrorMessage() {\n      dispatch(uiActions.setResponseErrorMessage(''));\n    },\n    hideSendEmailSuccessMessage() {\n      dispatch(uiActions.setSendEmailSuccessMessage(''));\n    },\n    onUpdateIfPopTranslation(chatId) {\n      dispatch(actions.onUpdateIfPopTranslation(chatId));\n    },\n    initialSendTranscriptForm(visitorId, chatId, transcriptInfo) {\n      /** @todo following code could be improved */\n      dispatch(webAction.getChatHistoryDetails(visitorId, chatId));\n      dispatch(actions.initSendTranscriptForm({\n        to: transcriptInfo.to,\n        subject: transcriptInfo.subject,\n        body: transcriptInfo.body.content,\n      }));\n    },\n    onRequestPCIForm(serverPath, secureForm, config, visitorId, chatId, pciFormName) {\n      requestSecureForm(serverPath, secureForm, config)\n        .then(({ token, rsaKey }) => {\n          dispatch(webAction.requestSecureForm(visitorId, pciFormName, token));\n          dispatch(actions.onRequestedSecureForm(chatId, token, rsaKey));\n        })\n        .catch((error) => {\n          dispatch(actions.setErrorMessageForChat(chatId, `Request PCI Form failed: ${error.message}`));\n        });\n    },\n    showErrorMessage(chatId, errorMsg) {\n      dispatch(actions.setErrorMessageForChat(chatId, errorMsg));\n    },\n    onRequestAudioChat() {\n      const p2pChat = new P2PChat({\n        url: stateProps.webrtcSignalingServiceUrl,\n        localVideo: document.createElement('VIDEO'),\n        remoteVideo: document.createElement('VIDEO'),\n        chat: stateProps.chatGuid,\n      });\n      p2pChat.requirePermission().then(() => {\n        dispatch(actions.setP2PChat(stateProps.chatId, p2pChat));\n        dispatch(webAction.onRequestAudioChat(stateProps.visitorId));\n      });\n    },\n    onRequestVideoChat() {\n      const p2pChat = new P2PChat({\n        url: stateProps.webrtcSignalingServiceUrl,\n        localVideo: document.createElement('VIDEO'),\n        remoteVideo: document.createElement('VIDEO'),\n        chat: stateProps.chatGuid,\n      });\n      p2pChat.requirePermission(true).then(() => {\n        dispatch(actions.setP2PChat(stateProps.chatId, p2pChat));\n        dispatch(webAction.onRequestVideoChat(stateProps.visitorId));\n      });\n    },\n  };\n  return {\n    ...stateProps,\n    ...dispatchObject,\n  };\n};\n\n// export default connect(mapStateToProps, mapDispatchToProps)(ChatAction);\nexport default connect(mapStateToProps, null, mergeProps)(ChatAction);\n\n\n\n// WEBPACK FOOTER //\n// ./src/containers/ChatAction.jsx","import { connect } from 'react-redux';\nimport * as perf from 'src/utils/perf';\nimport * as reporter from 'src/utils/reporter';\nimport * as selectors from '../reducers/selectors';\nimport ChatContent from '../components/ChatSection/ChatContent/ChatContent';\nimport * as actions from '../actions/chat';\nimport { getSecureFormContent } from '../services/secureForm';\nimport { isChattingWithAgent } from '../utils/common';\nimport * as audioVideoChatStatus from '../constants/enums/audioVideoChatStatus';\nimport * as webAction from '../actions/web';\nimport P2PChat from '../services/p2pChat';\nimport { getWebrtcSignalingServiceUrl } from '../reducers/selectors/urlsManager';\n\nconst getIsContactOrUserOpen = (state) => {\n  if (state.config.settings.siteInfo) {\n    return (state.config.settings.siteInfo.ifContactOpened &&\n      state.config.settings.siteInfo.ifUserOpened);\n  }\n  return false;\n};\n\nconst mapStateToProps = (state, { dispatch }) => {\n  const chatId = selectors.getSelectedChatId(state);\n  if (!chatId) return {};\n  perf.markBegin('ChatContent: mapStateToProps');\n  const chat = selectors.getChat(state, chatId);\n  if (!chat) return {};\n  let g2mStartUrl = chat.get('g2mStartUrl');\n  const visitorId = chat.get('visitorId');\n  const visitor = selectors.getVisitor(state, visitorId);\n  const chatGuid = visitor.get('chatGuid');\n  const secureFormServer = selectors.getSecureFormServer(state);\n  const siteId = selectors.getSiteId(state);\n  const agentSession = selectors.getCurrentAgentSession(state);\n  const timezone = selectors.getTimezone(state);\n  const timezoneOffset = selectors.getTimezoneOffset(state);\n  const textDirectionIfRTL = selectors.textDirectionIfRTL(state);\n  const errorMessageForChat = selectors.getErrorMessageForChat(state, chat && chat.get('id'));\n  const ifShowNotify = chat.get('ifShowNotify');\n  const audioVideoChatWidth = chat.get('audioVideoChatWidth');\n  const audioVideoChatStartTime = chat.get('audioVideoChatStartTime');\n  const audioVideoChatAgentName = chat.get('audioVideoChatAgentName');\n  const avStatus =\n    (audioVideoChatAgentName === ''\n      || audioVideoChatAgentName === selectors.getCurrentAgent(state).name)\n      ? chat.get('audioVideoStatus')\n      : audioVideoChatStatus.notStart;\n  const p2pChat = chat.get('p2pChat');\n  if (!isChattingWithAgent(visitor, selectors.getCurrentAgentId(state))) {\n    g2mStartUrl = null;\n  }\n\n  const ret = ({\n    id: chat.get('id'),\n    g2mStartUrl,\n    siteId,\n    visitorId,\n    chatGuid,\n    agentSession,\n    selectedFontSize: selectors.getFontSize(state),\n    messages: selectors.getChatMessages(state, selectors.getSelectedChatId(state)),\n    typingMessage: chat.get('typingMessage'),\n    isContactOrUserOpen: getIsContactOrUserOpen(state),\n    chatTo: visitor.get('latestName'),\n    visitorAvatar: visitor.get('avatar'),\n    identityType: visitor.get('identityType'),\n    secureFormServer,\n    timezone,\n    timezoneOffset,\n    textDirectionIfRTL,\n    errorMessageForChat,\n    scrollTop: chat.get('scrollTop'),\n    ifShowNotify,\n    audioVideoChatWidth,\n    p2pChat,\n    audioVideoChatStatus: avStatus,\n    webrtcSignalingServiceUrl: getWebrtcSignalingServiceUrl(state),\n    audioVideoChatStartTime,\n  });\n  perf.markEnd('ChatContent: mapStateToProps');\n  return ret;\n};\n\nconst mergeProps = (stateProps, dispatchProps) => {\n  const { dispatch } = dispatchProps;\n\n  const dispatchObject = {\n\n    getSecureFormContent(token, rsaKey) {\n      const config = {\n        siteId: stateProps.siteId,\n        visitorId: stateProps.visitorId,\n        accessToken: token,\n        authToken: stateProps.agentSession,\n      };\n      getSecureFormContent(stateProps.secureFormServer, config, rsaKey)\n        .then((content) => {\n          dispatch(actions.onGetSecureFormContent(stateProps.id, token, content));\n        })\n        .catch((error) => {\n          reporter.error(error, 'ChatContent', 67, 0);\n        });\n    },\n    onScroll(id, scrollTop) {\n      dispatch(actions.updateScrollTop(id, scrollTop));\n    },\n    hideErrorMessage() {\n      dispatch(actions.setErrorMessageForChat(stateProps.id, ''));\n    },\n    clearG2mStartUrl() {\n      dispatch(actions.clearG2mStartUrl(stateProps.id));\n    },\n    updateIfShowNotify(ifShowNotify) {\n      dispatch(actions.updateIfShowNotify(stateProps.id, ifShowNotify));\n    },\n    onAudioAndVideoStopResize(info) {\n      dispatch(actions.audioAndVideoWidthChanged(stateProps.id, info));\n    },\n    onAudioVideoChatAccept() {\n      const status = stateProps.audioVideoChatStatus;\n      const visitorId = stateProps.visitorId;\n      if (status === audioVideoChatStatus.visitorRequestAudioChat\n        || status === audioVideoChatStatus.visitorRequestVideoChat) {\n        const p2pChat = new P2PChat({\n          url: stateProps.webrtcSignalingServiceUrl,\n          localVideo: document.createElement('VIDEO'),\n          remoteVideo: document.createElement('VIDEO'),\n          chat: stateProps.chatGuid,\n        });\n        p2pChat.requirePermission(true).then(() => {\n          dispatch(actions.setP2PChat(stateProps.id, p2pChat));\n\n          if (status === audioVideoChatStatus.visitorRequestAudioChat) {\n            dispatch(webAction.onAcceptAudioChat(visitorId));\n          } else {\n            dispatch(webAction.onAcceptVideoChat(visitorId));\n          }\n        });\n      }\n    },\n    onAudioVideoChatRefuse() {\n      const status = stateProps.audioVideoChatStatus;\n      const visitorId = stateProps.visitorId;\n      console.log('onAudioVideoChatRefuse:', status);\n      if (status === audioVideoChatStatus.visitorRequestAudioChat) {\n        dispatch(webAction.onRefuseAudioChat(visitorId));\n      } else if (status === audioVideoChatStatus.visitorRequestVideoChat) {\n        dispatch(webAction.onRefuseVideoChat(visitorId));\n      } else if (status === audioVideoChatStatus.agentRequestAudioChat) {\n        dispatch(webAction.onCancelAudioChatRequest(visitorId));\n      } else if (status === audioVideoChatStatus.agentRequestVideoChat) {\n        dispatch(webAction.onCancelVideoChatRequest(visitorId));\n      } else if (status === audioVideoChatStatus.audioChatting) {\n        dispatch(webAction.onStopAudioChat(visitorId));\n      } else if (status === audioVideoChatStatus.videoChatting) {\n        dispatch(webAction.onStopVideoChat(visitorId));\n      }\n    },\n  };\n  return {\n    ...stateProps,\n    ...dispatchObject,\n  };\n};\n\nexport default connect(mapStateToProps, null, mergeProps)(ChatContent);\n\n\n\n// WEBPACK FOOTER //\n// ./src/containers/ChatContent.jsx","import { connect } from 'react-redux';\nimport { PromoteToUser, PromoteToContact } from 'src/constants/enums/promote';\nimport * as perf from 'src/utils/perf';\nimport * as userType from 'src/constants/enums/userType';\nimport * as permissionType from 'src/constants/enums/liveChatPermission';\nimport * as helper from 'src/utils/common';\nimport * as agentAction from '../actions/agent';\nimport ChatHeader from '../components/ChatSection/ChatHeader/ChatHeader';\nimport * as selectors from '../reducers/selectors';\nimport * as chatActionCreater from '../actions/chat';\nimport * as visitorStatus from '../constants/enums/visitorStatus';\nimport * as uiActionCreater from '../actions/ui';\nimport { getSFObjectId } from '../components/Tabs/Salesforce/util'; // @todo place it elsewhere\n\nconst ifDisplayPromote = (state) => {\n  const chat = selectors.getSelectedChat(state);\n  const visitor = selectors.getVisitorByChatId(state, chat && chat.get('id'));\n  const siteInfo = selectors.getSiteInfo(state);\n  const ifHavePromotePermission = selectors.getPermission(state, permissionType.promoteVisitor);\n  if (visitor.get('identityType') !== userType.User &&\n  visitor.get('identityType') !== userType.Contact &&\n  (siteInfo.ifContactOpened && siteInfo.ifUserOpened) && ifHavePromotePermission) {\n    return true;\n  }\n  return false;\n};\n\nconst ifDisplayBan = (state) => {\n  const siteInfo = selectors.getSiteInfo(state);\n  const ifHaveBanPermission = selectors.getPermission(state, permissionType.manageBan);\n  if (siteInfo.ifCanBan && ifHaveBanPermission) {\n    return true;\n  }\n  return false;\n};\n\nconst ifDisplayLeaveChat = (state) => {\n  const chat = selectors.getSelectedChat(state);\n  if (!chat) return false;\n  const visitor = selectors.getVisitorByChatId(state, chat.get('id'));\n  const currentAgentId = selectors.getCurrentAgentId(state);\n  const isMonitoring = helper.isMonitorWithAgent(visitor, currentAgentId);\n  const isChattingWithAgent = selectors.checkIfVisitorStatusChatting(visitor.get('status')) &&\n      helper.isAgentInChatActiveList(visitor, currentAgentId);\n\n  if (isMonitoring || isChattingWithAgent) {\n    return true;\n  }\n  return false;\n};\n\nconst isDisplayCloseChat = (state) => {\n  const chat = selectors.getSelectedChat(state);\n  if (!chat) return false;\n  const visitor = selectors.getVisitorByChatId(state, chat.get('id'));\n  const agentId = selectors.getCurrentAgentId(state);\n\n  const status = visitor.get('status');\n  const isMonitoring = helper.isChatting(visitor) &&\n      helper.isMonitorWithAgent(visitor, agentId);\n\n  const isChatEnded = selectors.isChatEnded(status) ||\n      (helper.isVisitorChattedWithAgent(visitor, agentId) &&\n      !(helper.isChatting(visitor) && helper.isAgentInChatActiveList(visitor, agentId)));\n  const isTransferring = status === visitorStatus.transferring;\n\n  const isMonitorEnded = status === visitorStatus.chatEnded &&\n    helper.isAgentInMonitorList(visitor, agentId);\n\n  return (isChatEnded && !isMonitoring && !isTransferring) ||\n  isMonitorEnded || (status === visitorStatus.manuallyInvitedAndWaitingVisitor);\n};\n\nconst getSalesforceURL = (state, visitor) => {\n  const salesforceInteConfig = state.config.salesforce.integrationConfig;\n  if (!salesforceInteConfig) {\n    return '';\n  }\n  const instanceUrl = salesforceInteConfig.instanceUrl;\n  if (!instanceUrl) return '';\n  if (visitor.get('salesforceContactFields') != null && visitor.get('salesforceContactFields').length) {\n    return `https://${instanceUrl.replace('https://', '').replace('http://', '')}/${getSFObjectId(visitor.get('salesforceContactFields'))}`;\n  } else if (visitor.get('salesforceAccountFields') != null && visitor.get('salesforceAccountFields').length) {\n    return `https://${instanceUrl.replace('https://', '').replace('http://', '')}/${getSFObjectId(visitor.get('salesforceAccountFields'))}`;\n  } else if (visitor.get('salesforceLeadFields') != null && visitor.get('salesforceLeadFields').length) {\n    return `https://${instanceUrl.replace('https://', '').replace('http://', '')}/${getSFObjectId(visitor.get('salesforceLeadFields'))}`;\n  }\n  return '';\n};\n\nconst getIsContactOrUserOpen = (state) => {\n  if (state.config.settings.siteInfo) {\n    return (state.config.settings.siteInfo.ifContactOpened &&\n    state.config.settings.siteInfo.ifUserOpened);\n  }\n  return false;\n};\n\nconst mapStateToProps = (state) => {\n  const chatId = selectors.getSelectedChatId(state);\n  if (!chatId) {\n    return { };\n  }\n  perf.markBegin('ChatHeader: mapStateToProps');\n  const chat = selectors.getChat(state, chatId);\n  const visitor = selectors.getVisitorByChatId(state, chat && chat.get('id'));\n\n  const saleforceURL = getSalesforceURL(state, visitor);\n  const checkChatExisted = chat.get('id') !== visitor.get('chatId');\n  const isVisitorExists = selectors.isVisitorExists(state, visitor.get('id'));\n\n  const isContactOrUserOpen = getIsContactOrUserOpen(state);\n  const ret = ({\n    isContactOrUserOpen,\n    chatId: selectors.getSelectedChatId(state),\n    visitorInfo: visitor ? {\n      avatar: visitor.get('avatar'),\n      identityType: visitor.get('identityType'),\n      latestName: visitor.get('latestName'),\n      country: visitor.get('country'),\n      city: visitor.get('city'),\n      state: visitor.get('state'),\n      countryCode: visitor.get('countryCode'),\n      operatingSystem: visitor.get('operatingSystem'),\n      browser: visitor.get('browser'),\n      zendeskUrl: visitor.get('zendeskUrl'),\n      socialType: visitor.get('socialType'),\n      socialUrl: visitor.get('socialUrl'),\n      id: visitor.get('id'),\n      prechatEmail: visitor.get('prechatEmail'),\n      realVisitorId: visitor.get('realVisitorId'),\n      ip: visitor.get('ip'),\n      status: visitor.get('status'),\n    } : { },\n    saleforceURL,\n    disabledPromote: checkChatExisted || !isVisitorExists,\n    disabledBan: checkChatExisted || !isVisitorExists,\n    chatHeaderToolBarDisplay: {\n      displayPromote: ifDisplayPromote(state),\n      displayBan: ifDisplayBan(state),\n      displayLeave: ifDisplayLeaveChat(state),\n      displayCloseChat: isDisplayCloseChat(state),\n    },\n    ifUseMainServer: selectors.ifUseMainServer(state),\n  });\n  perf.markEnd('ChatHeader: mapStateToProps');\n  return ret;\n};\n\nconst mapDispatchToProps = dispatch => ({\n  onPromote(visitorId, promoteType) {\n    switch (promoteType) {\n      case PromoteToUser: {\n        dispatch(agentAction.promoteToUser(visitorId));\n        break;\n      }\n      case PromoteToContact: {\n        dispatch(agentAction.promoteToContact(visitorId));\n        break;\n      }\n      default: break;\n    }\n  },\n  onBanChat(visitorId, banInfo) {\n    dispatch(agentAction.banVisitor(visitorId, banInfo));\n  },\n  onLeaveChat(visitorId) {\n    dispatch(agentAction.leaveChat(visitorId));\n  },\n  onCloseChat(chatId, status, visitorId) {\n    if (status === visitorStatus.manuallyInvitedAndWaitingVisitor) {\n      dispatch(uiActionCreater.switchConfirmBeforeCloseWindow(true,\n      'ManuallyInvited',\n      'Are you sure you want to cancel the invitation?', {\n        visitorId,\n      }));\n    } else {\n      dispatch(chatActionCreater.tryCloseChat(chatId));\n    }\n  },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ChatHeader);\n\n\n\n// WEBPACK FOOTER //\n// ./src/containers/ChatHeader.jsx","import { connect } from 'react-redux';\nimport * as perf from 'src/utils/perf';\nimport ChatItemContainer from '../components/ChatItem/ChatItemContainer';\nimport * as chatListActionCreater from '../actions/chatList';\nimport { acceptChat,\n  refuseChat,\n  acceptTransfer,\n  setPreference,\n  refuseTransfer } from '../actions/agent';\nimport { createChatListState } from './Business/chatList';\nimport { chatListConfig, chatStatus } from '../constants/enums';\nimport * as infoActions from '../actions/visitorDetails';\nimport * as salesforceActions from '../actions/salesforce';\nimport * as actionTypes from '../constants/types/chatList';\nimport * as chatActionCreater from '../actions/chat';\nimport { operateGroupArrow, switchConfirmBeforeCloseWindow } from '../actions/ui';\nimport * as localStorage from '../utils/localStorage';\n\nlet mapStateToProps = state => createChatListState(state);\n\nconst mapDispatchToProps = dispatch => ({\n  onClickConfig(code) {\n    if (code === chatListConfig.showUnreposiveTime) {\n      dispatch(chatListActionCreater.createConfigAction(code, actionTypes.showUnreposiveTime));\n    } else if (code === chatListConfig.showDepartment) {\n      dispatch(chatListActionCreater.createConfigAction(code, actionTypes.showDepartment));\n    } else if (code === chatListConfig.showByStatus) {\n      dispatch(chatListActionCreater.createConfigAction(code, actionTypes.showByStatus));\n    }\n    dispatch(setPreference());\n  },\n  onClickPin(visitor) {\n    dispatch(chatListActionCreater.togglePin(visitor.chatId));\n  },\n  onItemClick(visitor) {\n    dispatch(chatListActionCreater.setSelected(visitor.chatId));\n    dispatch(infoActions.resetForms());\n    dispatch(salesforceActions.reset());\n    localStorage.deleteItem('salesforceFormState');\n    localStorage.deleteItem('prechatFormState');\n    localStorage.deleteItem('customFields_FormState');\n  },\n  onAcceptChat(visitor) {\n    if (visitor.currentStatus === chatStatus.transferring) {\n      dispatch(acceptTransfer(visitor.visitorId));\n    } else {\n      dispatch(acceptChat(visitor.visitorId));\n    }\n    dispatch(chatListActionCreater.setSelected(visitor.chatId));\n  },\n  onRefusedChat(visitor) {\n    if (visitor.currentStatus === chatStatus.transferring) {\n      dispatch(refuseTransfer(visitor.visitorId));\n    } else {\n      dispatch(refuseChat(visitor.visitorId));\n    }\n    dispatch(chatActionCreater.tryCloseChat(visitor.chatId));\n  },\n  onWrapUp(visitor) {\n    dispatch(chatListActionCreater.setSelected(visitor.chatId));\n    dispatch(chatListActionCreater.wrapUp(visitor.visitorId));\n  },\n  onDeleteItem(visitor) {\n    if (visitor.status === chatStatus.manuallyInvitedAndWatingVisitor) {\n      dispatch(switchConfirmBeforeCloseWindow(true,\n      'ManuallyInvited',\n      'Are you sure you want to cancel the invitation?', {\n        visitorId: visitor.visitorId,\n      }));\n    } else {\n      dispatch(chatActionCreater.tryCloseChat(visitor.chatId));\n    }\n  },\n  onClickArrow(id) {\n    dispatch(operateGroupArrow(id));\n  },\n});\n\nif (process.env.NODE_ENV !== 'production') {\n  mapStateToProps = perf.markFunctionCall('ChatList: mapStateToProps', mapStateToProps);\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ChatItemContainer);\n\n\n\n// WEBPACK FOOTER //\n// ./src/containers/ChatList.jsx","import { connect } from 'react-redux';\nimport NoChat from '../components/ChatItem/NoChat';\nimport { showVisitor } from '../actions/ui';\n\nconst mapDispatchToProps = dispatch => ({\n  goToVisitors() {\n    dispatch(showVisitor());\n  },\n});\nexport default connect(undefined, mapDispatchToProps)(NoChat);\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/containers/NoChat.jsx","import React from 'react';\nimport LazilyLoad, { importLazy } from 'src/components/LazilyLoad/LazilyLoad';\nimport loadingComponent from 'src/components/Icons/LoadingComponent';\nimport Reload from 'src/components/Widget/Reload';\n\nexport default () => (\n  <LazilyLoad\n    modules={{ ChatTextEditor: () => importLazy(new Promise((resolve, reject) => {\n      require.ensure(['./ChatTextEditor'], (require) => {\n        resolve(require('./ChatTextEditor'));\n      }, 'editor').catch(reject);\n    })) }}\n    loading={loadingComponent}\n    retry={Reload}\n  >\n    {\n      ({ ChatTextEditor }) => (\n        <ChatTextEditor />\n      )\n    }\n  </LazilyLoad>\n);\n\n\n\n// WEBPACK FOOTER //\n// ./src/containers/SplitterChatTextEditor.jsx","'use strict'\n\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nfunction init () {\n  var code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\n  for (var i = 0, len = code.length; i < len; ++i) {\n    lookup[i] = code[i]\n    revLookup[code.charCodeAt(i)] = i\n  }\n\n  revLookup['-'.charCodeAt(0)] = 62\n  revLookup['_'.charCodeAt(0)] = 63\n}\n\ninit()\n\nfunction toByteArray (b64) {\n  var i, j, l, tmp, placeHolders, arr\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // the number of equal signs (place holders)\n  // if there are two placeholders, than the two characters before it\n  // represent one byte\n  // if there is only one, then the three characters before it represent 2 bytes\n  // this is just a cheap hack to not do indexOf twice\n  placeHolders = b64[len - 2] === '=' ? 2 : b64[len - 1] === '=' ? 1 : 0\n\n  // base64 is 4/3 + up to two characters of the original data\n  arr = new Arr(len * 3 / 4 - placeHolders)\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  l = placeHolders > 0 ? len - 4 : len\n\n  var L = 0\n\n  for (i = 0, j = 0; i < l; i += 4, j += 3) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 18) | (revLookup[b64.charCodeAt(i + 1)] << 12) | (revLookup[b64.charCodeAt(i + 2)] << 6) | revLookup[b64.charCodeAt(i + 3)]\n    arr[L++] = (tmp >> 16) & 0xFF\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  if (placeHolders === 2) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 2) | (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[L++] = tmp & 0xFF\n  } else if (placeHolders === 1) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 10) | (revLookup[b64.charCodeAt(i + 1)] << 4) | (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] + lookup[num >> 12 & 0x3F] + lookup[num >> 6 & 0x3F] + lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var output = ''\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    output += lookup[tmp >> 2]\n    output += lookup[(tmp << 4) & 0x3F]\n    output += '=='\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + (uint8[len - 1])\n    output += lookup[tmp >> 10]\n    output += lookup[(tmp >> 4) & 0x3F]\n    output += lookup[(tmp << 2) & 0x3F]\n    output += '='\n  }\n\n  parts.push(output)\n\n  return parts.join('')\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/base64-js/lib/b64.js\n// module id = 1517\n// module chunks = 1","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/buffer/~/isarray/index.js\n// module id = 1527\n// module chunks = 1","// removed by extract-text-webpack-plugin\nmodule.exports = {\"autoTranslate\":\"AutoTranslate__autoTranslate--2MLy-\",\"overlay\":\"AutoTranslate__overlay--39FoE\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Prompt/AutoTranslate/AutoTranslate.css\n// module id = 1632\n// module chunks = 1","// removed by extract-text-webpack-plugin\nmodule.exports = {\"tooltip\":\"Default__tooltip--1H-e9\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/containers/Default.css\n// module id = 1638\n// module chunks = 1","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/ieee754/index.js\n// module id = 1662\n// module chunks = 1","var baseSlice = require('./_baseSlice'),\n    isIterateeCall = require('./_isIterateeCall'),\n    toInteger = require('./toInteger');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil,\n    nativeMax = Math.max;\n\n/**\n * Creates an array of elements split into groups the length of `size`.\n * If `array` can't be split evenly, the final chunk will be the remaining\n * elements.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to process.\n * @param {number} [size=1] The length of each chunk\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the new array of chunks.\n * @example\n *\n * _.chunk(['a', 'b', 'c', 'd'], 2);\n * // => [['a', 'b'], ['c', 'd']]\n *\n * _.chunk(['a', 'b', 'c', 'd'], 3);\n * // => [['a', 'b', 'c'], ['d']]\n */\nfunction chunk(array, size, guard) {\n  if ((guard ? isIterateeCall(array, size, guard) : size === undefined)) {\n    size = 1;\n  } else {\n    size = nativeMax(toInteger(size), 0);\n  }\n  var length = array == null ? 0 : array.length;\n  if (!length || size < 1) {\n    return [];\n  }\n  var index = 0,\n      resIndex = 0,\n      result = Array(nativeCeil(length / size));\n\n  while (index < length) {\n    result[resIndex++] = baseSlice(array, index, (index += size));\n  }\n  return result;\n}\n\nmodule.exports = chunk;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/chunk.js\n// module id = 1684\n// module chunks = 1"," /* eslint-env node */\n'use strict';\n\n// SDP helpers.\nvar SDPUtils = {};\n\n// Generate an alphanumeric identifier for cname or mids.\n// TODO: use UUIDs instead? https://gist.github.com/jed/982883\nSDPUtils.generateIdentifier = function() {\n  return Math.random().toString(36).substr(2, 10);\n};\n\n// The RTCP CNAME used by all peerconnections from the same JS.\nSDPUtils.localCName = SDPUtils.generateIdentifier();\n\n// Splits SDP into lines, dealing with both CRLF and LF.\nSDPUtils.splitLines = function(blob) {\n  return blob.trim().split('\\n').map(function(line) {\n    return line.trim();\n  });\n};\n// Splits SDP into sessionpart and mediasections. Ensures CRLF.\nSDPUtils.splitSections = function(blob) {\n  var parts = blob.split('\\nm=');\n  return parts.map(function(part, index) {\n    return (index > 0 ? 'm=' + part : part).trim() + '\\r\\n';\n  });\n};\n\n// Returns lines that start with a certain prefix.\nSDPUtils.matchPrefix = function(blob, prefix) {\n  return SDPUtils.splitLines(blob).filter(function(line) {\n    return line.indexOf(prefix) === 0;\n  });\n};\n\n// Parses an ICE candidate line. Sample input:\n// candidate:702786350 2 udp 41819902 8.8.8.8 60769 typ relay raddr 8.8.8.8\n// rport 55996\"\nSDPUtils.parseCandidate = function(line) {\n  var parts;\n  // Parse both variants.\n  if (line.indexOf('a=candidate:') === 0) {\n    parts = line.substring(12).split(' ');\n  } else {\n    parts = line.substring(10).split(' ');\n  }\n\n  var candidate = {\n    foundation: parts[0],\n    component: parts[1],\n    protocol: parts[2].toLowerCase(),\n    priority: parseInt(parts[3], 10),\n    ip: parts[4],\n    port: parseInt(parts[5], 10),\n    // skip parts[6] == 'typ'\n    type: parts[7]\n  };\n\n  for (var i = 8; i < parts.length; i += 2) {\n    switch (parts[i]) {\n      case 'raddr':\n        candidate.relatedAddress = parts[i + 1];\n        break;\n      case 'rport':\n        candidate.relatedPort = parseInt(parts[i + 1], 10);\n        break;\n      case 'tcptype':\n        candidate.tcpType = parts[i + 1];\n        break;\n      default: // Unknown extensions are silently ignored.\n        break;\n    }\n  }\n  return candidate;\n};\n\n// Translates a candidate object into SDP candidate attribute.\nSDPUtils.writeCandidate = function(candidate) {\n  var sdp = [];\n  sdp.push(candidate.foundation);\n  sdp.push(candidate.component);\n  sdp.push(candidate.protocol.toUpperCase());\n  sdp.push(candidate.priority);\n  sdp.push(candidate.ip);\n  sdp.push(candidate.port);\n\n  var type = candidate.type;\n  sdp.push('typ');\n  sdp.push(type);\n  if (type !== 'host' && candidate.relatedAddress &&\n      candidate.relatedPort) {\n    sdp.push('raddr');\n    sdp.push(candidate.relatedAddress); // was: relAddr\n    sdp.push('rport');\n    sdp.push(candidate.relatedPort); // was: relPort\n  }\n  if (candidate.tcpType && candidate.protocol.toLowerCase() === 'tcp') {\n    sdp.push('tcptype');\n    sdp.push(candidate.tcpType);\n  }\n  return 'candidate:' + sdp.join(' ');\n};\n\n// Parses an rtpmap line, returns RTCRtpCoddecParameters. Sample input:\n// a=rtpmap:111 opus/48000/2\nSDPUtils.parseRtpMap = function(line) {\n  var parts = line.substr(9).split(' ');\n  var parsed = {\n    payloadType: parseInt(parts.shift(), 10) // was: id\n  };\n\n  parts = parts[0].split('/');\n\n  parsed.name = parts[0];\n  parsed.clockRate = parseInt(parts[1], 10); // was: clockrate\n  // was: channels\n  parsed.numChannels = parts.length === 3 ? parseInt(parts[2], 10) : 1;\n  return parsed;\n};\n\n// Generate an a=rtpmap line from RTCRtpCodecCapability or\n// RTCRtpCodecParameters.\nSDPUtils.writeRtpMap = function(codec) {\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  return 'a=rtpmap:' + pt + ' ' + codec.name + '/' + codec.clockRate +\n      (codec.numChannels !== 1 ? '/' + codec.numChannels : '') + '\\r\\n';\n};\n\n// Parses an a=extmap line (headerextension from RFC 5285). Sample input:\n// a=extmap:2 urn:ietf:params:rtp-hdrext:toffset\nSDPUtils.parseExtmap = function(line) {\n  var parts = line.substr(9).split(' ');\n  return {\n    id: parseInt(parts[0], 10),\n    uri: parts[1]\n  };\n};\n\n// Generates a=extmap line from RTCRtpHeaderExtensionParameters or\n// RTCRtpHeaderExtension.\nSDPUtils.writeExtmap = function(headerExtension) {\n  return 'a=extmap:' + (headerExtension.id || headerExtension.preferredId) +\n       ' ' + headerExtension.uri + '\\r\\n';\n};\n\n// Parses an ftmp line, returns dictionary. Sample input:\n// a=fmtp:96 vbr=on;cng=on\n// Also deals with vbr=on; cng=on\nSDPUtils.parseFmtp = function(line) {\n  var parsed = {};\n  var kv;\n  var parts = line.substr(line.indexOf(' ') + 1).split(';');\n  for (var j = 0; j < parts.length; j++) {\n    kv = parts[j].trim().split('=');\n    parsed[kv[0].trim()] = kv[1];\n  }\n  return parsed;\n};\n\n// Generates an a=ftmp line from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeFmtp = function(codec) {\n  var line = '';\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.parameters && Object.keys(codec.parameters).length) {\n    var params = [];\n    Object.keys(codec.parameters).forEach(function(param) {\n      params.push(param + '=' + codec.parameters[param]);\n    });\n    line += 'a=fmtp:' + pt + ' ' + params.join(';') + '\\r\\n';\n  }\n  return line;\n};\n\n// Parses an rtcp-fb line, returns RTCPRtcpFeedback object. Sample input:\n// a=rtcp-fb:98 nack rpsi\nSDPUtils.parseRtcpFb = function(line) {\n  var parts = line.substr(line.indexOf(' ') + 1).split(' ');\n  return {\n    type: parts.shift(),\n    parameter: parts.join(' ')\n  };\n};\n// Generate a=rtcp-fb lines from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeRtcpFb = function(codec) {\n  var lines = '';\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.rtcpFeedback && codec.rtcpFeedback.length) {\n    // FIXME: special handling for trr-int?\n    codec.rtcpFeedback.forEach(function(fb) {\n      lines += 'a=rtcp-fb:' + pt + ' ' + fb.type +\n      (fb.parameter && fb.parameter.length ? ' ' + fb.parameter : '') +\n          '\\r\\n';\n    });\n  }\n  return lines;\n};\n\n// Parses an RFC 5576 ssrc media attribute. Sample input:\n// a=ssrc:3735928559 cname:something\nSDPUtils.parseSsrcMedia = function(line) {\n  var sp = line.indexOf(' ');\n  var parts = {\n    ssrc: parseInt(line.substr(7, sp - 7), 10)\n  };\n  var colon = line.indexOf(':', sp);\n  if (colon > -1) {\n    parts.attribute = line.substr(sp + 1, colon - sp - 1);\n    parts.value = line.substr(colon + 1);\n  } else {\n    parts.attribute = line.substr(sp + 1);\n  }\n  return parts;\n};\n\n// Extracts DTLS parameters from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the fingerprint line as input. See also getIceParameters.\nSDPUtils.getDtlsParameters = function(mediaSection, sessionpart) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  // Search in session part, too.\n  lines = lines.concat(SDPUtils.splitLines(sessionpart));\n  var fpLine = lines.filter(function(line) {\n    return line.indexOf('a=fingerprint:') === 0;\n  })[0].substr(14);\n  // Note: a=setup line is ignored since we use the 'auto' role.\n  // Note2: 'algorithm' is not case sensitive except in Edge.\n  var dtlsParameters = {\n    role: 'auto',\n    fingerprints: [{\n      algorithm: fpLine.split(' ')[0].toLowerCase(),\n      value: fpLine.split(' ')[1]\n    }]\n  };\n  return dtlsParameters;\n};\n\n// Serializes DTLS parameters to SDP.\nSDPUtils.writeDtlsParameters = function(params, setupType) {\n  var sdp = 'a=setup:' + setupType + '\\r\\n';\n  params.fingerprints.forEach(function(fp) {\n    sdp += 'a=fingerprint:' + fp.algorithm + ' ' + fp.value + '\\r\\n';\n  });\n  return sdp;\n};\n// Parses ICE information from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the ice-ufrag and ice-pwd lines as input.\nSDPUtils.getIceParameters = function(mediaSection, sessionpart) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  // Search in session part, too.\n  lines = lines.concat(SDPUtils.splitLines(sessionpart));\n  var iceParameters = {\n    usernameFragment: lines.filter(function(line) {\n      return line.indexOf('a=ice-ufrag:') === 0;\n    })[0].substr(12),\n    password: lines.filter(function(line) {\n      return line.indexOf('a=ice-pwd:') === 0;\n    })[0].substr(10)\n  };\n  return iceParameters;\n};\n\n// Serializes ICE parameters to SDP.\nSDPUtils.writeIceParameters = function(params) {\n  return 'a=ice-ufrag:' + params.usernameFragment + '\\r\\n' +\n      'a=ice-pwd:' + params.password + '\\r\\n';\n};\n\n// Parses the SDP media section and returns RTCRtpParameters.\nSDPUtils.parseRtpParameters = function(mediaSection) {\n  var description = {\n    codecs: [],\n    headerExtensions: [],\n    fecMechanisms: [],\n    rtcp: []\n  };\n  var lines = SDPUtils.splitLines(mediaSection);\n  var mline = lines[0].split(' ');\n  for (var i = 3; i < mline.length; i++) { // find all codecs from mline[3..]\n    var pt = mline[i];\n    var rtpmapline = SDPUtils.matchPrefix(\n        mediaSection, 'a=rtpmap:' + pt + ' ')[0];\n    if (rtpmapline) {\n      var codec = SDPUtils.parseRtpMap(rtpmapline);\n      var fmtps = SDPUtils.matchPrefix(\n          mediaSection, 'a=fmtp:' + pt + ' ');\n      // Only the first a=fmtp:<pt> is considered.\n      codec.parameters = fmtps.length ? SDPUtils.parseFmtp(fmtps[0]) : {};\n      codec.rtcpFeedback = SDPUtils.matchPrefix(\n          mediaSection, 'a=rtcp-fb:' + pt + ' ')\n        .map(SDPUtils.parseRtcpFb);\n      description.codecs.push(codec);\n      // parse FEC mechanisms from rtpmap lines.\n      switch (codec.name.toUpperCase()) {\n        case 'RED':\n        case 'ULPFEC':\n          description.fecMechanisms.push(codec.name.toUpperCase());\n          break;\n        default: // only RED and ULPFEC are recognized as FEC mechanisms.\n          break;\n      }\n    }\n  }\n  SDPUtils.matchPrefix(mediaSection, 'a=extmap:').forEach(function(line) {\n    description.headerExtensions.push(SDPUtils.parseExtmap(line));\n  });\n  // FIXME: parse rtcp.\n  return description;\n};\n\n// Generates parts of the SDP media section describing the capabilities /\n// parameters.\nSDPUtils.writeRtpDescription = function(kind, caps) {\n  var sdp = '';\n\n  // Build the mline.\n  sdp += 'm=' + kind + ' ';\n  sdp += caps.codecs.length > 0 ? '9' : '0'; // reject if no codecs.\n  sdp += ' UDP/TLS/RTP/SAVPF ';\n  sdp += caps.codecs.map(function(codec) {\n    if (codec.preferredPayloadType !== undefined) {\n      return codec.preferredPayloadType;\n    }\n    return codec.payloadType;\n  }).join(' ') + '\\r\\n';\n\n  sdp += 'c=IN IP4 0.0.0.0\\r\\n';\n  sdp += 'a=rtcp:9 IN IP4 0.0.0.0\\r\\n';\n\n  // Add a=rtpmap lines for each codec. Also fmtp and rtcp-fb.\n  caps.codecs.forEach(function(codec) {\n    sdp += SDPUtils.writeRtpMap(codec);\n    sdp += SDPUtils.writeFmtp(codec);\n    sdp += SDPUtils.writeRtcpFb(codec);\n  });\n  var maxptime = 0;\n  caps.codecs.forEach(function(codec) {\n    if (codec.maxptime > maxptime) {\n      maxptime = codec.maxptime;\n    }\n  });\n  if (maxptime > 0) {\n    sdp += 'a=maxptime:' + maxptime + '\\r\\n';\n  }\n  sdp += 'a=rtcp-mux\\r\\n';\n\n  caps.headerExtensions.forEach(function(extension) {\n    sdp += SDPUtils.writeExtmap(extension);\n  });\n  // FIXME: write fecMechanisms.\n  return sdp;\n};\n\n// Parses the SDP media section and returns an array of\n// RTCRtpEncodingParameters.\nSDPUtils.parseRtpEncodingParameters = function(mediaSection) {\n  var encodingParameters = [];\n  var description = SDPUtils.parseRtpParameters(mediaSection);\n  var hasRed = description.fecMechanisms.indexOf('RED') !== -1;\n  var hasUlpfec = description.fecMechanisms.indexOf('ULPFEC') !== -1;\n\n  // filter a=ssrc:... cname:, ignore PlanB-msid\n  var ssrcs = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n  .map(function(line) {\n    return SDPUtils.parseSsrcMedia(line);\n  })\n  .filter(function(parts) {\n    return parts.attribute === 'cname';\n  });\n  var primarySsrc = ssrcs.length > 0 && ssrcs[0].ssrc;\n  var secondarySsrc;\n\n  var flows = SDPUtils.matchPrefix(mediaSection, 'a=ssrc-group:FID')\n  .map(function(line) {\n    var parts = line.split(' ');\n    parts.shift();\n    return parts.map(function(part) {\n      return parseInt(part, 10);\n    });\n  });\n  if (flows.length > 0 && flows[0].length > 1 && flows[0][0] === primarySsrc) {\n    secondarySsrc = flows[0][1];\n  }\n\n  description.codecs.forEach(function(codec) {\n    if (codec.name.toUpperCase() === 'RTX' && codec.parameters.apt) {\n      var encParam = {\n        ssrc: primarySsrc,\n        codecPayloadType: parseInt(codec.parameters.apt, 10),\n        rtx: {\n          ssrc: secondarySsrc\n        }\n      };\n      encodingParameters.push(encParam);\n      if (hasRed) {\n        encParam = JSON.parse(JSON.stringify(encParam));\n        encParam.fec = {\n          ssrc: secondarySsrc,\n          mechanism: hasUlpfec ? 'red+ulpfec' : 'red'\n        };\n        encodingParameters.push(encParam);\n      }\n    }\n  });\n  if (encodingParameters.length === 0 && primarySsrc) {\n    encodingParameters.push({\n      ssrc: primarySsrc\n    });\n  }\n\n  // we support both b=AS and b=TIAS but interpret AS as TIAS.\n  var bandwidth = SDPUtils.matchPrefix(mediaSection, 'b=');\n  if (bandwidth.length) {\n    if (bandwidth[0].indexOf('b=TIAS:') === 0) {\n      bandwidth = parseInt(bandwidth[0].substr(7), 10);\n    } else if (bandwidth[0].indexOf('b=AS:') === 0) {\n      bandwidth = parseInt(bandwidth[0].substr(5), 10);\n    }\n    encodingParameters.forEach(function(params) {\n      params.maxBitrate = bandwidth;\n    });\n  }\n  return encodingParameters;\n};\n\n// parses http://draft.ortc.org/#rtcrtcpparameters*\nSDPUtils.parseRtcpParameters = function(mediaSection) {\n  var rtcpParameters = {};\n\n  var cname;\n  // Gets the first SSRC. Note that with RTX there might be multiple\n  // SSRCs.\n  var remoteSsrc = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n      .map(function(line) {\n        return SDPUtils.parseSsrcMedia(line);\n      })\n      .filter(function(obj) {\n        return obj.attribute === 'cname';\n      })[0];\n  if (remoteSsrc) {\n    rtcpParameters.cname = remoteSsrc.value;\n    rtcpParameters.ssrc = remoteSsrc.ssrc;\n  }\n\n  // Edge uses the compound attribute instead of reducedSize\n  // compound is !reducedSize\n  var rsize = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-rsize');\n  rtcpParameters.reducedSize = rsize.length > 0;\n  rtcpParameters.compound = rsize.length === 0;\n\n  // parses the rtcp-mux attrіbute.\n  // Note that Edge does not support unmuxed RTCP.\n  var mux = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-mux');\n  rtcpParameters.mux = mux.length > 0;\n\n  return rtcpParameters;\n};\n\n// parses either a=msid: or a=ssrc:... msid lines an returns\n// the id of the MediaStream and MediaStreamTrack.\nSDPUtils.parseMsid = function(mediaSection) {\n  var parts;\n  var spec = SDPUtils.matchPrefix(mediaSection, 'a=msid:');\n  if (spec.length === 1) {\n    parts = spec[0].substr(7).split(' ');\n    return {stream: parts[0], track: parts[1]};\n  }\n  var planB = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n  .map(function(line) {\n    return SDPUtils.parseSsrcMedia(line);\n  })\n  .filter(function(parts) {\n    return parts.attribute === 'msid';\n  });\n  if (planB.length > 0) {\n    parts = planB[0].value.split(' ');\n    return {stream: parts[0], track: parts[1]};\n  }\n};\n\nSDPUtils.writeSessionBoilerplate = function() {\n  // FIXME: sess-id should be an NTP timestamp.\n  return 'v=0\\r\\n' +\n      'o=thisisadapterortc 8169639915646943137 2 IN IP4 127.0.0.1\\r\\n' +\n      's=-\\r\\n' +\n      't=0 0\\r\\n';\n};\n\nSDPUtils.writeMediaSection = function(transceiver, caps, type, stream) {\n  var sdp = SDPUtils.writeRtpDescription(transceiver.kind, caps);\n\n  // Map ICE parameters (ufrag, pwd) to SDP.\n  sdp += SDPUtils.writeIceParameters(\n      transceiver.iceGatherer.getLocalParameters());\n\n  // Map DTLS parameters to SDP.\n  sdp += SDPUtils.writeDtlsParameters(\n      transceiver.dtlsTransport.getLocalParameters(),\n      type === 'offer' ? 'actpass' : 'active');\n\n  sdp += 'a=mid:' + transceiver.mid + '\\r\\n';\n\n  if (transceiver.rtpSender && transceiver.rtpReceiver) {\n    sdp += 'a=sendrecv\\r\\n';\n  } else if (transceiver.rtpSender) {\n    sdp += 'a=sendonly\\r\\n';\n  } else if (transceiver.rtpReceiver) {\n    sdp += 'a=recvonly\\r\\n';\n  } else {\n    sdp += 'a=inactive\\r\\n';\n  }\n\n  if (transceiver.rtpSender) {\n    // spec.\n    var msid = 'msid:' + stream.id + ' ' +\n        transceiver.rtpSender.track.id + '\\r\\n';\n    sdp += 'a=' + msid;\n\n    // for Chrome.\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n        ' ' + msid;\n    if (transceiver.sendEncodingParameters[0].rtx) {\n      sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n          ' ' + msid;\n      sdp += 'a=ssrc-group:FID ' +\n          transceiver.sendEncodingParameters[0].ssrc + ' ' +\n          transceiver.sendEncodingParameters[0].rtx.ssrc +\n          '\\r\\n';\n    }\n  }\n  // FIXME: this should be written by writeRtpDescription.\n  sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n      ' cname:' + SDPUtils.localCName + '\\r\\n';\n  if (transceiver.rtpSender && transceiver.sendEncodingParameters[0].rtx) {\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n        ' cname:' + SDPUtils.localCName + '\\r\\n';\n  }\n  return sdp;\n};\n\n// Gets the direction from the mediaSection or the sessionpart.\nSDPUtils.getDirection = function(mediaSection, sessionpart) {\n  // Look for sendrecv, sendonly, recvonly, inactive, default to sendrecv.\n  var lines = SDPUtils.splitLines(mediaSection);\n  for (var i = 0; i < lines.length; i++) {\n    switch (lines[i]) {\n      case 'a=sendrecv':\n      case 'a=sendonly':\n      case 'a=recvonly':\n      case 'a=inactive':\n        return lines[i].substr(2);\n      default:\n        // FIXME: What should happen here?\n    }\n  }\n  if (sessionpart) {\n    return SDPUtils.getDirection(sessionpart);\n  }\n  return 'sendrecv';\n};\n\nSDPUtils.getKind = function(mediaSection) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  var mline = lines[0].split(' ');\n  return mline[0].substr(2);\n};\n\nSDPUtils.isRejected = function(mediaSection) {\n  return mediaSection.split(' ', 2)[1] === '0';\n};\n\n// Expose public methods.\nmodule.exports = SDPUtils;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/sdp/sdp.js\n// module id = 1765\n// module chunks = 1","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n\n'use strict';\n\n// Shimming starts here.\n(function() {\n  // Utils.\n  var utils = require('./utils');\n  var logging = utils.log;\n  var browserDetails = utils.browserDetails;\n  // Export to the adapter global object visible in the browser.\n  module.exports.browserDetails = browserDetails;\n  module.exports.extractVersion = utils.extractVersion;\n  module.exports.disableLog = utils.disableLog;\n\n  // Uncomment the line below if you want logging to occur, including logging\n  // for the switch statement below. Can also be turned on in the browser via\n  // adapter.disableLog(false), but then logging from the switch statement below\n  // will not appear.\n  // require('./utils').disableLog(false);\n\n  // Browser shims.\n  var chromeShim = require('./chrome/chrome_shim') || null;\n  var edgeShim = require('./edge/edge_shim') || null;\n  var firefoxShim = require('./firefox/firefox_shim') || null;\n  var safariShim = require('./safari/safari_shim') || null;\n\n  // Shim browser if found.\n  switch (browserDetails.browser) {\n    case 'chrome':\n      if (!chromeShim || !chromeShim.shimPeerConnection) {\n        logging('Chrome shim is not included in this adapter release.');\n        return;\n      }\n      logging('adapter.js shimming chrome.');\n      // Export to the adapter global object visible in the browser.\n      module.exports.browserShim = chromeShim;\n\n      chromeShim.shimGetUserMedia();\n      chromeShim.shimMediaStream();\n      utils.shimCreateObjectURL();\n      chromeShim.shimSourceObject();\n      chromeShim.shimPeerConnection();\n      chromeShim.shimOnTrack();\n      chromeShim.shimGetSendersWithDtmf();\n      break;\n    case 'firefox':\n      if (!firefoxShim || !firefoxShim.shimPeerConnection) {\n        logging('Firefox shim is not included in this adapter release.');\n        return;\n      }\n      logging('adapter.js shimming firefox.');\n      // Export to the adapter global object visible in the browser.\n      module.exports.browserShim = firefoxShim;\n\n      firefoxShim.shimGetUserMedia();\n      utils.shimCreateObjectURL();\n      firefoxShim.shimSourceObject();\n      firefoxShim.shimPeerConnection();\n      firefoxShim.shimOnTrack();\n      break;\n    case 'edge':\n      if (!edgeShim || !edgeShim.shimPeerConnection) {\n        logging('MS edge shim is not included in this adapter release.');\n        return;\n      }\n      logging('adapter.js shimming edge.');\n      // Export to the adapter global object visible in the browser.\n      module.exports.browserShim = edgeShim;\n\n      edgeShim.shimGetUserMedia();\n      utils.shimCreateObjectURL();\n      edgeShim.shimPeerConnection();\n      break;\n    case 'safari':\n      if (!safariShim) {\n        logging('Safari shim is not included in this adapter release.');\n        return;\n      }\n      logging('adapter.js shimming safari.');\n      // Export to the adapter global object visible in the browser.\n      module.exports.browserShim = safariShim;\n\n      safariShim.shimGetUserMedia();\n      break;\n    default:\n      logging('Unsupported browser!');\n  }\n})();\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/webrtc-adapter/src/js/adapter_core.js\n// module id = 1790\n// module chunks = 1","\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\nvar logging = require('../utils.js').log;\nvar browserDetails = require('../utils.js').browserDetails;\n\nvar chromeShim = {\n  shimMediaStream: function() {\n    window.MediaStream = window.MediaStream || window.webkitMediaStream;\n  },\n\n  shimOnTrack: function() {\n    if (typeof window === 'object' && window.RTCPeerConnection && !('ontrack' in\n        window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {\n        get: function() {\n          return this._ontrack;\n        },\n        set: function(f) {\n          var self = this;\n          if (this._ontrack) {\n            this.removeEventListener('track', this._ontrack);\n            this.removeEventListener('addstream', this._ontrackpoly);\n          }\n          this.addEventListener('track', this._ontrack = f);\n          this.addEventListener('addstream', this._ontrackpoly = function(e) {\n            // onaddstream does not fire when a track is added to an existing\n            // stream. But stream.onaddtrack is implemented so we use that.\n            e.stream.addEventListener('addtrack', function(te) {\n              var event = new Event('track');\n              event.track = te.track;\n              event.receiver = {track: te.track};\n              event.streams = [e.stream];\n              self.dispatchEvent(event);\n            });\n            e.stream.getTracks().forEach(function(track) {\n              var event = new Event('track');\n              event.track = track;\n              event.receiver = {track: track};\n              event.streams = [e.stream];\n              this.dispatchEvent(event);\n            }.bind(this));\n          }.bind(this));\n        }\n      });\n    }\n  },\n\n  shimGetSendersWithDtmf: function() {\n    if (typeof window === 'object' && window.RTCPeerConnection &&\n        !('getSenders' in RTCPeerConnection.prototype) &&\n        'createDTMFSender' in RTCPeerConnection.prototype) {\n      RTCPeerConnection.prototype.getSenders = function() {\n        return this._senders;\n      };\n      var origAddStream = RTCPeerConnection.prototype.addStream;\n      var origRemoveStream = RTCPeerConnection.prototype.removeStream;\n\n      RTCPeerConnection.prototype.addStream = function(stream) {\n        var pc = this;\n        pc._senders = pc._senders || [];\n        origAddStream.apply(pc, [stream]);\n        stream.getTracks().forEach(function(track) {\n          pc._senders.push({\n            track: track,\n            get dtmf() {\n              if (this._dtmf === undefined) {\n                if (track.kind === 'audio') {\n                  this._dtmf = pc.createDTMFSender(track);\n                } else {\n                  this._dtmf = null;\n                }\n              }\n              return this._dtmf;\n            }\n          });\n        });\n      };\n\n      RTCPeerConnection.prototype.removeStream = function(stream) {\n        var pc = this;\n        pc._senders = pc._senders || [];\n        origRemoveStream.apply(pc, [stream]);\n        stream.getTracks().forEach(function(track) {\n          var sender = pc._senders.find(function(s) {\n            return s.track === track;\n          });\n          if (sender) {\n            pc._senders.splice(pc._senders.indexOf(sender), 1); // remove sender\n          }\n        });\n      };\n    }\n  },\n\n  shimSourceObject: function() {\n    if (typeof window === 'object') {\n      if (window.HTMLMediaElement &&\n        !('srcObject' in window.HTMLMediaElement.prototype)) {\n        // Shim the srcObject property, once, when HTMLMediaElement is found.\n        Object.defineProperty(window.HTMLMediaElement.prototype, 'srcObject', {\n          get: function() {\n            return this._srcObject;\n          },\n          set: function(stream) {\n            var self = this;\n            // Use _srcObject as a private property for this shim\n            this._srcObject = stream;\n            if (this.src) {\n              URL.revokeObjectURL(this.src);\n            }\n\n            if (!stream) {\n              this.src = '';\n              return undefined;\n            }\n            this.src = URL.createObjectURL(stream);\n            // We need to recreate the blob url when a track is added or\n            // removed. Doing it manually since we want to avoid a recursion.\n            stream.addEventListener('addtrack', function() {\n              if (self.src) {\n                URL.revokeObjectURL(self.src);\n              }\n              self.src = URL.createObjectURL(stream);\n            });\n            stream.addEventListener('removetrack', function() {\n              if (self.src) {\n                URL.revokeObjectURL(self.src);\n              }\n              self.src = URL.createObjectURL(stream);\n            });\n          }\n        });\n      }\n    }\n  },\n\n  shimPeerConnection: function() {\n    // The RTCPeerConnection object.\n    if (!window.RTCPeerConnection) {\n      window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n        // Translate iceTransportPolicy to iceTransports,\n        // see https://code.google.com/p/webrtc/issues/detail?id=4869\n        // this was fixed in M56 along with unprefixing RTCPeerConnection.\n        logging('PeerConnection');\n        if (pcConfig && pcConfig.iceTransportPolicy) {\n          pcConfig.iceTransports = pcConfig.iceTransportPolicy;\n        }\n\n        return new webkitRTCPeerConnection(pcConfig, pcConstraints);\n      };\n      window.RTCPeerConnection.prototype = webkitRTCPeerConnection.prototype;\n      // wrap static methods. Currently just generateCertificate.\n      if (webkitRTCPeerConnection.generateCertificate) {\n        Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n          get: function() {\n            return webkitRTCPeerConnection.generateCertificate;\n          }\n        });\n      }\n    }\n\n    var origGetStats = RTCPeerConnection.prototype.getStats;\n    RTCPeerConnection.prototype.getStats = function(selector,\n        successCallback, errorCallback) {\n      var self = this;\n      var args = arguments;\n\n      // If selector is a function then we are in the old style stats so just\n      // pass back the original getStats format to avoid breaking old users.\n      if (arguments.length > 0 && typeof selector === 'function') {\n        return origGetStats.apply(this, arguments);\n      }\n\n      // When spec-style getStats is supported, return those when called with\n      // either no arguments or the selector argument is null.\n      if (origGetStats.length === 0 && (arguments.length === 0 ||\n          typeof arguments[0] !== 'function')) {\n        return origGetStats.apply(this, []);\n      }\n\n      var fixChromeStats_ = function(response) {\n        var standardReport = {};\n        var reports = response.result();\n        reports.forEach(function(report) {\n          var standardStats = {\n            id: report.id,\n            timestamp: report.timestamp,\n            type: {\n              localcandidate: 'local-candidate',\n              remotecandidate: 'remote-candidate'\n            }[report.type] || report.type\n          };\n          report.names().forEach(function(name) {\n            standardStats[name] = report.stat(name);\n          });\n          standardReport[standardStats.id] = standardStats;\n        });\n\n        return standardReport;\n      };\n\n      // shim getStats with maplike support\n      var makeMapStats = function(stats) {\n        return new Map(Object.keys(stats).map(function(key) {\n          return[key, stats[key]];\n        }));\n      };\n\n      if (arguments.length >= 2) {\n        var successCallbackWrapper_ = function(response) {\n          args[1](makeMapStats(fixChromeStats_(response)));\n        };\n\n        return origGetStats.apply(this, [successCallbackWrapper_,\n            arguments[0]]);\n      }\n\n      // promise-support\n      return new Promise(function(resolve, reject) {\n        origGetStats.apply(self, [\n          function(response) {\n            resolve(makeMapStats(fixChromeStats_(response)));\n          }, reject]);\n      }).then(successCallback, errorCallback);\n    };\n\n    // add promise support -- natively available in Chrome 51\n    if (browserDetails.version < 51) {\n      ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n          .forEach(function(method) {\n            var nativeMethod = RTCPeerConnection.prototype[method];\n            RTCPeerConnection.prototype[method] = function() {\n              var args = arguments;\n              var self = this;\n              var promise = new Promise(function(resolve, reject) {\n                nativeMethod.apply(self, [args[0], resolve, reject]);\n              });\n              if (args.length < 2) {\n                return promise;\n              }\n              return promise.then(function() {\n                args[1].apply(null, []);\n              },\n              function(err) {\n                if (args.length >= 3) {\n                  args[2].apply(null, [err]);\n                }\n              });\n            };\n          });\n    }\n\n    // promise support for createOffer and createAnswer. Available (without\n    // bugs) since M52: crbug/619289\n    if (browserDetails.version < 52) {\n      ['createOffer', 'createAnswer'].forEach(function(method) {\n        var nativeMethod = RTCPeerConnection.prototype[method];\n        RTCPeerConnection.prototype[method] = function() {\n          var self = this;\n          if (arguments.length < 1 || (arguments.length === 1 &&\n              typeof arguments[0] === 'object')) {\n            var opts = arguments.length === 1 ? arguments[0] : undefined;\n            return new Promise(function(resolve, reject) {\n              nativeMethod.apply(self, [resolve, reject, opts]);\n            });\n          }\n          return nativeMethod.apply(this, arguments);\n        };\n      });\n    }\n\n    // shim implicit creation of RTCSessionDescription/RTCIceCandidate\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n        .forEach(function(method) {\n          var nativeMethod = RTCPeerConnection.prototype[method];\n          RTCPeerConnection.prototype[method] = function() {\n            arguments[0] = new ((method === 'addIceCandidate') ?\n                RTCIceCandidate : RTCSessionDescription)(arguments[0]);\n            return nativeMethod.apply(this, arguments);\n          };\n        });\n\n    // support for addIceCandidate(null or undefined)\n    var nativeAddIceCandidate =\n        RTCPeerConnection.prototype.addIceCandidate;\n    RTCPeerConnection.prototype.addIceCandidate = function() {\n      if (!arguments[0]) {\n        if (arguments[1]) {\n          arguments[1].apply(null);\n        }\n        return Promise.resolve();\n      }\n      return nativeAddIceCandidate.apply(this, arguments);\n    };\n  }\n};\n\n\n// Expose public methods.\nmodule.exports = {\n  shimMediaStream: chromeShim.shimMediaStream,\n  shimOnTrack: chromeShim.shimOnTrack,\n  shimGetSendersWithDtmf: chromeShim.shimGetSendersWithDtmf,\n  shimSourceObject: chromeShim.shimSourceObject,\n  shimPeerConnection: chromeShim.shimPeerConnection,\n  shimGetUserMedia: require('./getusermedia')\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/webrtc-adapter/src/js/chrome/chrome_shim.js\n// module id = 1791\n// module chunks = 1","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\nvar logging = require('../utils.js').log;\nvar browserDetails = require('../utils.js').browserDetails;\n\n// Expose public methods.\nmodule.exports = function() {\n  var constraintsToChrome_ = function(c) {\n    if (typeof c !== 'object' || c.mandatory || c.optional) {\n      return c;\n    }\n    var cc = {};\n    Object.keys(c).forEach(function(key) {\n      if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n        return;\n      }\n      var r = (typeof c[key] === 'object') ? c[key] : {ideal: c[key]};\n      if (r.exact !== undefined && typeof r.exact === 'number') {\n        r.min = r.max = r.exact;\n      }\n      var oldname_ = function(prefix, name) {\n        if (prefix) {\n          return prefix + name.charAt(0).toUpperCase() + name.slice(1);\n        }\n        return (name === 'deviceId') ? 'sourceId' : name;\n      };\n      if (r.ideal !== undefined) {\n        cc.optional = cc.optional || [];\n        var oc = {};\n        if (typeof r.ideal === 'number') {\n          oc[oldname_('min', key)] = r.ideal;\n          cc.optional.push(oc);\n          oc = {};\n          oc[oldname_('max', key)] = r.ideal;\n          cc.optional.push(oc);\n        } else {\n          oc[oldname_('', key)] = r.ideal;\n          cc.optional.push(oc);\n        }\n      }\n      if (r.exact !== undefined && typeof r.exact !== 'number') {\n        cc.mandatory = cc.mandatory || {};\n        cc.mandatory[oldname_('', key)] = r.exact;\n      } else {\n        ['min', 'max'].forEach(function(mix) {\n          if (r[mix] !== undefined) {\n            cc.mandatory = cc.mandatory || {};\n            cc.mandatory[oldname_(mix, key)] = r[mix];\n          }\n        });\n      }\n    });\n    if (c.advanced) {\n      cc.optional = (cc.optional || []).concat(c.advanced);\n    }\n    return cc;\n  };\n\n  var shimConstraints_ = function(constraints, func) {\n    constraints = JSON.parse(JSON.stringify(constraints));\n    if (constraints && constraints.audio) {\n      constraints.audio = constraintsToChrome_(constraints.audio);\n    }\n    if (constraints && typeof constraints.video === 'object') {\n      // Shim facingMode for mobile, where it defaults to \"user\".\n      var face = constraints.video.facingMode;\n      face = face && ((typeof face === 'object') ? face : {ideal: face});\n      var getSupportedFacingModeLies = browserDetails.version < 59;\n\n      if ((face && (face.exact === 'user' || face.exact === 'environment' ||\n                    face.ideal === 'user' || face.ideal === 'environment')) &&\n          !(navigator.mediaDevices.getSupportedConstraints &&\n            navigator.mediaDevices.getSupportedConstraints().facingMode &&\n            !getSupportedFacingModeLies)) {\n        delete constraints.video.facingMode;\n        if (face.exact === 'environment' || face.ideal === 'environment') {\n          // Look for \"back\" in label, or use last cam (typically back cam).\n          return navigator.mediaDevices.enumerateDevices()\n          .then(function(devices) {\n            devices = devices.filter(function(d) {\n              return d.kind === 'videoinput';\n            });\n            var back = devices.find(function(d) {\n              return d.label.toLowerCase().indexOf('back') !== -1;\n            }) || (devices.length && devices[devices.length - 1]);\n            if (back) {\n              constraints.video.deviceId = face.exact ? {exact: back.deviceId} :\n                                                        {ideal: back.deviceId};\n            }\n            constraints.video = constraintsToChrome_(constraints.video);\n            logging('chrome: ' + JSON.stringify(constraints));\n            return func(constraints);\n          });\n        }\n      }\n      constraints.video = constraintsToChrome_(constraints.video);\n    }\n    logging('chrome: ' + JSON.stringify(constraints));\n    return func(constraints);\n  };\n\n  var shimError_ = function(e) {\n    return {\n      name: {\n        PermissionDeniedError: 'NotAllowedError',\n        ConstraintNotSatisfiedError: 'OverconstrainedError'\n      }[e.name] || e.name,\n      message: e.message,\n      constraint: e.constraintName,\n      toString: function() {\n        return this.name + (this.message && ': ') + this.message;\n      }\n    };\n  };\n\n  var getUserMedia_ = function(constraints, onSuccess, onError) {\n    shimConstraints_(constraints, function(c) {\n      navigator.webkitGetUserMedia(c, onSuccess, function(e) {\n        onError(shimError_(e));\n      });\n    });\n  };\n\n  navigator.getUserMedia = getUserMedia_;\n\n  // Returns the result of getUserMedia as a Promise.\n  var getUserMediaPromise_ = function(constraints) {\n    return new Promise(function(resolve, reject) {\n      navigator.getUserMedia(constraints, resolve, reject);\n    });\n  };\n\n  if (!navigator.mediaDevices) {\n    navigator.mediaDevices = {\n      getUserMedia: getUserMediaPromise_,\n      enumerateDevices: function() {\n        return new Promise(function(resolve) {\n          var kinds = {audio: 'audioinput', video: 'videoinput'};\n          return MediaStreamTrack.getSources(function(devices) {\n            resolve(devices.map(function(device) {\n              return {label: device.label,\n                      kind: kinds[device.kind],\n                      deviceId: device.id,\n                      groupId: ''};\n            }));\n          });\n        });\n      },\n      getSupportedConstraints: function() {\n        return {\n          deviceId: true, echoCancellation: true, facingMode: true,\n          frameRate: true, height: true, width: true\n        };\n      }\n    };\n  }\n\n  // A shim for getUserMedia method on the mediaDevices object.\n  // TODO(KaptenJansson) remove once implemented in Chrome stable.\n  if (!navigator.mediaDevices.getUserMedia) {\n    navigator.mediaDevices.getUserMedia = function(constraints) {\n      return getUserMediaPromise_(constraints);\n    };\n  } else {\n    // Even though Chrome 45 has navigator.mediaDevices and a getUserMedia\n    // function which returns a Promise, it does not accept spec-style\n    // constraints.\n    var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(cs) {\n      return shimConstraints_(cs, function(c) {\n        return origGetUserMedia(c).then(function(stream) {\n          if (c.audio && !stream.getAudioTracks().length ||\n              c.video && !stream.getVideoTracks().length) {\n            stream.getTracks().forEach(function(track) {\n              track.stop();\n            });\n            throw new DOMException('', 'NotFoundError');\n          }\n          return stream;\n        }, function(e) {\n          return Promise.reject(shimError_(e));\n        });\n      });\n    };\n  }\n\n  // Dummy devicechange event methods.\n  // TODO(KaptenJansson) remove once implemented in Chrome stable.\n  if (typeof navigator.mediaDevices.addEventListener === 'undefined') {\n    navigator.mediaDevices.addEventListener = function() {\n      logging('Dummy mediaDevices.addEventListener called.');\n    };\n  }\n  if (typeof navigator.mediaDevices.removeEventListener === 'undefined') {\n    navigator.mediaDevices.removeEventListener = function() {\n      logging('Dummy mediaDevices.removeEventListener called.');\n    };\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/webrtc-adapter/src/js/chrome/getusermedia.js\n// module id = 1792\n// module chunks = 1","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar SDPUtils = require('sdp');\nvar browserDetails = require('../utils').browserDetails;\n\n// sort tracks such that they follow an a-v-a-v...\n// pattern.\nfunction sortTracks(tracks) {\n  var audioTracks = tracks.filter(function(track) {\n    return track.kind === 'audio';\n  });\n  var videoTracks = tracks.filter(function(track) {\n    return track.kind === 'video';\n  });\n  tracks = [];\n  while (audioTracks.length || videoTracks.length) {\n    if (audioTracks.length) {\n      tracks.push(audioTracks.shift());\n    }\n    if (videoTracks.length) {\n      tracks.push(videoTracks.shift());\n    }\n  }\n  return tracks;\n}\n\n// Edge does not like\n// 1) stun:\n// 2) turn: that does not have all of turn:host:port?transport=udp\n// 3) turn: with ipv6 addresses\n// 4) turn: occurring muliple times\nfunction filterIceServers(iceServers) {\n  var hasTurn = false;\n  iceServers = JSON.parse(JSON.stringify(iceServers));\n  return iceServers.filter(function(server) {\n    if (server && (server.urls || server.url)) {\n      var urls = server.urls || server.url;\n      var isString = typeof urls === 'string';\n      if (isString) {\n        urls = [urls];\n      }\n      urls = urls.filter(function(url) {\n        var validTurn = url.indexOf('turn:') === 0 &&\n            url.indexOf('transport=udp') !== -1 &&\n            url.indexOf('turn:[') === -1 &&\n            !hasTurn;\n\n        if (validTurn) {\n          hasTurn = true;\n          return true;\n        }\n        return url.indexOf('stun:') === 0 &&\n            browserDetails.version >= 14393;\n      });\n\n      delete server.url;\n      server.urls = isString ? urls[0] : urls;\n      return !!urls.length;\n    }\n    return false;\n  });\n}\n\nvar edgeShim = {\n  shimPeerConnection: function() {\n    if (window.RTCIceGatherer) {\n      // ORTC defines an RTCIceCandidate object but no constructor.\n      // Not implemented in Edge.\n      if (!window.RTCIceCandidate) {\n        window.RTCIceCandidate = function(args) {\n          return args;\n        };\n      }\n      // ORTC does not have a session description object but\n      // other browsers (i.e. Chrome) that will support both PC and ORTC\n      // in the future might have this defined already.\n      if (!window.RTCSessionDescription) {\n        window.RTCSessionDescription = function(args) {\n          return args;\n        };\n      }\n      // this adds an additional event listener to MediaStrackTrack that signals\n      // when a tracks enabled property was changed. Workaround for a bug in\n      // addStream, see below. No longer required in 15025+\n      if (browserDetails.version < 15025) {\n        var origMSTEnabled = Object.getOwnPropertyDescriptor(\n            MediaStreamTrack.prototype, 'enabled');\n        Object.defineProperty(MediaStreamTrack.prototype, 'enabled', {\n          set: function(value) {\n            origMSTEnabled.set.call(this, value);\n            var ev = new Event('enabled');\n            ev.enabled = value;\n            this.dispatchEvent(ev);\n          }\n        });\n      }\n    }\n\n    window.RTCPeerConnection = function(config) {\n      var self = this;\n\n      var _eventTarget = document.createDocumentFragment();\n      ['addEventListener', 'removeEventListener', 'dispatchEvent']\n          .forEach(function(method) {\n            self[method] = _eventTarget[method].bind(_eventTarget);\n          });\n\n      this.onicecandidate = null;\n      this.onaddstream = null;\n      this.ontrack = null;\n      this.onremovestream = null;\n      this.onsignalingstatechange = null;\n      this.oniceconnectionstatechange = null;\n      this.onicegatheringstatechange = null;\n      this.onnegotiationneeded = null;\n      this.ondatachannel = null;\n\n      this.localStreams = [];\n      this.remoteStreams = [];\n      this.getLocalStreams = function() {\n        return self.localStreams;\n      };\n      this.getRemoteStreams = function() {\n        return self.remoteStreams;\n      };\n\n      this.localDescription = new RTCSessionDescription({\n        type: '',\n        sdp: ''\n      });\n      this.remoteDescription = new RTCSessionDescription({\n        type: '',\n        sdp: ''\n      });\n      this.signalingState = 'stable';\n      this.iceConnectionState = 'new';\n      this.iceGatheringState = 'new';\n\n      this.iceOptions = {\n        gatherPolicy: 'all',\n        iceServers: []\n      };\n      if (config && config.iceTransportPolicy) {\n        switch (config.iceTransportPolicy) {\n          case 'all':\n          case 'relay':\n            this.iceOptions.gatherPolicy = config.iceTransportPolicy;\n            break;\n          default:\n            // don't set iceTransportPolicy.\n            break;\n        }\n      }\n      this.usingBundle = config && config.bundlePolicy === 'max-bundle';\n\n      if (config && config.iceServers) {\n        this.iceOptions.iceServers = filterIceServers(config.iceServers);\n      }\n      this._config = config;\n\n      // per-track iceGathers, iceTransports, dtlsTransports, rtpSenders, ...\n      // everything that is needed to describe a SDP m-line.\n      this.transceivers = [];\n\n      // since the iceGatherer is currently created in createOffer but we\n      // must not emit candidates until after setLocalDescription we buffer\n      // them in this array.\n      this._localIceCandidatesBuffer = [];\n    };\n\n    window.RTCPeerConnection.prototype._emitGatheringStateChange = function() {\n      var event = new Event('icegatheringstatechange');\n      this.dispatchEvent(event);\n      if (this.onicegatheringstatechange !== null) {\n        this.onicegatheringstatechange(event);\n      }\n    };\n\n    window.RTCPeerConnection.prototype._emitBufferedCandidates = function() {\n      var self = this;\n      var sections = SDPUtils.splitSections(self.localDescription.sdp);\n      // FIXME: need to apply ice candidates in a way which is async but\n      // in-order\n      this._localIceCandidatesBuffer.forEach(function(event) {\n        var end = !event.candidate || Object.keys(event.candidate).length === 0;\n        if (end) {\n          for (var j = 1; j < sections.length; j++) {\n            if (sections[j].indexOf('\\r\\na=end-of-candidates\\r\\n') === -1) {\n              sections[j] += 'a=end-of-candidates\\r\\n';\n            }\n          }\n        } else {\n          sections[event.candidate.sdpMLineIndex + 1] +=\n              'a=' + event.candidate.candidate + '\\r\\n';\n        }\n        self.localDescription.sdp = sections.join('');\n        self.dispatchEvent(event);\n        if (self.onicecandidate !== null) {\n          self.onicecandidate(event);\n        }\n        if (!event.candidate && self.iceGatheringState !== 'complete') {\n          var complete = self.transceivers.every(function(transceiver) {\n            return transceiver.iceGatherer &&\n                transceiver.iceGatherer.state === 'completed';\n          });\n          if (complete && self.iceGatheringStateChange !== 'complete') {\n            self.iceGatheringState = 'complete';\n            self._emitGatheringStateChange();\n          }\n        }\n      });\n      this._localIceCandidatesBuffer = [];\n    };\n\n    window.RTCPeerConnection.prototype.getConfiguration = function() {\n      return this._config;\n    };\n\n    window.RTCPeerConnection.prototype.addStream = function(stream) {\n      if (browserDetails.version >= 15025) {\n        this.localStreams.push(stream);\n      } else {\n        // Clone is necessary for local demos mostly, attaching directly\n        // to two different senders does not work (build 10547).\n        // Fixed in 15025 (or earlier)\n        var clonedStream = stream.clone();\n        stream.getTracks().forEach(function(track, idx) {\n          var clonedTrack = clonedStream.getTracks()[idx];\n          track.addEventListener('enabled', function(event) {\n            clonedTrack.enabled = event.enabled;\n          });\n        });\n        this.localStreams.push(clonedStream);\n      }\n      this._maybeFireNegotiationNeeded();\n    };\n\n    window.RTCPeerConnection.prototype.removeStream = function(stream) {\n      var idx = this.localStreams.indexOf(stream);\n      if (idx > -1) {\n        this.localStreams.splice(idx, 1);\n        this._maybeFireNegotiationNeeded();\n      }\n    };\n\n    window.RTCPeerConnection.prototype.getSenders = function() {\n      return this.transceivers.filter(function(transceiver) {\n        return !!transceiver.rtpSender;\n      })\n      .map(function(transceiver) {\n        return transceiver.rtpSender;\n      });\n    };\n\n    window.RTCPeerConnection.prototype.getReceivers = function() {\n      return this.transceivers.filter(function(transceiver) {\n        return !!transceiver.rtpReceiver;\n      })\n      .map(function(transceiver) {\n        return transceiver.rtpReceiver;\n      });\n    };\n\n    // Determines the intersection of local and remote capabilities.\n    window.RTCPeerConnection.prototype._getCommonCapabilities =\n        function(localCapabilities, remoteCapabilities) {\n          var commonCapabilities = {\n            codecs: [],\n            headerExtensions: [],\n            fecMechanisms: []\n          };\n\n          var findCodecByPayloadType = function(pt, codecs) {\n            pt = parseInt(pt, 10);\n            for (var i = 0; i < codecs.length; i++) {\n              if (codecs[i].payloadType === pt ||\n                  codecs[i].preferredPayloadType === pt) {\n                return codecs[i];\n              }\n            }\n          };\n\n          var rtxCapabilityMatches = function(lRtx, rRtx, lCodecs, rCodecs) {\n            var lCodec = findCodecByPayloadType(lRtx.parameters.apt, lCodecs);\n            var rCodec = findCodecByPayloadType(rRtx.parameters.apt, rCodecs);\n            return lCodec && rCodec &&\n                lCodec.name.toLowerCase() === rCodec.name.toLowerCase();\n          };\n\n          localCapabilities.codecs.forEach(function(lCodec) {\n            for (var i = 0; i < remoteCapabilities.codecs.length; i++) {\n              var rCodec = remoteCapabilities.codecs[i];\n              if (lCodec.name.toLowerCase() === rCodec.name.toLowerCase() &&\n                  lCodec.clockRate === rCodec.clockRate) {\n                if (lCodec.name.toLowerCase() === 'rtx' &&\n                    lCodec.parameters && rCodec.parameters.apt) {\n                  // for RTX we need to find the local rtx that has a apt\n                  // which points to the same local codec as the remote one.\n                  if (!rtxCapabilityMatches(lCodec, rCodec,\n                      localCapabilities.codecs, remoteCapabilities.codecs)) {\n                    continue;\n                  }\n                }\n                rCodec = JSON.parse(JSON.stringify(rCodec)); // deepcopy\n                // number of channels is the highest common number of channels\n                rCodec.numChannels = Math.min(lCodec.numChannels,\n                    rCodec.numChannels);\n                // push rCodec so we reply with offerer payload type\n                commonCapabilities.codecs.push(rCodec);\n\n                // determine common feedback mechanisms\n                rCodec.rtcpFeedback = rCodec.rtcpFeedback.filter(function(fb) {\n                  for (var j = 0; j < lCodec.rtcpFeedback.length; j++) {\n                    if (lCodec.rtcpFeedback[j].type === fb.type &&\n                        lCodec.rtcpFeedback[j].parameter === fb.parameter) {\n                      return true;\n                    }\n                  }\n                  return false;\n                });\n                // FIXME: also need to determine .parameters\n                //  see https://github.com/openpeer/ortc/issues/569\n                break;\n              }\n            }\n          });\n\n          localCapabilities.headerExtensions\n              .forEach(function(lHeaderExtension) {\n                for (var i = 0; i < remoteCapabilities.headerExtensions.length;\n                     i++) {\n                  var rHeaderExtension = remoteCapabilities.headerExtensions[i];\n                  if (lHeaderExtension.uri === rHeaderExtension.uri) {\n                    commonCapabilities.headerExtensions.push(rHeaderExtension);\n                    break;\n                  }\n                }\n              });\n\n          // FIXME: fecMechanisms\n          return commonCapabilities;\n        };\n\n    // Create ICE gatherer, ICE transport and DTLS transport.\n    window.RTCPeerConnection.prototype._createIceAndDtlsTransports =\n        function(mid, sdpMLineIndex) {\n          var self = this;\n          var iceGatherer = new RTCIceGatherer(self.iceOptions);\n          var iceTransport = new RTCIceTransport(iceGatherer);\n          iceGatherer.onlocalcandidate = function(evt) {\n            var event = new Event('icecandidate');\n            event.candidate = {sdpMid: mid, sdpMLineIndex: sdpMLineIndex};\n\n            var cand = evt.candidate;\n            var end = !cand || Object.keys(cand).length === 0;\n            // Edge emits an empty object for RTCIceCandidateComplete‥\n            if (end) {\n              // polyfill since RTCIceGatherer.state is not implemented in\n              // Edge 10547 yet.\n              if (iceGatherer.state === undefined) {\n                iceGatherer.state = 'completed';\n              }\n            } else {\n              // RTCIceCandidate doesn't have a component, needs to be added\n              cand.component = iceTransport.component === 'RTCP' ? 2 : 1;\n              event.candidate.candidate = SDPUtils.writeCandidate(cand);\n            }\n\n            // update local description.\n            var sections = SDPUtils.splitSections(self.localDescription.sdp);\n            if (!end) {\n              sections[event.candidate.sdpMLineIndex + 1] +=\n                  'a=' + event.candidate.candidate + '\\r\\n';\n            } else {\n              sections[event.candidate.sdpMLineIndex + 1] +=\n                  'a=end-of-candidates\\r\\n';\n            }\n            self.localDescription.sdp = sections.join('');\n            var transceivers = self._pendingOffer ? self._pendingOffer :\n                self.transceivers;\n            var complete = transceivers.every(function(transceiver) {\n              return transceiver.iceGatherer &&\n                  transceiver.iceGatherer.state === 'completed';\n            });\n\n            // Emit candidate if localDescription is set.\n            // Also emits null candidate when all gatherers are complete.\n            switch (self.iceGatheringState) {\n              case 'new':\n                if (!end) {\n                  self._localIceCandidatesBuffer.push(event);\n                }\n                if (end && complete) {\n                  self._localIceCandidatesBuffer.push(\n                      new Event('icecandidate'));\n                }\n                break;\n              case 'gathering':\n                self._emitBufferedCandidates();\n                if (!end) {\n                  self.dispatchEvent(event);\n                  if (self.onicecandidate !== null) {\n                    self.onicecandidate(event);\n                  }\n                }\n                if (complete) {\n                  self.dispatchEvent(new Event('icecandidate'));\n                  if (self.onicecandidate !== null) {\n                    self.onicecandidate(new Event('icecandidate'));\n                  }\n                  self.iceGatheringState = 'complete';\n                  self._emitGatheringStateChange();\n                }\n                break;\n              case 'complete':\n                // should not happen... currently!\n                break;\n              default: // no-op.\n                break;\n            }\n          };\n          iceTransport.onicestatechange = function() {\n            self._updateConnectionState();\n          };\n\n          var dtlsTransport = new RTCDtlsTransport(iceTransport);\n          dtlsTransport.ondtlsstatechange = function() {\n            self._updateConnectionState();\n          };\n          dtlsTransport.onerror = function() {\n            // onerror does not set state to failed by itself.\n            dtlsTransport.state = 'failed';\n            self._updateConnectionState();\n          };\n\n          return {\n            iceGatherer: iceGatherer,\n            iceTransport: iceTransport,\n            dtlsTransport: dtlsTransport\n          };\n        };\n\n    // Start the RTP Sender and Receiver for a transceiver.\n    window.RTCPeerConnection.prototype._transceive = function(transceiver,\n        send, recv) {\n      var params = this._getCommonCapabilities(transceiver.localCapabilities,\n          transceiver.remoteCapabilities);\n      if (send && transceiver.rtpSender) {\n        params.encodings = transceiver.sendEncodingParameters;\n        params.rtcp = {\n          cname: SDPUtils.localCName\n        };\n        if (transceiver.recvEncodingParameters.length) {\n          params.rtcp.ssrc = transceiver.recvEncodingParameters[0].ssrc;\n        }\n        transceiver.rtpSender.send(params);\n      }\n      if (recv && transceiver.rtpReceiver) {\n        // remove RTX field in Edge 14942\n        if (transceiver.kind === 'video'\n            && transceiver.recvEncodingParameters\n            && browserDetails.version < 15019) {\n          transceiver.recvEncodingParameters.forEach(function(p) {\n            delete p.rtx;\n          });\n        }\n        params.encodings = transceiver.recvEncodingParameters;\n        params.rtcp = {\n          cname: transceiver.cname\n        };\n        if (transceiver.sendEncodingParameters.length) {\n          params.rtcp.ssrc = transceiver.sendEncodingParameters[0].ssrc;\n        }\n        transceiver.rtpReceiver.receive(params);\n      }\n    };\n\n    window.RTCPeerConnection.prototype.setLocalDescription =\n        function(description) {\n          var self = this;\n          var sections;\n          var sessionpart;\n          if (description.type === 'offer') {\n            // FIXME: What was the purpose of this empty if statement?\n            // if (!this._pendingOffer) {\n            // } else {\n            if (this._pendingOffer) {\n              // VERY limited support for SDP munging. Limited to:\n              // * changing the order of codecs\n              sections = SDPUtils.splitSections(description.sdp);\n              sessionpart = sections.shift();\n              sections.forEach(function(mediaSection, sdpMLineIndex) {\n                var caps = SDPUtils.parseRtpParameters(mediaSection);\n                self._pendingOffer[sdpMLineIndex].localCapabilities = caps;\n              });\n              this.transceivers = this._pendingOffer;\n              delete this._pendingOffer;\n            }\n          } else if (description.type === 'answer') {\n            sections = SDPUtils.splitSections(self.remoteDescription.sdp);\n            sessionpart = sections.shift();\n            var isIceLite = SDPUtils.matchPrefix(sessionpart,\n                'a=ice-lite').length > 0;\n            sections.forEach(function(mediaSection, sdpMLineIndex) {\n              var transceiver = self.transceivers[sdpMLineIndex];\n              var iceGatherer = transceiver.iceGatherer;\n              var iceTransport = transceiver.iceTransport;\n              var dtlsTransport = transceiver.dtlsTransport;\n              var localCapabilities = transceiver.localCapabilities;\n              var remoteCapabilities = transceiver.remoteCapabilities;\n\n              var rejected = mediaSection.split('\\n', 1)[0]\n                  .split(' ', 2)[1] === '0';\n\n              if (!rejected && !transceiver.isDatachannel) {\n                var remoteIceParameters = SDPUtils.getIceParameters(\n                    mediaSection, sessionpart);\n                var remoteDtlsParameters = SDPUtils.getDtlsParameters(\n                    mediaSection, sessionpart);\n                if (isIceLite) {\n                  remoteDtlsParameters.role = 'server';\n                }\n\n                if (!self.usingBundle || sdpMLineIndex === 0) {\n                  iceTransport.start(iceGatherer, remoteIceParameters,\n                      isIceLite ? 'controlling' : 'controlled');\n                  dtlsTransport.start(remoteDtlsParameters);\n                }\n\n                // Calculate intersection of capabilities.\n                var params = self._getCommonCapabilities(localCapabilities,\n                    remoteCapabilities);\n\n                // Start the RTCRtpSender. The RTCRtpReceiver for this\n                // transceiver has already been started in setRemoteDescription.\n                self._transceive(transceiver,\n                    params.codecs.length > 0,\n                    false);\n              }\n            });\n          }\n\n          this.localDescription = {\n            type: description.type,\n            sdp: description.sdp\n          };\n          switch (description.type) {\n            case 'offer':\n              this._updateSignalingState('have-local-offer');\n              break;\n            case 'answer':\n              this._updateSignalingState('stable');\n              break;\n            default:\n              throw new TypeError('unsupported type \"' + description.type +\n                  '\"');\n          }\n\n          // If a success callback was provided, emit ICE candidates after it\n          // has been executed. Otherwise, emit callback after the Promise is\n          // resolved.\n          var hasCallback = arguments.length > 1 &&\n            typeof arguments[1] === 'function';\n          if (hasCallback) {\n            var cb = arguments[1];\n            window.setTimeout(function() {\n              cb();\n              if (self.iceGatheringState === 'new') {\n                self.iceGatheringState = 'gathering';\n                self._emitGatheringStateChange();\n              }\n              self._emitBufferedCandidates();\n            }, 0);\n          }\n          var p = Promise.resolve();\n          p.then(function() {\n            if (!hasCallback) {\n              if (self.iceGatheringState === 'new') {\n                self.iceGatheringState = 'gathering';\n                self._emitGatheringStateChange();\n              }\n              // Usually candidates will be emitted earlier.\n              window.setTimeout(self._emitBufferedCandidates.bind(self), 500);\n            }\n          });\n          return p;\n        };\n\n    window.RTCPeerConnection.prototype.setRemoteDescription =\n        function(description) {\n          var self = this;\n          var stream = new MediaStream();\n          var receiverList = [];\n          var sections = SDPUtils.splitSections(description.sdp);\n          var sessionpart = sections.shift();\n          var isIceLite = SDPUtils.matchPrefix(sessionpart,\n              'a=ice-lite').length > 0;\n          this.usingBundle = SDPUtils.matchPrefix(sessionpart,\n              'a=group:BUNDLE ').length > 0;\n          sections.forEach(function(mediaSection, sdpMLineIndex) {\n            var lines = SDPUtils.splitLines(mediaSection);\n            var mline = lines[0].substr(2).split(' ');\n            var kind = mline[0];\n            var rejected = mline[1] === '0';\n            var direction = SDPUtils.getDirection(mediaSection, sessionpart);\n\n            var mid = SDPUtils.matchPrefix(mediaSection, 'a=mid:');\n            if (mid.length) {\n              mid = mid[0].substr(6);\n            } else {\n              mid = SDPUtils.generateIdentifier();\n            }\n\n            // Reject datachannels which are not implemented yet.\n            if (kind === 'application' && mline[2] === 'DTLS/SCTP') {\n              self.transceivers[sdpMLineIndex] = {\n                mid: mid,\n                isDatachannel: true\n              };\n              return;\n            }\n\n            var transceiver;\n            var iceGatherer;\n            var iceTransport;\n            var dtlsTransport;\n            var rtpSender;\n            var rtpReceiver;\n            var sendEncodingParameters;\n            var recvEncodingParameters;\n            var localCapabilities;\n\n            var track;\n            // FIXME: ensure the mediaSection has rtcp-mux set.\n            var remoteCapabilities = SDPUtils.parseRtpParameters(mediaSection);\n            var remoteIceParameters;\n            var remoteDtlsParameters;\n            if (!rejected) {\n              remoteIceParameters = SDPUtils.getIceParameters(mediaSection,\n                  sessionpart);\n              remoteDtlsParameters = SDPUtils.getDtlsParameters(mediaSection,\n                  sessionpart);\n              remoteDtlsParameters.role = 'client';\n            }\n            recvEncodingParameters =\n                SDPUtils.parseRtpEncodingParameters(mediaSection);\n\n            var cname;\n            // Gets the first SSRC. Note that with RTX there might be multiple\n            // SSRCs.\n            var remoteSsrc = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n                .map(function(line) {\n                  return SDPUtils.parseSsrcMedia(line);\n                })\n                .filter(function(obj) {\n                  return obj.attribute === 'cname';\n                })[0];\n            if (remoteSsrc) {\n              cname = remoteSsrc.value;\n            }\n\n            var isComplete = SDPUtils.matchPrefix(mediaSection,\n                'a=end-of-candidates', sessionpart).length > 0;\n            var cands = SDPUtils.matchPrefix(mediaSection, 'a=candidate:')\n                .map(function(cand) {\n                  return SDPUtils.parseCandidate(cand);\n                })\n                .filter(function(cand) {\n                  return cand.component === '1';\n                });\n            if (description.type === 'offer' && !rejected) {\n              var transports = self.usingBundle && sdpMLineIndex > 0 ? {\n                iceGatherer: self.transceivers[0].iceGatherer,\n                iceTransport: self.transceivers[0].iceTransport,\n                dtlsTransport: self.transceivers[0].dtlsTransport\n              } : self._createIceAndDtlsTransports(mid, sdpMLineIndex);\n\n              if (isComplete && (!self.usingBundle || sdpMLineIndex === 0)) {\n                transports.iceTransport.setRemoteCandidates(cands);\n              }\n\n              localCapabilities = RTCRtpReceiver.getCapabilities(kind);\n\n              // filter RTX until additional stuff needed for RTX is implemented\n              // in adapter.js\n              if (browserDetails.version < 15019) {\n                localCapabilities.codecs = localCapabilities.codecs.filter(\n                    function(codec) {\n                      return codec.name !== 'rtx';\n                    });\n              }\n\n              sendEncodingParameters = [{\n                ssrc: (2 * sdpMLineIndex + 2) * 1001\n              }];\n\n              if (direction === 'sendrecv' || direction === 'sendonly') {\n                rtpReceiver = new RTCRtpReceiver(transports.dtlsTransport,\n                    kind);\n\n                track = rtpReceiver.track;\n                receiverList.push([track, rtpReceiver]);\n                // FIXME: not correct when there are multiple streams but that\n                // is not currently supported in this shim.\n                stream.addTrack(track);\n              }\n\n              // FIXME: look at direction.\n              if (self.localStreams.length > 0 &&\n                  self.localStreams[0].getTracks().length >= sdpMLineIndex) {\n                var localTrack;\n                if (kind === 'audio') {\n                  localTrack = self.localStreams[0].getAudioTracks()[0];\n                } else if (kind === 'video') {\n                  localTrack = self.localStreams[0].getVideoTracks()[0];\n                }\n                if (localTrack) {\n                  // add RTX\n                  if (browserDetails.version >= 15019 && kind === 'video') {\n                    sendEncodingParameters[0].rtx = {\n                      ssrc: (2 * sdpMLineIndex + 2) * 1001 + 1\n                    };\n                  }\n                  rtpSender = new RTCRtpSender(localTrack,\n                      transports.dtlsTransport);\n                }\n              }\n\n              self.transceivers[sdpMLineIndex] = {\n                iceGatherer: transports.iceGatherer,\n                iceTransport: transports.iceTransport,\n                dtlsTransport: transports.dtlsTransport,\n                localCapabilities: localCapabilities,\n                remoteCapabilities: remoteCapabilities,\n                rtpSender: rtpSender,\n                rtpReceiver: rtpReceiver,\n                kind: kind,\n                mid: mid,\n                cname: cname,\n                sendEncodingParameters: sendEncodingParameters,\n                recvEncodingParameters: recvEncodingParameters\n              };\n              // Start the RTCRtpReceiver now. The RTPSender is started in\n              // setLocalDescription.\n              self._transceive(self.transceivers[sdpMLineIndex],\n                  false,\n                  direction === 'sendrecv' || direction === 'sendonly');\n            } else if (description.type === 'answer' && !rejected) {\n              transceiver = self.transceivers[sdpMLineIndex];\n              iceGatherer = transceiver.iceGatherer;\n              iceTransport = transceiver.iceTransport;\n              dtlsTransport = transceiver.dtlsTransport;\n              rtpSender = transceiver.rtpSender;\n              rtpReceiver = transceiver.rtpReceiver;\n              sendEncodingParameters = transceiver.sendEncodingParameters;\n              localCapabilities = transceiver.localCapabilities;\n\n              self.transceivers[sdpMLineIndex].recvEncodingParameters =\n                  recvEncodingParameters;\n              self.transceivers[sdpMLineIndex].remoteCapabilities =\n                  remoteCapabilities;\n              self.transceivers[sdpMLineIndex].cname = cname;\n\n              if ((isIceLite || isComplete) && cands.length) {\n                iceTransport.setRemoteCandidates(cands);\n              }\n              if (!self.usingBundle || sdpMLineIndex === 0) {\n                iceTransport.start(iceGatherer, remoteIceParameters,\n                    'controlling');\n                dtlsTransport.start(remoteDtlsParameters);\n              }\n\n              self._transceive(transceiver,\n                  direction === 'sendrecv' || direction === 'recvonly',\n                  direction === 'sendrecv' || direction === 'sendonly');\n\n              if (rtpReceiver &&\n                  (direction === 'sendrecv' || direction === 'sendonly')) {\n                track = rtpReceiver.track;\n                receiverList.push([track, rtpReceiver]);\n                stream.addTrack(track);\n              } else {\n                // FIXME: actually the receiver should be created later.\n                delete transceiver.rtpReceiver;\n              }\n            }\n          });\n\n          this.remoteDescription = {\n            type: description.type,\n            sdp: description.sdp\n          };\n          switch (description.type) {\n            case 'offer':\n              this._updateSignalingState('have-remote-offer');\n              break;\n            case 'answer':\n              this._updateSignalingState('stable');\n              break;\n            default:\n              throw new TypeError('unsupported type \"' + description.type +\n                  '\"');\n          }\n          if (stream.getTracks().length) {\n            self.remoteStreams.push(stream);\n            window.setTimeout(function() {\n              var event = new Event('addstream');\n              event.stream = stream;\n              self.dispatchEvent(event);\n              if (self.onaddstream !== null) {\n                window.setTimeout(function() {\n                  self.onaddstream(event);\n                }, 0);\n              }\n\n              receiverList.forEach(function(item) {\n                var track = item[0];\n                var receiver = item[1];\n                var trackEvent = new Event('track');\n                trackEvent.track = track;\n                trackEvent.receiver = receiver;\n                trackEvent.streams = [stream];\n                self.dispatchEvent(trackEvent);\n                if (self.ontrack !== null) {\n                  window.setTimeout(function() {\n                    self.ontrack(trackEvent);\n                  }, 0);\n                }\n              });\n            }, 0);\n          }\n          if (arguments.length > 1 && typeof arguments[1] === 'function') {\n            window.setTimeout(arguments[1], 0);\n          }\n          return Promise.resolve();\n        };\n\n    window.RTCPeerConnection.prototype.close = function() {\n      this.transceivers.forEach(function(transceiver) {\n        /* not yet\n        if (transceiver.iceGatherer) {\n          transceiver.iceGatherer.close();\n        }\n        */\n        if (transceiver.iceTransport) {\n          transceiver.iceTransport.stop();\n        }\n        if (transceiver.dtlsTransport) {\n          transceiver.dtlsTransport.stop();\n        }\n        if (transceiver.rtpSender) {\n          transceiver.rtpSender.stop();\n        }\n        if (transceiver.rtpReceiver) {\n          transceiver.rtpReceiver.stop();\n        }\n      });\n      // FIXME: clean up tracks, local streams, remote streams, etc\n      this._updateSignalingState('closed');\n    };\n\n    // Update the signaling state.\n    window.RTCPeerConnection.prototype._updateSignalingState =\n        function(newState) {\n          this.signalingState = newState;\n          var event = new Event('signalingstatechange');\n          this.dispatchEvent(event);\n          if (this.onsignalingstatechange !== null) {\n            this.onsignalingstatechange(event);\n          }\n        };\n\n    // Determine whether to fire the negotiationneeded event.\n    window.RTCPeerConnection.prototype._maybeFireNegotiationNeeded =\n        function() {\n          // Fire away (for now).\n          var event = new Event('negotiationneeded');\n          this.dispatchEvent(event);\n          if (this.onnegotiationneeded !== null) {\n            this.onnegotiationneeded(event);\n          }\n        };\n\n    // Update the connection state.\n    window.RTCPeerConnection.prototype._updateConnectionState = function() {\n      var self = this;\n      var newState;\n      var states = {\n        'new': 0,\n        closed: 0,\n        connecting: 0,\n        checking: 0,\n        connected: 0,\n        completed: 0,\n        failed: 0\n      };\n      this.transceivers.forEach(function(transceiver) {\n        states[transceiver.iceTransport.state]++;\n        states[transceiver.dtlsTransport.state]++;\n      });\n      // ICETransport.completed and connected are the same for this purpose.\n      states.connected += states.completed;\n\n      newState = 'new';\n      if (states.failed > 0) {\n        newState = 'failed';\n      } else if (states.connecting > 0 || states.checking > 0) {\n        newState = 'connecting';\n      } else if (states.disconnected > 0) {\n        newState = 'disconnected';\n      } else if (states.new > 0) {\n        newState = 'new';\n      } else if (states.connected > 0 || states.completed > 0) {\n        newState = 'connected';\n      }\n\n      if (newState !== self.iceConnectionState) {\n        self.iceConnectionState = newState;\n        var event = new Event('iceconnectionstatechange');\n        this.dispatchEvent(event);\n        if (this.oniceconnectionstatechange !== null) {\n          this.oniceconnectionstatechange(event);\n        }\n      }\n    };\n\n    window.RTCPeerConnection.prototype.createOffer = function() {\n      var self = this;\n      if (this._pendingOffer) {\n        throw new Error('createOffer called while there is a pending offer.');\n      }\n      var offerOptions;\n      if (arguments.length === 1 && typeof arguments[0] !== 'function') {\n        offerOptions = arguments[0];\n      } else if (arguments.length === 3) {\n        offerOptions = arguments[2];\n      }\n\n      var tracks = [];\n      var numAudioTracks = 0;\n      var numVideoTracks = 0;\n      // Default to sendrecv.\n      if (this.localStreams.length) {\n        numAudioTracks = this.localStreams[0].getAudioTracks().length;\n        numVideoTracks = this.localStreams[0].getVideoTracks().length;\n      }\n      // Determine number of audio and video tracks we need to send/recv.\n      if (offerOptions) {\n        // Reject Chrome legacy constraints.\n        if (offerOptions.mandatory || offerOptions.optional) {\n          throw new TypeError(\n              'Legacy mandatory/optional constraints not supported.');\n        }\n        if (offerOptions.offerToReceiveAudio !== undefined) {\n          numAudioTracks = offerOptions.offerToReceiveAudio;\n        }\n        if (offerOptions.offerToReceiveVideo !== undefined) {\n          numVideoTracks = offerOptions.offerToReceiveVideo;\n        }\n      }\n      if (this.localStreams.length) {\n        // Push local streams.\n        this.localStreams[0].getTracks().forEach(function(track) {\n          tracks.push({\n            kind: track.kind,\n            track: track,\n            wantReceive: track.kind === 'audio' ?\n                numAudioTracks > 0 : numVideoTracks > 0\n          });\n          if (track.kind === 'audio') {\n            numAudioTracks--;\n          } else if (track.kind === 'video') {\n            numVideoTracks--;\n          }\n        });\n      }\n      // Create M-lines for recvonly streams.\n      while (numAudioTracks > 0 || numVideoTracks > 0) {\n        if (numAudioTracks > 0) {\n          tracks.push({\n            kind: 'audio',\n            wantReceive: true\n          });\n          numAudioTracks--;\n        }\n        if (numVideoTracks > 0) {\n          tracks.push({\n            kind: 'video',\n            wantReceive: true\n          });\n          numVideoTracks--;\n        }\n      }\n      // reorder tracks\n      tracks = sortTracks(tracks);\n\n      var sdp = SDPUtils.writeSessionBoilerplate();\n      var transceivers = [];\n      tracks.forEach(function(mline, sdpMLineIndex) {\n        // For each track, create an ice gatherer, ice transport,\n        // dtls transport, potentially rtpsender and rtpreceiver.\n        var track = mline.track;\n        var kind = mline.kind;\n        var mid = SDPUtils.generateIdentifier();\n\n        var transports = self.usingBundle && sdpMLineIndex > 0 ? {\n          iceGatherer: transceivers[0].iceGatherer,\n          iceTransport: transceivers[0].iceTransport,\n          dtlsTransport: transceivers[0].dtlsTransport\n        } : self._createIceAndDtlsTransports(mid, sdpMLineIndex);\n\n        var localCapabilities = RTCRtpSender.getCapabilities(kind);\n        // filter RTX until additional stuff needed for RTX is implemented\n        // in adapter.js\n        if (browserDetails.version < 15019) {\n          localCapabilities.codecs = localCapabilities.codecs.filter(\n              function(codec) {\n                return codec.name !== 'rtx';\n              });\n        }\n        localCapabilities.codecs.forEach(function(codec) {\n          // work around https://bugs.chromium.org/p/webrtc/issues/detail?id=6552\n          // by adding level-asymmetry-allowed=1\n          if (codec.name === 'H264' &&\n              codec.parameters['level-asymmetry-allowed'] === undefined) {\n            codec.parameters['level-asymmetry-allowed'] = '1';\n          }\n        });\n\n        var rtpSender;\n        var rtpReceiver;\n\n        // generate an ssrc now, to be used later in rtpSender.send\n        var sendEncodingParameters = [{\n          ssrc: (2 * sdpMLineIndex + 1) * 1001\n        }];\n        if (track) {\n          // add RTX\n          if (browserDetails.version >= 15019 && kind === 'video') {\n            sendEncodingParameters[0].rtx = {\n              ssrc: (2 * sdpMLineIndex + 1) * 1001 + 1\n            };\n          }\n          rtpSender = new RTCRtpSender(track, transports.dtlsTransport);\n        }\n\n        if (mline.wantReceive) {\n          rtpReceiver = new RTCRtpReceiver(transports.dtlsTransport, kind);\n        }\n\n        transceivers[sdpMLineIndex] = {\n          iceGatherer: transports.iceGatherer,\n          iceTransport: transports.iceTransport,\n          dtlsTransport: transports.dtlsTransport,\n          localCapabilities: localCapabilities,\n          remoteCapabilities: null,\n          rtpSender: rtpSender,\n          rtpReceiver: rtpReceiver,\n          kind: kind,\n          mid: mid,\n          sendEncodingParameters: sendEncodingParameters,\n          recvEncodingParameters: null\n        };\n      });\n      if (this.usingBundle) {\n        sdp += 'a=group:BUNDLE ' + transceivers.map(function(t) {\n          return t.mid;\n        }).join(' ') + '\\r\\n';\n      }\n      tracks.forEach(function(mline, sdpMLineIndex) {\n        var transceiver = transceivers[sdpMLineIndex];\n        sdp += SDPUtils.writeMediaSection(transceiver,\n            transceiver.localCapabilities, 'offer', self.localStreams[0]);\n      });\n\n      this._pendingOffer = transceivers;\n      var desc = new RTCSessionDescription({\n        type: 'offer',\n        sdp: sdp\n      });\n      if (arguments.length && typeof arguments[0] === 'function') {\n        window.setTimeout(arguments[0], 0, desc);\n      }\n      return Promise.resolve(desc);\n    };\n\n    window.RTCPeerConnection.prototype.createAnswer = function() {\n      var self = this;\n\n      var sdp = SDPUtils.writeSessionBoilerplate();\n      if (this.usingBundle) {\n        sdp += 'a=group:BUNDLE ' + this.transceivers.map(function(t) {\n          return t.mid;\n        }).join(' ') + '\\r\\n';\n      }\n      this.transceivers.forEach(function(transceiver) {\n        if (transceiver.isDatachannel) {\n          sdp += 'm=application 0 DTLS/SCTP 5000\\r\\n' +\n              'c=IN IP4 0.0.0.0\\r\\n' +\n              'a=mid:' + transceiver.mid + '\\r\\n';\n          return;\n        }\n        // Calculate intersection of capabilities.\n        var commonCapabilities = self._getCommonCapabilities(\n            transceiver.localCapabilities,\n            transceiver.remoteCapabilities);\n\n        sdp += SDPUtils.writeMediaSection(transceiver, commonCapabilities,\n            'answer', self.localStreams[0]);\n      });\n\n      var desc = new RTCSessionDescription({\n        type: 'answer',\n        sdp: sdp\n      });\n      if (arguments.length && typeof arguments[0] === 'function') {\n        window.setTimeout(arguments[0], 0, desc);\n      }\n      return Promise.resolve(desc);\n    };\n\n    window.RTCPeerConnection.prototype.addIceCandidate = function(candidate) {\n      if (!candidate) {\n        for (var j = 0; j < this.transceivers.length; j++) {\n          this.transceivers[j].iceTransport.addRemoteCandidate({});\n          if (this.usingBundle) {\n            return Promise.resolve();\n          }\n        }\n      } else {\n        var mLineIndex = candidate.sdpMLineIndex;\n        if (candidate.sdpMid) {\n          for (var i = 0; i < this.transceivers.length; i++) {\n            if (this.transceivers[i].mid === candidate.sdpMid) {\n              mLineIndex = i;\n              break;\n            }\n          }\n        }\n        var transceiver = this.transceivers[mLineIndex];\n        if (transceiver) {\n          var cand = Object.keys(candidate.candidate).length > 0 ?\n              SDPUtils.parseCandidate(candidate.candidate) : {};\n          // Ignore Chrome's invalid candidates since Edge does not like them.\n          if (cand.protocol === 'tcp' && (cand.port === 0 || cand.port === 9)) {\n            return Promise.resolve();\n          }\n          // Ignore RTCP candidates, we assume RTCP-MUX.\n          if (cand.component !== '1') {\n            return Promise.resolve();\n          }\n          transceiver.iceTransport.addRemoteCandidate(cand);\n\n          // update the remoteDescription.\n          var sections = SDPUtils.splitSections(this.remoteDescription.sdp);\n          sections[mLineIndex + 1] += (cand.type ? candidate.candidate.trim()\n              : 'a=end-of-candidates') + '\\r\\n';\n          this.remoteDescription.sdp = sections.join('');\n        }\n      }\n      if (arguments.length > 1 && typeof arguments[1] === 'function') {\n        window.setTimeout(arguments[1], 0);\n      }\n      return Promise.resolve();\n    };\n\n    window.RTCPeerConnection.prototype.getStats = function() {\n      var promises = [];\n      this.transceivers.forEach(function(transceiver) {\n        ['rtpSender', 'rtpReceiver', 'iceGatherer', 'iceTransport',\n            'dtlsTransport'].forEach(function(method) {\n              if (transceiver[method]) {\n                promises.push(transceiver[method].getStats());\n              }\n            });\n      });\n      var cb = arguments.length > 1 && typeof arguments[1] === 'function' &&\n          arguments[1];\n      var fixStatsType = function(stat) {\n        return {\n          inboundrtp: 'inbound-rtp',\n          outboundrtp: 'outbound-rtp',\n          candidatepair: 'candidate-pair',\n          localcandidate: 'local-candidate',\n          remotecandidate: 'remote-candidate'\n        }[stat.type] || stat.type;\n      };\n      return new Promise(function(resolve) {\n        // shim getStats with maplike support\n        var results = new Map();\n        Promise.all(promises).then(function(res) {\n          res.forEach(function(result) {\n            Object.keys(result).forEach(function(id) {\n              result[id].type = fixStatsType(result[id]);\n              results.set(id, result[id]);\n            });\n          });\n          if (cb) {\n            window.setTimeout(cb, 0, results);\n          }\n          resolve(results);\n        });\n      });\n    };\n  }\n};\n\n// Expose public methods.\nmodule.exports = {\n  shimPeerConnection: edgeShim.shimPeerConnection,\n  shimGetUserMedia: require('./getusermedia')\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/webrtc-adapter/src/js/edge/edge_shim.js\n// module id = 1793\n// module chunks = 1","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\n// Expose public methods.\nmodule.exports = function() {\n  var shimError_ = function(e) {\n    return {\n      name: {PermissionDeniedError: 'NotAllowedError'}[e.name] || e.name,\n      message: e.message,\n      constraint: e.constraint,\n      toString: function() {\n        return this.name;\n      }\n    };\n  };\n\n  // getUserMedia error shim.\n  var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n      bind(navigator.mediaDevices);\n  navigator.mediaDevices.getUserMedia = function(c) {\n    return origGetUserMedia(c).catch(function(e) {\n      return Promise.reject(shimError_(e));\n    });\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/webrtc-adapter/src/js/edge/getusermedia.js\n// module id = 1794\n// module chunks = 1","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar browserDetails = require('../utils').browserDetails;\n\nvar firefoxShim = {\n  shimOnTrack: function() {\n    if (typeof window === 'object' && window.RTCPeerConnection && !('ontrack' in\n        window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {\n        get: function() {\n          return this._ontrack;\n        },\n        set: function(f) {\n          if (this._ontrack) {\n            this.removeEventListener('track', this._ontrack);\n            this.removeEventListener('addstream', this._ontrackpoly);\n          }\n          this.addEventListener('track', this._ontrack = f);\n          this.addEventListener('addstream', this._ontrackpoly = function(e) {\n            e.stream.getTracks().forEach(function(track) {\n              var event = new Event('track');\n              event.track = track;\n              event.receiver = {track: track};\n              event.streams = [e.stream];\n              this.dispatchEvent(event);\n            }.bind(this));\n          }.bind(this));\n        }\n      });\n    }\n  },\n\n  shimSourceObject: function() {\n    // Firefox has supported mozSrcObject since FF22, unprefixed in 42.\n    if (typeof window === 'object') {\n      if (window.HTMLMediaElement &&\n        !('srcObject' in window.HTMLMediaElement.prototype)) {\n        // Shim the srcObject property, once, when HTMLMediaElement is found.\n        Object.defineProperty(window.HTMLMediaElement.prototype, 'srcObject', {\n          get: function() {\n            return this.mozSrcObject;\n          },\n          set: function(stream) {\n            this.mozSrcObject = stream;\n          }\n        });\n      }\n    }\n  },\n\n  shimPeerConnection: function() {\n    if (typeof window !== 'object' || !(window.RTCPeerConnection ||\n        window.mozRTCPeerConnection)) {\n      return; // probably media.peerconnection.enabled=false in about:config\n    }\n    // The RTCPeerConnection object.\n    if (!window.RTCPeerConnection) {\n      window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n        if (browserDetails.version < 38) {\n          // .urls is not supported in FF < 38.\n          // create RTCIceServers with a single url.\n          if (pcConfig && pcConfig.iceServers) {\n            var newIceServers = [];\n            for (var i = 0; i < pcConfig.iceServers.length; i++) {\n              var server = pcConfig.iceServers[i];\n              if (server.hasOwnProperty('urls')) {\n                for (var j = 0; j < server.urls.length; j++) {\n                  var newServer = {\n                    url: server.urls[j]\n                  };\n                  if (server.urls[j].indexOf('turn') === 0) {\n                    newServer.username = server.username;\n                    newServer.credential = server.credential;\n                  }\n                  newIceServers.push(newServer);\n                }\n              } else {\n                newIceServers.push(pcConfig.iceServers[i]);\n              }\n            }\n            pcConfig.iceServers = newIceServers;\n          }\n        }\n        return new mozRTCPeerConnection(pcConfig, pcConstraints);\n      };\n      window.RTCPeerConnection.prototype = mozRTCPeerConnection.prototype;\n\n      // wrap static methods. Currently just generateCertificate.\n      if (mozRTCPeerConnection.generateCertificate) {\n        Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n          get: function() {\n            return mozRTCPeerConnection.generateCertificate;\n          }\n        });\n      }\n\n      window.RTCSessionDescription = mozRTCSessionDescription;\n      window.RTCIceCandidate = mozRTCIceCandidate;\n    }\n\n    // shim away need for obsolete RTCIceCandidate/RTCSessionDescription.\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n        .forEach(function(method) {\n          var nativeMethod = RTCPeerConnection.prototype[method];\n          RTCPeerConnection.prototype[method] = function() {\n            arguments[0] = new ((method === 'addIceCandidate') ?\n                RTCIceCandidate : RTCSessionDescription)(arguments[0]);\n            return nativeMethod.apply(this, arguments);\n          };\n        });\n\n    // support for addIceCandidate(null or undefined)\n    var nativeAddIceCandidate =\n        RTCPeerConnection.prototype.addIceCandidate;\n    RTCPeerConnection.prototype.addIceCandidate = function() {\n      if (!arguments[0]) {\n        if (arguments[1]) {\n          arguments[1].apply(null);\n        }\n        return Promise.resolve();\n      }\n      return nativeAddIceCandidate.apply(this, arguments);\n    };\n\n    // shim getStats with maplike support\n    var makeMapStats = function(stats) {\n      var map = new Map();\n      Object.keys(stats).forEach(function(key) {\n        map.set(key, stats[key]);\n        map[key] = stats[key];\n      });\n      return map;\n    };\n\n    var modernStatsTypes = {\n      inboundrtp: 'inbound-rtp',\n      outboundrtp: 'outbound-rtp',\n      candidatepair: 'candidate-pair',\n      localcandidate: 'local-candidate',\n      remotecandidate: 'remote-candidate'\n    };\n\n    var nativeGetStats = RTCPeerConnection.prototype.getStats;\n    RTCPeerConnection.prototype.getStats = function(selector, onSucc, onErr) {\n      return nativeGetStats.apply(this, [selector || null])\n        .then(function(stats) {\n          if (browserDetails.version < 48) {\n            stats = makeMapStats(stats);\n          }\n          if (browserDetails.version < 53 && !onSucc) {\n            // Shim only promise getStats with spec-hyphens in type names\n            // Leave callback version alone; misc old uses of forEach before Map\n            try {\n              stats.forEach(function(stat) {\n                stat.type = modernStatsTypes[stat.type] || stat.type;\n              });\n            } catch (e) {\n              if (e.name !== 'TypeError') {\n                throw e;\n              }\n              // Avoid TypeError: \"type\" is read-only, in old versions. 34-43ish\n              stats.forEach(function(stat, i) {\n                stats.set(i, Object.assign({}, stat, {\n                  type: modernStatsTypes[stat.type] || stat.type\n                }));\n              });\n            }\n          }\n          return stats;\n        })\n        .then(onSucc, onErr);\n    };\n  }\n};\n\n// Expose public methods.\nmodule.exports = {\n  shimOnTrack: firefoxShim.shimOnTrack,\n  shimSourceObject: firefoxShim.shimSourceObject,\n  shimPeerConnection: firefoxShim.shimPeerConnection,\n  shimGetUserMedia: require('./getusermedia')\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/webrtc-adapter/src/js/firefox/firefox_shim.js\n// module id = 1795\n// module chunks = 1","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar logging = require('../utils').log;\nvar browserDetails = require('../utils').browserDetails;\n\n// Expose public methods.\nmodule.exports = function() {\n  var shimError_ = function(e) {\n    return {\n      name: {\n        SecurityError: 'NotAllowedError',\n        PermissionDeniedError: 'NotAllowedError'\n      }[e.name] || e.name,\n      message: {\n        'The operation is insecure.': 'The request is not allowed by the ' +\n        'user agent or the platform in the current context.'\n      }[e.message] || e.message,\n      constraint: e.constraint,\n      toString: function() {\n        return this.name + (this.message && ': ') + this.message;\n      }\n    };\n  };\n\n  // getUserMedia constraints shim.\n  var getUserMedia_ = function(constraints, onSuccess, onError) {\n    var constraintsToFF37_ = function(c) {\n      if (typeof c !== 'object' || c.require) {\n        return c;\n      }\n      var require = [];\n      Object.keys(c).forEach(function(key) {\n        if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n          return;\n        }\n        var r = c[key] = (typeof c[key] === 'object') ?\n            c[key] : {ideal: c[key]};\n        if (r.min !== undefined ||\n            r.max !== undefined || r.exact !== undefined) {\n          require.push(key);\n        }\n        if (r.exact !== undefined) {\n          if (typeof r.exact === 'number') {\n            r. min = r.max = r.exact;\n          } else {\n            c[key] = r.exact;\n          }\n          delete r.exact;\n        }\n        if (r.ideal !== undefined) {\n          c.advanced = c.advanced || [];\n          var oc = {};\n          if (typeof r.ideal === 'number') {\n            oc[key] = {min: r.ideal, max: r.ideal};\n          } else {\n            oc[key] = r.ideal;\n          }\n          c.advanced.push(oc);\n          delete r.ideal;\n          if (!Object.keys(r).length) {\n            delete c[key];\n          }\n        }\n      });\n      if (require.length) {\n        c.require = require;\n      }\n      return c;\n    };\n    constraints = JSON.parse(JSON.stringify(constraints));\n    if (browserDetails.version < 38) {\n      logging('spec: ' + JSON.stringify(constraints));\n      if (constraints.audio) {\n        constraints.audio = constraintsToFF37_(constraints.audio);\n      }\n      if (constraints.video) {\n        constraints.video = constraintsToFF37_(constraints.video);\n      }\n      logging('ff37: ' + JSON.stringify(constraints));\n    }\n    return navigator.mozGetUserMedia(constraints, onSuccess, function(e) {\n      onError(shimError_(e));\n    });\n  };\n\n  // Returns the result of getUserMedia as a Promise.\n  var getUserMediaPromise_ = function(constraints) {\n    return new Promise(function(resolve, reject) {\n      getUserMedia_(constraints, resolve, reject);\n    });\n  };\n\n  // Shim for mediaDevices on older versions.\n  if (!navigator.mediaDevices) {\n    navigator.mediaDevices = {getUserMedia: getUserMediaPromise_,\n      addEventListener: function() { },\n      removeEventListener: function() { }\n    };\n  }\n  navigator.mediaDevices.enumerateDevices =\n      navigator.mediaDevices.enumerateDevices || function() {\n        return new Promise(function(resolve) {\n          var infos = [\n            {kind: 'audioinput', deviceId: 'default', label: '', groupId: ''},\n            {kind: 'videoinput', deviceId: 'default', label: '', groupId: ''}\n          ];\n          resolve(infos);\n        });\n      };\n\n  if (browserDetails.version < 41) {\n    // Work around http://bugzil.la/1169665\n    var orgEnumerateDevices =\n        navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);\n    navigator.mediaDevices.enumerateDevices = function() {\n      return orgEnumerateDevices().then(undefined, function(e) {\n        if (e.name === 'NotFoundError') {\n          return [];\n        }\n        throw e;\n      });\n    };\n  }\n  if (browserDetails.version < 49) {\n    var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(c) {\n      return origGetUserMedia(c).then(function(stream) {\n        // Work around https://bugzil.la/802326\n        if (c.audio && !stream.getAudioTracks().length ||\n            c.video && !stream.getVideoTracks().length) {\n          stream.getTracks().forEach(function(track) {\n            track.stop();\n          });\n          throw new DOMException('The object can not be found here.',\n                                 'NotFoundError');\n        }\n        return stream;\n      }, function(e) {\n        return Promise.reject(shimError_(e));\n      });\n    };\n  }\n  navigator.getUserMedia = function(constraints, onSuccess, onError) {\n    if (browserDetails.version < 44) {\n      return getUserMedia_(constraints, onSuccess, onError);\n    }\n    // Replace Firefox 44+'s deprecation warning with unprefixed version.\n    console.warn('navigator.getUserMedia has been replaced by ' +\n                 'navigator.mediaDevices.getUserMedia');\n    navigator.mediaDevices.getUserMedia(constraints).then(onSuccess, onError);\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/webrtc-adapter/src/js/firefox/getusermedia.js\n// module id = 1796\n// module chunks = 1","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n'use strict';\nvar safariShim = {\n  // TODO: DrAlex, should be here, double check against LayoutTests\n  // shimOnTrack: function() { },\n\n  // TODO: once the back-end for the mac port is done, add.\n  // TODO: check for webkitGTK+\n  // shimPeerConnection: function() { },\n\n  shimGetUserMedia: function() {\n    if (!navigator.getUserMedia) {\n      if (navigator.webkitGetUserMedia) {\n        navigator.getUserMedia = navigator.webkitGetUserMedia.bind(navigator);\n      } else if (navigator.mediaDevices &&\n          navigator.mediaDevices.getUserMedia) {\n        navigator.getUserMedia = function(constraints, cb, errcb) {\n          navigator.mediaDevices.getUserMedia(constraints)\n          .then(cb, errcb);\n        }.bind(navigator);\n      }\n    }\n  }\n};\n\n// Expose public methods.\nmodule.exports = {\n  shimGetUserMedia: safariShim.shimGetUserMedia\n  // TODO\n  // shimOnTrack: safariShim.shimOnTrack,\n  // shimPeerConnection: safariShim.shimPeerConnection\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/webrtc-adapter/src/js/safari/safari_shim.js\n// module id = 1797\n// module chunks = 1"],"sourceRoot":""}