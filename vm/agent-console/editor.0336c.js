webpackJsonp([1],{1e3:function(t,e,n){"use strict";function r(t,e){var n=e.getStartKey(),r=e.getStartOffset(),a=e.getEndKey(),s=e.getEndOffset(),u=i(t,e),c=u.getBlockMap(),l=c.keySeq(),f=l.indexOf(n),d=l.indexOf(a)+1;return c.slice(f,d).map(function(t,e){var i=o(),u=t.getText(),c=t.getCharacterList();return n===a?t.merge({key:i,text:u.slice(r,s),characterList:c.slice(r,s)}):e===n?t.merge({key:i,text:u.slice(r),characterList:c.slice(r)}):e===a?t.merge({key:i,text:u.slice(0,s),characterList:c.slice(0,s)}):t.set("key",i)}).toOrderedMap()}var o=n(946),i=n(1384);t.exports=r},1001:function(t,e,n){"use strict";function r(t){return"handled"===t||t===!0}t.exports=r},1007:function(t,e){throw new Error("Module build failed: ModuleBuildError: Module build failed: Error: The system cannot find the path specified.\r\n\n    at notFoundError (C:\\Users\\roy\\comm100\\vm\\node_modules\\exec-buffer\\node_modules\\cross-spawn\\lib\\enoent.js:11:11)\n    at verifyENOENT (C:\\Users\\roy\\comm100\\vm\\node_modules\\exec-buffer\\node_modules\\cross-spawn\\lib\\enoent.js:46:16)\n    at ChildProcess.cp.emit (C:\\Users\\roy\\comm100\\vm\\node_modules\\exec-buffer\\node_modules\\cross-spawn\\lib\\enoent.js:33:19)\n    at Process.ChildProcess._handle.onexit (internal/child_process.js:215:12)\n    at runLoaders (C:\\Users\\roy\\comm100\\vm\\node_modules\\webpack\\lib\\NormalModule.js:176:19)\n    at C:\\Users\\roy\\comm100\\vm\\node_modules\\loader-runner\\lib\\LoaderRunner.js:364:11\n    at C:\\Users\\roy\\comm100\\vm\\node_modules\\loader-runner\\lib\\LoaderRunner.js:230:18\n    at context.callback (C:\\Users\\roy\\comm100\\vm\\node_modules\\loader-runner\\lib\\LoaderRunner.js:111:13)\n    at imagemin.buffer.then.catch.err (C:\\Users\\roy\\comm100\\vm\\node_modules\\image-webpack-loader\\index.js:58:9)")},1015:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(91),o=n.n(r),i=n(756),a=(n.n(i),n(994)),s=n(101);n.d(e,"updateContent",function(){return u}),n.d(e,"insertContent",function(){return c}),n.d(e,"insertImages",function(){return l});var u=function(t,e){return{type:s.a,payload:e,meta:t}},c=function(t,e,n){return{type:s.a,payload:a.a(e,n||i.EditorState.createEmpty()),meta:t}},l=function(t,e,n){return{type:s.a,payload:o.a.all(e.map(function(t){return new o.a(function(e,n){var r=new FileReader;r.onload=function(){e(r.result)},r.onerror=n,r.readAsDataURL(t)})})).then(function(t){return t.map(function(t,n){return{dataUrl:t,file:e[n]}})}).then(function(t){return t.reduce(function(t,e){return a.b(t,e.dataUrl,{file:e.file})},n)}),meta:t}}},1029:function(t,e,n){"use strict";var r=n(91);n.n(r);n.d(e,"a",function(){return o}),n.d(e,"b",function(){return i});var o=function(t){return 0===t.type.indexOf("image")},i=function(t){return function(e){return e.size>t}}},1035:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){var r=e===n,o=t.getBlockForKey(e);if(!o)return[];var i=[o];if(!r)for(var a=e;a!==n;){var s=t.getBlockAfter(a);if(!s){i=[];break}i.push(s),a=s.getKey()}return i}},1036:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(978),s=n(943),u=n(955),c=n(125),l=n(964),f=n(946),d=n(1042),p=c.List,h=c.Record,g=c.Repeat,y={blockMap:null,selectionBefore:null,selectionAfter:null},v=h(y),m=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return i(e,t),e.prototype.getBlockMap=function(){return this.get("blockMap")},e.prototype.getSelectionBefore=function(){return this.get("selectionBefore")},e.prototype.getSelectionAfter=function(){return this.get("selectionAfter")},e.prototype.getBlockForKey=function(t){return this.getBlockMap().get(t)},e.prototype.getKeyBefore=function(t){return this.getBlockMap().reverse().keySeq().skipUntil(function(e){return e===t}).skip(1).first()},e.prototype.getKeyAfter=function(t){return this.getBlockMap().keySeq().skipUntil(function(e){return e===t}).skip(1).first()},e.prototype.getBlockAfter=function(t){return this.getBlockMap().skipUntil(function(e,n){return n===t}).skip(1).first()},e.prototype.getBlockBefore=function(t){return this.getBlockMap().reverse().skipUntil(function(e,n){return n===t}).skip(1).first()},e.prototype.getBlocksAsArray=function(){return this.getBlockMap().toArray()},e.prototype.getFirstBlock=function(){return this.getBlockMap().first()},e.prototype.getLastBlock=function(){return this.getBlockMap().last()},e.prototype.getPlainText=function(t){return this.getBlockMap().map(function(t){return t?t.getText():""}).join(t||"\n")},e.prototype.hasText=function(){var t=this.getBlockMap();return t.size>1||t.first().getLength()>0},e.createFromBlockArray=function(t){var n=a.createFromArray(t),r=l.createEmpty(n.first().getKey());return new e({blockMap:n,selectionBefore:r,selectionAfter:r})},e.createFromText=function(t){var n=arguments.length<=1||void 0===arguments[1]?/\r\n?|\n/g:arguments[1],r=t.split(n),o=r.map(function(t){return t=d(t),new u({key:f(),text:t,type:"unstyled",characterList:p(g(s.EMPTY,t.length))})});return e.createFromBlockArray(o)},e}(v);t.exports=m},1037:function(t,e,n){"use strict";var r=n(125),o=r.Map,i=n(1),a=n(982),s=i.createElement("ul",{className:a("public/DraftStyleDefault/ul")}),u=i.createElement("ol",{className:a("public/DraftStyleDefault/ol")}),c=i.createElement("pre",{className:a("public/DraftStyleDefault/pre")});t.exports=o({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},"unordered-list-item":{element:"li",wrapper:s},"ordered-list-item":{element:"li",wrapper:u},blockquote:{element:"blockquote"},atomic:{element:"figure"},"code-block":{element:"pre",wrapper:c},unstyled:{element:"div"}})},1038:function(t,e,n){"use strict";var r=n(947),o=r.isPlatform("Mac OS X"),i={isCtrlKeyCommand:function(t){return!!t.ctrlKey&&!t.altKey},isOptionKeyCommand:function(t){return o&&t.altKey},hasCommandModifier:function(t){return o?!!t.metaKey&&!t.altKey:i.isCtrlKeyCommand(t)}};t.exports=i},1039:function(t,e,n){"use strict";function r(t){for(var e=t;e&&e!==document.documentElement;){var n=o(e);if(null!=n)return n;e=e.parentNode}return null}var o=n(1378);t.exports=r},1040:function(t,e,n){"use strict";function r(t,e){var n;if(e.isCollapsed()){var r=e.getAnchorKey(),i=e.getAnchorOffset();return i>0?(n=t.getBlockForKey(r).getEntityAt(i-1),o(n)):null}var a=e.getStartKey(),s=e.getStartOffset(),u=t.getBlockForKey(a);return n=s===u.getLength()?null:u.getEntityAt(s),o(n)}function o(t){if(t){return"MUTABLE"===i.get(t).getMutability()?t:null}return null}var i=n(949);t.exports=r},1041:function(t,e,n){"use strict";function r(t,e){var n=t.getSelection(),r=t.getCurrentContent(),o=n.getStartKey(),i=n.getStartOffset(),a=o,s=0;if(e>i){var u=r.getKeyBefore(o);if(null==u)a=o;else{a=u;s=r.getBlockForKey(u).getText().length}}else s=i-e;return n.merge({focusKey:a,focusOffset:s,isBackward:!0})}t.exports=r},1042:function(t,e,n){"use strict";function r(t){return t.replace(o,"")}var o=new RegExp("\r","g");t.exports=r},1049:function(t,e,n){"use strict";t.exports={BACKSPACE:8,TAB:9,RETURN:13,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188,PERIOD:190,A:65,Z:90,ZERO:48,NUMPAD_0:96,NUMPAD_9:105}},1050:function(t,e,n){"use strict";function r(t,e){var n=i.get(t,e);return"auto"===n||"scroll"===n}var o=n(1729),i={get:o,getScrollParent:function(t){if(!t)return null;for(var e=t.ownerDocument;t&&t!==e.body;){if(r(t,"overflow")||r(t,"overflowY")||r(t,"overflowX"))return t;t=t.parentNode}return e.defaultView||e.parentWindow}};t.exports=i},1051:function(t,e,n){"use strict";function r(t){return t===l||t===f}function o(t){return r(t)||c(!1),t===l?"ltr":"rtl"}function i(t,e){return r(t)||c(!1),r(e)||c(!1),t===e?null:o(t)}function a(t){d=t}function s(){a(l)}function u(){return d||this.initGlobalDir(),d||c(!1),d}var c=n(936),l="LTR",f="RTL",d=null,p={NEUTRAL:"NEUTRAL",LTR:l,RTL:f,isStrong:r,getHTMLDir:o,getHTMLDirIfDifferent:i,setGlobalDir:a,initGlobalDir:s,getGlobalDir:u};t.exports=p},1052:function(t,e,n){"use strict";function r(t){var e=o(t.ownerDocument||t.document);t.Window&&t instanceof t.Window&&(t=e);var n=i(t),r=t===e?t.ownerDocument.documentElement:t,a=t.scrollWidth-r.clientWidth,s=t.scrollHeight-r.clientHeight;return n.x=Math.max(0,Math.min(n.x,a)),n.y=Math.max(0,Math.min(n.y,s)),n}var o=n(1726),i=n(1882);t.exports=r},1329:function(t,e,n){t.exports=n(12)(7)},1339:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),o=n.n(r),i=n(22),a=n.n(i),s=n(14),u=n.n(s),c=n(16),l=n.n(c),f=n(21),d=n.n(f),p=n(20),h=n.n(p),g=n(1),y=n.n(g),v=n(35),m=n.n(v),b=(n(222),n(756)),S=(n.n(b),n(1623)),w=(n.n(S),n(1618)),E=(n.n(w),n(171)),C=n(376),k=n(26),T=n(99),x=(n.n(T),"sendTranscriptBody"),O=function(t){function e(t){u()(this,e);var r=d()(this,(e.__proto__||a()(e)).call(this,t)),o="",i=n.i(S.stateFromHTML)(t.input.value);return o=b.EditorState.createWithContent(i),r.state=k.a.get(x+"_"+t.transcriptBodyAdditionInfo.chatId,null,{ifBodyLoading:!o.getCurrentContent().hasText(),editorState:o,bodyContentArray:[t.input.value,"","","","","",""],additionalInfoIfOpen:!1,ifHaveVisitorInfo:!1,ifHaveNavigation:!1,ifHaveGEOInfo:!1,ifHaveClientInfo:!1,ifHaveRating:!1,ifHaveAgentComment:!1,renderWithProps:!0}),r.onChange=r.onChange.bind(r),r.onTab=r.onTab.bind(r),r.toggleAdditionalInfo=r.toggleAdditionalInfo.bind(r),r.toggleVisitorInfo=r.toggleVisitorInfo.bind(r),r}return h()(e,t),l()(e,[{key:"componentWillReceiveProps",value:function(t){if(t.input.value!==this.props.input.value&&this.state.ifBodyLoading){var e="",r=n.i(S.stateFromHTML)(t.input.value);e=b.EditorState.createWithContent(r),this.setState({ifBodyLoading:!1,editorState:e,bodyContentArray:[t.input.value,"","","","","",""]})}}},{key:"onChange",value:function(t){this.props.input.onChange(n.i(w.stateToHTML)(t.getCurrentContent())),this.setState({editorState:t}),k.a.set(x+"_"+this.props.transcriptBodyAdditionInfo.chatId,this.state)}},{key:"onTab",value:function(t){this.onChange(b.RichUtils.onTab(t,this.state.editorState,4))}},{key:"toggleAdditionalInfo",value:function(){this.setState({additionalInfoIfOpen:!this.state.additionalInfoIfOpen})}},{key:"toggleVisitorInfo",value:function(t){var e=this.props.transcriptBodyAdditionInfo.transcriptVisitorInfo,r=this.props.transcriptBodyAdditionInfo.transcriptNavigation,o=this.props.transcriptBodyAdditionInfo.transcriptGEOInfo,i=this.props.transcriptBodyAdditionInfo.transcriptClientInfo,a=this.props.transcriptBodyAdditionInfo.transcriptRating,s=this.props.transcriptBodyAdditionInfo.transcriptAgentComment,u=this.state.bodyContentArray;switch(t){case"1":this.state.ifHaveVisitorInfo?u[1]="":u[1]=e,this.setState({ifHaveVisitorInfo:!this.state.ifHaveVisitorInfo,bodyContentArray:u});break;case"2":this.state.ifHaveNavigation?u[2]="":u[2]=r,this.setState({ifHaveNavigation:!this.state.ifHaveNavigation,bodyContentArray:u});break;case"3":this.state.ifHaveGEOInfo?u[3]="":u[3]=o,this.setState({ifHaveGEOInfo:!this.state.ifHaveGEOInfo,bodyContentArray:u});break;case"4":this.state.ifHaveClientInfo?u[4]="":u[4]=i,this.setState({ifHaveClientInfo:!this.state.ifHaveClientInfo,bodyContentArray:u});break;case"5":this.state.ifHaveRating?u[5]="":u[5]=a,this.setState({ifHaveRating:!this.state.ifHaveRating,bodyContentArray:u});break;case"6":this.state.ifHaveAgentComment?u[6]="":u[6]=s,this.setState({ifHaveAgentComment:!this.state.ifHaveAgentComment,bodyContentArray:u})}var c=u.join(" "),l=b.EditorState.createWithContent(n.i(S.stateFromHTML)(c));l=b.EditorState.moveFocusToEnd(l),this.setState({editorState:l,bodyContentArray:u}),k.a.set(x+"_"+this.props.transcriptBodyAdditionInfo.chatId,this.state)}},{key:"render",value:function(){var t=this,e=this.state.editorState,n="RichEditor-editor",r=e.getCurrentContent();return r.hasText()||"unstyled"!==r.getBlockMap().first().getType()&&(n+=" RichEditor-hidePlaceholder"),o()("div",{className:T.default.bodyLayout},void 0,o()("div",{className:T.default.formTranscriptAdditionalInfo},void 0,o()(E.a,{onClick:this.toggleAdditionalInfo},void 0,"Additional Information"),this.state.additionalInfoIfOpen?o()("div",{className:T.default.additionalInfoContent},void 0,o()(C.a,{name:"additionalInfo_visitorInfo",input:{value:this.state.ifHaveVisitorInfo,onChange:function(){return t.toggleVisitorInfo("1")}},text:"Visitor Info (First Visit Time, Chat Times, Visit Times)",className:T.default.transcriptAdditionInfo}),o()(C.a,{name:"additionalInfo_navigation",input:{value:this.state.ifHaveNavigation,onChange:function(){return t.toggleVisitorInfo("2")}},text:"Navigation (Referrer, Search Engine, Search Keywords, Landing Page,\n                  Navigation Pages)",className:T.default.transcriptAdditionInfo}),o()(C.a,{name:"additionalInfo_geo",input:{value:this.state.ifHaveGEOInfo,onChange:function(){return t.toggleVisitorInfo("3")}},text:"GEO Info (IP, Country, State, City)",className:T.default.transcriptAdditionInfo}),o()(C.a,{name:"additionalInfo_client",input:{value:this.state.ifHaveClientInfo,onChange:function(){return t.toggleVisitorInfo("4")}},text:"Client Info (Operating System, Browser, Flash Version,\n                  Screen Resolution, Language, Time Zone)",className:T.default.transcriptAdditionInfo}),o()(C.a,{name:"additionalInfo_rating",input:{value:this.state.ifHaveRating,onChange:function(){return t.toggleVisitorInfo("5")}},text:"Rating (Rating, Comment)",className:T.default.transcriptAdditionInfo}),o()(C.a,{name:"additionalInfo_agentComment",input:{value:this.state.ifHaveAgentComment,onChange:function(){return t.toggleVisitorInfo("6")}},text:"Agent Comment",className:T.default.transcriptAdditionInfo})):""),o()("div",{className:this.state.ifBodyLoading&&!r.hasText()?m()("RichEditor-root",T.default.editorDisable):"RichEditor-root"},void 0,o()(b.Editor,{editorState:e,onChange:this.onChange,placeholder:"",spellCheck:!0})))}}]),e}(y.a.Component);e.default=O},1340:function(t,e,n){"use strict";function r(){B.d&&setTimeout(function(){if(document.querySelector("#workaround"))return void document.body.removeChild(document.querySelector("#workaround"));var t=document.createElement("div");t.id="workaround";var e=t.style;e.position="fixed",e.top=0,e.bottom=0,e.left=0,e.right=0,e.backgroundColor="transparent",document.body.insertBefore(t,document.body.firstChild)},0)}var o=n(3),i=n.n(o),a=n(250),s=n.n(a),u=n(22),c=n.n(u),l=n(14),f=n.n(l),d=n(16),p=n.n(d),h=n(21),g=n.n(h),y=n(20),v=n.n(y),m=n(23),b=n.n(m),S=n(131),w=n.n(S),E=n(161),C=n.n(E),k=n(1),T=n.n(k),x=n(756),O=(n.n(x),n(125)),_=(n.n(O),n(35)),D=n.n(_),M=n(1716),A=(n.n(M),n(379)),I=(n(1029),n(1344)),L=n(771),B=n(770),R=n(994),K=n(17),N=n(92),P=n(1007),F=(n.n(P),n(1547)),j=n(1548),U=n(1550),H=B.b&&B.c,Y=function(t){return"atomic"!==t.getType()?null:{component:F.a,editable:!1}},W=/\w/,z=function(t){return W.test(t)},V=function(t,e,n){for(var r=e,o=t.length;r<o&&r>=0&&z(t[r]);r+=n);return r},G=function(t){var e=R.e(t);if(null===e)return e;var n=R.f(t,e.key);return{start:V(n,e.index-1,-1),end:V(n,e.index,1),text:n,key:e.key}},q=function(t){var e=G(t);return null===e?null:"#"!==e.text[e.start]?null:e.text.substr(e.start,e.end-e.start)},X=function(t,e){if(!t)return[];var n=t.slice(1);return C()(e,function(t){return 0===t.shortcut.toLowerCase().indexOf(n.toLowerCase())})},$=n.i(K.e)("TextEditor",["sendType","height","disabled","selectedFontSize","textDirectionIfRTL"],["editorState","isDragging","selected"]),J=function(t){var e;return(e={},b()(e,A.b,P.default.chatContentsmall),b()(e,A.a,P.default.chatContentmiddle),b()(e,A.c,P.default.chatContentlarge),e)[t]},Z=function(t){function e(t){f()(this,e);var n=g()(this,(e.__proto__||c()(e)).call(this,t));return n.state={isDragging:!1,cannedMessages:[],selected:void 0,editorState:t.editorState},n.onChange=n.onChange.bind(n),n.handleReturn=n.handleReturn.bind(n),n.onUpArrow=n.onUpArrow.bind(n),n.onDownArrow=n.onDownArrow.bind(n),n.onArrowMove=n.onArrowMove.bind(n),n.onTab=n.onTab.bind(n),n.onEscape=n.onEscape.bind(n),n.selectCannedMessage=n.selectCannedMessage.bind(n),n.handleKeyCommand=n.handleKeyCommand.bind(n),n.onScroll=n.onScroll.bind(n),H&&t.onDrop?(n.showDragging=n.showDragging.bind(n),n.hideDragging=n.hideDragging.bind(n),n.onDrop=n.onDrop.bind(n)):n.showDragging=n.hideDragging=n.onDrop=L.b,n.updateEditorStateTimer=null,n.scrollTop=0,n}return v()(e,t),p()(e,[{key:"componentDidMount",value:function(){this.editor.refs.editor.style.height=this.props.height+"px",this.editor.focus(),this.editor.refs.editor.addEventListener("scroll",this.onScroll)}},{key:"componentWillReceiveProps",value:function(t){this.props.editorState!==t.editorState&&(this.shouldScroll=this.shouldScroll||R.g(t.editorState),this.setState({editorState:t.editorState}))}},{key:"shouldComponentUpdate",value:function(t,e){return $(this.props,t,this.state,e)}},{key:"componentDidUpdate",value:function(t,e){if(this.editor.refs.editor.style.height=this.props.height+"px",t.id!==this.props.id&&this.editor.focus(),!this.state.selected&&e.selected&&r(),B.e){!R.g(e.editorState)&&R.g(this.state.editorState)&&this.editor.focus()}if(this.shouldScroll){this.shouldScroll=!1;var n=window.getSelection();if(!n||n.rangeCount<=0)return;var o=n.getRangeAt(0).getClientRects()[0];if(!o)return;var i=this.container.getBoundingClientRect(),a=o.bottom-i.bottom+45;this.editor.refs.editor.scrollTop=this.scrollTop+a}}},{key:"componentWillUnmount",value:function(){this.editor.refs.editor.removeEventListener("scroll",this.onScroll)}},{key:"onChange",value:function(t){var e=this;if(R.g(t)){this.updateEditorStateTimer&&clearTimeout(this.updateEditorStateTimer);var n=q(t),r=X(n,this.props.cannedMessages);(r.length!==this.state.cannedMessages.length||this.state.cannedMessages.every(function(t,e){return t!==r[e]}))&&this.setState({cannedMessages:r,selected:r[0],editorState:t})}else{if(this.updateEditorStateTimer)return;this.updateEditorStateTimer=setTimeout(function(){e.updateEditorStateTimer=null,e.props.onChange(e.props.id,t)},20)}}},{key:"onScroll",value:function(t){this.scrollTop=t.target.scrollTop}},{key:"onDrop",value:function t(e){var n=this.props,t=n.onDrop,r=n.id,o=n.siteInfo,i=n.sendToIds;return t(r,e,this.state.editorState,o,i),"handled"}},{key:"onArrowMove",value:function(t,e){var n=this.state,r=n.cannedMessages,o=n.selected;if(o){t.preventDefault();var i=r.length,a=w()(r,function(t){return t===o});this.setState({selected:r[(a+e+i)%i]})}}},{key:"onDownArrow",value:function(t){this.onArrowMove(t,1)}},{key:"onUpArrow",value:function(t){this.onArrowMove(t,-1)}},{key:"onTab",value:function(t){this.selectCannedMessage()&&t.preventDefault()}},{key:"onEscape",value:function(t){this.state.selected&&(t.preventDefault(),this.setState({selected:void 0,cannedMessages:[]}))}},{key:"handleKeyCommand",value:function(t){var e=this.props,n=e.onChange,r=e.id,o=x.RichUtils.handleKeyCommand(this.state.editorState,t);return o?(n(r,o),"handled"):"unhandled"}},{key:"handleReturn",value:function(t){if(this.selectCannedMessage())return"handled";var e=!t.altKey&&t.ctrlKey&&!t.metaKey&&!t.shiftKey,n=this.props,r=n.sendType,o=n.onSendOut,i=n.id,a=n.sendToIds,s=n.siteInfo;return e&&r===I.a||!e&&r===I.b?(o(i,a,this.state.editorState,s),"handled"):"unhandled"}},{key:"selectCannedMessage",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.selected;if(!t)return!1;var e=this.props,n=e.id,r=e.visitor,o=e.agent,i=e.onCannedMessageUse,a=this.state.editorState,s=G(a);return!!s&&(t&&t.id&&i&&(i(n,t.id),this.shouldScroll=!0),this.setState({selected:void 0,cannedMessages:[],editorState:R.h(a,s.key,s.start,s.end,N.l(t.content,r,o))}),!0)}},{key:"showDragging",value:function(t){s()(t.dataTransfer.types).some(function(t){return"Files"===t})>0&&this.setState({isDragging:!0})}},{key:"hideDragging",value:function(){this.setState({isDragging:!1})}},{key:"render",value:function(){var t=this,e=this.props,n=e.sendType,o=e.onSendTypeSelect,a=e.onSendOut,s=e.sendToIds,u=e.id,c=e.siteInfo,l=e.disabled,f=e.selectedFontSize,d=e.textDirectionIfRTL,p=e.disablePaste,h=this.state,g=h.isDragging,y=h.cannedMessages,v=h.selected,m=h.editorState,b=R.g(m);return T.a.createElement("div",{className:D()(P.default.container,l&&P.default.disabled,!l&&b&&P.default.focused,!l&&g&&P.default.dragging,J(f),d?P.default.directionRTL:""),onDragOver:!l&&this.showDragging,onDragLeave:!l&&this.hideDragging,onDragEnd:!l&&this.hideDragging,onDrop:!l&&this.hideDragging,ref:function(e){t.container=e}},i()(j.a,{display:!l&&b,selected:v,cannedMessages:y,onSelect:this.selectCannedMessage,cleanSelection:r}),T.a.createElement(x.Editor,{editorState:m,onChange:this.onChange,spellCheck:!0,handleKeyCommand:this.handleKeyCommand,blockRendererFn:Y,handleReturn:this.handleReturn,onUpArrow:this.onUpArrow,onDownArrow:this.onDownArrow,onTab:this.onTab,onEscape:this.onEscape,ref:function(e){t.editor=e},handleDroppedFiles:function(e,n){return t.onDrop(n)},stripPastedStyles:!0,handlePastedFiles:function(e){p||t.onDrop(e)},handlePastedText:function(){t.shouldScroll=!0},readOnly:l}),i()(U.a,{id:u,sendToIds:s,editorState:m,className:P.default.buttonGroup,onSelect:o,type:n,onClick:function(t,e,n){return a(t,e,n,c)},disabled:l}))}}]),e}(T.a.Component);e.a=Z},1344:function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return o});var r=0,o=1},1346:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(47),o=n.n(r),i=n(4),a=n.n(i),s=n(53),u=n.n(s),c=n(983),l=n.n(c),f=n(756),d=(n.n(f),n(70)),p=(n.n(d),n(351)),h=n(379),g=n(1340),y=n(5),v=n(988),m=n(71),b=n(975),S=n(994),w=n(953),E=n(1029),C=n(132),k=n(159),T=n(1350),x=n(2),O={},_=f.EditorState.createEmpty(),D=S.c(),M=function(t){if(l()(y._41(t))||y._41(t)===x.l)return{id:x.l,isAgent:!1,sendToIds:[],editorState:y._69(t,x.l)||_,sendType:y._70(t),cannedMessages:[],disabled:!0,siteInfo:{},textDirectionIfRTL:y._71(t),selectedFontSize:h.a,disablePaste:!0};var e=b.a(t),n=u()(e,2),r=n[0],o=n[1];if(!b.b(t,r,o)){var i=a()({},O);return i.disabled=!0,i}var s=!b.c(t,r,o),c=_;return s||(c=y._69(t,o))||(c=D),O={id:o,isAgent:r,sendToIds:b.d(t,r,o),editorState:c,sendType:y._70(t),cannedMessages:y._72(t),disabled:s,siteInfo:{uploadUrl:y._73(t),downloadUrl:y._74(t),siteId:y.F(t),sessionId:y._75(t)},textDirectionIfRTL:y._71(t),selectedFontSize:h.a,disablePaste:!0}},A=function(t,e){var r=e.dispatch,i={onChange:function(t,e){r(v.a(t,e))},onSendOut:function(e,n,o){var i=S.d(o);i.length>0&&!k.d(i[0])&&(r(v.a(e,S.c())),i.forEach(function(o){"string"==typeof o&&(r(v.b(b.e(e,n,t.isAgent),o)),n.forEach(function(t){r(m.u(t,o))}))}))},onDrop:function(e,o,i,a,s){var u=a.uploadUrl,c=a.downloadUrl,l=a.siteId,f=a.sessionId;o.filter(function(t){return E.a(t)}).forEach(function(o){n.i(T.a)(o,u,c,l,f,console.log.bind(console)).then(function(i){var a=i.url,u=i.guid;r(v.c(b.e(e,s,t.isAgent),a,o.name,n.i(C.b)(o.name))),s.forEach(function(t){r(m.v(t,o.name,u))})}).catch(function(t){p.a(t,"AgentChatTextEditor",110,0)})})},onSendTypeSelect:function(t){r(w.e(t)),r(m.g())}};return o()({},t,i)};e.default=n.i(d.connect)(M,null,A)(g.a)},1347:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(53),o=n.n(r),i=n(128),a=n.n(i),s=n(1769),u=n.n(s),c=n(55),l=n.n(c),f=n(161),d=n.n(f),p=n(361),h=n.n(p),g=n(756),y=(n.n(g),n(70)),v=(n.n(y),n(178)),m=n.n(v),b=n(223),S=n.n(b),w=n(827),E=n.n(w),C=(n(351),n(1340)),k=n(92),T=n(5),x=n(759),O=n(1015),_=n(71),D=n(953),M=n(1029),A=n(994),I=n(1350),L=n(617),B=g.EditorState.createEmpty(),R=A.c(),K=function(t){var e=T._40(t);if(!e)return{};var r=T.r(t,e),o=T.u(t),i=!n.i(k.k)(r,o),a=B;return i||(a=T.L(t,e)||R),{id:e,disabled:i,sendToIds:T.M(t,e),editorState:a,sendType:T._70(t),cannedMessages:T._72(t),visitor:r,agent:{name:T._78(t),email:T._14(t)},siteInfo:{uploadUrl:T._73(t),downloadUrl:T._74(t),siteId:T.F(t),agentId:T.u(t),sessionId:T._75(t),maxFileSize:T._79(t),maxFileNum:T._80(t)},selectedFontSize:T._81(t),textDirectionIfRTL:T._71(t)}},N=S()(h()(M.a)),P=function(t){return{onChange:function(e,n){t(O.updateContent(e,n))},onSendOut:function(e,r,o,i){var s=i.uploadUrl,u=i.siteId,c=i.agentId,f=i.sessionId,p=i.maxFileNum,h=A.d(o);(h.length>1||!/^\s*$/.test(h[0]))&&(d()(h,function(t){return t instanceof Blob}).length>p?t(x.a(e,"Error sending image: The max number of images you can paste at a time is "+p)):(t(O.updateContent(e,A.c())),l()(h,function(o){if("string"==typeof o)null===o||/^\s*$/.test(o)||t(_.f(r,o));else if(o instanceof Blob){var i=n.i(L.a)();t(_.x(r,i,function(i){"object"===(void 0===i?"undefined":a()(i))&&i.errorString?t(x.a(e,"Error sending image: "+i.errorString)):n.i(I.b)(o,s,i,u,f,r,c)}))}})))},onDrop:function(e,r,i,a,s){var c=a.uploadUrl,l=a.siteId,f=a.sessionId,d=a.maxFileSize,p=u()(r,M.b(d*Math.pow(1024,2))),h=o()(p,2),g=h[0],y=h[1];g.length>0&&t(x.a(e,"Error sending file: The max file size is "+d+" MB"));var v=y.filter(M.a);v.length>0&&t(O.insertImages(e,v,i)),m()(N,E()(function(r){n.i(I.c)(r,c,f,s,l,console.log.bind(console)).then(function(n){n&&"success"!==n.data&&t(x.a(e,"Error sending file: "+n.data))}).catch(function(n){t(x.a(e,n))})}))(y)},onSendTypeSelect:function(e){t(D.e(e)),t(_.g())},onCannedMessageUse:function(e,n){t(_.e(e,n))}}};e.default=n.i(y.connect)(K,P)(C.a)},1350:function(t,e,n){"use strict";function r(t,e,r,o,i,a){var s=n.i(l.l)(e,i,o,1,n.i(f.a)()),u=new FormData;u.append("file",t);var d={};return a&&(d.onUploadProgress=function(t){a(Math.round(100*t.loaded/t.total))}),c.a.post(s,u,d).then(function(e){return{url:n.i(l.m)(r,i,o,1,e.data.guid,t.name),guid:e.data.guid}})}function o(t,e,n,r,o,i){var a=e+"?sessionId="+n+"&visitorId="+r+"&siteId="+o,s=new FormData;s.append("file",t);var u={};return i&&(u.onUploadProgress=function(t){i(Math.round(100*t.loaded/t.total))}),c.a.post(a,s,u)}function i(t,e,n,r,o,i,a,s){var u=e+"?siteId="+r+"&operatorId="+a+"&visitorId="+i+"&sessionId="+o+"&isImage=true&guid="+n+"&fileDisplayName="+n+".png",l={};return s&&(l.onUploadProgress=function(t){s(Math.round(100*t.loaded/t.total))}),d(t).then(function(t){return c.a.post(u,t,l)})}var a=n(91),s=n.n(a),u=n(242),c=n.n(u),l=n(17),f=n(617);e.a=r,e.c=o,e.b=i;var d=function(t){return new s.a(function(e,n){try{var r=new FileReader;r.onload=function(){return e(r.result)},r.readAsArrayBuffer(t)}catch(t){n(t)}})}},1365:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1626);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})}),Object.defineProperty(e,"Constants",{enumerable:!0,get:function(){return r(o).default}});var i=n(1628);Object.defineProperty(e,"getEntityRanges",{enumerable:!0,get:function(){return r(i).default}});var a=n(1035);Object.defineProperty(e,"getSelectedBlocks",{enumerable:!0,get:function(){return r(a).default}});var s=n(1629);Object.defineProperty(e,"selectionContainsEntity",{enumerable:!0,get:function(){return r(s).default}});var u=n(1627);Object.defineProperty(e,"callModifierForSelectedBlocks",{enumerable:!0,get:function(){return r(u).default}})},1366:function(t,e,n){"use strict";function r(t,e){var n=[];return s(t.map(function(t){return t.getStyle()}).toList(),o,f,function(t,r){n.push(new p({start:t+e,end:r+e}))}),u(n)}function o(t,e){return t===e}var i=n(125),a=n(1329),s=n(999),u=i.List,c=i.Repeat,l=i.Record,f=a.thatReturnsTrue,d={start:null,end:null},p=l(d),h={start:null,end:null,decoratorKey:null,leaves:null},g=l(h),y={generate:function(t,e){var n=t.getLength();if(!n)return u.of(new g({start:0,end:0,decoratorKey:null,leaves:u.of(new p({start:0,end:0}))}));var i=[],a=e?e.getDecorations(t):u(c(null,n)),l=t.getCharacterList();return s(a,o,f,function(t,e){i.push(new g({start:t,end:e,decoratorKey:a.get(t),leaves:r(l.slice(t,e).toList(),t)}))}),u(i)},getFingerprint:function(t){return t.map(function(t){var e=t.get("decoratorKey");return(null!==e?e+"."+(t.get("end")-t.get("start")):"")+"."+t.get("leaves").size}).join("-")}};t.exports=y},1367:function(t,e,n){"use strict";t.exports={BOLD:{fontWeight:"bold"},CODE:{fontFamily:"monospace",wordWrap:"break-word"},ITALIC:{fontStyle:"italic"},STRIKETHROUGH:{textDecoration:"line-through"},UNDERLINE:{textDecoration:"underline"}}},1368:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){return t.getAnchorKey()===e||t.getFocusKey()===e}var s=n(757),u=s||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=(n(955),n(1638)),l=n(998),f=n(1),d=n(88),p=n(1389),h=(n(964),n(1050)),g=n(1390),y=n(1051),v=n(982),m=n(1727),b=n(1052),S=n(1730),w=n(941),E=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return i(e,t),e.prototype.shouldComponentUpdate=function(t){return this.props.block!==t.block||this.props.tree!==t.tree||this.props.direction!==t.direction||a(t.selection,t.block.getKey())&&t.forceSelection},e.prototype.componentDidMount=function(){var t=this.props.selection,e=t.getEndKey();if(t.getHasFocus()&&e===this.props.block.getKey()){var n,r=d.findDOMNode(this),o=h.getScrollParent(r),i=b(o);if(o===window){var a=m(r);n=a.y+a.height-S().height,n>0&&window.scrollTo(i.x,i.y+n+10)}else{n=r.offsetHeight+r.offsetTop-(o.offsetHeight+i.y),n>0&&p.setTop(o,p.getTop(o)+n+10)}}},e.prototype._renderChildren=function(){var t=this,e=this.props.block,n=e.getKey(),r=e.getText(),o=this.props.tree.size-1,i=a(this.props.selection,n);return this.props.tree.map(function(a,s){var d=a.get("leaves"),p=d.size-1,h=d.map(function(a,u){var d=l.encode(n,s,u),h=a.get("start"),g=a.get("end");return f.createElement(c,{key:d,offsetKey:d,blockKey:n,start:h,selection:i?t.props.selection:void 0,forceSelection:t.props.forceSelection,text:r.slice(h,g),styleSet:e.getInlineStyleAt(h),customStyleMap:t.props.customStyleMap,customStyleFn:t.props.customStyleFn,isLast:s===o&&u===p})}).toArray(),v=a.get("decoratorKey");if(null==v)return h;if(!t.props.decorator)return h;var m=w(t.props.decorator),b=m.getComponentForKey(v);if(!b)return h;var S=m.getPropsForKey(v),E=l.encode(n,s,0),C=r.slice(d.first().get("start"),d.last().get("end")),k=y.getHTMLDirIfDifferent(g.getDirection(C),t.props.direction);return f.createElement(b,u({},S,{decoratedText:C,dir:k,key:E,entityKey:e.getEntityAt(a.get("start")),offsetKey:E}),h)}).toArray()},e.prototype.render=function(){var t=this.props,e=t.direction,n=t.offsetKey,r=v({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":"LTR"===e,"public/DraftStyleDefault/rtl":"RTL"===e});return f.createElement("div",{"data-offset-key":n,className:r},this._renderChildren())},e}(f.Component);t.exports=E},1369:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(125),s=a.Record,u=s({type:"TOKEN",mutability:"IMMUTABLE",data:Object}),c=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return i(e,t),e.prototype.getType=function(){return this.get("type")},e.prototype.getMutability=function(){return this.get("mutability")},e.prototype.getData=function(){return this.get("data")},e}(u);t.exports=c},1370:function(t,e,n){"use strict";function r(t,e){var n=e?l.exec(t):u.exec(t);return n?n[0]:t}var o=n(1721),i=o.getPunctuation(),a="\\s|(?![_])"+i,s="^(?:"+a+")*(?:['‘’]|(?!"+a+").)*(?:(?!"+a+").)",u=new RegExp(s),c="(?:(?!"+a+").)(?:['‘’]|(?!"+a+").)*(?:"+a+")*$",l=new RegExp(c),f={getBackward:function(t){return r(t,!0)},getForward:function(t){return r(t,!1)}};t.exports=f},1371:function(t,e,n){"use strict";var r={stringify:function(t){return"_"+String(t)},unstringify:function(t){return t.slice(1)}};t.exports=r},1372:function(t,e,n){"use strict";function r(){return{text:"",inlines:[],entities:[],blocks:[]}}function o(t){var e=new Array(1);return t&&(e[0]=t),{text:I,inlines:[A()],entities:e,blocks:[]}}function i(){return{text:"\n",inlines:[A()],entities:new Array(1),blocks:[]}}function a(t,e){return{text:"\r",inlines:[A()],entities:new Array(1),blocks:[{type:t,depth:Math.max(0,Math.min(L,e))}]}}function s(t,e){return"li"===t?"ol"===e?"ordered-list-item":"unordered-list-item":null}function u(t){var e=t.get("unstyled").element;return t.map(function(t){return t.element}).valueSeq().toSet().filter(function(t){return t&&t!==e}).toArray().sort()}function c(t,e,n){for(var r=0;r<n.length;r++){var o=n[r](t,e);if(o)return o}return null}function l(t,e,n){var r=n.filter(function(e){return e.element===t||e.wrapper===t}).keySeq().toSet().toArray().sort();switch(r.length){case 0:return"unstyled";case 1:return r[0];default:return c(t,e,[s])||"unstyled"}}function f(t,e,n){var r=U[t];return r?n=n.add(r).toOrderedSet():e instanceof HTMLElement&&function(){var t=e;n=n.withMutations(function(e){var n=t.style.fontWeight,r=t.style.fontStyle,o=t.style.textDecoration;F.indexOf(n)>=0?e.add("BOLD"):j.indexOf(n)>=0&&e.remove("BOLD"),"italic"===r?e.add("ITALIC"):"normal"===r&&e.remove("ITALIC"),"underline"===o&&e.add("UNDERLINE"),"line-through"===o&&e.add("STRIKETHROUGH"),"none"===o&&(e.remove("UNDERLINE"),e.remove("STRIKETHROUGH"))}).toOrderedSet()}(),n}function d(t,e){var n=t.text.slice(-1),r=e.text.slice(0,1);if("\r"===n&&"\r"===r&&(t.text=t.text.slice(0,-1),t.inlines.pop(),t.entities.pop(),t.blocks.pop()),"\r"===n){if(e.text===I||"\n"===e.text)return t;r!==I&&"\n"!==r||(e.text=e.text.slice(1),e.inlines.shift(),e.entities.shift())}return{text:t.text+e.text,inlines:t.inlines.concat(e.inlines),entities:t.entities.concat(e.entities),blocks:t.blocks.concat(e.blocks)}}function p(t,e){return e.some(function(e){return t.indexOf("<"+e)!==-1})}function h(t){t instanceof HTMLAnchorElement||O(!1);var e=t.protocol;return"http:"===e||"https:"===e||"mailto:"===e}function g(t,e,n,s,u,c,p,y){var v=t.nodeName.toLowerCase(),b=!1,S="unstyled",w=m;if("#text"===v){var C=t.textContent;return""===C.trim()&&"pre"!==s?o(y):("pre"!==s&&(C=C.replace(R,I)),m=v,{text:C,inlines:Array(C.length).fill(e),entities:Array(C.length).fill(y),blocks:[]})}if(m=v,"br"===v)return"br"!==w||s&&"unstyled"!==l(s,n,p)?i():a("unstyled",c);var T=r(),x=null;e=f(v,t,e),"ul"!==v&&"ol"!==v||(n&&(c+=1),n=v),s||u.indexOf(v)===-1?n&&"li"===s&&"li"===v&&(T=a(l(v,n,p),c),s=v,b=!0,S="ul"===n?"unordered-list-item":"ordered-list-item"):(T=a(l(v,n,p),c),s=v,b=!0);var O=t.firstChild;null!=O&&(v=O.nodeName.toLowerCase());for(var _=null;O;){O instanceof HTMLAnchorElement&&O.href&&h(O)?function(){var t=O,e={};H.forEach(function(n){var r=t.getAttribute(n);r&&(e[n]=r)}),e.url=new k(t.href).toString(),_=E.create("LINK","MUTABLE",e)}():_=void 0,x=g(O,e,n,s,u,c,p,_||y),T=d(T,x);var D=O.nextSibling;D&&u.indexOf(v)>=0&&s&&(T=d(T,i())),D&&(v=D.nodeName.toLowerCase()),O=D}return b&&(T=d(T,a(S,c))),T}function y(t,e,n){t=t.trim().replace(B,"").replace(K,I).replace(N,"").replace(P,"");var r=u(n),o=e(t);if(!o)return null;m=null;var i=p(t,r)?r:["div"],a=g(o,A(),"ul",null,i,-1,n);return 0===a.text.indexOf("\r")&&(a={text:a.text.slice(1),inlines:a.inlines.slice(1),entities:a.entities.slice(1),blocks:a.blocks}),"\r"===a.text.slice(-1)&&(a.text=a.text.slice(0,-1),a.inlines=a.inlines.slice(0,-1),a.entities=a.entities.slice(0,-1),a.blocks.pop()),0===a.blocks.length&&a.blocks.push({type:"unstyled",depth:0}),a.text.split("\r").length===a.blocks.length+1&&a.blocks.unshift({type:"unstyled",depth:0}),a}function v(t){var e=arguments.length<=1||void 0===arguments[1]?x:arguments[1],n=arguments.length<=2||void 0===arguments[2]?w:arguments[2],r=y(t,e,n);if(null==r)return null;var o=0;return r.text.split("\r").map(function(t,e){t=D(t);var n=o+t.length,i=_(r).inlines.slice(o,n),a=_(r).entities.slice(o,n),s=M(i.map(function(t,e){var n={style:t,entity:null};return a[e]&&(n.entity=a[e]),b.create(n)}));return o=n+1,new S({key:T(),type:_(r).blocks[e].type,depth:_(r).blocks[e].depth,text:t,characterList:s})})}var m,b=n(943),S=n(955),w=n(1037),E=n(949),C=n(125),k=n(1722),T=n(946),x=n(1377),O=n(936),_=n(941),D=n(1042),M=C.List,A=C.OrderedSet,I=" ",L=4,B=new RegExp("\r","g"),R=new RegExp("\n","g"),K=new RegExp("&nbsp;","g"),N=new RegExp("&#13;?","g"),P=new RegExp("&#8203;?","g"),F=["bold","bolder","500","600","700","800","900"],j=["light","lighter","100","200","300","400"],U={b:"BOLD",code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",i:"ITALIC",s:"STRIKETHROUGH",strike:"STRIKETHROUGH",strong:"BOLD",u:"UNDERLINE"},H=["className","href","rel","target","title"];t.exports=v},1373:function(t,e,n){"use strict";function r(t){return f&&t.altKey||g(t)}function o(t){return h(t)?t.shiftKey?"redo":"undo":null}function i(t){return d&&t.shiftKey?null:r(t)?"delete-word":"delete"}function a(t){return h(t)&&f?"backspace-to-start-of-line":r(t)?"backspace-word":"backspace"}function s(t){switch(t.keyCode){case 66:return h(t)?"bold":null;case 68:return g(t)?"delete":null;case 72:return g(t)?"backspace":null;case 73:return h(t)?"italic":null;case 74:return h(t)?"code":null;case 75:return!d&&g(t)?"secondary-cut":null;case 77:return g(t)?"split-block":null;case 79:return g(t)?"split-block":null;case 84:return f&&g(t)?"transpose-characters":null;case 85:return h(t)?"underline":null;case 87:return f&&g(t)?"backspace-word":null;case 89:return g(t)?d?"redo":"secondary-paste":null;case 90:return o(t)||null;case c.RETURN:return"split-block";case c.DELETE:return i(t);case c.BACKSPACE:return a(t);case c.LEFT:return p&&h(t)?"move-selection-to-start-of-block":null;case c.RIGHT:return p&&h(t)?"move-selection-to-end-of-block":null;default:return null}}var u=n(1038),c=n(1049),l=n(947),f=l.isPlatform("Mac OS X"),d=l.isPlatform("Windows"),p=f&&l.isBrowser("Firefox < 29"),h=u.hasCommandModifier,g=u.isCtrlKeyCommand;t.exports=s},1374:function(t,e,n){"use strict";function r(t,e,n,r,o,i){var s=n.nodeType===Node.TEXT_NODE,c=o.nodeType===Node.TEXT_NODE;if(s&&c)return{selectionState:l(t,d(u(n)),r,d(u(o)),i),needsRecovery:!1};var f=null,p=null,h=!0;return s?(f={key:d(u(n)),offset:r},p=a(e,o,i)):c?(p={key:d(u(o)),offset:i},f=a(e,n,r)):(f=a(e,n,r),p=a(e,o,i),n===o&&r===i&&(h=!!n.firstChild&&"BR"!==n.firstChild.nodeName)),{selectionState:l(t,f.key,f.offset,p.key,p.offset),needsRecovery:h}}function o(t){for(;t.firstChild&&c(t.firstChild);)t=t.firstChild;return t}function i(t){for(;t.lastChild&&c(t.lastChild);)t=t.lastChild;return t}function a(t,e,n){var r=e,a=u(r);if(null!=a||t&&(t===r||t.firstChild===r)||f(!1),t===r&&(r=r.firstChild,r instanceof Element&&"true"===r.getAttribute("data-contents")||f(!1),n>0&&(n=r.childNodes.length)),0===n){var l=null;if(null!=a)l=a;else{l=d(c(o(r)))}return{key:l,offset:0}}var p=r.childNodes[n-1],h=null,g=null;if(c(p)){var y=i(p);h=d(c(y)),g=s(y)}else h=d(a),g=s(p);return{key:h,offset:g}}function s(t){var e=t.textContent;return"\n"===e?0:e.length}var u=n(1039),c=n(1378),l=n(1380),f=n(936),d=n(941);t.exports=r},1375:function(t,e,n){"use strict";function r(t){var e=t.getSelection();return e.isCollapsed()?null:o(t.getCurrentContent(),e)}var o=n(1e3);t.exports=r},1376:function(t,e,n){"use strict";function r(t){for(var e=t.cloneRange(),n=[],r=t.endContainer;null!=r;r=r.parentNode){var o=r===t.commonAncestorContainer;o?e.setStart(t.startContainer,t.startOffset):e.setStart(e.endContainer,0);var a=Array.from(e.getClientRects());if(n.push(a),o){var s;return n.reverse(),(s=[]).concat.apply(s,n)}e.setEndBefore(r)}i(!1)}var o=n(947),i=n(936),a=o.isBrowser("Chrome"),s=a?r:function(t){return Array.from(t.getClientRects())};t.exports=s},1377:function(t,e,n){"use strict";function r(t){var e,n=null;return!i&&document.implementation&&document.implementation.createHTMLDocument&&(e=document.implementation.createHTMLDocument("foo"),e.documentElement.innerHTML=t,n=e.getElementsByTagName("body")[0]),n}var o=n(947),i=o.isBrowser("IE <= 9");t.exports=r},1378:function(t,e,n){"use strict";function r(t){if(t instanceof Element){var e=t.getAttribute("data-offset-key");if(e)return e;for(var n=0;n<t.childNodes.length;n++){var o=r(t.childNodes[n]);if(o)return o}}return null}t.exports=r},1379:function(t,e,n){"use strict";(function(e){function n(t,e){var n=0,o=[];t.forEach(function(i){r(i,function(r){n++,r&&o.push(r.slice(0,a)),n==t.length&&e(o.join("\r"))})})}function r(t,n){if(!e.FileReader||t.type&&!(t.type in i))return void n("");if(""===t.type){var r="";return o.test(t.name)&&(r=t.name.replace(o,"")),void n(r)}var a=new FileReader;a.onload=function(){n(a.result)},a.onerror=function(){n("")},a.readAsText(t)}var o=/\.textClipping$/,i={"text/plain":!0,"text/html":!0,"text/rtf":!0},a=5e3;t.exports=n}).call(e,n(240))},1380:function(t,e,n){"use strict";function r(t,e,n,r,a){var s=i(t.getSelection()),u=o.decode(e),c=u.blockKey,l=t.getBlockTree(c).getIn([u.decoratorKey,"leaves",u.leafKey]),f=o.decode(r),d=f.blockKey,p=t.getBlockTree(d).getIn([f.decoratorKey,"leaves",f.leafKey]),h=l.get("start"),g=p.get("start"),y=l?h+n:null,v=p?g+a:null;if(s.getAnchorKey()===c&&s.getAnchorOffset()===y&&s.getFocusKey()===d&&s.getFocusOffset()===v)return s;var m=!1;if(c===d){var b=l.get("end"),S=p.get("end");m=g===h&&S===b?a<n:g<h}else{m=t.getCurrentContent().getBlockMap().keySeq().skipUntil(function(t){return t===c||t===d}).first()===d}return s.merge({anchorKey:c,anchorOffset:y,focusKey:d,focusOffset:v,isBackward:m})}var o=n(998),i=n(941);t.exports=r},1381:function(t,e,n){"use strict";function r(t,e,n){if(n===t.count())e.forEach(function(e){t=t.push(e)});else if(0===n)e.reverse().forEach(function(e){t=t.unshift(e)});else{var r=t.slice(0,n),o=t.slice(n);t=r.concat(e,o).toList()}return t}t.exports=r},1382:function(t,e,n){"use strict";function r(t){var e=t.getSelection(),n=e.getAnchorKey(),r=t.getBlockTree(n),o=e.getStartOffset(),i=!1;return r.some(function(t){return o===t.get("start")?(i=!0,!0):o<t.get("end")&&t.get("leaves").some(function(t){return o===t.get("start")&&(i=!0,!0)})}),i}t.exports=r},1383:function(t,e,n){"use strict";function r(t,e){var n,r=t.getSelection(),o=r.getStartKey(),i=r.getStartOffset(),a=t.getCurrentContent(),s=o;return e>a.getBlockForKey(o).getText().length-i?(s=a.getKeyAfter(o),n=0):n=i+e,r.merge({focusKey:s,focusOffset:n})}t.exports=r},1384:function(t,e,n){"use strict";function r(t,e){var n=t.getBlockMap(),r={},o=e.getStartKey(),a=e.getStartOffset(),s=n.get(o),u=i(s,a);u!==s&&(r[o]=u);var c=e.getEndKey(),l=e.getEndOffset(),f=n.get(c);o===c&&(f=u);var d=i(f,l);return d!==f&&(r[c]=d),Object.keys(r).length?t.merge({blockMap:n.merge(r),selectionAfter:e}):t.set("selectionAfter",e)}function o(t,e,n){var r;return u(t,function(t,e){return t.getEntity()===e.getEntity()},function(t){return t.getEntity()===e},function(t,e){t<=n&&e>=n&&(r={start:t,end:e})}),"object"!=typeof r&&c(!1),r}function i(t,e){var n=t.getCharacterList(),r=e>0?n.get(e-1):void 0,i=e<n.count()?n.get(e):void 0,u=r?r.getEntity():void 0,c=i?i.getEntity():void 0;if(c&&c===u){if("MUTABLE"!==s.get(c).getMutability()){for(var l,f=o(n,c,e),d=f.start,p=f.end;d<p;)l=n.get(d),n=n.set(d,a.applyEntity(l,null)),d++;return t.set("characterList",n)}}return t}var a=n(943),s=n(949),u=n(999),c=n(936);t.exports=r},1388:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){if("file"==t.kind)return t.getAsFile()}var i=n(1720),a=n(1881),s=n(1329),u=new RegExp("\r\n","g"),c={"text/rtf":1,"text/html":1},l=function(){function t(e){r(this,t),this.data=e,this.types=e.types?a(e.types):[]}return t.prototype.isRichText=function(){return!(!this.getHTML()||!this.getText())||!this.isImage()&&this.types.some(function(t){return c[t]})},t.prototype.getText=function(){var t;return this.data.getData&&(this.types.length?this.types.indexOf("text/plain")!=-1&&(t=this.data.getData("text/plain")):t=this.data.getData("Text")),t?t.replace(u,"\n"):null},t.prototype.getHTML=function(){if(this.data.getData){if(!this.types.length)return this.data.getData("Text");if(this.types.indexOf("text/html")!=-1)return this.data.getData("text/html")}},t.prototype.isLink=function(){return this.types.some(function(t){return t.indexOf("Url")!=-1||t.indexOf("text/uri-list")!=-1||t.indexOf("text/x-moz-url")})},t.prototype.getLink=function(){if(this.data.getData){if(this.types.indexOf("text/x-moz-url")!=-1){return this.data.getData("text/x-moz-url").split("\n")[0]}return this.types.indexOf("text/uri-list")!=-1?this.data.getData("text/uri-list"):this.data.getData("url")}return null},t.prototype.isImage=function(){if(this.types.some(function(t){return t.indexOf("application/x-moz-file")!=-1}))return!0;for(var t=this.getFiles(),e=0;e<t.length;e++){var n=t[e].type;if(!i.isImage(n))return!1}return!0},t.prototype.getCount=function(){return this.data.hasOwnProperty("items")?this.data.items.length:this.data.hasOwnProperty("mozItemCount")?this.data.mozItemCount:this.data.files?this.data.files.length:null},t.prototype.getFiles=function(){return this.data.items?Array.prototype.slice.call(this.data.items).map(o).filter(s.thatReturnsArgument):this.data.files?Array.prototype.slice.call(this.data.files):[]},t.prototype.hasFiles=function(){return this.getFiles().length>0},t}();t.exports=l},1389:function(t,e,n){"use strict";function r(t,e){return!!e&&(t===e.documentElement||t===e.body)}var o={getTop:function(t){var e=t.ownerDocument;return r(t,e)?e.body.scrollTop||e.documentElement.scrollTop:t.scrollTop},setTop:function(t,e){var n=t.ownerDocument;r(t,n)?n.body.scrollTop=n.documentElement.scrollTop=e:t.scrollTop=e},getLeft:function(t){var e=t.ownerDocument;return r(t,e)?e.body.scrollLeft||e.documentElement.scrollLeft:t.scrollLeft},setLeft:function(t,e){var n=t.ownerDocument;r(t,n)?n.body.scrollLeft=n.documentElement.scrollLeft=e:t.scrollLeft=e}};t.exports=o},1390:function(t,e,n){"use strict";function r(t){var e=d.exec(t);return null==e?null:e[0]}function o(t){var e=r(t);return null==e?c.NEUTRAL:p.exec(e)?c.RTL:c.LTR}function i(t,e){if(e=e||c.NEUTRAL,!t.length)return e;var n=o(t);return n===c.NEUTRAL?e:n}function a(t,e){return e||(e=c.getGlobalDir()),c.isStrong(e)||l(!1),i(t,e)}function s(t,e){return a(t,e)===c.LTR}function u(t,e){return a(t,e)===c.RTL}var c=n(1051),l=n(936),f={L:"A-Za-zªµºÀ-ÖØ-öø-ƺƻƼ-ƿǀ-ǃǄ-ʓʔʕ-ʯʰ-ʸʻ-ˁː-ˑˠ-ˤˮͰ-ͳͶ-ͷͺͻ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҂Ҋ-ԯԱ-Ֆՙ՚-՟ա-և։ःऄ-हऻऽा-ीॉ-ौॎ-ॏॐक़-ॡ।-॥०-९॰ॱॲ-ঀং-ঃঅ-ঌএ-ঐও-নপ-রলশ-হঽা-ীে-ৈো-ৌৎৗড়-ঢ়য়-ৡ০-৯ৰ-ৱ৴-৹৺ਃਅ-ਊਏ-ਐਓ-ਨਪ-ਰਲ-ਲ਼ਵ-ਸ਼ਸ-ਹਾ-ੀਖ਼-ੜਫ਼੦-੯ੲ-ੴઃઅ-ઍએ-ઑઓ-નપ-રલ-ળવ-હઽા-ીૉો-ૌૐૠ-ૡ૦-૯૰ଂ-ଃଅ-ଌଏ-ଐଓ-ନପ-ରଲ-ଳଵ-ହଽାୀେ-ୈୋ-ୌୗଡ଼-ଢ଼ୟ-ୡ୦-୯୰ୱ୲-୷ஃஅ-ஊஎ-ஐஒ-கங-சஜஞ-டண-தந-பம-ஹா-ிு-ூெ-ைொ-ௌௐௗ௦-௯௰-௲ఁ-ఃఅ-ఌఎ-ఐఒ-నప-హఽు-ౄౘ-ౙౠ-ౡ౦-౯౿ಂ-ಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽಾಿೀ-ೄೆೇ-ೈೊ-ೋೕ-ೖೞೠ-ೡ೦-೯ೱ-ೲം-ഃഅ-ഌഎ-ഐഒ-ഺഽാ-ീെ-ൈൊ-ൌൎൗൠ-ൡ൦-൯൰-൵൹ൺ-ൿං-ඃඅ-ඖක-නඳ-රලව-ෆා-ෑෘ-ෟ෦-෯ෲ-ෳ෴ก-ะา-ำเ-ๅๆ๏๐-๙๚-๛ກ-ຂຄງ-ຈຊຍດ-ທນ-ຟມ-ຣລວສ-ຫອ-ະາ-ຳຽເ-ໄໆ໐-໙ໜ-ໟༀ༁-༃༄-༒༓༔༕-༗༚-༟༠-༩༪-༳༴༶༸༾-༿ཀ-ཇཉ-ཬཿ྅ྈ-ྌ྾-࿅࿇-࿌࿎-࿏࿐-࿔࿕-࿘࿙-࿚က-ဪါ-ာေးျ-ြဿ၀-၉၊-၏ၐ-ၕၖ-ၗၚ-ၝၡၢ-ၤၥ-ၦၧ-ၭၮ-ၰၵ-ႁႃ-ႄႇ-ႌႎႏ႐-႙ႚ-ႜ႞-႟Ⴀ-ჅჇჍა-ჺ჻ჼჽ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፠-፨፩-፼ᎀ-ᎏᎠ-Ᏼᐁ-ᙬ᙭-᙮ᙯ-ᙿᚁ-ᚚᚠ-ᛪ᛫-᛭ᛮ-ᛰᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱ᜵-᜶ᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳាើ-ៅះ-ៈ។-៖ៗ៘-៚ៜ០-៩᠐-᠙ᠠ-ᡂᡃᡄ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᤣ-ᤦᤩ-ᤫᤰ-ᤱᤳ-ᤸ᥆-᥏ᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧀᧁ-ᧇᧈ-ᧉ᧐-᧙᧚ᨀ-ᨖᨙ-ᨚ᨞-᨟ᨠ-ᩔᩕᩗᩡᩣ-ᩤᩭ-ᩲ᪀-᪉᪐-᪙᪠-᪦ᪧ᪨-᪭ᬄᬅ-ᬳᬵᬻᬽ-ᭁᭃ-᭄ᭅ-ᭋ᭐-᭙᭚-᭠᭡-᭪᭴-᭼ᮂᮃ-ᮠᮡᮦ-ᮧ᮪ᮮ-ᮯ᮰-᮹ᮺ-ᯥᯧᯪ-ᯬᯮ᯲-᯳᯼-᯿ᰀ-ᰣᰤ-ᰫᰴ-ᰵ᰻-᰿᱀-᱉ᱍ-ᱏ᱐-᱙ᱚ-ᱷᱸ-ᱽ᱾-᱿᳀-᳇᳓᳡ᳩ-ᳬᳮ-ᳱᳲ-ᳳᳵ-ᳶᴀ-ᴫᴬ-ᵪᵫ-ᵷᵸᵹ-ᶚᶛ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‎ⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℴℵ-ℸℹℼ-ℿⅅ-ⅉⅎ⅏Ⅰ-ↂↃ-ↄↅ-ↈ⌶-⍺⎕⒜-ⓩ⚬⠀-⣿Ⰰ-Ⱞⰰ-ⱞⱠ-ⱻⱼ-ⱽⱾ-ⳤⳫ-ⳮⳲ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵰ⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々〆〇〡-〩〮-〯〱-〵〸-〺〻〼ぁ-ゖゝ-ゞゟァ-ヺー-ヾヿㄅ-ㄭㄱ-ㆎ㆐-㆑㆒-㆕㆖-㆟ㆠ-ㆺㇰ-ㇿ㈀-㈜㈠-㈩㈪-㉇㉈-㉏㉠-㉻㉿㊀-㊉㊊-㊰㋀-㋋㋐-㋾㌀-㍶㍻-㏝㏠-㏾㐀-䶵一-鿌ꀀ-ꀔꀕꀖ-ꒌꓐ-ꓷꓸ-ꓽ꓾-꓿ꔀ-ꘋꘌꘐ-ꘟ꘠-꘩ꘪ-ꘫꙀ-ꙭꙮꚀ-ꚛꚜ-ꚝꚠ-ꛥꛦ-ꛯ꛲-꛷Ꜣ-ꝯꝰꝱ-ꞇ꞉-꞊Ꞌ-ꞎꞐ-ꞭꞰ-Ʇꟷꟸ-ꟹꟺꟻ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꠣ-ꠤꠧ꠰-꠵꠶-꠷ꡀ-ꡳꢀ-ꢁꢂ-ꢳꢴ-ꣃ꣎-꣏꣐-꣙ꣲ-ꣷ꣸-꣺ꣻ꤀-꤉ꤊ-ꤥ꤮-꤯ꤰ-ꥆꥒ-꥓꥟ꥠ-ꥼꦃꦄ-ꦲꦴ-ꦵꦺ-ꦻꦽ-꧀꧁-꧍ꧏ꧐-꧙꧞-꧟ꧠ-ꧤꧦꧧ-ꧯ꧰-꧹ꧺ-ꧾꨀ-ꨨꨯ-ꨰꨳ-ꨴꩀ-ꩂꩄ-ꩋꩍ꩐-꩙꩜-꩟ꩠ-ꩯꩰꩱ-ꩶ꩷-꩹ꩺꩻꩽꩾ-ꪯꪱꪵ-ꪶꪹ-ꪽꫀꫂꫛ-ꫜꫝ꫞-꫟ꫠ-ꫪꫫꫮ-ꫯ꫰-꫱ꫲꫳ-ꫴꫵꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚ꭛ꭜ-ꭟꭤ-ꭥꯀ-ꯢꯣ-ꯤꯦ-ꯧꯩ-ꯪ꯫꯬꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ-豈-舘並-龎ﬀ-ﬆﬓ-ﬗＡ-Ｚａ-ｚｦ-ｯｰｱ-ﾝﾞ-ﾟﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",R:"֐־׀׃׆׈-׏א-ת׫-ׯװ-ײ׳-״׵-׿߀-߉ߊ-ߪߴ-ߵߺ߻-߿ࠀ-ࠕࠚࠤࠨ࠮-࠯࠰-࠾࠿ࡀ-ࡘ࡜-࡝࡞࡟-࢟‏יִײַ-ﬨשׁ-זּ﬷טּ-לּ﬽מּ﬿נּ-סּ﭂ףּ-פּ﭅צּ-ﭏ",AL:"؈؋؍؛؜؝؞-؟ؠ-ؿـف-ي٭ٮ-ٯٱ-ۓ۔ەۥ-ۦۮ-ۯۺ-ۼ۽-۾ۿ܀-܍܎܏ܐܒ-ܯ݋-݌ݍ-ޥޱ޲-޿ࢠ-ࢲࢳ-ࣣﭐ-ﮱ﮲-﯁﯂-﯒ﯓ-ﴽ﵀-﵏ﵐ-ﶏ﶐-﶑ﶒ-ﷇ﷈-﷏ﷰ-ﷻ﷼﷾-﷿ﹰ-ﹴ﹵ﹶ-ﻼ﻽-﻾"},d=new RegExp("["+f.L+f.R+f.AL+"]"),p=new RegExp("["+f.R+f.AL+"]"),h={firstStrongChar:r,firstStrongCharDir:o,resolveBlockDir:i,getDirection:a,isDirectionLTR:s,isDirectionRTL:u};t.exports=h},1433:function(t,e,n){t.exports=n(12)(146)},1434:function(t,e,n){t.exports=n(12)(82)},1547:function(t,e,n){"use strict";var r=n(3),o=n.n(r),i=n(1),a=(n.n(i),n(756)),s=(n.n(a),n(2)),u=function(t){var e=a.Entity.get(t.block.getEntityAt(0)),n=e.getData(),r=n.src;return e.getType()===s.h.image?o()("img",{src:r,alt:"uploaded"}):null};e.a=u},1548:function(t,e,n){"use strict";var r=n(23),o=n.n(r),i=n(3),a=n.n(i),s=n(22),u=n.n(s),c=n(14),l=n.n(c),f=n(16),d=n.n(f),p=n(21),h=n.n(p),g=n(20),y=n.n(g),v=n(1),m=n.n(v),b=n(35),S=n.n(b),w=n(770),E=n(1007),C=(n.n(E),function(t){return Math.min(25*t,200)}),k=function(t){function e(t){l()(this,e);var n=h()(this,(e.__proto__||u()(e)).call(this,t));return n.container=null,n.updatePosition=n.updatePosition.bind(n),n.cleanSelection=n.cleanSelection.bind(n),n.timer=null,n}return y()(e,t),d()(e,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updatePosition),window.addEventListener("click",this.cleanSelection)}},{key:"componentDidUpdate",value:function(){var t=this;this.container&&(null!==this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){t.updatePosition()},0))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updatePosition),window.removeEventListener("click",this.cleanSelection),null!==this.timer&&(clearTimeout(this.timer),this.timer=null)}},{key:"updatePosition",value:function(){var t=window.getSelection();if(this.container&&!this.container.contains(t.anchorNode)){if(!this.props.display)return void(this.container.style.display="none");var e=C(this.props.cannedMessages.length),n=t.getRangeAt(0).getClientRects()[0];this.container.style.top=n.top-e+"px",this.container.style.left=n.left+20+"px",this.container.style.display="block";var r=Math.round(this.container.scrollTop/25),o=this.index;o<r?this.container.scrollTop=25*o:r+8<=o&&(this.container.scrollTop=25*(o-8+1))}}},{key:"cleanSelection",value:function(t){this.container&&t.target!==this.container&&this.props.cleanSelection()}},{key:"render",value:function(){var t=this,e=this.props,n=e.selected,r=e.cannedMessages,i=e.onSelect,s=e.cleanSelection;if(!r||0===r.length)return null;var u=C(r.length);return m.a.createElement("div",{ref:function(e){t.container=e},className:S()(E.default.selection,w.d&&E.default.ie),style:{display:!this.container&&"none",height:u,overflowY:r.length>8?"scroll":"auto"}},r.map(function(e,r){var u,c=e===n;return c&&(t.index=r),a()("div",{className:S()((u={},o()(u,E.default.selected,c),o()(u,E.default.unselected,!c),u)),style:{height:25,lineHeight:"25px",cursor:w.d?"default":"pointer"},onClick:function(t){t.preventDefault(),t.stopPropagation(),i(e),s()}},e.id,a()("span",{className:E.default.key},void 0,"#"+e.shortcut.toLowerCase()),a()("span",{className:E.default.value},void 0,e.content))}))}}]),e}(m.a.Component);e.a=k},1549:function(t,e,n){"use strict";var r=n(3),o=n.n(r),i=n(1),a=(n.n(i),n(377)),s=n(1566),u=n(1007),c=(n.n(u),function(t){var e=t.text,n=t.selected,r=t.onClick;return o()("div",{className:n?u.default.selectedLine:u.default.unselectedLine,onClick:!n&&r},void 0,o()(a.a,{className:s.a.success}),o()("span",{},void 0,e))});e.a=c},1550:function(t,e,n){"use strict";var r=n(3),o=n.n(r),i=n(22),a=n.n(i),s=n(14),u=n.n(s),c=n(16),l=n.n(c),f=n(21),d=n.n(f),p=n(20),h=n.n(p),g=n(1),y=n.n(g),v=n(54),m=n(1344),b=n(1549),S=n(69),w=n(2),E=n(1007),C=(n.n(E),function(t){function e(t){u()(this,e);var n=d()(this,(e.__proto__||a()(e)).call(this,t));return n.state={toggle:!1},n.onToggle=n.onToggle.bind(n),n.onSelect=n.onSelect.bind(n),n}return h()(e,t),l()(e,[{key:"componentDidMount",value:function(){var t=this;this.listener=function(e){t.selection&&!t.selection.contains(e.target)&&t.state.toggle&&t.setState({toggle:!1})},window.addEventListener("click",this.listener,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.listener)}},{key:"onToggle",value:function(t){t.stopPropagation(),this.setState({toggle:!this.state.toggle})}},{key:"onSelect",value:function(t){this.props.onSelect(t),this.setState({toggle:!1})}},{key:"render",value:function(){var t=this,e=this.props,n=e.className,r=e.type,i=e.onClick,a=e.id,s=e.sendToIds,u=e.editorState,c=e.disabled;return y.a.createElement("div",{ref:function(e){t.selection=e}},o()("div",{style:{display:!c&&this.state.toggle?"block":"none"},className:E.default.sendType},void 0,o()(b.a,{text:"Press Enter to Send",onClick:function(){return t.onSelect(m.b)},selected:r===m.b}),o()(b.a,{text:"Press Ctrl+Enter to Send",onClick:function(){return t.onSelect(m.a)},selected:r===m.a})),o()("div",{className:n},void 0,o()(v.a,{type:"primary",text:"Send",onClick:function(){return i(a,s,u)},disabled:c}),o()(v.a,{type:"primary",disabled:c,className:E.default.arrowDownIcon,icon:o()(S.a,{type:w.b.arrowDown}),onClick:this.onToggle})))}}]),e}(y.a.Component));e.a=C},1566:function(t,e,n){"use strict";var r=n(221);n.n(r);n.d(e,"a",function(){return o});var o={loading:r.default.loading,loginuser:r.default.loginuser,loginpassword:r.default.loginpassword,loginhelp:r.default.loginhelp,settingsIcon:r.default.settingsIcon,statusOnline:r.default.statusOnline,statusAway:r.default.statusAway,controlIcon:r.default.controlIcon,arrowDown:r.default.arrowDown,success:r.default.success}},1615:function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(null==t)return e;var n=a(e,2),o=n[0],s=n[1],u=i({},o),c=[].concat(r(s)),l=!0,f=!1,d=void 0;try{for(var p,h=Object.keys(t)[Symbol.iterator]();!(l=(p=h.next()).done);l=!0){var g=p.value;if(o.hasOwnProperty(g)){var y=o[g];u[g]=i({},y,t[g])}else u[g]=t[g],c.push(g)}}catch(t){f=!0,d=t}finally{try{!l&&h.return&&h.return()}finally{if(f)throw d}}return[u,c]}Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.default=o},1616:function(t,e,n){"use strict";function r(t){if(null==t)return t;var e={},n=!1,r=!0,i=!1,a=void 0;try{for(var s,u=Object.keys(t)[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value,l=c;o.hasOwnProperty(c)&&(l=o[c],n=!0),e[l]=t[c]}}catch(t){i=!0,a=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw a}}return n?e:t}Object.defineProperty(e,"__esModule",{value:!0});var o={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"};e.default=r},1617:function(t,e,n){"use strict";function r(t){return t.replace(c,"-$1").toLowerCase().replace(s,"-$1-")}function o(t,e){var n=void 0;return"string"==typeof e?n=u.test(e):(n=!0,e=String(e)),n&&"0"!==e&&a.isUnitlessNumber[t]!==!0?e+"px":e}function i(t){return Object.keys(t).map(function(e){var n=o(e,t[e]);return r(e)+": "+n}).join("; ")}Object.defineProperty(e,"__esModule",{value:!0});var a=n(1886),s=/^(moz|ms|o|webkit)-/,u=/^\d+$/,c=/([A-Z])/g;e.default=i},1618:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1619);Object.defineProperty(e,"stateToHTML",{enumerable:!0,get:function(){return r(o).default}})},1619:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t){switch(t){case x.BLOCK_TYPE.HEADER_ONE:return["h1"];case x.BLOCK_TYPE.HEADER_TWO:return["h2"];case x.BLOCK_TYPE.HEADER_THREE:return["h3"];case x.BLOCK_TYPE.HEADER_FOUR:return["h4"];case x.BLOCK_TYPE.HEADER_FIVE:return["h5"];case x.BLOCK_TYPE.HEADER_SIX:return["h6"];case x.BLOCK_TYPE.UNORDERED_LIST_ITEM:case x.BLOCK_TYPE.ORDERED_LIST_ITEM:return["li"];case x.BLOCK_TYPE.BLOCKQUOTE:return["blockquote"];case x.BLOCK_TYPE.CODE:return["pre","code"];case x.BLOCK_TYPE.ATOMIC:return["figure"];default:return["p"]}}function s(t){switch(t){case x.BLOCK_TYPE.UNORDERED_LIST_ITEM:return"ul";case x.BLOCK_TYPE.ORDERED_LIST_ITEM:return"ol";default:return null}}function u(t){if(null==t)return"";var e=[],n=!0,r=!1,o=void 0;try{for(var i,a=Object.keys(t)[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value,u=t[s];null!=u&&e.push(" "+s+'="'+f(u+"")+'"')}}catch(t){r=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return e.join("")}function c(t){switch(t){case x.BLOCK_TYPE.UNORDERED_LIST_ITEM:case x.BLOCK_TYPE.ORDERED_LIST_ITEM:return!0;default:return!1}}function l(t){return t.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;").split(" ").join("&nbsp;").split("\n").join(L+"\n")}function f(t){return t.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;").split('"').join("&quot;")}function d(t,e){return new F(t,e).generate()}Object.defineProperty(e,"__esModule",{value:!0});var p,h,g,y=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),m=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.default=d;var b=n(1615),S=r(b),w=n(1616),E=r(w),C=n(1617),k=r(C),T=n(756),x=n(1365),O=x.INLINE_STYLE.BOLD,_=x.INLINE_STYLE.CODE,D=x.INLINE_STYLE.ITALIC,M=x.INLINE_STYLE.STRIKETHROUGH,A=x.INLINE_STYLE.UNDERLINE,I="  ",L="<br>",B=/^data-([a-z0-9-]+)$/,R=(p={},i(p,O,{element:"strong"}),i(p,_,{element:"code"}),i(p,D,{element:"em"}),i(p,M,{element:"del"}),i(p,A,{element:"ins"}),p),K=[O,D,A,M,_],N=(h={},i(h,x.ENTITY_TYPE.LINK,{url:"href",rel:"rel",target:"target",title:"title",className:"class"}),i(h,x.ENTITY_TYPE.IMAGE,{src:"src",height:"height",width:"width",alt:"alt",className:"class"}),h),P=(g={},i(g,x.ENTITY_TYPE.LINK,function(t,e){var n=N.hasOwnProperty(t)?N[t]:{},r=e.getData(),o={},i=!0,a=!1,s=void 0;try{for(var u,c=Object.keys(r)[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var l=u.value,f=r[l];if(n.hasOwnProperty(l)){o[n[l]]=f}else B.test(l)&&(o[l]=f)}}catch(t){a=!0,s=t}finally{try{!i&&c.return&&c.return()}finally{if(a)throw s}}return o}),i(g,x.ENTITY_TYPE.IMAGE,function(t,e){var n=N.hasOwnProperty(t)?N[t]:{},r=e.getData(),o={},i=!0,a=!1,s=void 0;try{for(var u,c=Object.keys(r)[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var l=u.value,f=r[l];if(n.hasOwnProperty(l)){o[n[l]]=f}else B.test(l)&&(o[l]=f)}}catch(t){a=!0,s=t}finally{try{!i&&c.return&&c.return()}finally{if(a)throw s}}return o}),g),F=function(){function t(e,n){o(this,t),null==n&&(n={}),this.contentState=e,this.options=n;var r=(0,S.default)(n.inlineStyles,[R,K]),i=v(r,2),a=i[0],s=i[1];this.inlineStyles=a,this.styleOrder=s}return m(t,[{key:"generate",value:function(){for(this.output=[],this.blocks=this.contentState.getBlocksAsArray(),this.totalBlocks=this.blocks.length,this.currentBlock=0,this.indentLevel=0,this.wrapperTag=null;this.currentBlock<this.totalBlocks;)this.processBlock();return this.closeWrapperTag(),this.output.join("").trim()}},{key:"processBlock",value:function(){var t=this.options.blockRenderers,e=this.blocks[this.currentBlock],n=e.getType(),r=s(n);this.wrapperTag!==r&&(this.wrapperTag&&this.closeWrapperTag(),r&&this.openWrapperTag(r)),this.indent();var o=null!=t&&t.hasOwnProperty(n)?t[n]:null,i=o?o(e):null;if(null!=i)return this.output.push(i),this.output.push("\n"),void(this.currentBlock+=1);this.writeStartTag(e),this.output.push(this.renderBlockContent(e));var a=this.getNextBlock();if(c(n)&&a&&a.getDepth()===e.getDepth()+1){this.output.push("\n");var u=this.wrapperTag;this.wrapperTag=null,this.indentLevel+=1,this.currentBlock+=1,this.processBlocksAtDepth(a.getDepth()),this.wrapperTag=u,this.indentLevel-=1,this.indent()}else this.currentBlock+=1;this.writeEndTag(e)}},{key:"processBlocksAtDepth",value:function(t){for(var e=this.blocks[this.currentBlock];e&&e.getDepth()===t;)this.processBlock(),e=this.blocks[this.currentBlock];this.closeWrapperTag()}},{key:"getNextBlock",value:function(){return this.blocks[this.currentBlock+1]}},{key:"writeStartTag",value:function(t){var e=a(t.getType()),n=void 0;if(this.options.blockStyleFn){var r=this.options.blockStyleFn(t)||{},o=r.attributes,i=r.style;if(o=(0,E.default)(o),null!=i){var s=(0,k.default)(i);o=null==o?{style:s}:y({},o,{style:s})}n=u(o)}else n="";var c=!0,l=!1,f=void 0;try{for(var d,p=e[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var h=d.value;this.output.push("<"+h+n+">")}}catch(t){l=!0,f=t}finally{try{!c&&p.return&&p.return()}finally{if(l)throw f}}}},{key:"writeEndTag",value:function(t){var e=a(t.getType());if(1===e.length)this.output.push("</"+e[0]+">\n");else{var n=[],r=!0,o=!1,i=void 0;try{for(var s,u=e[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value;n.unshift("</"+c+">")}}catch(t){o=!0,i=t}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}this.output.push(n.join("")+"\n")}}},{key:"openWrapperTag",value:function(t){this.wrapperTag=t,this.indent(),this.output.push("<"+t+">\n"),this.indentLevel+=1}},{key:"closeWrapperTag",value:function(){var t=this.wrapperTag;t&&(this.indentLevel-=1,this.indent(),this.output.push("</"+t+">\n"),this.wrapperTag=null)}},{key:"indent",value:function(){this.output.push(I.repeat(this.indentLevel))}},{key:"renderBlockContent",value:function(t){var e=this,n=t.getType(),r=t.getText();if(""===r)return L;r=this.preserveWhitespace(r);var o=t.getCharacterList();return(0,x.getEntityRanges)(r,o).map(function(t){var r=v(t,2),o=r[0],i=r[1],a=i.map(function(t){var r=v(t,2),o=r[0],i=r[1],a=l(o),s=!0,c=!1,f=void 0;try{for(var d,p=e.styleOrder[Symbol.iterator]();!(s=(d=p.next()).done);s=!0){var h=d.value;if((h!==_||n!==x.BLOCK_TYPE.CODE)&&i.has(h)){var g=e.inlineStyles[h],m=g.element,b=g.attributes,S=g.style;if(null==m&&(m="span"),b=(0,E.default)(b),null!=S){var w=(0,k.default)(S);b=null==b?{style:w}:y({},b,{style:w})}a="<"+m+u(b)+">"+a+"</"+m+">"}}}catch(t){c=!0,f=t}finally{try{!s&&p.return&&p.return()}finally{if(c)throw f}}return a}).join(""),s=o?T.Entity.get(o):null,c=null==s?null:s.getType().toUpperCase();return null!=c&&c===x.ENTITY_TYPE.LINK?"<a"+u(P.hasOwnProperty(c)?P[c](c,s):null)+">"+a+"</a>":null!=c&&c===x.ENTITY_TYPE.IMAGE?"<img"+u(P.hasOwnProperty(c)?P[c](c,s):null)+"/>":a}).join("")}},{key:"preserveWhitespace",value:function(t){for(var e=t.length,n=new Array(e),r=0;r<e;r++)" "!==t[r]||0!==r&&r!==e-1&&" "!==t[r-1]?n[r]=t[r]:n[r]=" ";return n.join("")}}]),t}()},1620:function(t,e,n){"use strict";function r(t,e,n){for(var r=t.text,i=t.characterMeta,a=e.length,s=n.length,u=[],c=i.slice(0,0),l=0,f=r.indexOf(e);f!==-1;)u.push(r.slice(l,f)+n),c=c.concat(i.slice(l,f),o(i.slice(f,f+1),s)),l=f+a,f=r.indexOf(e,l);return u.push(r.slice(l)),c=c.concat(i.slice(l)),{text:u.join(""),characterMeta:c}}function o(t,e){for(var n=t.slice(0,0);e-- >0;)n=n.concat(t);return n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},1621:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1622);Object.defineProperty(e,"stateFromElement",{enumerable:!0,get:function(){return r(o).default}})},1622:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){return"\n"===t.charAt(0)&&(t=t.slice(1),e=e.slice(1)),{text:t,characterMeta:e}}function i(t,e){for(;" "===t.charAt(0);)t=t.slice(1),e=e.slice(1);return{text:t,characterMeta:e}}function a(t,e){for(;" "===t.slice(-1);)t=t.slice(0,-1),e=e.slice(0,-1);return{text:t,characterMeta:e}}function s(t,e){t=t.replace(/[ \t\n]/g," ");var n=i(t,e);t=n.text,e=n.characterMeta;var r=a(t,e);t=r.text,e=r.characterMeta;for(var o=t.length;o--;)" "===t.charAt(o)&&" "===t.charAt(o-1)&&(t=t.slice(0,o)+t.slice(o+1),e=e.slice(0,o).concat(e.slice(o+1)));var s=(0,h.default)({text:t,characterMeta:e},w+" ",w);t=s.text,e=s.characterMeta;var u=(0,h.default)({text:t,characterMeta:e}," "+w,w);return t=u.text,e=u.characterMeta,{text:t,characterMeta:e}}function u(t){switch(t){case v.BLOCK_TYPE.UNORDERED_LIST_ITEM:case v.BLOCK_TYPE.ORDERED_LIST_ITEM:return!0;default:return!1}}function c(t){var e="",n=(0,y.Seq)();return t.forEach(function(t){e+=t.text,n=n.concat(t.characterMeta)}),{text:e,characterMeta:n}}function l(t,e,n){switch(e){case"b":case"strong":return t.add(v.INLINE_STYLE.BOLD);case"i":case"em":return t.add(v.INLINE_STYLE.ITALIC);case"ins":return t.add(v.INLINE_STYLE.UNDERLINE);case"code":return t.add(v.INLINE_STYLE.CODE);case"del":return t.add(v.INLINE_STYLE.STRIKETHROUGH);default:return n&&n[e]?t.add(n[e]):t}}function f(t,e){var n=new D(e).process(t);return g.ContentState.createFromBlockArray(n)}Object.defineProperty(e,"__esModule",{value:!0});var d=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.default=f;var p=n(1620),h=function(t){return t&&t.__esModule?t:{default:t}}(p),g=n(756),y=n(125),v=n(1365),m=n(1861),b=(0,y.OrderedSet)(),S=new g.ContentBlock({key:(0,g.genKey)(),text:"",type:v.BLOCK_TYPE.UNSTYLED,characterList:(0,y.List)(),depth:0}),w="\r",E=/^data-([a-z0-9-]+)$/,C={a:{href:"url",rel:"rel",target:"target",title:"title"},img:{src:"src",alt:"alt"}},k=function(t,e){var n={};if(C.hasOwnProperty(t))for(var r=C[t],o=0;o<e.attributes.length;o++){var i=e.attributes[o],a=i.name,s=i.value;if(null!=s)if(r.hasOwnProperty(a)){var u=r[a];n[u]=s}else E.test(a)&&(n[a]=s)}return n},T={a:function(t,e){var n=k(t,e);if(null!=n.url)return g.Entity.create(v.ENTITY_TYPE.LINK,"MUTABLE",n)},img:function(t,e){var n=k(t,e);if(null!=n.src)return g.Entity.create(v.ENTITY_TYPE.IMAGE,"MUTABLE",n)}},x={a:1,abbr:1,area:1,audio:1,b:1,bdi:1,bdo:1,br:1,button:1,canvas:1,cite:1,code:1,command:1,datalist:1,del:1,dfn:1,em:1,embed:1,i:1,iframe:1,img:1,input:1,ins:1,kbd:1,keygen:1,label:1,map:1,mark:1,meter:1,noscript:1,object:1,output:1,progress:1,q:1,ruby:1,s:1,samp:1,script:1,select:1,small:1,span:1,strong:1,sub:1,sup:1,textarea:1,time:1,u:1,var:1,video:1,wbr:1,acronym:1,applet:1,basefont:1,big:1,font:1,isindex:1,strike:1,style:1,tt:1},O={area:1,base:1,br:1,col:1,colgroup:1,command:1,dl:1,embed:1,head:1,hgroup:1,hr:1,iframe:1,img:1,input:1,keygen:1,link:1,meta:1,ol:1,optgroup:1,option:1,param:1,script:1,select:1,source:1,style:1,table:1,tbody:1,textarea:1,tfoot:1,thead:1,title:1,tr:1,track:1,ul:1,wbr:1,basefont:1,dialog:1,dir:1,isindex:1},_={img:1},D=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t),this.options=e,this.blockStack=[],this.blockList=[],this.depth=0}return d(t,[{key:"process",value:function(t){this.processBlockElement(t);var e=[];return this.blockList.forEach(function(t){var n=c(t.textFragments),r=n.text,i=n.characterMeta,a=!1;if(r===w&&(a=!0,r=""),"pre"===t.tagName){var u=o(r,i);r=u.text,i=u.characterMeta}else{var l=s(r,i);r=l.text,i=l.characterMeta}r=r.split(w).join("\n"),(r.length||a)&&e.push(new g.ContentBlock({key:(0,g.genKey)(),text:r,type:t.type,characterList:i.toList(),depth:t.depth,data:t.data?(0,y.Map)(t.data):(0,y.Map)()}))}),e.length?e:[S]}},{key:"getBlockTypeFromTagName",value:function(t){var e=this.options.blockTypes;if(e&&e[t])return e[t];switch(t){case"li":return"ol"===this.blockStack.slice(-1)[0].tagName?v.BLOCK_TYPE.ORDERED_LIST_ITEM:v.BLOCK_TYPE.UNORDERED_LIST_ITEM;case"blockquote":return v.BLOCK_TYPE.BLOCKQUOTE;case"h1":return v.BLOCK_TYPE.HEADER_ONE;case"h2":return v.BLOCK_TYPE.HEADER_TWO;case"h3":return v.BLOCK_TYPE.HEADER_THREE;case"h4":return v.BLOCK_TYPE.HEADER_FOUR;case"h5":return v.BLOCK_TYPE.HEADER_FIVE;case"h6":return v.BLOCK_TYPE.HEADER_SIX;case"pre":return v.BLOCK_TYPE.CODE;case"figure":return v.BLOCK_TYPE.ATOMIC;default:return v.BLOCK_TYPE.UNSTYLED}}},{key:"processBlockElement",value:function(t){if(t){var e=this.options.customBlockFn,n=t.nodeName.toLowerCase(),r=void 0,o=void 0;if(e){var i=e(t);null!=i&&(r=i.type,o=i.data)}null==r&&(r=this.getBlockTypeFromTagName(n));var a=u(r),s=!O.hasOwnProperty(n),c={tagName:n,textFragments:[],type:r,styleStack:[b],entityStack:[null],depth:a?this.depth:0,data:o};s&&(this.blockList.push(c),a&&(this.depth+=1)),this.blockStack.push(c),null!=t.childNodes&&Array.from(t.childNodes).forEach(this.processNode,this),this.blockStack.pop(),s&&a&&(this.depth-=1)}}},{key:"processInlineElement",value:function(t){var e=t.nodeName.toLowerCase();if("br"===e)return void this.processText(w);var n=this.blockStack.slice(-1)[0],r=n.styleStack.slice(-1)[0],o=n.entityStack.slice(-1)[0];r=l(r,e,this.options.elementStyles),T.hasOwnProperty(e)&&(o=T[e](e,t)||o),n.styleStack.push(r),n.entityStack.push(o),null!=t.childNodes&&Array.from(t.childNodes).forEach(this.processNode,this),_.hasOwnProperty(e)&&this.processText(" "),n.entityStack.pop(),n.styleStack.pop()}},{key:"processTextNode",value:function(t){var e=t.nodeValue;e=e.replace(/(\r\n|\r|\n)/g,"\n"),e=e.split("​").join(w),this.processText(e)}},{key:"processText",value:function(t){var e=this.blockStack.slice(-1)[0],n=e.styleStack.slice(-1)[0],r=e.entityStack.slice(-1)[0],o=g.CharacterMetadata.create({style:n,entity:r}),i=(0,y.Repeat)(o,t.length);e.textFragments.push({text:t,characterMeta:i})}},{key:"processNode",value:function(t){if(t.nodeType===m.NODE_TYPE_ELEMENT){var e=t,n=e.nodeName.toLowerCase();x.hasOwnProperty(n)?this.processInlineElement(e):this.processBlockElement(e)}else t.nodeType===m.NODE_TYPE_TEXT&&this.processTextNode(t)}}]),t}()},1623:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1625);Object.defineProperty(e,"stateFromHTML",{enumerable:!0,get:function(){return r(o).default}})},1624:function(t,e,n){"use strict";function r(t){var e=void 0;if("undefined"!=typeof DOMParser){e=(new DOMParser).parseFromString(t,"text/html")}else e=document.implementation.createHTMLDocument(""),e.documentElement.innerHTML=t;return e.body}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},1625:function(t,e,n){"use strict";function r(t,e){var n=null==e||null==e.parser?a.default:e.parser,r=n(t);return(0,o.stateFromElement)(r,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(1621),i=n(1624),a=function(t){return t&&t.__esModule?t:{default:t}}(i)},1626:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=e.BLOCK_TYPE={UNSTYLED:"unstyled",HEADER_ONE:"header-one",HEADER_TWO:"header-two",HEADER_THREE:"header-three",HEADER_FOUR:"header-four",HEADER_FIVE:"header-five",HEADER_SIX:"header-six",UNORDERED_LIST_ITEM:"unordered-list-item",ORDERED_LIST_ITEM:"ordered-list-item",BLOCKQUOTE:"blockquote",PULLQUOTE:"pullquote",CODE:"code-block",ATOMIC:"atomic"},o=e.ENTITY_TYPE={LINK:"LINK",IMAGE:"IMAGE"},i=e.INLINE_STYLE={BOLD:"BOLD",CODE:"CODE",ITALIC:"ITALIC",STRIKETHROUGH:"STRIKETHROUGH",UNDERLINE:"UNDERLINE"};e.default={BLOCK_TYPE:r,ENTITY_TYPE:o,INLINE_STYLE:i}},1627:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(756),o=n(1035),i=function(t){return t&&t.__esModule?t:{default:t}}(o);e.default=function(t,e){for(var n=arguments.length,o=Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];var s=t.getCurrentContent(),u=t.getSelection(),c=u.getStartKey(),l=u.getEndKey(),f=u.getStartOffset(),d=u.getEndOffset(),p=c===l,h=(0,i.default)(s,c,l),g=t;return h.forEach(function(t){var n=t.getKey(),i=f,a=d;n===c?(i=f,a=p?d:t.getText().length):n===l?(i=p?f:0,a=d):(i=0,a=t.getText().length);var s=new r.SelectionState({anchorKey:n,anchorOffset:i,focusKey:n,focusOffset:a});g=e.apply(void 0,[g,s].concat(o))}),r.EditorState.forceSelection(g,u)}},1628:function(t,e,n){"use strict";function r(t,e){for(var n=null,r=null,i=[],a=0,s=0,u=t.length;s<u;s++){r=n;var c=e.get(s);n=c?c.getEntity():null,s>0&&n!==r&&(i.push([r,o(t.slice(a,s),e.slice(a,s))]),a=s)}return i.push([n,o(t.slice(a),e.slice(a))]),i}function o(t,e){for(var n=a,r=a,o=[],s=0,u=0,c=t.length;u<c;u++){r=n;var l=e.get(u);n=l?l.getStyle():a,u>0&&!(0,i.is)(n,r)&&(o.push([t.slice(s,u),r]),s=u)}return o.push([t.slice(s),n]),o}Object.defineProperty(e,"__esModule",{value:!0}),e.EMPTY_SET=void 0,e.default=r;var i=n(125),a=e.EMPTY_SET=new i.OrderedSet},1629:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1035),o=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=function(t){return function(e,n){var r=e.getCurrentContent(),i=n||e.getSelection(),a=i.getStartKey(),s=i.getEndKey(),u=i.getStartOffset(),c=i.getEndOffset(),l=a===s,f=(0,o.default)(r,a,s),d=!1,p=u+1,h=c-1;return f.forEach(function(e){t(e,function(t,n){if(!d){var r=e.getKey();l&&(n<p||t>h)||r===a&&n<p||r===s&&t>h||(d=!0)}})}),d}}},1630:function(t,e,n){"use strict";var r=n(978),o=n(943),i=n(955),a=n(937),s=n(934),u=n(125),c=n(946),l=u.List,f=u.Repeat,d={insertAtomicBlock:function(t,e,n){var u=t.getCurrentContent(),d=t.getSelection(),p=a.removeRange(u,d,"backward"),h=p.getSelectionAfter(),g=a.splitBlock(p,h),y=g.getSelectionAfter(),v=a.setBlockType(g,y,"atomic"),m=o.create({entity:e}),b=[new i({key:c(),type:"atomic",text:n,characterList:l(f(m,n.length))}),new i({key:c(),type:"unstyled",text:"",characterList:l()})],S=r.createFromArray(b),w=a.replaceWithFragment(v,y,S),E=w.merge({selectionBefore:d,selectionAfter:w.getSelectionAfter().set("hasFocus",!0)});return s.push(t,E,"insert-fragment")}};t.exports=d},1631:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e,n){for(var r=e;r<n;r++)if(null!=t[r])return!1;return!0}function i(t,e,n,r){for(var o=e;o<n;o++)t[o]=r}var a=n(125),s=a.List,u=function(){function t(e){r(this,t),this._decorators=e.slice()}return t.prototype.getDecorations=function(t){var e=Array(t.getText().length).fill(null);return this._decorators.forEach(function(n,r){var a=0;(0,n.strategy)(t,function(t,n){o(e,t,n)&&(i(e,t,n,r+"."+a),a++)})}),s(e)},t.prototype.getComponentForKey=function(t){var e=parseInt(t.split(".")[0],10);return this._decorators[e].component},t.prototype.getPropsForKey=function(t){var e=parseInt(t.split(".")[0],10);return this._decorators[e].props},t}();t.exports=u},1632:function(t,e,n){"use strict";function r(t,e,n,r){var i=t.getBlockMap(),s=e.getStartKey(),u=e.getStartOffset(),c=e.getEndKey(),l=e.getEndOffset(),f=i.skipUntil(function(t,e){return e===s}).takeUntil(function(t,e){return e===c}).concat(a([[c,i.get(c)]])).map(function(t,e){var i,a;s===c?(i=u,a=l):(i=e===s?u:0,a=e===c?l:t.getLength());for(var f,d=t.getCharacterList();i<a;)f=d.get(i),d=d.set(i,r?o.applyStyle(f,n):o.removeStyle(f,n)),i++;return t.set("characterList",d)});return t.merge({blockMap:i.merge(f),selectionBefore:e,selectionAfter:e})}var o=n(943),i=n(125),a=i.Map,s={add:function(t,e,n){return r(t,e,n,!0)},remove:function(t,e,n){return r(t,e,n,!1)}};t.exports=s},1633:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(757),s=a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=n(1037),c=n(1367),l=n(1634),f=n(1635),d=n(1636),p=n(1637),h=n(1639),g=n(934),y=n(1),v=n(88),m=n(1389),b=n(1050),S=n(947),w=n(982),E=n(1329),C=n(946),k=n(1373),T=n(941),x=n(1052),O=S.isBrowser("IE"),_=!O,D={edit:p,composite:l,drag:d,cut:null,render:null},M=function(t){function e(n){r(this,e);var i=o(this,t.call(this,n));return i._blockSelectEvents=!1,i._clipboard=null,i._guardAgainstRender=!1,i._handler=null,i._dragCount=0,i._editorKey=C(),i._placeholderAccessibilityID="placeholder-"+i._editorKey,i._onBeforeInput=i._buildHandler("onBeforeInput"),i._onBlur=i._buildHandler("onBlur"),i._onCharacterData=i._buildHandler("onCharacterData"),i._onCompositionEnd=i._buildHandler("onCompositionEnd"),i._onCompositionStart=i._buildHandler("onCompositionStart"),i._onCopy=i._buildHandler("onCopy"),i._onCut=i._buildHandler("onCut"),i._onDragEnd=i._buildHandler("onDragEnd"),i._onDragOver=i._buildHandler("onDragOver"),i._onDragStart=i._buildHandler("onDragStart"),i._onDrop=i._buildHandler("onDrop"),i._onInput=i._buildHandler("onInput"),i._onFocus=i._buildHandler("onFocus"),i._onKeyDown=i._buildHandler("onKeyDown"),i._onKeyPress=i._buildHandler("onKeyPress"),i._onKeyUp=i._buildHandler("onKeyUp"),i._onMouseDown=i._buildHandler("onMouseDown"),i._onMouseUp=i._buildHandler("onMouseUp"),i._onPaste=i._buildHandler("onPaste"),i._onSelect=i._buildHandler("onSelect"),i.focus=i._focus.bind(i),i.blur=i._blur.bind(i),i.setMode=i._setMode.bind(i),i.exitCurrentMode=i._exitCurrentMode.bind(i),i.restoreEditorDOM=i._restoreEditorDOM.bind(i),i.setRenderGuard=i._setRenderGuard.bind(i),i.removeRenderGuard=i._removeRenderGuard.bind(i),i.setClipboard=i._setClipboard.bind(i),i.getClipboard=i._getClipboard.bind(i),i.getEditorKey=function(){return i._editorKey},i.update=i._update.bind(i),i.onDragEnter=i._onDragEnter.bind(i),i.onDragLeave=i._onDragLeave.bind(i),i.state={containerKey:0},i}return i(e,t),e.prototype._buildHandler=function(t){var e=this;return function(n){if(!e.props.readOnly){var r=e._handler&&e._handler[t];r&&r.call(e,n)}}},e.prototype._showPlaceholder=function(){return!!this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!this.props.editorState.getCurrentContent().hasText()},e.prototype._renderPlaceholder=function(){return this._showPlaceholder()?y.createElement(h,{text:T(this.props.placeholder),editorState:this.props.editorState,textAlignment:this.props.textAlignment,accessibilityID:this._placeholderAccessibilityID}):null},e.prototype.render=function(){var t=this.props,e=t.readOnly,n=t.textAlignment,r=w({"DraftEditor/root":!0,"DraftEditor/alignLeft":"left"===n,"DraftEditor/alignRight":"right"===n,"DraftEditor/alignCenter":"center"===n}),o={outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"};return y.createElement("div",{className:r},this._renderPlaceholder(),y.createElement("div",{className:w("DraftEditor/editorContainer"),key:"editor"+this.state.containerKey,ref:"editorContainer"},y.createElement("div",{"aria-activedescendant":e?null:this.props.ariaActiveDescendantID,"aria-autocomplete":e?null:this.props.ariaAutoComplete,"aria-describedby":this._showPlaceholder()?this._placeholderAccessibilityID:null,"aria-expanded":e?null:this.props.ariaExpanded,"aria-haspopup":e?null:this.props.ariaHasPopup,"aria-label":this.props.ariaLabel,"aria-owns":e?null:this.props.ariaOwneeID,className:w("public/DraftEditor/content"),contentEditable:!e,"data-testid":this.props.webDriverTestID,onBeforeInput:this._onBeforeInput,onBlur:this._onBlur,onCompositionEnd:this._onCompositionEnd,onCompositionStart:this._onCompositionStart,onCopy:this._onCopy,onCut:this._onCut,onDragEnd:this._onDragEnd,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this._onDragOver,onDragStart:this._onDragStart,onDrop:this._onDrop,onFocus:this._onFocus,onInput:this._onInput,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseUp:this._onMouseUp,onPaste:this._onPaste,onSelect:this._onSelect,ref:"editor",role:e?null:this.props.role||"textbox",spellCheck:_&&this.props.spellCheck,style:o,suppressContentEditableWarning:!0,tabIndex:this.props.tabIndex},y.createElement(f,{blockRenderMap:this.props.blockRenderMap,blockRendererFn:this.props.blockRendererFn,blockStyleFn:this.props.blockStyleFn,customStyleMap:s({},c,this.props.customStyleMap),customStyleFn:this.props.customStyleFn,editorKey:this._editorKey,editorState:this.props.editorState}))))},e.prototype.componentDidMount=function(){this.setMode("edit"),O&&document.execCommand("AutoUrlDetect",!1,!1)},e.prototype.componentWillUpdate=function(){this._blockSelectEvents=!0},e.prototype.componentDidUpdate=function(){this._blockSelectEvents=!1},e.prototype._focus=function(t){var e=this.props.editorState,n=e.getSelection().getHasFocus(),r=v.findDOMNode(this.refs.editor),o=b.getScrollParent(r),i=t||x(o),a=i.x,s=i.y;r.focus(),o===window?window.scrollTo(a,s):m.setTop(o,s),n||this.update(g.forceSelection(e,e.getSelection()))},e.prototype._blur=function(){v.findDOMNode(this.refs.editor).blur()},e.prototype._setMode=function(t){this._handler=D[t]},e.prototype._exitCurrentMode=function(){this.setMode("edit")},e.prototype._restoreEditorDOM=function(t){var e=this;this.setState({containerKey:this.state.containerKey+1},function(){e._focus(t)})},e.prototype._setRenderGuard=function(){this._guardAgainstRender=!0},e.prototype._removeRenderGuard=function(){this._guardAgainstRender=!1},e.prototype._setClipboard=function(t){this._clipboard=t},e.prototype._getClipboard=function(){return this._clipboard},e.prototype._update=function(t){this.props.onChange(t)},e.prototype._onDragEnter=function(){this._dragCount++},e.prototype._onDragLeave=function(){0===--this._dragCount&&this.exitCurrentMode()},e}(y.Component);M.defaultProps={blockRenderMap:u,blockRendererFn:E.thatReturnsNull,blockStyleFn:E.thatReturns(""),keyBindingFn:k,readOnly:!1,spellCheck:!1,stripPastedStyles:!1},t.exports=M},1634:function(t,e,n){"use strict";var r=n(937),o=n(934),i=n(1049),a=n(1040),s=n(1382),u=!1,c=!1,l="",f={onBeforeInput:function(t){l=(l||"")+t.data},onCompositionStart:function(){c=!0},onCompositionEnd:function(){var t=this;u=!1,c=!1,setTimeout(function(){u||f.resolveComposition.call(t)},20)},onKeyDown:function(t){t.which!==i.RIGHT&&t.which!==i.LEFT||t.preventDefault()},onKeyPress:function(t){t.which===i.RETURN&&t.preventDefault()},resolveComposition:function(){if(!c){u=!0;var t=l;l="";var e=o.set(this.props.editorState,{inCompositionMode:!1}),n=e.getCurrentInlineStyle(),i=a(e.getCurrentContent(),e.getSelection()),f=!t||s(e)||n.size>0||null!==i;if(f&&this.restoreEditorDOM(),this.exitCurrentMode(),this.removeRenderGuard(),t){var d=r.replaceText(e.getCurrentContent(),e.getSelection(),t,n,i);return void this.update(o.push(e,d,"insert-characters"))}f&&this.update(o.set(e,{nativelyRenderedContent:null,forceSelection:!0}))}}};t.exports=f},1635:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e,n,r){return d({"public/DraftStyleDefault/unorderedListItem":"unordered-list-item"===t,"public/DraftStyleDefault/orderedListItem":"ordered-list-item"===t,"public/DraftStyleDefault/reset":n,"public/DraftStyleDefault/depth0":0===e,"public/DraftStyleDefault/depth1":1===e,"public/DraftStyleDefault/depth2":2===e,"public/DraftStyleDefault/depth3":3===e,"public/DraftStyleDefault/depth4":4===e,"public/DraftStyleDefault/listLTR":"LTR"===r,"public/DraftStyleDefault/listRTL":"RTL"===r})}var s=n(757),u=s||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=n(1368),l=n(998),f=(n(934),n(1)),d=n(982),p=n(1731),h=n(941),g=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return i(e,t),e.prototype.shouldComponentUpdate=function(t){var e=this.props.editorState,n=t.editorState;if(e.getDirectionMap()!==n.getDirectionMap())return!0;if(e.getSelection().getHasFocus()!==n.getSelection().getHasFocus())return!0;var r=n.getNativelyRenderedContent(),o=e.isInCompositionMode(),i=n.isInCompositionMode();if(e===n||null!==r&&n.getCurrentContent()===r||o&&i)return!1;var a=e.getCurrentContent(),s=n.getCurrentContent(),u=e.getDecorator(),c=n.getDecorator();return o!==i||a!==s||u!==c||n.mustForceSelection()},e.prototype.render=function(){for(var t=this.props,e=t.blockRenderMap,n=t.blockRendererFn,r=t.customStyleMap,o=t.customStyleFn,i=t.editorState,s=i.getCurrentContent(),d=i.getSelection(),g=i.mustForceSelection(),y=i.getDecorator(),v=h(i.getDirectionMap()),m=s.getBlocksAsArray(),b=[],S=null,w=null,E=0;E<m.length;E++){var C=m[E],k=C.getKey(),T=C.getType(),x=n(C),O=void 0,_=void 0,D=void 0;x&&(O=x.component,_=x.props,D=x.editable);var M=v.get(k),A=l.encode(k,0,0),I={block:C,blockProps:_,customStyleMap:r,customStyleFn:o,decorator:y,direction:M,forceSelection:g,key:k,offsetKey:A,selection:d,tree:i.getBlockTree(k)},L=e.get(T),B=L.wrapper,R=L.element||e.get("unstyled").element,K=C.getDepth(),N=this.props.blockStyleFn(C);if("li"===R){N=p(N,a(T,K,w!==B||null===S||K>S,M))}var P=O||c,F={className:N,"data-block":!0,"data-editor":this.props.editorKey,"data-offset-key":A,key:k};void 0!==D&&(F=u({},F,{contentEditable:D,suppressContentEditableWarning:!0}));var j=f.createElement(R,F,f.createElement(P,I));b.push({block:j,wrapperTemplate:B,key:k,offsetKey:A}),S=B?C.getDepth():null,w=B}for(var U=[],H=0;H<b.length;){var Y=b[H];if(Y.wrapperTemplate){var W=[];do{W.push(b[H].block),H++}while(H<b.length&&b[H].wrapperTemplate===Y.wrapperTemplate);var z=f.cloneElement(Y.wrapperTemplate,{key:Y.key+"-wrap","data-offset-key":Y.offsetKey},W);U.push(z)}else U.push(Y.block),H++}return f.createElement("div",{"data-contents":"true"},U)},e}(f.Component);t.exports=g},1636:function(t,e,n){"use strict";function r(t,e){var n=null,r=null;if("function"==typeof document.caretRangeFromPoint){var o=document.caretRangeFromPoint(t.x,t.y);n=o.startContainer,r=o.startOffset}else{if(!t.rangeParent)return null;n=t.rangeParent,r=t.rangeOffset}n=d(n),r=d(r);var i=d(c(n));return f(e,i,r,i,r)}function o(t,e){var n=s.moveText(t.getCurrentContent(),t.getSelection(),e);return u.push(t,n,"insert-fragment")}function i(t,e,n){var r=s.insertText(t.getCurrentContent(),e,n,t.getCurrentInlineStyle());return u.push(t,r,"insert-fragment")}var a=n(1388),s=n(937),u=n(934),c=n(1039),l=n(1379),f=n(1380),d=n(941),p=n(1001),h={onDragEnd:function(){this.exitCurrentMode()},onDrop:function(t){var e=this,n=new a(t.nativeEvent.dataTransfer),s=this.props.editorState,u=r(t.nativeEvent,s);if(t.preventDefault(),this.exitCurrentMode(),null!=u){var c=n.getFiles();if(c.length>0){if(this.props.handleDroppedFiles&&p(this.props.handleDroppedFiles(u,c)))return;return void l(c,function(t){t&&e.update(i(s,d(u),t))})}var f=this._internalDrag?"internal":"external";if(!this.props.handleDrop||!p(this.props.handleDrop(u,n,f)))return this._internalDrag?void this.update(o(s,u)):void this.update(i(s,u,n.getText()))}}};t.exports=h},1637:function(t,e,n){"use strict";var r=n(1654),o=n(1655),i=n(1656),a=n(1657),s=n(1658),u=n(1659),c=n(1660),l=n(1661),f=n(1662),d=n(1663),p=n(1664),h=n(1665),g={onBeforeInput:r,onBlur:o,onCompositionStart:i,onCopy:a,onCut:s,onDragOver:u,onDragStart:c,onFocus:l,onInput:f,onKeyDown:d,onPaste:p,onSelect:h};t.exports=g},1638:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(757),s=n(1640),u=n(1),c=n(88),l=(n(964),n(1688)),f=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return i(e,t),e.prototype._setSelection=function(){var t=this.props.selection;if(null!=t&&t.getHasFocus()){var e=this.props,n=e.blockKey,r=e.start,o=e.text,i=r+o.length;if(t.hasEdgeWithin(n,r,i)){var a=c.findDOMNode(this),s=a.firstChild,u=void 0;u=s.nodeType===Node.TEXT_NODE?s:"BR"===s.tagName?a:s.firstChild,l(t,u,n,r,i)}}},e.prototype.shouldComponentUpdate=function(t){return c.findDOMNode(this.refs.leaf).textContent!==t.text||t.styleSet!==this.props.styleSet||t.forceSelection},e.prototype.componentDidUpdate=function(){this._setSelection()},e.prototype.componentDidMount=function(){this._setSelection()},e.prototype.render=function(){var t=this.props.text;t.endsWith("\n")&&this.props.isLast&&(t+="\n");var e=this.props,n=e.customStyleMap,r=e.customStyleFn,o=e.offsetKey,i=e.styleSet,c=i.reduce(function(t,e){var r={},o=n[e];return void 0!==o&&t.textDecoration!==o.textDecoration&&(r.textDecoration=[t.textDecoration,o.textDecoration].join(" ").trim()),a(t,o,r)},{});if(r){c=a(c,r(i))}return u.createElement("span",{"data-offset-key":o,ref:"leaf",style:c},u.createElement(s,null,t))},e}(u.Component);t.exports=f},1639:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(1),s=n(982),u=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return i(e,t),e.prototype.shouldComponentUpdate=function(t){return this.props.text!==t.text||this.props.editorState.getSelection().getHasFocus()!==t.editorState.getSelection().getHasFocus()},e.prototype.render=function(){var t=this.props.editorState.getSelection().getHasFocus(),e=s({"public/DraftEditorPlaceholder/root":!0,"public/DraftEditorPlaceholder/hasFocus":t});return a.createElement("div",{className:e},a.createElement("div",{className:s("public/DraftEditorPlaceholder/inner"),id:this.props.accessibilityID},this.props.text))},e}(a.Component);t.exports=u},1640:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){return l?"\n"===t.textContent:"BR"===t.tagName}var s=n(1),u=n(88),c=n(947),l=c.isBrowser("IE <= 11"),f=l?s.createElement("span",{key:"A","data-text":"true"},"\n"):s.createElement("br",{key:"A","data-text":"true"}),d=l?s.createElement("span",{key:"B","data-text":"true"},"\n"):s.createElement("br",{key:"B","data-text":"true"}),p=function(t){function e(n){r(this,e);var i=o(this,t.call(this,n));return i._forceFlag=!1,i}return i(e,t),e.prototype.shouldComponentUpdate=function(t){var e=u.findDOMNode(this);return""===t.children?!a(e):e.textContent!==t.children},e.prototype.componentWillUpdate=function(){this._forceFlag=!this._forceFlag},e.prototype.render=function(){return""===this.props.children?this._forceFlag?f:d:s.createElement("span",{key:this._forceFlag?"A":"B","data-text":"true"},this.props.children)},e}(s.Component);t.exports=p},1641:function(t,e,n){"use strict";var r={getRemovalRange:function(t,e,n,r,o){var i=n.split(" ");i=i.map(function(t,e){if("forward"===o){if(e>0)return" "+t}else if(e<i.length-1)return t+" ";return t});for(var a,s,u=r,c=null,l=null,f=0;f<i.length;f++){if(s=i[f],a=u+s.length,t<a&&u<e)null!==c?l=a:(c=u,l=a);else if(null!==c)break;u=a}var d=r+n.length,p=c===r,h=l===d;return(!p&&h||p&&!h)&&("forward"===o?l!==d&&l++:c!==r&&c--),{start:c,end:l}}};t.exports=r},1642:function(t,e,n){"use strict";var r=(n(943),n(955)),o=n(125),i=n(1372),a=n(946),s=n(1377),u=n(1042),c=o.List,l=o.Repeat,f={processHTML:function(t,e){return i(t,s,e)},processText:function(t,e){return t.map(function(t){return t=u(t),new r({key:a(),type:"unstyled",text:t,characterList:c(l(e,t.length))})})}};t.exports=f},1643:function(t,e,n){"use strict";var r,o=n(125),i=n(1723),a=n(941),s=o.OrderedMap,u={getDirectionMap:function(t,e){r?r.reset():r=new i;var n=t.getBlockMap(),u=n.valueSeq().map(function(t){return a(r).getDirection(t.getText())}),c=s(n.keySeq().zip(u));return null!=e&&o.is(e,c)?e:c}};t.exports=u},1644:function(t,e,n){"use strict";var r=n(949),o=n(937),i=n(934),a=(n(964),n(1646)),s=n(941),u={currentBlockContainsLink:function(t){var e=t.getSelection();return t.getCurrentContent().getBlockForKey(e.getAnchorKey()).getCharacterList().slice(e.getStartOffset(),e.getEndOffset()).some(function(t){var e=t.getEntity();return!!e&&"LINK"===r.get(e).getType()})},getCurrentBlockType:function(t){var e=t.getSelection();return t.getCurrentContent().getBlockForKey(e.getStartKey()).getType()},getDataObjectForLinkURL:function(t){return{url:t.toString()}},handleKeyCommand:function(t,e){switch(e){case"bold":return u.toggleInlineStyle(t,"BOLD");case"italic":return u.toggleInlineStyle(t,"ITALIC");case"underline":return u.toggleInlineStyle(t,"UNDERLINE");case"code":return u.toggleCode(t);case"backspace":case"backspace-word":case"backspace-to-start-of-line":return u.onBackspace(t);case"delete":case"delete-word":case"delete-to-end-of-block":return u.onDelete(t);default:return null}},insertSoftNewline:function(t){var e=o.insertText(t.getCurrentContent(),t.getSelection(),"\n",t.getCurrentInlineStyle(),null),n=i.push(t,e,"insert-characters");return i.forceSelection(n,e.getSelectionAfter())},onBackspace:function(t){var e=t.getSelection();if(!e.isCollapsed()||e.getAnchorOffset()||e.getFocusOffset())return null;var n=t.getCurrentContent(),r=e.getStartKey(),a=n.getBlockBefore(r);if(a&&"atomic"===a.getType()){var s=e.merge({anchorKey:a.getKey(),anchorOffset:0}),c=o.setBlockType(n,s,n.getBlockForKey(r).getType()),l=o.removeRange(c,s,"backward");if(l!==n)return i.push(t,l,"remove-range")}var f=u.tryToRemoveBlockStyle(t);return f?i.push(t,f,"change-block-type"):null},onDelete:function(t){var e=t.getSelection();if(!e.isCollapsed())return null;var n=t.getCurrentContent(),r=e.getStartKey(),a=n.getBlockForKey(r),s=a.getLength();if(e.getStartOffset()<s)return null;var u=n.getBlockAfter(r);if(!u||"atomic"!==u.getType())return null;var c=e.merge({focusKey:u.getKey(),focusOffset:u.getLength()}),l=o.removeRange(n,c,"forward");return l!==n?i.push(t,l,"remove-range"):null},onTab:function(t,e,n){var r=e.getSelection(),o=r.getAnchorKey();if(o!==r.getFocusKey())return e;var s=e.getCurrentContent(),u=s.getBlockForKey(o),c=u.getType();if("unordered-list-item"!==c&&"ordered-list-item"!==c)return e;t.preventDefault();var l=s.getBlockBefore(o);if(!l)return e;var f=l.getType();if("unordered-list-item"!==f&&"ordered-list-item"!==f)return e;var d=u.getDepth();if(!t.shiftKey&&d===n)return e;n=Math.min(l.getDepth()+1,n);var p=a(s,r,t.shiftKey?-1:1,n);return i.push(e,p,"adjust-depth")},toggleBlockType:function(t,e){var n=t.getSelection(),r=n.getStartKey(),a=n.getEndKey(),u=t.getCurrentContent(),c=n;if(r!==a&&0===n.getEndOffset()){var l=s(u.getBlockBefore(a));a=l.getKey(),c=c.merge({anchorKey:r,anchorOffset:n.getStartOffset(),focusKey:a,focusOffset:l.getLength(),isBackward:!1})}if(u.getBlockMap().skipWhile(function(t,e){return e!==r}).reverse().skipWhile(function(t,e){return e!==a}).some(function(t){return"atomic"===t.getType()}))return t;var f=u.getBlockForKey(r).getType()===e?"unstyled":e;return i.push(t,o.setBlockType(u,c,f),"change-block-type")},toggleCode:function(t){var e=t.getSelection(),n=e.getAnchorKey(),r=e.getFocusKey();return e.isCollapsed()||n!==r?u.toggleBlockType(t,"code-block"):u.toggleInlineStyle(t,"CODE")},toggleInlineStyle:function(t,e){var n=t.getSelection(),r=t.getCurrentInlineStyle();if(n.isCollapsed())return i.setInlineStyleOverride(t,r.has(e)?r.remove(e):r.add(e));var a,s=t.getCurrentContent();return a=r.has(e)?o.removeInlineStyle(s,n,e):o.applyInlineStyle(s,n,e),i.push(t,a,"change-inline-style")},toggleLink:function(t,e,n){var r=o.applyEntity(t.getCurrentContent(),e,n);return i.push(t,r,"apply-entity")},tryToRemoveBlockStyle:function(t){var e=t.getSelection(),n=e.getAnchorOffset();if(e.isCollapsed()&&0===n){var r=e.getAnchorKey(),i=t.getCurrentContent(),a=i.getBlockForKey(r);if(a.getLength()>0)return null;var s=a.getType(),u=i.getBlockBefore(r);if("code-block"===s&&u&&"code-block"===u.getType())return null;if("unstyled"!==s)return o.setBlockType(i,e,"unstyled")}return null}};t.exports=u},1645:function(t,e,n){"use strict";var r=n(937),o=n(934),i=n(1e3),a=n(941),s=null,u={cut:function(t){var e=t.getCurrentContent(),n=t.getSelection(),u=null;if(n.isCollapsed()){var c=n.getAnchorKey(),l=e.getBlockForKey(c).getLength();if(l===n.getAnchorOffset())return t;u=n.set("focusOffset",l)}else u=n;u=a(u),s=i(e,u);var f=r.removeRange(e,u,"forward");return f===e?t:o.push(t,f,"remove-range")},paste:function(t){if(!s)return t;var e=r.replaceWithFragment(t.getCurrentContent(),t.getSelection(),s);return o.push(t,e,"insert-fragment")}};t.exports=u},1646:function(t,e,n){"use strict";function r(t,e,n,r){var o=e.getStartKey(),i=e.getEndKey(),a=t.getBlockMap(),s=a.toSeq().skipUntil(function(t,e){return e===o}).takeUntil(function(t,e){return e===i}).concat([[i,a.get(i)]]).map(function(t){var e=t.getDepth()+n;return e=Math.max(0,Math.min(e,r)),t.set("depth",e)});return a=a.merge(s),t.merge({blockMap:a,selectionBefore:e,selectionAfter:e})}t.exports=r},1647:function(t,e,n){"use strict";function r(t,e,n,r){for(var i=t.getCharacterList();e<n;)i=i.set(e,o.applyEntity(i.get(e),r)),e++;return t.set("characterList",i)}var o=n(943);t.exports=r},1648:function(t,e,n){"use strict";function r(t,e,n){var r=t.getBlockMap(),a=e.getStartKey(),s=e.getStartOffset(),u=e.getEndKey(),c=e.getEndOffset(),l=r.skipUntil(function(t,e){return e===a}).takeUntil(function(t,e){return e===u}).toOrderedMap().merge(o.OrderedMap([[u,r.get(u)]])).map(function(t,e){return i(t,e===a?s:0,e===u?c:t.getLength(),n)});return t.merge({blockMap:r.merge(l),selectionBefore:e,selectionAfter:e})}var o=n(125),i=n(1647);t.exports=r},1649:function(t,e,n){"use strict";function r(t){var e=0,n={},r=[];t.getBlockMap().forEach(function(t,o){t.findEntityRanges(function(t){return null!==t.getEntity()},function(r){var o=i.stringify(t.getEntityAt(r));n.hasOwnProperty(o)||(n[o]=""+e++)}),r.push({key:o,text:t.getText(),type:t.getType(),depth:t.getDepth(),inlineStyleRanges:s(t),entityRanges:a(t,n),data:t.getData().toObject()})});var u=Object.keys(n),c={};return u.forEach(function(t,e){var n=o.get(i.unstringify(t));c[e]={type:n.getType(),mutability:n.getMutability(),data:n.getData()}}),{entityMap:c,blocks:r}}var o=n(949),i=n(1371),a=n(1666),s=n(1667);t.exports=r},1650:function(t,e,n){"use strict";function r(t){var e=t.blocks,n=t.entityMap,r={};Object.keys(n).forEach(function(t){var e=n[t],o=e.type,i=e.mutability,a=e.data,s=u.create(o,i,a||{});r[t]=s});var o=e.map(function(t){var e=t.key,n=t.type,o=t.text,s=t.depth,u=t.inlineStyleRanges,c=t.entityRanges,g=t.data;return e=e||p(),s=s||0,u=u||[],c=c||[],g=h(g),new a({key:e,type:n,text:o,depth:s,characterList:l(d(o,u),f(o,c.filter(function(t){return r.hasOwnProperty(t.key)}).map(function(t){return i({},t,{key:r[t.key]})}))),data:g})});return s.createFromBlockArray(o)}var o=n(757),i=o||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(955),s=n(1036),u=n(949),c=n(125),l=n(1651),f=n(1652),d=n(1653),p=n(946),h=c.Map;t.exports=r},1651:function(t,e,n){"use strict";function r(t,e){return a(t.map(function(t,n){var r=e[n];return o.create({style:t,entity:r})}))}var o=n(943),i=n(125),a=i.List;t.exports=r},1652:function(t,e,n){"use strict";function r(t,e){var n=Array(t.length).fill(null);return e&&e.forEach(function(e){for(var r=i(t,0,e.offset).length,o=r+i(t,e.offset,e.length).length,a=r;a<o;a++)n[a]=e.key}),n}var o=n(957),i=o.substr;t.exports=r},1653:function(t,e,n){"use strict";function r(t,e){var n=Array(t.length).fill(u);return e&&e.forEach(function(e){for(var r=s(t,0,e.offset).length,o=r+s(t,e.offset,e.length).length;r<o;)n[r]=n[r].add(e.style),r++}),n}var o=n(957),i=n(125),a=i.OrderedSet,s=o.substr,u=a();t.exports=r},1654:function(t,e,n){"use strict";function r(t){return y&&(t==h||t==g)}function o(t,e,n,r){var o=s.replaceText(t.getCurrentContent(),t.getSelection(),e,n,r);return u.push(t,o,"insert-characters")}function i(t){var e=t.data;if(e){if(this.props.handleBeforeInput&&p(this.props.handleBeforeInput(e)))return void t.preventDefault();var n=this.props.editorState,i=n.getSelection();if(!i.isCollapsed())return t.preventDefault(),void this.update(o(n,e,n.getCurrentInlineStyle(),l(n.getCurrentContent(),n.getSelection())));var s=!f(n),c=o(n,e,n.getCurrentInlineStyle(),l(n.getCurrentContent(),n.getSelection()));if(!s)return t.preventDefault(),void this.update(c);var h=i.getAnchorKey(),g=n.getBlockTree(h),y=a.getFingerprint(g),v=a.getFingerprint(c.getBlockTree(h));r(e)||y!==v||d(c.getDirectionMap()).get(h)!==d(n.getDirectionMap()).get(h)?t.preventDefault():c=u.set(c,{nativelyRenderedContent:c.getCurrentContent()}),this.update(c)}}var a=n(1366),s=n(937),u=n(934),c=n(947),l=n(1040),f=n(1382),d=n(941),p=n(1001),h="'",g="/",y=c.isBrowser("Firefox");t.exports=i},1655:function(t,e,n){"use strict";(function(e){function r(t){s&&a()===document.body&&e.getSelection().removeAllRanges();var n=this.props.editorState,r=n.getSelection();if(r.getHasFocus()){var i=r.set("hasFocus",!1);this.props.onBlur&&this.props.onBlur(t),this.update(o.acceptSelection(n,i))}}var o=n(934),i=n(947),a=n(1434),s=i.isEngine("WebKit");t.exports=r}).call(e,n(240))},1656:function(t,e,n){"use strict";function r(){this.setRenderGuard(),this.setMode("composite"),this.update(o.set(this.props.editorState,{inCompositionMode:!0}))}var o=n(934);t.exports=r},1657:function(t,e,n){"use strict";function r(t){if(this.props.editorState.getSelection().isCollapsed())return void t.preventDefault();this.setClipboard(o(this.props.editorState))}var o=n(1375);t.exports=r},1658:function(t,e,n){"use strict";function r(t){var e=this,n=this.props.editorState;if(n.getSelection().isCollapsed())return void t.preventDefault();var r=s.getScrollParent(t.target),i=c(r),a=i.x,l=i.y,f=u(n);this.setClipboard(f),this.setRenderGuard(),this.setMode("cut"),setTimeout(function(){e.restoreEditorDOM({x:a,y:l}),e.removeRenderGuard(),e.exitCurrentMode(),e.update(o(n))},0)}function o(t){var e=i.removeRange(t.getCurrentContent(),t.getSelection(),"forward");return a.push(t,e,"remove-range")}var i=n(937),a=n(934),s=n(1050),u=n(1375),c=n(1052);t.exports=r},1659:function(t,e,n){"use strict";function r(t){this._internalDrag=!1,this.setMode("drag"),t.preventDefault()}t.exports=r},1660:function(t,e,n){"use strict";function r(){this._internalDrag=!0,this.setMode("drag")}t.exports=r},1661:function(t,e,n){"use strict";function r(t){var e=this.props.editorState,n=e.getSelection();if(!n.getHasFocus()){var r=n.set("hasFocus",!0);this.props.onFocus&&this.props.onFocus(t),this.update(o.forceSelection(e,r))}}var o=n(934);t.exports=r},1662:function(t,e,n){"use strict";(function(e){function r(){var t=e.getSelection(),n=t.anchorNode,r=t.isCollapsed;if(n.nodeType===Node.TEXT_NODE){var u=n.textContent,p=this.props.editorState,h=l(c(n)),g=i.decode(h),y=g.blockKey,v=g.decoratorKey,m=g.leafKey,b=p.getBlockTree(y).getIn([v,"leaves",m]),S=b.start,w=b.end,E=p.getCurrentContent(),C=E.getBlockForKey(y),k=C.getText().slice(S,w);if(u.endsWith(d)&&(u=u.slice(0,-1)),u!==k){var T,x,O,_,D=p.getSelection(),M=D.merge({anchorOffset:S,focusOffset:w,isBackward:!1}),A=C.getEntityAt(S),I=A&&s.get(A),L=I&&I.getMutability(),B="MUTABLE"===L,R=B?"spellcheck-change":"apply-entity",K=o.replaceText(E,M,u,C.getInlineStyleAt(S),B?C.getEntityAt(S):null);if(f)T=t.anchorOffset,x=t.focusOffset,O=S+Math.min(T,x),_=O+Math.abs(T-x),T=O,x=_;else{var N=u.length-k.length;O=D.getStartOffset(),_=D.getEndOffset(),T=r?_+N:O,x=_+N}var P=K.merge({selectionBefore:E.getSelectionAfter(),selectionAfter:D.merge({anchorOffset:T,focusOffset:x})});this.update(a.push(p,P,R))}}}var o=n(937),i=n(998),a=n(934),s=n(949),u=n(947),c=n(1039),l=n(941),f=u.isEngine("Gecko"),d="\n\n";t.exports=r}).call(e,n(240))},1663:function(t,e,n){"use strict";function r(t,e){switch(t){case"redo":return a.redo(e);case"delete":return y(e);case"delete-word":return p(e);case"backspace":return g(e);case"backspace-word":return d(e);case"backspace-to-start-of-line":return f(e);case"split-block":return h(e);case"transpose-characters":return b(e);case"move-selection-to-start-of-block":return m(e);case"move-selection-to-end-of-block":return v(e);case"secondary-cut":return c.cut(e);case"secondary-paste":return c.paste(e);default:return e}}function o(t){var e=t.which,n=this.props.editorState;switch(e){case u.RETURN:if(t.preventDefault(),this.props.handleReturn&&w(this.props.handleReturn(t)))return;break;case u.ESC:return t.preventDefault(),void(this.props.onEscape&&this.props.onEscape(t));case u.TAB:return void(this.props.onTab&&this.props.onTab(t));case u.UP:return void(this.props.onUpArrow&&this.props.onUpArrow(t));case u.DOWN:return void(this.props.onDownArrow&&this.props.onDownArrow(t));case u.SPACE:if(C&&E(t)){t.preventDefault();var o=i.replaceText(n.getCurrentContent(),n.getSelection()," ");return void this.update(a.push(n,o,"insert-characters"))}}var s=this.props.keyBindingFn(t);if(s){if("undo"===s)return void S(t,n,this.update);if(t.preventDefault(),!this.props.handleKeyCommand||!w(this.props.handleKeyCommand(s))){var c=r(s,n);c!==n&&this.update(c)}}}var i=n(937),a=n(934),s=n(1038),u=n(1049),c=n(1645),l=n(947),f=n(1676),d=n(1677),p=n(1678),h=n(1679),g=n(1682),y=n(1683),v=n(1680),m=n(1681),b=n(1684),S=n(1685),w=n(1001),E=s.isOptionKeyCommand,C=l.isBrowser("Chrome");t.exports=o},1664:function(t,e,n){"use strict";function r(t){var e=this;t.preventDefault();var n=new u(t.clipboardData);if(!n.isRichText()){var r=n.getFiles(),y=n.getText();if(r.length>0){if(this.props.handlePastedFiles&&g(this.props.handlePastedFiles(r)))return;return void p(r,function(t){if(t=t||y){var n=e.props.editorState,r=h(t),o=s.create({style:n.getCurrentInlineStyle(),entity:d(n.getCurrentContent(),n.getSelection())}),i=l.processText(r,o),u=a.createFromArray(i),p=c.replaceWithFragment(n.getCurrentContent(),n.getSelection(),u);e.update(f.push(n,p,"insert-fragment"))}})}}var v=[],m=n.getText(),b=n.getHTML();if(!this.props.handlePastedText||!g(this.props.handlePastedText(m,b))){if(m&&(v=h(m)),!this.props.stripPastedStyles){var S=this.getClipboard();if(n.isRichText()&&S){if(b.indexOf(this.getEditorKey())!==-1||1===v.length&&1===S.size&&S.first().getText()===m)return void this.update(o(this.props.editorState,S))}else if(S&&n.types.includes("com.apple.webarchive")&&!n.types.includes("text/html")&&i(v,S))return void this.update(o(this.props.editorState,S));if(b){var w=l.processHTML(b,this.props.blockRenderMap);if(w){var E=a.createFromArray(w);return void this.update(o(this.props.editorState,E))}}this.setClipboard(null)}if(v){var C=this.props.editorState,k=s.create({style:C.getCurrentInlineStyle(),entity:d(C.getCurrentContent(),C.getSelection())}),T=l.processText(v,k),x=a.createFromArray(T);this.update(o(this.props.editorState,x))}}}function o(t,e){var n=c.replaceWithFragment(t.getCurrentContent(),t.getSelection(),e);return f.push(t,n,"insert-fragment")}function i(t,e){return t.length===e.size&&e.valueSeq().every(function(e,n){return e.getText()===t[n]})}var a=n(978),s=n(943),u=n(1388),c=n(937),l=n(1642),f=n(934),d=n(1040),p=n(1379),h=n(1690),g=n(1001);t.exports=r},1665:function(t,e,n){"use strict";function r(){if(!this._blockSelectEvents){var t=this.props.editorState,e=a(t,i.findDOMNode(this.refs.editorContainer).firstChild),n=e.selectionState;n!==t.getSelection()&&(t=e.needsRecovery?o.forceSelection(t,n):o.acceptSelection(t,n),this.update(t))}}var o=n(934),i=n(88),a=n(1670);t.exports=r},1666:function(t,e,n){"use strict";function r(t,e){var n=[];return t.findEntityRanges(function(t){return!!t.getEntity()},function(r,i){var s=t.getText(),u=t.getEntityAt(r);n.push({offset:a(s.slice(0,r)),length:a(s.slice(r,i)),key:Number(e[o.stringify(u)])})}),n}var o=n(1371),i=n(957),a=i.strlen;t.exports=r},1667:function(t,e,n){"use strict";function r(t,e,n){var r=[];return a(e.map(function(t){return t.has(n)}).toList(),s,u,function(e,o){var a=t.getText();r.push({offset:i.strlen(a.slice(0,e)),length:i.strlen(a.slice(e,o)),style:n})}),r}function o(t){var e=t.getCharacterList().map(function(t){return t.getStyle()}).toList(),n=e.flatten().toSet().map(function(n){return r(t,e,n)});return Array.prototype.concat.apply(c,n.toJS())}var i=n(957),a=n(999),s=function(t,e){return t===e},u=function(t){return!!t},c=[];t.exports=o},1668:function(t,e,n){"use strict";function r(t){var e=getComputedStyle(t),n=document.createElement("div");n.style.fontFamily=e.fontFamily,n.style.fontSize=e.fontSize,n.style.fontStyle=e.fontStyle,n.style.fontWeight=e.fontWeight,n.style.lineHeight=e.lineHeight,n.style.position="absolute",n.textContent="M",document.body.appendChild(n);var r=n.getBoundingClientRect();return document.body.removeChild(n),r.height}function o(t,e){for(var n=1/0,r=1/0,o=-(1/0),i=-(1/0),a=0;a<t.length;a++){var s=t[a];0!==s.width&&1!==s.width&&(n=Math.min(n,s.top),r=Math.min(r,s.bottom),o=Math.max(o,s.top),i=Math.max(i,s.bottom))}return o<=r&&o-n<e&&i-r<e}function i(t){switch(t.nodeType){case Node.DOCUMENT_TYPE_NODE:return 0;case Node.TEXT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:return t.length;default:return t.childNodes.length}}function a(t){t.collapsed||c(!1),t=t.cloneRange();var e=t.startContainer;1!==e.nodeType&&(e=e.parentNode);var n=r(e),a=t.endContainer,l=t.endOffset;for(t.setStart(t.startContainer,0);o(u(t),n)&&(a=t.startContainer,l=t.startOffset,a.parentNode||c(!1),t.setStartBefore(a),1!==a.nodeType||"inline"===getComputedStyle(a).display););for(var f=a,d=l-1;;){for(var p=f.nodeValue,h=d;h>=0;h--)if(!(null!=p&&h>0&&s.isSurrogatePair(p,h-1))){if(t.setStart(f,h),!o(u(t),n))break;a=f,l=h}if(h===-1||0===f.childNodes.length)break;f=f.childNodes[h],d=i(f)}return t.setStart(a,l),t}var s=n(957),u=n(1376),c=n(936);t.exports=a},1669:function(t,e,n){"use strict";function r(t,e,n){var r=e.getStartOffset(),u=e.getEndOffset(),c=t.getEntityAt(r);if(!c)return e;var l=o.get(c),f=l.getMutability();if("MUTABLE"===f)return e;var d=a(t,c).filter(function(t){return r<t.end&&u>t.start});1!=d.length&&s(!1);var p=d[0];if("IMMUTABLE"===f)return e.merge({anchorOffset:p.start,focusOffset:p.end,isBackward:!1});var h=i.getRemovalRange(r,u,t.getText().slice(p.start,p.end),p.start,n);return e.merge({anchorOffset:h.start,focusOffset:h.end,isBackward:!1})}var o=n(949),i=n(1641),a=n(1672),s=n(936);t.exports=r},1670:function(t,e,n){"use strict";(function(e){function r(t,n){var r=e.getSelection();return 0===r.rangeCount?{selectionState:t.getSelection().set("hasFocus",!1),needsRecovery:!1}:o(t,n,r.anchorNode,r.anchorOffset,r.focusNode,r.focusOffset)}var o=n(1374);t.exports=r}).call(e,n(240))},1671:function(t,e,n){"use strict";function r(t){var e=o(t),n=0,r=0,i=0,a=0;if(e.length){var s=e[0];n=s.top,r=s.right,i=s.bottom,a=s.left;for(var u=1;u<e.length;u++){var c=e[u];0===c.height&&0===c.width||(n=Math.min(n,c.top),r=Math.max(r,c.right),i=Math.max(i,c.bottom),a=Math.min(a,c.left))}}return{top:n,right:r,bottom:i,left:a,width:r-a,height:i-n}}var o=n(1376);t.exports=r},1672:function(t,e,n){"use strict";function r(t,e){var n=[];return t.findEntityRanges(function(t){return t.getEntity()===e},function(t,e){n.push({start:t,end:e})}),n.length||o(!1),n}var o=n(936);t.exports=r},1673:function(t,e,n){"use strict";function r(t){var e=t.getSelection();if(!e.rangeCount)return null;var n=e.getRangeAt(0),r=o(n),i=r.top,a=r.right,s=r.bottom,u=r.left;return 0===i&&0===a&&0===s&&0===u?null:r}var o=n(1671);t.exports=r},1674:function(t,e,n){"use strict";function r(t,e,n){e.isCollapsed()||s(!1);var r,u,c=e.getStartKey(),l=e.getStartOffset(),f=t.getBlockMap(),d=n.size;if(1===d){var p=f.get(c),h=n.first(),g=p.getText(),y=p.getCharacterList(),v=p.merge({text:g.slice(0,l)+h.getText()+g.slice(l),characterList:a(y,h.getCharacterList(),l),data:h.getData()});return f=f.set(c,v),r=c,u=l+h.getText().length,t.merge({blockMap:f.set(c,v),selectionBefore:e,selectionAfter:e.merge({anchorKey:r,anchorOffset:u,focusKey:r,focusOffset:u,isBackward:!1})})}var m=[];return t.getBlockMap().forEach(function(t,e){if(e!==c)return void m.push(t);var o=t.getText(),a=t.getCharacterList(),s=o.length,u=o.slice(0,l),f=a.slice(0,l),p=n.first(),h=t.merge({text:u+p.getText(),characterList:f.concat(p.getCharacterList()),type:u?t.getType():p.getType(),data:p.getData()});m.push(h),n.slice(1,d-1).forEach(function(t){m.push(t.set("key",i()))});var g=o.slice(l,s),y=a.slice(l,s),v=n.last();r=i();var b=v.merge({key:r,text:v.getText()+g,characterList:v.getCharacterList().concat(y),data:v.getData()});m.push(b)}),u=n.last().getLength(),t.merge({blockMap:o.createFromArray(m),selectionBefore:e,selectionAfter:e.merge({anchorKey:r,anchorOffset:u,focusKey:r,focusOffset:u,isBackward:!1})})}var o=n(978),i=n(946),a=n(1381),s=n(936);t.exports=r},1675:function(t,e,n){"use strict";function r(t,e,n,r){e.isCollapsed()||a(!1);var o=n.length;if(!o)return t;var u=t.getBlockMap(),c=e.getStartKey(),l=e.getStartOffset(),f=u.get(c),d=f.getText(),p=f.merge({text:d.slice(0,l)+n+d.slice(l,f.getLength()),characterList:i(f.getCharacterList(),s(r,o).toList(),l)}),h=l+o;return t.merge({blockMap:u.set(c,p),selectionAfter:e.merge({anchorOffset:h,focusOffset:h})})}var o=n(125),i=n(1381),a=n(936),s=o.Repeat;t.exports=r},1676:function(t,e,n){"use strict";(function(e){function r(t){var n=u(t,function(t){var n=t.getSelection();if(n.isCollapsed()&&0===n.getAnchorOffset())return s(t,1);var r=e.getSelection(),o=r.getRangeAt(0);return o=i(o),a(t,null,o.endContainer,o.endOffset,o.startContainer,o.startOffset).selectionState},"backward");return n===t.getCurrentContent()?t:o.push(t,n,"remove-range")}var o=n(934),i=n(1668),a=n(1374),s=n(1041),u=n(979);t.exports=r}).call(e,n(240))},1677:function(t,e,n){"use strict";function r(t){var e=s(t,function(t){var e=t.getSelection(),n=e.getStartOffset();if(0===n)return a(t,1);var r=e.getStartKey(),i=t.getCurrentContent(),s=i.getBlockForKey(r).getText().slice(0,n);return a(t,o.getBackward(s).length||1)},"backward");return e===t.getCurrentContent()?t:i.push(t,e,"remove-range")}var o=n(1370),i=n(934),a=n(1041),s=n(979);t.exports=r},1678:function(t,e,n){"use strict";function r(t){var e=s(t,function(t){var e=t.getSelection(),n=e.getStartOffset(),r=e.getStartKey(),i=t.getCurrentContent(),s=i.getBlockForKey(r).getText().slice(n);return a(t,o.getForward(s).length||1)},"forward");return e===t.getCurrentContent()?t:i.push(t,e,"remove-range")}var o=n(1370),i=n(934),a=n(1383),s=n(979);t.exports=r},1679:function(t,e,n){"use strict";function r(t){var e=o.splitBlock(t.getCurrentContent(),t.getSelection());return i.push(t,e,"split-block")}var o=n(937),i=n(934);t.exports=r},1680:function(t,e,n){"use strict";function r(t){var e=t.getSelection(),n=e.getEndKey(),r=t.getCurrentContent(),i=r.getBlockForKey(n).getLength();return o.set(t,{selection:e.merge({anchorKey:n,anchorOffset:i,focusKey:n,focusOffset:i,isBackward:!1}),forceSelection:!0})}var o=n(934);t.exports=r},1681:function(t,e,n){"use strict";function r(t){var e=t.getSelection(),n=e.getStartKey();return o.set(t,{selection:e.merge({anchorKey:n,anchorOffset:0,focusKey:n,focusOffset:0,isBackward:!1}),forceSelection:!0})}var o=n(934);t.exports=r},1682:function(t,e,n){"use strict";function r(t){var e=s(t,function(t){var e=t.getSelection(),n=t.getCurrentContent(),r=e.getAnchorKey(),o=e.getAnchorOffset(),s=n.getBlockForKey(r).getText()[o-1];return a(t,s?i.getUTF16Length(s,0):1)},"backward");if(e===t.getCurrentContent())return t;var n=t.getSelection();return o.push(t,e.set("selectionBefore",n),n.isCollapsed()?"backspace-character":"remove-range")}var o=n(934),i=n(957),a=n(1041),s=n(979);t.exports=r},1683:function(t,e,n){"use strict";function r(t){var e=s(t,function(t){var e=t.getSelection(),n=t.getCurrentContent(),r=e.getAnchorKey(),o=e.getAnchorOffset(),s=n.getBlockForKey(r).getText()[o];return a(t,s?i.getUTF16Length(s,0):1)},"forward");if(e===t.getCurrentContent())return t;var n=t.getSelection();return o.push(t,e.set("selectionBefore",n),n.isCollapsed()?"delete-character":"remove-range")}var o=n(934),i=n(957),a=n(1383),s=n(979);t.exports=r},1684:function(t,e,n){"use strict";function r(t){var e=t.getSelection();if(!e.isCollapsed())return t;var n=e.getAnchorOffset();if(0===n)return t;var r=e.getAnchorKey(),s=t.getCurrentContent(),u=s.getBlockForKey(r),c=u.getLength();if(c<=1)return t;var l,f;n===c?(l=e.set("anchorOffset",n-1),f=e):(l=e.set("focusOffset",n+1),f=l.set("anchorOffset",n+1));var d=a(s,l),p=o.removeRange(s,l,"backward"),h=p.getSelectionAfter(),g=h.getAnchorOffset()-1,y=h.merge({anchorOffset:g,focusOffset:g}),v=o.replaceWithFragment(p,y,d),m=i.push(t,v,"insert-fragment");return i.acceptSelection(m,f)}var o=n(937),i=n(934),a=n(1e3);t.exports=r},1685:function(t,e,n){"use strict";function r(t,e,n){var r=o.undo(e);if("spellcheck-change"===e.getLastChangeType()){var i=r.getCurrentContent();return void n(o.set(r,{nativelyRenderedContent:i}))}if(t.preventDefault(),!e.getNativelyRenderedContent())return void n(r);n(o.set(e,{nativelyRenderedContent:null})),setTimeout(function(){n(r)},0)}var o=n(934);t.exports=r},1686:function(t,e,n){"use strict";function r(t,e,n){var r=e.getStartKey(),o=e.getEndKey(),a=t.getBlockMap(),s=a.toSeq().skipUntil(function(t,e){return e===r}).takeUntil(function(t,e){return e===o}).concat(i([[o,a.get(o)]])).map(n);return t.merge({blockMap:a.merge(s),selectionBefore:e,selectionAfter:e})}var o=n(125),i=o.Map;t.exports=r},1687:function(t,e,n){"use strict";function r(t,e){if(e.isCollapsed())return t;var n,r=t.getBlockMap(),a=e.getStartKey(),s=e.getStartOffset(),u=e.getEndKey(),c=e.getEndOffset(),l=r.get(a),f=r.get(u);n=l===f?o(l.getCharacterList(),s,c):l.getCharacterList().slice(0,s).concat(f.getCharacterList().slice(c));var d=l.merge({text:l.getText().slice(0,s)+f.getText().slice(c),characterList:n}),p=r.toSeq().skipUntil(function(t,e){return e===a}).takeUntil(function(t,e){return e===u}).concat(i.Map([[u,null]])).map(function(t,e){return e===a?d:null});return r=r.merge(p).filter(function(t){return!!t}),t.merge({blockMap:r,selectionBefore:e,selectionAfter:e.merge({anchorKey:a,anchorOffset:s,focusKey:a,focusOffset:s,isBackward:!1})})}function o(t,e,n){if(0===e)for(;e<n;)t=t.shift(),e++;else if(n===t.count())for(;n>e;)t=t.pop(),n--;else{var r=t.slice(0,e),o=t.slice(n);t=r.concat(o).toList()}return t}var i=n(125);t.exports=r},1688:function(t,e,n){"use strict";(function(e){function r(t,n,r,s,u){if(a(document.documentElement,n)){var c=e.getSelection(),l=t.getAnchorKey(),f=t.getAnchorOffset(),d=t.getFocusKey(),p=t.getFocusOffset(),h=t.getIsBackward();if(!c.extend&&h){var g=l,y=f;l=d,f=p,d=g,p=y,h=!1}var v=l===r&&s<=f&&u>=f,m=d===r&&s<=p&&u>=p;if(v&&m)return c.removeAllRanges(),i(c,n,f-s),void o(c,n,p-s);if(h){if(m&&(c.removeAllRanges(),i(c,n,p-s)),v){var b=c.focusNode,S=c.focusOffset;c.removeAllRanges(),i(c,n,f-s),o(c,b,S)}}else v&&(c.removeAllRanges(),i(c,n,f-s)),m&&o(c,n,p-s)}}function o(t,e,n){if(t.extend&&a(s(),e))t.extend(e,n);else{var r=t.getRangeAt(0);r.setEnd(e,n),t.addRange(r.cloneRange())}}function i(t,e,n){var r=document.createRange();r.setStart(e,n),t.addRange(r)}var a=n(1433),s=n(1434);t.exports=r}).call(e,n(240))},1689:function(t,e,n){"use strict";function r(t,e){e.isCollapsed()||a(!1);var n=e.getAnchorKey(),r=e.getAnchorOffset(),o=t.getBlockMap(),u=o.get(n),c=u.getText(),l=u.getCharacterList(),f=u.merge({text:c.slice(0,r),characterList:l.slice(0,r)}),d=i(),p=f.merge({key:d,text:c.slice(r),characterList:l.slice(r),data:s()}),h=o.toSeq().takeUntil(function(t){return t===u}),g=o.toSeq().skipUntil(function(t){return t===u}).rest(),y=h.concat([[f.getKey(),f],[p.getKey(),p]],g).toOrderedMap();return t.merge({blockMap:y,selectionBefore:e,selectionAfter:e.merge({anchorKey:d,anchorOffset:0,focusKey:d,focusOffset:0,isBackward:!1})})}var o=n(125),i=n(946),a=n(936),s=o.Map;t.exports=r},1690:function(t,e,n){"use strict";function r(t){return t.split(o)}var o=/\r\n?|\n/g;t.exports=r},1716:function(t,e){},1720:function(t,e,n){"use strict";function r(t){return t.split("/")}var o={isImage:function(t){return"image"===r(t)[0]},isJpeg:function(t){var e=r(t);return o.isImage(t)&&("jpeg"===e[1]||"pjpeg"===e[1])}};t.exports=o},1721:function(t,e,n){"use strict";t.exports={getPunctuation:function(){return"[.,+*?$|#{}()'\\^\\-\\[\\]\\\\\\/!@%\"~=<>_:;・、。〈-】〔-〟：-？！-／［-｀｛-･⸮؟٪-٬؛،؍﴾﴿᠁।၊။‐-‧‰-⁞¡-±´-¸º»¿]"}}},1722:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(e){r(this,t),this._uri=e}return t.prototype.toString=function(){return this._uri},t}();t.exports=o},1723:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=n(1390),i=n(1051),a=n(936),s=function(){function t(e){r(this,t),e?i.isStrong(e)||a(!1):e=i.getGlobalDir(),this._defaultDir=e,this.reset()}return t.prototype.reset=function(){this._lastDir=this._defaultDir},t.prototype.getDirection=function(t){return this._lastDir=o.getDirection(t,this._lastDir),this._lastDir},t}();t.exports=s},1724:function(t,e,n){"use strict";var r=n(1862),o="Unknown",i={"Mac OS":"Mac OS X"},a=new r,s=a.getResult(),u=function(t){if(!t)return{major:"",minor:""};var e=t.split(".");return{major:e[0],minor:e[1]}}(s.browser.version),c={browserArchitecture:s.cpu.architecture||o,browserFullVersion:s.browser.version||o,browserMinorVersion:u.minor||o,browserName:s.browser.name||o,browserVersion:s.browser.major||o,deviceName:s.device.model||o,engineName:s.engine.name||o,engineVersion:s.engine.version||o,platformArchitecture:s.cpu.architecture||o,platformName:function(t){return i[t]||t}(s.os.name)||o,platformVersion:s.os.version||o,platformFullVersion:s.os.version||o};t.exports=c},1725:function(t,e,n){"use strict";function r(t,e){var n=t.split(E);return n.length>1?n.some(function(t){return x.contains(t,e)}):(t=n[0].trim(),o(t,e))}function o(t,e){var n=t.split(C);if(n.length>0&&n.length<=2||S(!1),1===n.length)return i(n[0],e);var r=n[0],o=n[1];return h(r)&&h(o)||S(!1),i(">="+r,e)&&i("<="+o,e)}function i(t,e){if(""===(t=t.trim()))return!0;var n=e.split(w),r=d(t),o=r.modifier,i=r.rangeComponents;switch(o){case"<":return a(n,i);case"<=":return s(n,i);case">=":return c(n,i);case">":return l(n,i);case"~":case"~>":return f(n,i);default:return u(n,i)}}function a(t,e){return b(t,e)===-1}function s(t,e){var n=b(t,e);return n===-1||0===n}function u(t,e){return 0===b(t,e)}function c(t,e){var n=b(t,e);return 1===n||0===n}function l(t,e){return 1===b(t,e)}function f(t,e){var n=e.slice(),r=e.slice();r.length>1&&r.pop();var o=r.length-1,i=parseInt(r[o],10);return p(i)&&(r[o]=i+1+""),c(t,n)&&a(t,r)}function d(t){var e=t.split(w),n=e[0].match(k);return n||S(!1),{modifier:n[1],rangeComponents:[n[2]].concat(e.slice(1))}}function p(t){return!isNaN(t)&&isFinite(t)}function h(t){return!d(t).modifier}function g(t,e){for(var n=t.length;n<e;n++)t[n]="0"}function y(t,e){t=t.slice(),e=e.slice(),g(t,e.length);for(var n=0;n<e.length;n++){var r=e[n].match(/^[x*]$/i);if(r&&(e[n]=t[n]="0","*"===r[0]&&n===e.length-1))for(var o=n;o<t.length;o++)t[o]="0"}return g(e,t.length),[t,e]}function v(t,e){var n=t.match(T)[1],r=e.match(T)[1],o=parseInt(n,10),i=parseInt(r,10);return p(o)&&p(i)&&o!==i?m(o,i):m(t,e)}function m(t,e){return typeof t!=typeof e&&S(!1),t>e?1:t<e?-1:0}function b(t,e){for(var n=y(t,e),r=n[0],o=n[1],i=0;i<o.length;i++){var a=v(r[i],o[i]);if(a)return a}return 0}var S=n(936),w=/\./,E=/\|\|/,C=/\s+\-\s+/,k=/^(<=|<|=|>=|~>|~|>|)?\s*(.+)/,T=/^(\d*)(.*)/,x={contains:function(t,e){return r(t.trim(),e.trim())}};t.exports=x},1726:function(t,e,n){"use strict";function r(t){return t=t||document,o||"CSS1Compat"!==t.compatMode?t.body:t.documentElement}var o="undefined"!=typeof navigator&&navigator.userAgent.indexOf("AppleWebKit")>-1;t.exports=r},1727:function(t,e,n){"use strict";function r(t){var e=o(t);return{x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}}var o=n(1728);t.exports=r},1728:function(t,e,n){"use strict";function r(t){var e=t.ownerDocument.documentElement;if(!("getBoundingClientRect"in t&&o(e,t)))return{left:0,right:0,top:0,bottom:0};var n=t.getBoundingClientRect();return{left:Math.round(n.left)-e.clientLeft,right:Math.round(n.right)-e.clientLeft,top:Math.round(n.top)-e.clientTop,bottom:Math.round(n.bottom)-e.clientTop}}var o=n(1433);t.exports=r},1729:function(t,e,n){"use strict";function r(t){return null==t?t:String(t)}function o(t,e){var n=void 0;if(window.getComputedStyle&&(n=window.getComputedStyle(t,null)))return r(n.getPropertyValue(a(e)));if(document.defaultView&&document.defaultView.getComputedStyle){if(n=document.defaultView.getComputedStyle(t,null))return r(n.getPropertyValue(a(e)));if("display"===e)return"none"}return r(t.currentStyle?"float"===e?t.currentStyle.cssFloat||t.currentStyle.styleFloat:t.currentStyle[i(e)]:t.style&&t.style[i(e)])}var i=n(1880),a=n(1883);t.exports=o},1730:function(t,e,n){"use strict";function r(){var t=void 0;return document.documentElement&&(t=document.documentElement.clientWidth),!t&&document.body&&(t=document.body.clientWidth),t||0}function o(){var t=void 0;return document.documentElement&&(t=document.documentElement.clientHeight),!t&&document.body&&(t=document.body.clientHeight),t||0}function i(){return{width:window.innerWidth||r(),height:window.innerHeight||o()}}i.withoutScrollbars=function(){return{width:r(),height:o()}},t.exports=i},1731:function(t,e,n){"use strict";function r(t){t||(t="");var e=void 0,n=arguments.length;if(n>1)for(var r=1;r<n;r++)(e=arguments[r])&&(t=(t?t+" ":"")+e);return t}t.exports=r},1732:function(t,e,n){"use strict";function r(t,e,n){if(!t)return null;var r={};for(var i in t)o.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}var o=Object.prototype.hasOwnProperty;t.exports=r},1745:function(t,e){function n(t,e,n,r){for(var o=-1,i=null==t?0:t.length;++o<i;){var a=t[o];e(r,a,n(a),t)}return r}t.exports=n},1746:function(t,e){function n(t,e,n,r){for(var o=-1,i=null==t?0:t.length;++o<i;){var a=t[o];e(r,a,n(a),t)}return r}t.exports=n},1761:function(t,e,n){function r(t,e){return function(n,r){var u=s(n)?o:i,c=e?e():{};return u(n,t,a(r,2),c)}}var o=n(1745),i=n(1746),a=n(177),s=n(6);t.exports=r},1769:function(t,e,n){var r=n(1761),o=r(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]});t.exports=o},1861:function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function u(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}Object.defineProperty(e,"__esModule",{value:!0});var c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=[],f=e.NODE_TYPE_ELEMENT=1,d=e.NODE_TYPE_TEXT=3,p=e.NODE_TYPE_FRAGMENT=11,h=e.SELF_CLOSING={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},g=e.Node=function t(){a(this,t)};e.TextNode=function(t){function e(t){a(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return n.nodeType=d,n.nodeName="#text",n.nodeValue=t,n}return i(e,t),c(e,[{key:"toString",value:function(){return s(this.nodeValue)}}]),e}(g),e.ElementNode=function(t){function e(t,n,r){a(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));null==n&&(n=l);var s=h[t]===!0;return i.nodeType=f,i.nodeName=t,i.attributes=n,i.attrMap=new Map(n.map(function(t){return[t.name,t]})),i.childNodes=[],i.isSelfClosing=s,!s&&r&&r.forEach(i.appendChild,i),i}return i(e,t),c(e,[{key:"appendChild",value:function(t){if(t.nodeType===p){if(null!=t.childNodes){var e,n=t.childNodes;(e=this.childNodes).push.apply(e,r(n))}}else this.childNodes.push(t)}},{key:"getAttribute",value:function(t){var e=this.attrMap.get(t);if(e)return e.value}},{key:"toString",value:function(t){var e=[],n=!0,r=!1,o=void 0;try{for(var i,a=this.attributes[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value,c=s.name,l=s.value;e.push(c+(l?'="'+u(l)+'"':""))}}catch(t){r=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}var f=e.length?" "+e.join(" "):"";if(this.isSelfClosing)return"<"+this.nodeName+f+(t?"/>":">");var d=this.childNodes.map(function(e){return e.toString(t)}).join("");return"<"+this.nodeName+f+">"+d+"</"+this.nodeName+">"}}]),e}(g),e.FragmentNode=function(t){function e(t){a(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return n.nodeType=p,n.childNodes=[],t&&t.forEach(n.appendChild,n),n}return i(e,t),c(e,[{key:"appendChild",value:function(t){if(t.nodeType===p){if(null!=t.childNodes){var e,n=t.childNodes;(e=this.childNodes).push.apply(e,r(n))}}else this.childNodes.push(t)}},{key:"toString",value:function(t){return this.childNodes.map(function(e){return e.toString(t)}).join("")}}]),e}(g)},1862:function(t,e,n){var r;!function(o,i){"use strict";var a="model",s="name",u="type",c="vendor",l="version",f="mobile",d="tablet",p={extend:function(t,e){var n={};for(var r in t)e[r]&&e[r].length%2==0?n[r]=e[r].concat(t[r]):n[r]=t[r];return n},has:function(t,e){return"string"==typeof t&&e.toLowerCase().indexOf(t.toLowerCase())!==-1},lowerize:function(t){return t.toLowerCase()},major:function(t){return"string"==typeof t?t.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},h={rgx:function(){for(var t,e,n,r,o,i,a,s=0,u=arguments;s<u.length&&!i;){var c=u[s],l=u[s+1];if(void 0===t){t={};for(r in l)l.hasOwnProperty(r)&&(o=l[r],"object"==typeof o?t[o[0]]=void 0:t[o]=void 0)}for(e=n=0;e<c.length&&!i;)if(i=c[e++].exec(this.getUA()))for(r=0;r<l.length;r++)a=i[++n],o=l[r],"object"==typeof o&&o.length>0?2==o.length?"function"==typeof o[1]?t[o[0]]=o[1].call(this,a):t[o[0]]=o[1]:3==o.length?"function"!=typeof o[1]||o[1].exec&&o[1].test?t[o[0]]=a?a.replace(o[1],o[2]):void 0:t[o[0]]=a?o[1].call(this,a,o[2]):void 0:4==o.length&&(t[o[0]]=a?o[3].call(this,a.replace(o[1],o[2])):void 0):t[o]=a?a:void 0;s+=2}return t},str:function(t,e){for(var n in e)if("object"==typeof e[n]&&e[n].length>0){for(var r=0;r<e[n].length;r++)if(p.has(e[n][r],t))return"?"===n?void 0:n}else if(p.has(e[n],t))return"?"===n?void 0:n;return t}},g={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},y={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[s,l],[/(opios)[\/\s]+([\w\.]+)/i],[[s,"Opera Mini"],l],[/\s(opr)\/([\w\.]+)/i],[[s,"Opera"],l],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs)\/([\w\.-]+)/i],[s,l],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[s,"IE"],l],[/(edge)\/((\d+)?[\w\.]+)/i],[s,l],[/(yabrowser)\/([\w\.]+)/i],[[s,"Yandex"],l],[/(comodo_dragon)\/([\w\.]+)/i],[[s,/_/g," "],l],[/(micromessenger)\/([\w\.]+)/i],[[s,"WeChat"],l],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[l,[s,"MIUI Browser"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[s,/(.+)/,"$1 WebView"],l],[/android.+samsungbrowser\/([\w\.]+)/i,/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[l,[s,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(qqbrowser)[\/\s]?([\w\.]+)/i],[s,l],[/(uc\s?browser)[\/\s]?([\w\.]+)/i,/ucweb.+(ucbrowser)[\/\s]?([\w\.]+)/i,/juc.+(ucweb)[\/\s]?([\w\.]+)/i],[[s,"UCBrowser"],l],[/(dolfin)\/([\w\.]+)/i],[[s,"Dolphin"],l],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[s,"Chrome"],l],[/;fbav\/([\w\.]+);/i],[l,[s,"Facebook"]],[/fxios\/([\w\.-]+)/i],[l,[s,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[l,[s,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[l,s],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[s,[l,h.str,g.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[s,l],[/(navigator|netscape)\/([\w\.-]+)/i],[[s,"Netscape"],l],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[s,l]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",p.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",p.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",p.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[a,c,[u,d]],[/applecoremedia\/[\w\.]+ \((ipad)/],[a,[c,"Apple"],[u,d]],[/(apple\s{0,1}tv)/i],[[a,"Apple TV"],[c,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[c,a,[u,d]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[a,[c,"Amazon"],[u,d]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[a,h.str,g.device.amazon.model],[c,"Amazon"],[u,f]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[a,c,[u,f]],[/\((ip[honed|\s\w*]+);/i],[a,[c,"Apple"],[u,f]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[c,a,[u,f]],[/\(bb10;\s(\w+)/i],[a,[c,"BlackBerry"],[u,f]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[a,[c,"Asus"],[u,d]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[c,"Sony"],[a,"Xperia Tablet"],[u,d]],[/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],[[c,"Sony"],[a,"Xperia Phone"],[u,f]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[c,a,[u,"console"]],[/android.+;\s(shield)\sbuild/i],[a,[c,"Nvidia"],[u,"console"]],[/(playstation\s[34portablevi]+)/i],[a,[c,"Sony"],[u,"console"]],[/(sprint\s(\w+))/i],[[c,h.str,g.device.sprint.vendor],[a,h.str,g.device.sprint.model],[u,f]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[c,a,[u,d]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[c,[a,/_/g," "],[u,f]],[/(nexus\s9)/i],[a,[c,"HTC"],[u,d]],[/(nexus\s6p)/i],[a,[c,"Huawei"],[u,f]],[/(microsoft);\s(lumia[\s\w]+)/i],[c,a,[u,f]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[a,[c,"Microsoft"],[u,"console"]],[/(kin\.[onetw]{3})/i],[[a,/\./g," "],[c,"Microsoft"],[u,f]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[a,[c,"Motorola"],[u,f]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[a,[c,"Motorola"],[u,d]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[c,p.trim],[a,p.trim],[u,"smarttv"]],[/hbbtv.+maple;(\d+)/i],[[a,/^/,"SmartTV"],[c,"Samsung"],[u,"smarttv"]],[/\(dtv[\);].+(aquos)/i],[a,[c,"Sharp"],[u,"smarttv"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[c,"Samsung"],a,[u,d]],[/smart-tv.+(samsung)/i],[c,[u,"smarttv"],a],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[c,"Samsung"],a,[u,f]],[/sie-(\w+)*/i],[a,[c,"Siemens"],[u,f]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[c,"Nokia"],a,[u,f]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[a,[c,"Acer"],[u,d]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[c,"LG"],a,[u,d]],[/(lg) netcast\.tv/i],[c,a,[u,"smarttv"]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],[a,[c,"LG"],[u,f]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[a,[c,"Lenovo"],[u,d]],[/linux;.+((jolla));/i],[c,a,[u,f]],[/((pebble))app\/[\d\.]+\s/i],[c,a,[u,"wearable"]],[/android.+;\s(glass)\s\d/i],[a,[c,"Google"],[u,"wearable"]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w)?)\s+build/i],[[a,/_/g," "],[c,"Xiaomi"],[u,f]],[/android.+a000(1)\s+build/i],[a,[c,"OnePlus"],[u,f]],[/\s(tablet)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[u,p.lowerize],c,a]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[l,[s,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[s,l],[/rv\:([\w\.]+).*(gecko)/i],[l,s]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[s,l],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[s,[l,h.str,g.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[s,"Windows"],[l,h.str,g.os.windows.version]],[/\((bb)(10);/i],[[s,"BlackBerry"],l],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[s,l],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[s,"Symbian"],l],[/\((series40);/i],[s],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[s,"Firefox OS"],l],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[s,l],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[s,"Chromium OS"],l],[/(sunos)\s?([\w\.]+\d)*/i],[[s,"Solaris"],l],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[s,l],[/(haiku)\s(\w+)/i],[s,l],[/(ip[honead]+)(?:.*os\s([\w]+)*\slike\smac|;\sopera)/i],[[s,"iOS"],[l,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[s,"Mac OS"],[l,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[s,l]]},v=function(t,e){if(!(this instanceof v))return new v(t,e).getResult();var n=t||(o&&o.navigator&&o.navigator.userAgent?o.navigator.userAgent:""),r=e?p.extend(y,e):y;return this.getBrowser=function(){var t=h.rgx.apply(this,r.browser);return t.major=p.major(t.version),t},this.getCPU=function(){return h.rgx.apply(this,r.cpu)},this.getDevice=function(){return h.rgx.apply(this,r.device)},this.getEngine=function(){return h.rgx.apply(this,r.engine)},this.getOS=function(){return h.rgx.apply(this,r.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(t){return n=t,this},this};v.VERSION="0.7.12",v.BROWSER={NAME:s,MAJOR:"major",VERSION:l},v.CPU={ARCHITECTURE:"architecture"},v.DEVICE={MODEL:a,VENDOR:c,TYPE:u,CONSOLE:"console",MOBILE:f,SMARTTV:"smarttv",TABLET:d,WEARABLE:"wearable",EMBEDDED:"embedded"},v.ENGINE={NAME:s,VERSION:l},v.OS={NAME:s,VERSION:l},void 0!==e?(void 0!==t&&t.exports&&(e=t.exports=v),e.UAParser=v):n(1870)?void 0!==(r=function(){return v}.call(e,n,e,t))&&(t.exports=r):o.UAParser=v;var m=o.jQuery||o.Zepto;if(void 0!==m){var b=new v;m.ua=b.getResult(),m.ua.get=function(){return b.getUA()},m.ua.set=function(t){b.setUA(t);var e=b.getResult();for(var n in e)m.ua[n]=e[n]}}}("object"==typeof window?window:this)},1870:function(t,e){(function(e){t.exports=e}).call(e,{})},1880:function(t,e,n){t.exports=n(12)(144)},1881:function(t,e,n){t.exports=n(12)(147)},1882:function(t,e,n){t.exports=n(12)(150)},1883:function(t,e,n){t.exports=n(12)(151)},1884:function(t,e,n){t.exports=n(12)(155)},1886:function(t,e,n){t.exports=n(12)(97)},351:function(t,e,n){"use strict";function r(t,e,n,r){window.monitor&&"function"==typeof window.monitor.error&&window.monitor.error(t,e,n,r)}e.a=r},756:function(t,e,n){"use strict";var r=n(1630),o=n(978),i=n(943),a=n(1631),s=n(955),u=n(1036),c=n(1037),l=n(1367),f=n(1633),d=n(1368),p=n(937),h=n(949),g=n(1369),y=n(934),v=n(1038),m=n(1644),b=n(964),S=n(1649),w=n(1372),E=n(1650),C=n(946),k=n(1373),T=n(1673),x={Editor:f,EditorBlock:d,EditorState:y,CompositeDecorator:a,Entity:h,EntityInstance:g,BlockMapBuilder:o,CharacterMetadata:i,ContentBlock:s,ContentState:u,SelectionState:b,AtomicBlockUtils:r,KeyBindingUtil:v,Modifier:p,RichUtils:m,DefaultDraftBlockRenderMap:c,DefaultDraftInlineStyle:l,convertFromHTML:w,convertFromRaw:E,convertToRaw:S,genKey:C,getDefaultKeyBinding:k,getVisibleSelectionRect:T};t.exports=x},759:function(t,e,n){"use strict";var r=n(222),o=n(101);n.d(e,"o",function(){return i}),n.d(e,"m",function(){return a}),n.d(e,"l",function(){return s}),n.d(e,"n",function(){return u}),n.d(e,"k",function(){return c}),n.d(e,"p",function(){return l}),n.d(e,"d",function(){return f}),n.d(e,"f",function(){return d}),n.d(e,"c",function(){return p}),n.d(e,"b",function(){return h}),n.d(e,"a",function(){return g}),n.d(e,"h",function(){return y}),n.d(e,"g",function(){return v}),n.d(e,"i",function(){return m}),n.d(e,"j",function(){return b}),n.d(e,"e",function(){return S});var i=function(t,e){return{type:o.b,payload:e,meta:t}},a=function(t){return{type:o.c,meta:t}},s=function(t){return{type:o.q,meta:t}},u=function(t){return{type:o.h,meta:t}},c=function(t){return{type:o.d,meta:t}},l=function(t){return{type:o.g,payload:t}},f=function(t,e,n){return{type:o.i,payload:{token:e,rsaKey:n},meta:t}},d=function(t,e,n){return{type:o.j,payload:{token:e,content:n},meta:t}},p=function(t){return n.i(r.initialize)("sendTranscript",t)},h=function(t){return{type:o.k,payload:t}},g=function(t,e){return{type:o.l,payload:e,meta:t}},y=function(t){return{type:o.m,meta:t}},v=function(t,e){return{type:o.f,payload:e,meta:t}},m=function(t,e){return{type:o.n,payload:e,meta:t}},b=function(t,e){return{type:o.o,payload:e,meta:t}},S=function(t,e){return{type:o.p,payload:e,meta:t}}},770:function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"c",function(){return o}),n.d(e,"d",function(){return i}),n.d(e,"e",function(){return a}),n.d(e,"f",function(){return s}),n.d(e,"a",function(){return u});var r=function(){var t=document.createElement("div");return"draggable"in t||"ondragstart"in t&&"ondrop"in t}(),o="FileReader"in window,i=navigator&&navigator.userAgent.indexOf("MSIE")>=0||!!window.MSInputMethodContext&&!!document.documentMode,a=navigator.userAgent.indexOf("Firefox")>=0,s="serviceWorker"in navigator,u=function(t,e){var n=t;if(n&&document.activeElement!==n){var r=e;""===n.value&&(n.value=r,n.setAttribute("style","color: #bbb !important")),n.onfocus=function(){n.value===r&&(n.value=""),n.setAttribute("style","color: #000 !important")},n.onblur=function(){""===n.value&&(n.value=r,n.setAttribute("style","color: #bbb !important"))}}}},827:function(t,e,n){t.exports=n(828)},828:function(t,e,n){var r=n(75),o=r("forEach",n(175));o.placeholder=n(61),t.exports=o},934:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e,n){return k.set(t,{selection:e,forceSelection:n,nativelyRenderedContent:null,inlineStyleOverride:null})}function i(t,e){return t.getBlockMap().map(function(t){return h.generate(t,e)}).toOrderedMap()}function a(t,e,n){var r=t.getCurrentContent().getBlockMap();return t.getImmutable().get("treeMap").merge(e.toSeq().filter(function(t,e){return t!==r.get(e)}).map(function(t){return h.generate(t,n)}))}function s(t,e,n,r){return e.merge(t.toSeq().filter(function(t){return n.getDecorations(t)!==r.getDecorations(t)}).map(function(t){return h.generate(t,n)}))}function u(t,e){return e!==t.getLastChangeType()||"insert-characters"!==e&&"backspace-character"!==e&&"delete-character"!==e}function c(t,e){var n=e.getStartKey(),r=e.getStartOffset(),o=t.getBlockForKey(n);return r>0?o.getInlineStyleAt(r-1):o.getLength()?o.getInlineStyleAt(0):f(t,n)}function l(t,e){var n=e.getStartKey(),r=e.getStartOffset(),o=t.getBlockForKey(n);return r<o.getLength()?o.getInlineStyleAt(r):r>0?o.getInlineStyleAt(r-1):f(t,n)}function f(t,e){for(var n,r=t.getBlockBefore(e);r;){if(n=r.getLength())return r.getInlineStyleAt(n-1);r=t.getBlockBefore(r.getKey())}return b()}var d=n(757),p=d||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h=n(1366),g=n(1036),y=n(1643),v=n(125),m=n(964),b=v.OrderedSet,S=v.Record,w=v.Stack,E={allowUndo:!0,currentContent:null,decorator:null,directionMap:null,forceSelection:!1,inCompositionMode:!1,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:w(),selection:null,treeMap:null,undoStack:w()},C=S(E),k=function(){function t(e){r(this,t),this._immutable=e}return t.createEmpty=function(e){return t.createWithContent(g.createFromText(""),e)},t.createWithContent=function(e,n){var r=e.getBlockMap().first().getKey();return t.create({currentContent:e,undoStack:w(),redoStack:w(),decorator:n||null,selection:m.createEmpty(r)})},t.create=function(e){var n=e.currentContent;return new t(new C(p({},e,{treeMap:i(n,e.decorator),directionMap:y.getDirectionMap(n)})))},t.set=function(e,n){return new t(e.getImmutable().withMutations(function(t){var r=t.get("decorator"),o=r;null===n.decorator?o=null:n.decorator&&(o=n.decorator);var u=n.currentContent||e.getCurrentContent();if(o!==r){var c,l=t.get("treeMap");return c=o&&r?s(u.getBlockMap(),l,o,r):i(u,o),void t.merge({decorator:o,treeMap:c,nativelyRenderedContent:null})}u!==e.getCurrentContent()&&t.set("treeMap",a(e,u.getBlockMap(),o)),t.merge(n)}))},t.prototype.toJS=function(){return this.getImmutable().toJS()},t.prototype.getAllowUndo=function(){return this.getImmutable().get("allowUndo")},t.prototype.getCurrentContent=function(){return this.getImmutable().get("currentContent")},t.prototype.getUndoStack=function(){return this.getImmutable().get("undoStack")},t.prototype.getRedoStack=function(){return this.getImmutable().get("redoStack")},t.prototype.getSelection=function(){return this.getImmutable().get("selection")},t.prototype.getDecorator=function(){return this.getImmutable().get("decorator")},t.prototype.isInCompositionMode=function(){return this.getImmutable().get("inCompositionMode")},t.prototype.mustForceSelection=function(){return this.getImmutable().get("forceSelection")},t.prototype.getNativelyRenderedContent=function(){return this.getImmutable().get("nativelyRenderedContent")},t.prototype.getLastChangeType=function(){return this.getImmutable().get("lastChangeType")},t.prototype.getInlineStyleOverride=function(){return this.getImmutable().get("inlineStyleOverride")},t.setInlineStyleOverride=function(e,n){return t.set(e,{inlineStyleOverride:n})},t.prototype.getCurrentInlineStyle=function(){var t=this.getInlineStyleOverride();if(null!=t)return t;var e=this.getCurrentContent(),n=this.getSelection();return n.isCollapsed()?c(e,n):l(e,n)},t.prototype.getBlockTree=function(t){return this.getImmutable().getIn(["treeMap",t])},t.prototype.isSelectionAtStartOfContent=function(){var t=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(t,0,0)},t.prototype.isSelectionAtEndOfContent=function(){var t=this.getCurrentContent(),e=t.getBlockMap(),n=e.last(),r=n.getLength();return this.getSelection().hasEdgeWithin(n.getKey(),r,r)},t.prototype.getDirectionMap=function(){return this.getImmutable().get("directionMap")},t.acceptSelection=function(t,e){return o(t,e,!1)},t.forceSelection=function(t,e){return e.getHasFocus()||(e=e.set("hasFocus",!0)),o(t,e,!0)},t.moveSelectionToEnd=function(e){var n=e.getCurrentContent(),r=n.getLastBlock(),o=r.getKey(),i=r.getLength();return t.acceptSelection(e,new m({anchorKey:o,anchorOffset:i,focusKey:o,focusOffset:i,isBackward:!1}))},t.moveFocusToEnd=function(e){var n=t.moveSelectionToEnd(e);return t.forceSelection(n,n.getSelection())},t.push=function(e,n,r){if(e.getCurrentContent()===n)return e;var o="insert-characters"!==r,i=y.getDirectionMap(n,e.getDirectionMap());if(!e.getAllowUndo())return t.set(e,{currentContent:n,directionMap:i,lastChangeType:r,selection:n.getSelectionAfter(),forceSelection:o,inlineStyleOverride:null});var a=e.getSelection(),s=e.getCurrentContent(),c=e.getUndoStack(),l=n;a!==s.getSelectionAfter()||u(e,r)?(c=c.push(s),l=l.set("selectionBefore",a)):"insert-characters"!==r&&"backspace-character"!==r&&"delete-character"!==r||(l=l.set("selectionBefore",s.getSelectionBefore()));var f=e.getInlineStyleOverride();"adjust-depth"!==r&&"change-block-type"!==r&&(f=null);var d={currentContent:l,directionMap:i,undoStack:c,redoStack:w(),lastChangeType:r,selection:n.getSelectionAfter(),forceSelection:o,inlineStyleOverride:f};return t.set(e,d)},t.undo=function(e){if(!e.getAllowUndo())return e;var n=e.getUndoStack(),r=n.peek();if(!r)return e;var o=e.getCurrentContent(),i=y.getDirectionMap(r,e.getDirectionMap());return t.set(e,{currentContent:r,directionMap:i,undoStack:n.shift(),redoStack:e.getRedoStack().push(o),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"undo",nativelyRenderedContent:null,selection:o.getSelectionBefore()})},t.redo=function(e){if(!e.getAllowUndo())return e;var n=e.getRedoStack(),r=n.peek();if(!r)return e;var o=e.getCurrentContent(),i=y.getDirectionMap(r,e.getDirectionMap());return t.set(e,{currentContent:r,directionMap:i,undoStack:e.getUndoStack().push(o),redoStack:n.shift(),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"redo",nativelyRenderedContent:null,selection:r.getSelectionAfter()})},t.prototype.getImmutable=function(){return this._immutable},t}();t.exports=k},936:function(t,e,n){t.exports=n(12)(0)},937:function(t,e,n){"use strict";var r=n(943),o=n(1632),i=n(125),a=n(1648),s=n(1669),u=n(1e3),c=n(1674),l=n(1675),f=n(936),d=n(1686),p=n(1384),h=n(1687),g=n(1689),y=i.OrderedSet,v={replaceText:function(t,e,n,o,i){var a=p(t,e),s=h(a,e),u=r.create({style:o||y(),entity:i||null});return l(s,s.getSelectionAfter(),n,u)},insertText:function(t,e,n,r,o){return e.isCollapsed()||f(!1),v.replaceText(t,e,n,r,o)},moveText:function(t,e,n){var r=u(t,e),o=v.removeRange(t,e,"backward");return v.replaceWithFragment(o,n,r)},replaceWithFragment:function(t,e,n){var r=p(t,e),o=h(r,e);return c(o,o.getSelectionAfter(),n)},removeRange:function(t,e,n){if(e.getAnchorKey()===e.getFocusKey()){var r=e.getAnchorKey(),o=e.getStartOffset(),i=e.getEndOffset(),a=t.getBlockForKey(r),u=a.getEntityAt(o),c=a.getEntityAt(i-1);if(u&&u===c){return h(t,s(a,e,n))}}return h(p(t,e),e)},splitBlock:function(t,e){var n=p(t,e),r=h(n,e);return g(r,r.getSelectionAfter())},applyInlineStyle:function(t,e,n){return o.add(t,e,n)},removeInlineStyle:function(t,e,n){return o.remove(t,e,n)},setBlockType:function(t,e,n){return d(t,e,function(t){return t.merge({type:n,depth:0})})},setBlockData:function(t,e,n){return d(t,e,function(t){return t.merge({data:n})})},mergeBlockData:function(t,e,n){return d(t,e,function(t){return t.merge({data:t.getData().merge(n)})})},applyEntity:function(t,e,n){return a(p(t,e),e,n)}};t.exports=v},941:function(t,e,n){"use strict";var r=function(t){if(null!=t)return t;throw new Error("Got unexpected null or undefined")};t.exports=r},943:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(125),s=a.Map,u=a.OrderedSet,c=a.Record,l=u(),f={style:l,entity:null},d=c(f),p=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return i(e,t),e.prototype.getStyle=function(){return this.get("style")},e.prototype.getEntity=function(){return this.get("entity")},e.prototype.hasStyle=function(t){return this.getStyle().has(t)},e.applyStyle=function(t,n){var r=t.set("style",t.getStyle().add(n));return e.create(r)},e.removeStyle=function(t,n){var r=t.set("style",t.getStyle().remove(n));return e.create(r)},e.applyEntity=function(t,n){var r=t.getEntity()===n?t:t.set("entity",n);return e.create(r)},e.create=function(t){if(!t)return h;var n=s({style:l,entity:null}).merge(t),r=g.get(n);if(r)return r;var o=new e(n);return g=g.set(n,o),o},e}(d),h=new p,g=s([[s(f),h]]);p.EMPTY=h,t.exports=p},946:function(t,e,n){"use strict";function r(){for(var t=void 0;void 0===t||o.hasOwnProperty(t)||!isNaN(+t);)t=Math.floor(Math.random()*i).toString(32);return o[t]=!0,t}var o={},i=Math.pow(2,24);t.exports=r},947:function(t,e,n){"use strict";function r(t,e,n,r){if(t===n)return!0;if(!n.startsWith(t))return!1;var o=n.slice(t.length);return!!e&&(o=r?r(o):o,a.contains(o,e))}function o(t){return"Windows"===i.platformName?t.replace(/^\s*NT/,""):t}var i=n(1724),a=n(1725),s=n(1732),u=n(1884),c={isBrowser:function(t){return r(i.browserName,i.browserFullVersion,t)},isBrowserArchitecture:function(t){return r(i.browserArchitecture,null,t)},isDevice:function(t){return r(i.deviceName,null,t)},isEngine:function(t){return r(i.engineName,i.engineVersion,t)},isPlatform:function(t){return r(i.platformName,i.platformFullVersion,t,o)},isPlatformArchitecture:function(t){return r(i.platformArchitecture,null,t)}};t.exports=s(c,u)},949:function(t,e,n){"use strict";var r=n(757),o=r||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(1369),a=n(125),s=n(936),u=a.Map,c=u(),l=0,f={create:function(t,e,n){return f.add(new i({type:t,mutability:e,data:n||{}}))},add:function(t){var e=""+ ++l;return c=c.set(e,t),e},get:function(t){var e=c.get(t);return e||s(!1),e},mergeData:function(t,e){var n=f.get(t),r=o({},n.getData(),e),i=n.set("data",r);return c=c.set(t,i),i},replaceData:function(t,e){var n=f.get(t),r=n.set("data",e);return c=c.set(t,r),r}};t.exports=f},953:function(t,e,n){"use strict";var r=n(245);n.d(e,"b",function(){return o}),n.d(e,"c",function(){return i}),n.d(e,"a",function(){return a}),n.d(e,"e",function(){return s}),n.d(e,"d",function(){return u});var o=function(t,e,n,o,i){return{type:r.c,payload:{startEnumColumn:e,startCustomVariableId:n,endEnumColumn:o,endCustomVariableId:i},meta:{leftToRight:t}}},i=function(t,e,n){return{type:r.b,payload:n,meta:{enumColumn:t,customVariableId:e}}},a=function(t){return{type:r.d,payload:t}},s=function(t){return{type:r.e,payload:t}},u=function(t){return{type:r.a,payload:t}}},955:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){return t.getStyle()===e.getStyle()}function s(t,e){return t.getEntity()===e.getEntity()}var u=n(125),c=n(999),l=u.List,f=u.Map,d=u.OrderedSet,p=u.Record,h=d(),g={key:"",type:"unstyled",text:"",characterList:l(),depth:0,data:f()},y=p(g),v=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return i(e,t),e.prototype.getKey=function(){return this.get("key")},e.prototype.getType=function(){return this.get("type")},e.prototype.getText=function(){return this.get("text")},e.prototype.getCharacterList=function(){return this.get("characterList")},e.prototype.getLength=function(){return this.getText().length},e.prototype.getDepth=function(){return this.get("depth")},e.prototype.getData=function(){return this.get("data")},e.prototype.getInlineStyleAt=function(t){var e=this.getCharacterList().get(t);return e?e.getStyle():h},e.prototype.getEntityAt=function(t){var e=this.getCharacterList().get(t);return e?e.getEntity():null},e.prototype.findStyleRanges=function(t,e){c(this.getCharacterList(),a,t,e)},e.prototype.findEntityRanges=function(t,e){c(this.getCharacterList(),s,t,e)},e}(y);t.exports=v},957:function(t,e,n){"use strict";function r(t){return d<=t&&t<=g}function o(t,e){if(0<=e&&e<t.length||f(!1),e+1===t.length)return!1;var n=t.charCodeAt(e),r=t.charCodeAt(e+1);return d<=n&&n<=p&&h<=r&&r<=g}function i(t){return y.test(t)}function a(t,e){return 1+r(t.charCodeAt(e))}function s(t){if(!i(t))return t.length;for(var e=0,n=0;n<t.length;n+=a(t,n))e++;return e}function u(t,e,n){if(e=e||0,n=void 0===n?1/0:n||0,!i(t))return t.substr(e,n);var r=t.length;if(r<=0||e>r||n<=0)return"";var o=0;if(e>0){for(;e>0&&o<r;e--)o+=a(t,o);if(o>=r)return""}else if(e<0){for(o=r;e<0&&0<o;e++)o-=a(t,o-1);o<0&&(o=0)}var s=r;if(n<r)for(s=o;n>0&&s<r;n--)s+=a(t,s);return t.substring(o,s)}function c(t,e,n){e=e||0,n=void 0===n?1/0:n||0,e<0&&(e=0),n<0&&(n=0);var r=Math.abs(n-e);return e=e<n?e:n,u(t,e,r)}function l(t){for(var e=[],n=0;n<t.length;n+=a(t,n))e.push(t.codePointAt(n));return e}var f=n(936),d=55296,p=56319,h=56320,g=57343,y=/[\uD800-\uDFFF]/,v={getCodePoints:l,getUTF16Length:a,hasSurrogateUnit:i,isCodeUnitInSurrogateRange:r,isSurrogatePair:o,strlen:s,substring:c,substr:u};t.exports=v},964:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(125),s=a.Record,u={anchorKey:"",anchorOffset:0,focusKey:"",focusOffset:0,isBackward:!1,hasFocus:!1},c=s(u),l=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return i(e,t),e.prototype.serialize=function(){return"Anchor: "+this.getAnchorKey()+":"+this.getAnchorOffset()+", Focus: "+this.getFocusKey()+":"+this.getFocusOffset()+", Is Backward: "+String(this.getIsBackward())+", Has Focus: "+String(this.getHasFocus())},e.prototype.getAnchorKey=function(){return this.get("anchorKey")},e.prototype.getAnchorOffset=function(){return this.get("anchorOffset")},e.prototype.getFocusKey=function(){return this.get("focusKey")},e.prototype.getFocusOffset=function(){return this.get("focusOffset")},e.prototype.getIsBackward=function(){return this.get("isBackward")},e.prototype.getHasFocus=function(){return this.get("hasFocus")},e.prototype.hasEdgeWithin=function(t,e,n){var r=this.getAnchorKey(),o=this.getFocusKey();if(r===o&&r===t){var i=this.getStartOffset();return e<=this.getEndOffset()&&i<=n}if(t!==r&&t!==o)return!1;var a=t===r?this.getAnchorOffset():this.getFocusOffset();return e<=a&&n>=a},e.prototype.isCollapsed=function(){return this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset()},e.prototype.getStartKey=function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey()},e.prototype.getStartOffset=function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset()},e.prototype.getEndKey=function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey()},e.prototype.getEndOffset=function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset()},e.createEmpty=function(t){return new e({anchorKey:t,anchorOffset:0,focusKey:t,focusOffset:0,isBackward:!1,hasFocus:!1})},e}(c);t.exports=l},975:function(t,e,n){"use strict";function r(t,e){var n=w.N(t);return e.get("messages").map(function(e){return e.map(function(e,r){return c()({},e,{id:e.agentId+"_"+r,type:e.agentId===n.id?E.c:E.a,sender:w._76(t,e.agentId).name})})})}function o(t,e,n){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(v()(n))return T.content;var i=o?n.id:-n.id;if(T.content=c()({},e),g()(n)){T.content.id=i,T.content.chatTo=n.name;var a=w._43(t,i);a&&(T.content.messages=r(t,a),T.content.scrollTop=a.get("scrollTop"),T.content.errorMessageForChat=a.get("errorMessageForChat"))}return T.content}function i(t){var e={id:-1,selectedFontSize:S.a,chatTo:"",typingMessage:"",scrollTop:-1,messages:b.a.List(),textDirectionIfRTL:w._71(t),errorMessageForChat:""},n=w._41(t).toString().split("_");if(n.length>1){return o(t,e,w._76(t,p()(n[1])))}if("0"!==n[0]){return o(t,e,w.h(t,Math.abs(n[0])),!1)}return o(t,e,{id:C.m,name:"All Available"},!1)}function a(t,e){return w._77(t)+"?siteId="+w.F(t)+"&operatorId="+e}function s(t){var e=w._41(t).toString(),n=e.split("_"),r=n.length>1?w._76(t,p()(n[1])):w.h(t,Math.abs(n[0]));if(!v()(T.header)&&v()(r)&&(1!==n.length||Math.abs(n[0])!==C.m)){var o={agent:c()({},T.header.agent)};return o.agent.ifDisableKickOff=!0,o.agent.ifDisableSetAway=!0,o}var i=p()(n.length>1?n[1]:n[0]);return T.header={agent:{id:i,ifCurrentAgent:i===w.u(t),avatarLink:n.length>1?a(t,n[1]):"",name:v()(r)?"All Available":r.name,ifDisableKickOff:!w._28(t,k.h)||1===n.length||n.length>1&&w._76(t,i).status===C.a.offline,ifDisableSetAway:!w._28(t,k.i)||1===n.length||n.length>1&&w._76(t,i).status!==C.a.online}},T.header}var u=n(4),c=n.n(u),l=n(55),f=n.n(l),d=n(179),p=n.n(d),h=n(353),g=n.n(h),y=n(57),v=n.n(y),m=n(125),b=n.n(m),S=n(379),w=n(5),E=n(243),C=n(2),k=n(350);e.f=i,e.g=s,n.d(e,"a",function(){return x}),n.d(e,"c",function(){return O}),n.d(e,"d",function(){return _}),n.d(e,"e",function(){return D}),n.d(e,"b",function(){return M});var T={},x=function(t){var e=w._41(t).toString().split("_");return e.length>1?[!0,p()(e[1])]:[!1,p()(e[0])]},O=function(t,e,n){if(e){if(!w._28(t,k.j))return!1;var r=w._76(t,n);return!(!r||n===w.u(t))&&r.status!==C.a.offline}return!0},_=function(t,e,n){if(e)return[n];var r=w.u(t),o=[];if(n===C.m)return f()(w._33(t),function(t){r!==t.id&&t.status!==C.a.offline&&o.push(t.id)}),o;var i=w.h(t,n);return i?(f()(i.agentIds,function(e){var n=w._76(t,e);n&&r!==n.id&&n.status!==C.a.offline&&o.push(e)}),o):[]},D=function(t,e,n){return n?e:e.concat(t)},M=function(t,e,n){var r=Math.abs(n),o=e?w._76(t,r):w.h(t,r);return!(!v()(o)||r!==C.m)||!v()(o)}},978:function(t,e,n){"use strict";var r=n(125),o=r.OrderedMap,i={createFromArray:function(t){return o(t.map(function(t){return[t.getKey(),t]}))}};t.exports=i},979:function(t,e,n){"use strict";function r(t,e,n){var r=t.getSelection(),i=t.getCurrentContent(),a=r;if(r.isCollapsed()){if("forward"===n){if(t.isSelectionAtEndOfContent())return i}else if(t.isSelectionAtStartOfContent())return i;if((a=e(t))===r)return i}return o.removeRange(i,a,n)}var o=n(937);t.exports=r},982:function(t,e,n){"use strict";function r(t){return"object"==typeof t?Object.keys(t).filter(function(e){return t[e]}).map(o).join(" "):Array.prototype.map.call(arguments,o).join(" ")}function o(t){return t.replace(/\//g,"-")}t.exports=r},983:function(t,e){function n(t){return null===t}t.exports=n},988:function(t,e,n){"use strict";var r=n(389);n.d(e,"a",function(){return o}),n.d(e,"b",function(){return i}),n.d(e,"e",function(){return a}),n.d(e,"c",function(){return s}),n.d(e,"d",function(){return u});var o=function(t,e){return{type:r.a,payload:e,meta:t}},i=function(t,e){return{type:r.d,payload:e,meta:t}},a=function(t,e){return{type:r.b,payload:e,meta:t}},s=function(t,e,n,o){return{type:r.e,payload:{fileName:n,url:e,isImage:o},meta:t}},u=function(t,e){return{type:r.c,payload:e,meta:t}}},994:function(t,e,n){"use strict";var r=n(102),o=n.n(r),i=n(756),a=(n.n(i),n(2));n.d(e,"g",function(){return s}),n.d(e,"h",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"d",function(){return f}),n.d(e,"b",function(){return d}),n.d(e,"c",function(){return p}),n.d(e,"a",function(){return h});var s=function(t){return t.getSelection().getHasFocus()},u=function(t,e,n,r,o){var a=i.SelectionState.createEmpty("canned-message").merge({anchorKey:e,anchorOffset:n,focusKey:e,focusOffset:r}),s=i.Modifier.replaceText(t.getCurrentContent(),a,o);return i.EditorState.forceSelection(i.EditorState.push(t,s,"change-block-data"),i.SelectionState.createEmpty("canned-message").merge({anchorKey:e,anchorOffset:n+o.length,focusKey:e,focusOffset:n+o.length}))},c=function(t){var e=t.getSelection();if(!e.isCollapsed())return null;var n=e.getStartKey();return{key:n,index:e.getStartOffset(),text:t.getCurrentContent().getBlockForKey(n).getText()}},l=function(t,e){return t.getCurrentContent().getBlockForKey(e).getText()},f=function(t){var e=n.i(i.convertToRaw)(t.getCurrentContent());return e.blocks.map(function(t){return"unstyled"===t.type?t.text:"atomic"===t.type?t.entityRanges.map(function(t){return e.entityMap[t.key].data.payload.file})[0]:void 0}).reduce(function(t,e){if(void 0===e)return t;if(0===t.length)return[e];var n=t[t.length-1];return o()(e)&&o()(n)?(t[t.length-1]=n+"\n"+e,t):t.concat(e)},[])},d=function(t,e,n){var r=i.Entity.create(a.h.image,"IMMUTABLE",{src:e,payload:n});return i.AtomicBlockUtils.insertAtomicBlock(t,r," ")},p=function(){return i.EditorState.moveFocusToEnd(i.EditorState.createEmpty())},h=function(t,e){var n=e.getSelection(),r=e.getCurrentContent(),o=i.EditorState.createEmpty();if(n.isCollapsed()){var a=i.Modifier.insertText(r,n,t);o=i.EditorState.push(e,a,"insert-cannedMessage")}else{var s=i.Modifier.replaceText(r,n,t);o=i.EditorState.push(e,s,"insert-cannedMessage")}return i.EditorState.forceSelection(o,o.getSelection())}},998:function(t,e,n){"use strict";var r={encode:function(t,e,n){return t+"-"+e+"-"+n},decode:function(t){var e=t.split("-"),n=e[0],r=e[1],o=e[2];return{blockKey:n,decoratorKey:parseInt(r,10),leafKey:parseInt(o,10)}}};t.exports=r},999:function(t,e,n){"use strict";function r(t,e,n,r){if(t.size){var o=0;t.reduce(function(t,i,a){return e(t,i)||(n(t)&&r(o,a),o=a),i}),n(t.last())&&r(o,t.count())}}t.exports=r}});
//# sourceMappingURL=editor.0336c.js.map