{"version":3,"sources":["webpack:///./~/lodash/noop.js?c376","webpack:///./~/rc-upload/lib/AjaxUploader.js?0796","webpack:///./~/rc-upload/lib/IframeUploader.js?46d1","webpack:///./~/rc-upload/lib/Upload.js?3c6f","webpack:///./~/rc-upload/lib/index.js?6abe","webpack:///./~/rc-upload/lib/request.js?3f68","webpack:///./src/components/Icons/images/contact.png?a923","webpack:///./src/components/Icons/images/user.png?7111","webpack:///./~/warning/browser.js?26d3","webpack:///./src/components/Agents/List.jsx","webpack:///./src/components/Agents/AgentsLeft.jsx","webpack:///./src/components/Agents/ChatHeader.jsx","webpack:///./src/components/Agents/Department.jsx","webpack:///./src/components/Agents/Item.jsx","webpack:///./src/components/Agents/KickOff.jsx","webpack:///./src/components/Agents/NoAgents.jsx","webpack:///./src/components/Modal/KickOff/KickOff.jsx","webpack:///./src/containers/AgentsTab/AgentChatAction.jsx","webpack:///./src/containers/AgentsTab/AgentChatContent.jsx","webpack:///./src/containers/AgentsTab/AgentChatHeader.jsx","webpack:///./src/containers/AgentsTab/Agents.jsx","webpack:///./src/containers/AgentsTab/NoAgents.jsx","webpack:///./src/containers/SplitterAgentChatTextEditor.jsx","webpack:///./src/containers/SplitterAgentChat.jsx","webpack:///./src/components/Agents/agents.css?854a","webpack:///./src/components/ChatSection/ChatContent/ChatContent.css?377e*","webpack:///./src/components/Icons/images/visitor.png?b40b","webpack:///./src/components/Icons/Avatar.jsx?1263","webpack:///./src/containers/Business/agentChat.js","webpack:///./~/lodash/isNull.js","webpack:///./~/rc-upload/lib/uid.js?eb92","webpack:///./src/actions/agentChat.js","webpack:///./src/components/ChatSection/ChatContent/AudioVideoChatContent.jsx?4e6c","webpack:///./src/components/ChatSection/ChatContent/ChatContent.jsx?7e02","webpack:///./src/components/ChatSection/ChatContent/ChatContentMsg.jsx?7e48","webpack:///./src/components/FileUploadProgress/FileUploadProgress.jsx?d30f","webpack:///./src/components/Icons/ChatAction/SendFile.jsx?56d8","webpack:///./src/constants/enums/visitorType.js?782e","webpack:///./src/components/FileUploadProgress/FileUploadProgress.css?8530*"],"names":["List","nextProps","agents","props","styles","listsection","map","agent","onItemClick","id","React","Component","AgentsLeft","agentsSection","isDepartment","agentData","onDepartmentClick","ChatHeader","avatarLink","Date","now","name","ifDisableKickOff","ifDisableSetAway","avatar","toolbar","onKickOff","commonbtn","onSetAway","classnames","disable","Department","department","selected","opened","departmentsection","selectedDpt","departmentitem","e","stopPropagation","icon","length","icons","arrowDown","depSpread","description","departmentNum","onlineNum","awayNum","Item","agentitem","type","color","agentName","agentDescription","unreadMessage","unreadmessage","KickOff","state","open","openModal","bind","closeModal","setState","className","btnAction","disabled","NoAgents","noDataSection","addMoreAgents","siteInfo","handleKickOff","okProps","text","eventClick","cancelProps","modalStyle","previousState","getUploadUrl","uploadUrl","sessionId","siteId","formatAgentChatUploadUrl","createGUID","mapStateToProps","chatId","ifDisplay","isAgent","newState","sendFileUploadUrl","privateMessage","sendToIds","downloadUrl","maxFileSize","mapDispatchToProps","onSuccess","rsp","file","url","dispatch","isImage","forEach","agentId","guid","showErrorMessage","errorMsg","connect","selectedFontSize","chatTo","typingMessage","scrollTop","messages","Immutable","textDirectionIfRTL","errorMessageForChat","mapToChatContentState","mergeProps","stateProps","dispatchProps","dispatchObject","onScroll","hideErrorMessage","ifCurrentAgent","mapToChatHeader","logout","setAnotherAgentStatus","agentStatus","offline","updateAgent","away","initCurrentAgent","status","mapToProps","info","updateCheckUnreadMsgFlag","updateDepartment","isWeb","loginUrl","autoLoginUrl","addAgentsUrl","common","AgentChatTextEditor","importLazy","resolve","reject","require","catch","loadingComponent","SplitterAgentChat","agentNumber","selectedAgentChatId","agentsWidth","onAgentsStopResize","CommonStyle","layoutContent","agentsTabStyle","headerSection","clearfix","chatWindowContainer","toolbarSection","position","width","height","bottom","minHeight","Avatar","identityType","tooltip","isContactOrUserOpen","getMessages","chat","currentAgent","get","msgs","msg","i","newMessage","sender","generateContentObject","obj","agentOrDpt","content","key","contentState","selectedInfo","toString","split","selectedAgent","Math","abs","getAgentAvatarUrl","strId","ids","agentOrDepartment","header","intId","online","getAgentOrDepartmentId","ifChatIsAvalable","getSendToIds","currentAgentId","push","agentIds","temp","filterSendToIds","concat","isActiveStatus","currId","updateContent","editorState","payload","meta","appendOwnMessage","appendIds","line","updateScrollTop","appendFile","fileName","setErrorMessageForAgentChat","statusText","showAcceptButton","showRefuseButton","isVideoChatting","isAudioChatting","isChatting","audioVideoIcon","requestAudioChat","requestVideoChat","diffTime","a","b","a1","getTime","b1","d","moment","utc","format","AudioVideoChatContent","audioVideoChatStatus","timespan","audioVideoChatStartTime","startClock","insertVideoObject","clearInterval","clock","p2pChat","getP2PChat","videoContainer","localVideo","getLocalVideo","style","document","getElementById","appendChild","play","remoteVideo","getRemoteVideo","setInterval","videoChatting","audioChatting","incoming","chatVideoContainer","element","chatVideoItem","chattingInfo","time","avatarContainer","visitorName","notice","action","accept","onAcceptClick","acceptChat","refuse","onRefuseClick","refuseChat","getFontSizeClass","chatContentsmall","chatContentmiddle","chatContentlarge","getVisitorForNotify","last","getMessageForNotify","message","ChatContent","ifShowGotoMeetingNotify","update","selectChatMessage","closeGotoMeetingNotify","scrollBottom","getScrollHeight","canShowNotify","timer","ifScrollBottom","notifyVisitor","notifyMessage","parent","addEventListener","body","propsMessage","g2mStartUrl","nextState","ifShowNotify","audioVideoChatWidth","toJS","prevProps","clearTimeout","removeEventListener","scrollHeight","event","target","clientHeight","messageScrollHeight","updateIfShowNotify","setTimeout","ctrlKey","keyCode","selection","range","createTextRange","moveToElementText","select","window","getSelection","windowSelection","rangeCount","removeAllRanges","createRange","selectNode","addRange","preventDefault","clearG2mStartUrl","container","getBoundingClientRect","chatContentContainer","chatContent","directionRTL","getSecureFormContent","timezone","timezoneOffset","typingIndicator","typing","notify","notifyName","notifyG2M","error","errorContent","chatContainer","onAudioAndVideoStopResize","visitorAvatar","onAudioVideoChatAccept","onAudioVideoChatRefuse","translatedMessage","translateMsg","orignalMsg","link","indexOf","translationMsg","image","filename","maxWidth","maxHeight","attachment","getMessageComponent","ChatContentMsg","firstMessageObj","secureFormStatus","init","token","rsaKey","dateToString","systemMeg","chatContentInfo","operator","visitor","secureForm","downloading","loading","item","value","chatMeg","FileUploadProgress","uploadProgressContainer","fileUploadProgressNumber","uploadProgress","uploadFileName","uploadProgressPercent","cancelUpload","handleAbortUpload","shouldComponentUpdateHelper","shouldComponentUpdateGen","SendFile","beforeUpload","size","uploadedFileNumber","maxFileNum","onProgress","step","upload","percent","parseFloat","toFixed","isSuccess","getDownloadUrl","errorMessage","formatAgentChatDownloadUrl","abort","uploadConfig","multiple","onStart","onError","fileupload","enums","sendFile","visitorIdentityTypeNone","visitorIdentityTypeOperator","visitorIdentityTypeUser","visitorIdentityTypeContact","visitorIdentityTypeEmailAddress","visitorIdentityTypeCookie","visitorIdentityTypeVisitor"],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;AChBA;;AAEA;AACA;AACA,CAAC;;AAED;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,kBAAkB;;AAE/F;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA,mBAAmB,SAAS;AAC5B;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP,kCAAkC;AAClC,OAAO;AACP,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,4DAA4D;AAC5D,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,gBAAgB,kBAAkB;AAClC;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,CAAC;;AAED;AACA,oC;;;;;;;;AC/OA;;AAEA;AACA;AACA,CAAC;;AAED;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,kBAAkB;;AAE/F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,uEAAuE;AACvE;AACA;AACA,oJAAoJ,UAAU,SAAS,SAAS,iBAAiB,0MAA0M,cAAc,kBAAkB,gBAAgB,0GAA0G,MAAM,QAAQ,cAAc,iBAAiB,eAAe;AACjmB,GAAG;AACH;AACA;AACA,8DAA8D,2BAA2B,mBAAmB,2CAA2C,wBAAwB,oBAAoB,SAAS;AAC5M;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kDAAkD;AAClD;AACA,KAAK;AACL,4DAA4D;AAC5D;AACA;AACA;AACA;AACA,0CAA0C,kCAAkC;AAC5E,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,CAAC;;AAED;AACA,oC;;;;;;;;AC/QA;;AAEA;AACA;AACA,CAAC;;AAED;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,kBAAkB;;AAE/F;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,cAAc;AACd,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA,wFAAwF,eAAe,eAAe;AACtH;AACA;AACA;AACA;AACA,mFAAmF,eAAe,eAAe;AACjH;AACA,CAAC;;AAED;AACA,oC;;;;;;;;ACzGA;;AAEA;AACA,2C;;;;;;;;ACHA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA,yBAAyB,kBAAkB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,oC;;;;;;;ACvGA,iCAAiC,42G;;;;;;;ACAjC,iCAAiC,wkI;;;;;;;;ACAjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,qBAAqB,WAAW;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3DA;;AAEA;AACA;AACA;;IAEMA,I;;;;;;;;;;;0CACkBC,S,EAAW;AAC/B,aAAO,CAAC,uDAAUA,UAAUC,MAApB,EAA4B,KAAKC,KAAL,CAAWD,MAAvC,CAAR;AACD;;;6BACQ;AAAA;;AACP;AAAA,mBACkB,mDAAAE,CAAOC;AADzB,iBAEK,KAAKF,KAAL,CAAWD,MAAX,CAAkBI,GAAlB,CAAsB;AAAA,iFACpB,sDADoB;AAAA,iBAGZC,KAHY;AAAA,uBAIN,O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","file":"agent-chat.fef59.js","sourcesContent":["/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nmodule.exports = noop;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/noop.js\n// module id = 1246\n// module chunks = 1 2","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _defineProperty2 = require('babel-runtime/helpers/defineProperty');\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _request = require('./request');\n\nvar _request2 = _interopRequireDefault(_request);\n\nvar _uid = require('./uid');\n\nvar _uid2 = _interopRequireDefault(_uid);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/* eslint react/no-is-mounted:0*/\n\nvar AjaxUploader = _react2[\"default\"].createClass({\n  displayName: 'AjaxUploader',\n\n  propTypes: {\n    component: _react.PropTypes.string,\n    style: _react.PropTypes.object,\n    prefixCls: _react.PropTypes.string,\n    className: _react.PropTypes.string,\n    multiple: _react.PropTypes.bool,\n    disabled: _react.PropTypes.bool,\n    accept: _react.PropTypes.string,\n    children: _react.PropTypes.any,\n    onStart: _react.PropTypes.func,\n    data: _react.PropTypes.oneOfType([_react.PropTypes.object, _react.PropTypes.func]),\n    headers: _react.PropTypes.object,\n    beforeUpload: _react.PropTypes.func,\n    customRequest: _react.PropTypes.func,\n    onProgress: _react.PropTypes.func,\n    withCredentials: _react.PropTypes.bool\n  },\n\n  getInitialState: function getInitialState() {\n    this.reqs = {};\n    return {\n      uid: (0, _uid2[\"default\"])()\n    };\n  },\n  componentWillUnmount: function componentWillUnmount() {\n    this.abort();\n  },\n  onChange: function onChange(e) {\n    var files = e.target.files;\n    this.uploadFiles(files);\n    this.reset();\n  },\n  onClick: function onClick() {\n    var el = this.refs.file;\n    if (!el) {\n      return;\n    }\n    el.click();\n  },\n  onKeyDown: function onKeyDown(e) {\n    if (e.key === 'Enter') {\n      this.onClick();\n    }\n  },\n  onFileDrop: function onFileDrop(e) {\n    if (e.type === 'dragover') {\n      e.preventDefault();\n      return;\n    }\n\n    var files = e.dataTransfer.files;\n    this.uploadFiles(files);\n\n    e.preventDefault();\n  },\n  uploadFiles: function uploadFiles(files) {\n    var postFiles = Array.prototype.slice.call(files);\n    var len = postFiles.length;\n    for (var i = 0; i < len; i++) {\n      var file = postFiles[i];\n      file.uid = (0, _uid2[\"default\"])();\n      this.upload(file, postFiles);\n    }\n  },\n  upload: function upload(file, fileList) {\n    var _this = this;\n\n    var props = this.props;\n\n    if (!props.beforeUpload) {\n      // always async in case use react state to keep fileList\n      return setTimeout(function () {\n        return _this.post(file);\n      }, 0);\n    }\n\n    var before = props.beforeUpload(file, fileList);\n    if (before && before.then) {\n      before.then(function (processedFile) {\n        var processedFileType = Object.prototype.toString.call(processedFile);\n        if (processedFileType === '[object File]' || processedFileType === '[object Blob]') {\n          _this.post(processedFile);\n        } else {\n          _this.post(file);\n        }\n      })[\"catch\"](function (e) {\n        console && console.log(e); // eslint-disable-line\n      });\n    } else if (before !== false) {\n      setTimeout(function () {\n        return _this.post(file);\n      }, 0);\n    }\n  },\n  post: function post(file) {\n    var _this2 = this;\n\n    if (!this.isMounted()) {\n      return;\n    }\n    var props = this.props;\n    var data = props.data;\n    var onStart = props.onStart,\n        onProgress = props.onProgress;\n\n    if (typeof data === 'function') {\n      data = data(file);\n    }\n    var uid = file.uid;\n\n    var request = props.customRequest || _request2[\"default\"];\n    this.reqs[uid] = request({\n      action: props.action,\n      filename: props.name,\n      file: file,\n      data: data,\n      headers: props.headers,\n      withCredentials: props.withCredentials,\n      onProgress: onProgress ? function (e) {\n        onProgress(e, file);\n      } : null,\n      onSuccess: function onSuccess(ret) {\n        delete _this2.reqs[uid];\n        props.onSuccess(ret, file);\n      },\n      onError: function onError(err, ret) {\n        delete _this2.reqs[uid];\n        props.onError(err, ret, file);\n      }\n    });\n    onStart(file);\n  },\n  reset: function reset() {\n    this.setState({\n      uid: (0, _uid2[\"default\"])()\n    });\n  },\n  abort: function abort(file) {\n    var reqs = this.reqs;\n\n    if (file) {\n      var uid = file;\n      if (file && file.uid) {\n        uid = file.uid;\n      }\n      if (reqs[uid]) {\n        reqs[uid].abort();\n        delete reqs[uid];\n      }\n    } else {\n      Object.keys(reqs).forEach(function (uid) {\n        if (reqs[uid]) {\n          reqs[uid].abort();\n        }\n\n        delete reqs[uid];\n      });\n    }\n  },\n  render: function render() {\n    var _classNames;\n\n    var _props = this.props,\n        Tag = _props.component,\n        prefixCls = _props.prefixCls,\n        className = _props.className,\n        disabled = _props.disabled,\n        style = _props.style,\n        multiple = _props.multiple,\n        accept = _props.accept,\n        children = _props.children;\n\n    var cls = (0, _classnames2[\"default\"])((_classNames = {}, (0, _defineProperty3[\"default\"])(_classNames, prefixCls, true), (0, _defineProperty3[\"default\"])(_classNames, prefixCls + '-disabled', disabled), (0, _defineProperty3[\"default\"])(_classNames, className, className), _classNames));\n    var events = disabled ? {} : {\n      onClick: this.onClick,\n      onKeyDown: this.onKeyDown,\n      onDrop: this.onFileDrop,\n      onDragOver: this.onFileDrop,\n      tabIndex: '0'\n    };\n    return _react2[\"default\"].createElement(\n      Tag,\n      (0, _extends3[\"default\"])({}, events, {\n        className: cls,\n        role: 'button',\n        style: style\n      }),\n      _react2[\"default\"].createElement('input', {\n        type: 'file',\n        ref: 'file',\n        key: this.state.uid,\n        style: { display: 'none' },\n        accept: accept,\n        multiple: multiple,\n        onChange: this.onChange\n      }),\n      children\n    );\n  }\n});\n\nexports[\"default\"] = AjaxUploader;\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rc-upload/lib/AjaxUploader.js\n// module id = 1249\n// module chunks = 1 2","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _defineProperty2 = require('babel-runtime/helpers/defineProperty');\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _uid = require('./uid');\n\nvar _uid2 = _interopRequireDefault(_uid);\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar IFRAME_STYLE = {\n  position: 'absolute',\n  top: 0,\n  opacity: 0,\n  filter: 'alpha(opacity=0)',\n  left: 0,\n  zIndex: 9999\n};\n\n// diferent from AjaxUpload, can only upload on at one time, serial seriously\nvar IframeUploader = _react2[\"default\"].createClass({\n  displayName: 'IframeUploader',\n\n  propTypes: {\n    component: _react.PropTypes.string,\n    style: _react.PropTypes.object,\n    disabled: _react.PropTypes.bool,\n    prefixCls: _react.PropTypes.string,\n    className: _react.PropTypes.string,\n    accept: _react.PropTypes.string,\n    onStart: _react.PropTypes.func,\n    multiple: _react.PropTypes.bool,\n    children: _react.PropTypes.any,\n    data: _react.PropTypes.oneOfType([_react.PropTypes.object, _react.PropTypes.func]),\n    action: _react.PropTypes.string,\n    name: _react.PropTypes.string\n  },\n\n  getInitialState: function getInitialState() {\n    this.file = {};\n    return {\n      uploading: false\n    };\n  },\n  componentDidMount: function componentDidMount() {\n    this.updateIframeWH();\n    this.initIframe();\n  },\n  componentDidUpdate: function componentDidUpdate() {\n    this.updateIframeWH();\n  },\n  onLoad: function onLoad() {\n    if (!this.state.uploading) {\n      return;\n    }\n    var props = this.props,\n        file = this.file;\n\n    var response = void 0;\n    try {\n      var doc = this.getIframeDocument();\n      var script = doc.getElementsByTagName('script')[0];\n      if (script && script.parentNode === doc.body) {\n        doc.body.removeChild(script);\n      }\n      response = doc.body.innerHTML;\n      props.onSuccess(response, file);\n    } catch (err) {\n      (0, _warning2[\"default\"])(false, 'cross domain error for Upload. Maybe server should return document.domain script. see Note from https://github.com/react-component/upload');\n      response = 'cross-domain';\n      props.onError(err, null, file);\n    }\n    this.endUpload();\n  },\n  onChange: function onChange() {\n    var _this = this;\n\n    var target = this.getFormInputNode();\n    // ie8/9 don't support FileList Object\n    // http://stackoverflow.com/questions/12830058/ie8-input-type-file-get-files\n    var file = this.file = {\n      uid: (0, _uid2[\"default\"])(),\n      name: target.value\n    };\n    this.startUpload();\n    var props = this.props;\n\n    if (!props.beforeUpload) {\n      return this.post(file);\n    }\n    var before = props.beforeUpload(file);\n    if (before && before.then) {\n      before.then(function () {\n        _this.post(file);\n      }, function () {\n        _this.endUpload();\n      });\n    } else if (before !== false) {\n      this.post(file);\n    } else {\n      this.endUpload();\n    }\n  },\n  getIframeNode: function getIframeNode() {\n    return this.refs.iframe;\n  },\n  getIframeDocument: function getIframeDocument() {\n    return this.getIframeNode().contentDocument;\n  },\n  getFormNode: function getFormNode() {\n    return this.getIframeDocument().getElementById('form');\n  },\n  getFormInputNode: function getFormInputNode() {\n    return this.getIframeDocument().getElementById('input');\n  },\n  getFormDataNode: function getFormDataNode() {\n    return this.getIframeDocument().getElementById('data');\n  },\n  getFileForMultiple: function getFileForMultiple(file) {\n    return this.props.multiple ? [file] : file;\n  },\n  getIframeHTML: function getIframeHTML(domain) {\n    var domainScript = '';\n    var domainInput = '';\n    if (domain) {\n      var script = 'script';\n      domainScript = '<' + script + '>document.domain=\"' + domain + '\";</' + script + '>';\n      domainInput = '<input name=\"_documentDomain\" value=\"' + domain + '\" />';\n    }\n    return '\\n    <!DOCTYPE html>\\n    <html>\\n    <head>\\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\\n    <style>\\n    body,html {padding:0;margin:0;border:0;overflow:hidden;}\\n    </style>\\n    ' + domainScript + '\\n    </head>\\n    <body>\\n    <form method=\"post\"\\n    encType=\"multipart/form-data\"\\n    action=\"' + this.props.action + '\" id=\"form\"\\n    style=\"display:block;height:9999px;position:relative;overflow:hidden;\">\\n    <input id=\"input\" type=\"file\"\\n     name=\"' + this.props.name + '\"\\n     style=\"position:absolute;top:0;right:0;height:9999px;font-size:9999px;cursor:pointer;\"/>\\n    ' + domainInput + '\\n    <span id=\"data\"></span>\\n    </form>\\n    </body>\\n    </html>\\n    ';\n  },\n  initIframeSrc: function initIframeSrc() {\n    if (this.domain) {\n      this.getIframeNode().src = 'javascript:void((function(){\\n        var d = document;\\n        d.open();\\n        d.domain=\\'' + this.domain + '\\';\\n        d.write(\\'\\');\\n        d.close();\\n      })())';\n    }\n  },\n  initIframe: function initIframe() {\n    var iframeNode = this.getIframeNode();\n    var win = iframeNode.contentWindow;\n    var doc = void 0;\n    this.domain = this.domain || '';\n    this.initIframeSrc();\n    try {\n      doc = win.document;\n    } catch (e) {\n      this.domain = document.domain;\n      this.initIframeSrc();\n      win = iframeNode.contentWindow;\n      doc = win.document;\n    }\n    doc.open('text/html', 'replace');\n    doc.write(this.getIframeHTML(this.domain));\n    doc.close();\n    this.getFormInputNode().onchange = this.onChange;\n  },\n  endUpload: function endUpload() {\n    if (this.state.uploading) {\n      this.file = {};\n      // hack avoid batch\n      this.state.uploading = false;\n      this.setState({\n        uploading: false\n      });\n      this.initIframe();\n    }\n  },\n  startUpload: function startUpload() {\n    if (!this.state.uploading) {\n      this.state.uploading = true;\n      this.setState({\n        uploading: true\n      });\n    }\n  },\n  updateIframeWH: function updateIframeWH() {\n    var rootNode = _reactDom2[\"default\"].findDOMNode(this);\n    var iframeNode = this.getIframeNode();\n    iframeNode.style.height = rootNode.offsetHeight + 'px';\n    iframeNode.style.width = rootNode.offsetWidth + 'px';\n  },\n  abort: function abort(file) {\n    if (file) {\n      var uid = file;\n      if (file && file.uid) {\n        uid = file.uid;\n      }\n      if (uid === this.file.uid) {\n        this.endUpload();\n      }\n    } else {\n      this.endUpload();\n    }\n  },\n  post: function post(file) {\n    var formNode = this.getFormNode();\n    var dataSpan = this.getFormDataNode();\n    var data = this.props.data;\n    var onStart = this.props.onStart;\n\n    if (typeof data === 'function') {\n      data = data(file);\n    }\n    var inputs = [];\n    for (var key in data) {\n      if (data.hasOwnProperty(key)) {\n        inputs.push('<input name=\"' + key + '\" value=\"' + data[key] + '\"/>');\n      }\n    }\n    dataSpan.innerHTML = inputs.join('');\n    formNode.submit();\n    dataSpan.innerHTML = '';\n    onStart(file);\n  },\n  render: function render() {\n    var _classNames;\n\n    var _props = this.props,\n        Tag = _props.component,\n        disabled = _props.disabled,\n        className = _props.className,\n        prefixCls = _props.prefixCls,\n        children = _props.children,\n        style = _props.style;\n\n    var iframeStyle = (0, _extends3[\"default\"])({}, IFRAME_STYLE, {\n      display: this.state.uploading || disabled ? 'none' : ''\n    });\n    var cls = (0, _classnames2[\"default\"])((_classNames = {}, (0, _defineProperty3[\"default\"])(_classNames, prefixCls, true), (0, _defineProperty3[\"default\"])(_classNames, prefixCls + '-disabled', disabled), (0, _defineProperty3[\"default\"])(_classNames, className, className), _classNames));\n    return _react2[\"default\"].createElement(\n      Tag,\n      {\n        className: cls,\n        style: (0, _extends3[\"default\"])({ position: 'relative', zIndex: 0 }, style)\n      },\n      _react2[\"default\"].createElement('iframe', {\n        ref: 'iframe',\n        onLoad: this.onLoad,\n        style: iframeStyle\n      }),\n      children\n    );\n  }\n});\n\nexports[\"default\"] = IframeUploader;\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rc-upload/lib/IframeUploader.js\n// module id = 1250\n// module chunks = 1 2","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _AjaxUploader = require('./AjaxUploader');\n\nvar _AjaxUploader2 = _interopRequireDefault(_AjaxUploader);\n\nvar _IframeUploader = require('./IframeUploader');\n\nvar _IframeUploader2 = _interopRequireDefault(_IframeUploader);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction empty() {}\n\nvar Upload = _react2[\"default\"].createClass({\n  displayName: 'Upload',\n\n  propTypes: {\n    component: _react.PropTypes.string,\n    style: _react.PropTypes.object,\n    prefixCls: _react.PropTypes.string,\n    action: _react.PropTypes.string,\n    name: _react.PropTypes.string,\n    multipart: _react.PropTypes.bool,\n    onError: _react.PropTypes.func,\n    onSuccess: _react.PropTypes.func,\n    onProgress: _react.PropTypes.func,\n    onStart: _react.PropTypes.func,\n    data: _react.PropTypes.oneOfType([_react.PropTypes.object, _react.PropTypes.func]),\n    headers: _react.PropTypes.object,\n    accept: _react.PropTypes.string,\n    multiple: _react.PropTypes.bool,\n    disabled: _react.PropTypes.bool,\n    beforeUpload: _react.PropTypes.func,\n    customRequest: _react.PropTypes.func,\n    onReady: _react.PropTypes.func,\n    withCredentials: _react.PropTypes.bool,\n    supportServerRender: _react.PropTypes.bool\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      component: 'span',\n      prefixCls: 'rc-upload',\n      data: {},\n      headers: {},\n      name: 'file',\n      multipart: false,\n      onReady: empty,\n      onStart: empty,\n      onError: empty,\n      onSuccess: empty,\n      supportServerRender: false,\n      multiple: false,\n      beforeUpload: null,\n      customRequest: null,\n      withCredentials: false\n    };\n  },\n  getInitialState: function getInitialState() {\n    return {\n      Component: null\n    };\n  },\n  componentDidMount: function componentDidMount() {\n    if (this.props.supportServerRender) {\n      /* eslint react/no-did-mount-set-state:0 */\n      this.setState({\n        Component: this.getComponent()\n      }, this.props.onReady);\n    }\n  },\n  getComponent: function getComponent() {\n    return typeof FormData !== 'undefined' ? _AjaxUploader2[\"default\"] : _IframeUploader2[\"default\"];\n  },\n  abort: function abort(file) {\n    this.refs.inner.abort(file);\n  },\n  render: function render() {\n    if (this.props.supportServerRender) {\n      var _Component = this.state.Component;\n\n      if (_Component) {\n        return _react2[\"default\"].createElement(_Component, (0, _extends3[\"default\"])({}, this.props, { ref: 'inner' }));\n      }\n      return null;\n    }\n    var Component = this.getComponent();\n    return _react2[\"default\"].createElement(Component, (0, _extends3[\"default\"])({}, this.props, { ref: 'inner' }));\n  }\n});\n\nexports[\"default\"] = Upload;\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rc-upload/lib/Upload.js\n// module id = 1251\n// module chunks = 1 2","'use strict';\n\n// export this package's api\nmodule.exports = require('./Upload');\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rc-upload/lib/index.js\n// module id = 1252\n// module chunks = 1 2","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = upload;\nfunction getError(option, xhr) {\n  var msg = 'cannot post ' + option.action + ' ' + xhr.status + '\\'';\n  var err = new Error(msg);\n  err.status = xhr.status;\n  err.method = 'post';\n  err.url = option.action;\n  return err;\n}\n\nfunction getBody(xhr) {\n  var text = xhr.responseText || xhr.response;\n  if (!text) {\n    return text;\n  }\n\n  try {\n    return JSON.parse(text);\n  } catch (e) {\n    return text;\n  }\n}\n\n// option {\n//  onProgress: (event: { percent: number }): void,\n//  onError: (event: Error, body?: Object): void,\n//  onSuccess: (body: Object): void,\n//  data: Object,\n//  filename: String,\n//  file: File,\n//  withCredentials: Boolean,\n//  action: String,\n//  headers: Object,\n// }\nfunction upload(option) {\n  var xhr = new XMLHttpRequest();\n\n  if (option.onProgress && xhr.upload) {\n    xhr.upload.onprogress = function progress(e) {\n      if (e.total > 0) {\n        e.percent = e.loaded / e.total * 100;\n      }\n      option.onProgress(e);\n    };\n  }\n\n  var formData = new FormData();\n\n  if (option.data) {\n    Object.keys(option.data).map(function (key) {\n      formData.append(key, option.data[key]);\n    });\n  }\n\n  formData.append(option.filename, option.file);\n\n  xhr.onerror = function error(e) {\n    option.onError(e);\n  };\n\n  xhr.onload = function onload() {\n    // allow success when 2xx status\n    // see https://github.com/react-component/upload/issues/34\n    if (xhr.status < 200 || xhr.status >= 300) {\n      return option.onError(getError(option, xhr), getBody(xhr));\n    }\n\n    option.onSuccess(getBody(xhr));\n  };\n\n  xhr.open('post', option.action, true);\n\n  // Has to be after `.open()`. See https://github.com/enyo/dropzone/issues/179\n  if (option.withCredentials && 'withCredentials' in xhr) {\n    xhr.withCredentials = true;\n  }\n\n  var headers = option.headers || {};\n\n  // when set headers['X-Requested-With'] = null , can close default XHR header\n  // see https://github.com/react-component/upload/issues/33\n  if (headers['X-Requested-With'] !== null) {\n    xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n  }\n\n  for (var h in headers) {\n    if (headers.hasOwnProperty(h) && headers[h] !== null) {\n      xhr.setRequestHeader(h, headers[h]);\n    }\n  }\n  xhr.send(formData);\n\n  return {\n    abort: function abort() {\n      xhr.abort();\n    }\n  };\n}\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rc-upload/lib/request.js\n// module id = 1253\n// module chunks = 1 2","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAIAAACRXR/mAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MkU4OUI5NzlFNTIyMTFFMjkzRDY5M0EzRUFGNUY4ODciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MkU4OUI5N0FFNTIyMTFFMjkzRDY5M0EzRUFGNUY4ODciPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoyRTg5Qjk3N0U1MjIxMUUyOTNENjkzQTNFQUY1Rjg4NyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoyRTg5Qjk3OEU1MjIxMUUyOTNENjkzQTNFQUY1Rjg4NyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PjKuj5kAAAZ+SURBVHjazJlbbBRV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\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/contact.png\n// module id = 1260\n// module chunks = 1 2","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAIAAACRXR/mAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzFEM0MwQURFNTIyMTFFMkEzODlDQjFGNjhGMUJFRTAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MzFEM0MwQUVFNTIyMTFFMkEzODlDQjFGNjhGMUJFRTAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDozMUQzQzBBQkU1MjIxMUUyQTM4OUNCMUY2OEYxQkVFMCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDozMUQzQzBBQ0U1MjIxMUUyQTM4OUNCMUY2OEYxQkVFMCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PuYSkgMAAAiiSURBVHjazJl7UFTX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\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/user.png\n// module id = 1261\n// module chunks = 1 2","/**\n * Copyright 2014-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n'use strict';\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar warning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  warning = function(condition, format, args) {\n    var len = arguments.length;\n    args = new Array(len > 2 ? len - 2 : 0);\n    for (var key = 2; key < len; key++) {\n      args[key - 2] = arguments[key];\n    }\n    if (format === undefined) {\n      throw new Error(\n        '`warning(condition, format, ...args)` requires a warning ' +\n        'message argument'\n      );\n    }\n\n    if (format.length < 10 || (/^[s\\W]*$/).test(format)) {\n      throw new Error(\n        'The warning format should be able to uniquely identify this ' +\n        'warning. Please, use a more descriptive format than: ' + format\n      );\n    }\n\n    if (!condition) {\n      var argIndex = 0;\n      var message = 'Warning: ' +\n        format.replace(/%s/g, function() {\n          return args[argIndex++];\n        });\n      if (typeof console !== 'undefined') {\n        console.error(message);\n      }\n      try {\n        // This error was thrown as a convenience so that you can use this stack\n        // to find the callsite that caused this warning to fire.\n        throw new Error(message);\n      } catch(x) {}\n    }\n  };\n}\n\nmodule.exports = warning;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/warning/browser.js\n// module id = 1262\n// module chunks = 1 2","import React from 'react';\nimport _ from 'lodash';\nimport styles from './agents.css';\nimport AgentItem from './Item';\nimport { icons } from '../../constants/enums';\n\nclass List extends React.Component {\n  shouldComponentUpdate(nextProps) {\n    return !_.isEqual(nextProps.agents, this.props.agents);\n  }\n  render() {\n    return (\n      <div className={styles.listsection}>\n        {this.props.agents.map(agent => (\n          <AgentItem\n            key={agent.id}\n            agent={agent}\n            onItemClick={this.props.onItemClick}\n          />\n        ))}\n      </div>\n    );\n  }\n}\n\nList.propTypes = {\n  agents: React.PropTypes.arrayOf(React.PropTypes.shape({\n    icon: React.PropTypes.shape({\n      type: React.PropTypes.string,\n      color: React.PropTypes.string,\n    }),\n    name: React.PropTypes.string,\n    unreadMessage: React.PropTypes.number,\n    selected: React.PropTypes.bool,\n  })).isRequired,\n  onItemClick: React.PropTypes.func.isRequired,\n};\nList.examples = {\n  'Default Example': {\n    description: 'Agent List',\n    component:\n      <List\n        agents={[\n          {\n            icon: { type: icons.statusOnline, color: '#329fd9' },\n            name: 'Allon (1 chat(s))',\n            unreadMessage: 5,\n            selected: true,\n          },\n          {\n            icon: { type: icons.statusOnline, color: '#329fd9' },\n            name: 'Allon2 (1 chat(s))',\n            unreadMessage: 3,\n            selected: false,\n          },\n        ]}\n        onItemClick={_ => _}\n      />\n        ,\n  },\n};\nexport default List;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Agents/List.jsx","import React from 'react';\nimport styles from './agents.css';\nimport AgentList from './List';\nimport Department from './Department';\nimport { icons } from '../../constants/enums';\n\nconst AgentsLeft = props => (\n  <div className={styles.agentsSection}>\n    {\n      props.isDepartment ?\n      props.agentData.map(agent => (\n        <Department\n          key={agent.id}\n          department={agent}\n          onDepartmentClick={props.onDepartmentClick}\n          onItemClick={props.onItemClick}\n        />\n      )) :\n        <AgentList\n          agents={props.agentData}\n          onItemClick={props.onItemClick}\n        />\n    }\n  </div>\n);\n\nAgentsLeft.propTypes = {\n  agentData: React.PropTypes.arrayOf(React.PropTypes.shape({})).isRequired,\n  isDepartment: React.PropTypes.bool.isRequired,\n  onDepartmentClick: React.PropTypes.func.isRequired,\n  onItemClick: React.PropTypes.func.isRequired,\n};\nAgentsLeft.examples = {\n  'Default Example': {\n    description: 'Agents',\n    component:\n      <AgentsLeft\n        agentData={[\n          {\n            name: 'department 1',\n            selected: true,\n            agents: [\n              {\n                icon: { type: icons.statusOnline, color: '#329fd9' },\n                name: 'Allon (1 chat(s))',\n                unreadMessage: 5,\n                selected: false,\n              },\n            ],\n          },\n          {\n            name: 'department 2',\n            selected: true,\n            agents: [\n              {\n                icon: { type: icons.statusOnline, color: '#329fd9' },\n                name: 'Allon (1 chat(s))',\n                unreadMessage: 5,\n                selected: false,\n              },\n            ],\n          },\n        ]}\n        isDepartment\n        onItemClick={_ => _}\n        onDepartmentClick={_ => _}\n      />\n        ,\n  },\n};\nexport default AgentsLeft;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Agents/AgentsLeft.jsx","import React, { PropTypes, Component } from 'react';\nimport classnames from 'classnames';\nimport _ from 'lodash';\nimport styles from './agents.css';\nimport Avatar from '../Icons/Avatar';\nimport KickOff from './KickOff';\nimport Button from '../Button/Button';\n\nclass ChatHeader extends Component {\n  constructor(props) {\n    super();\n    this.avatarLink = _.isEmpty(props.agent.avatarLink) ?\n                      '' :\n                      `${props.agent.avatarLink}&${Date.now()}`;\n  }\n  componentWillReceiveProps(nextProps) {\n    if (_.isEmpty(nextProps.agent.avatarLink)) {\n      this.avatarLink = '';\n      return;\n    }\n    this.avatarLink = `${nextProps.agent.avatarLink}&${Date.now()}`;\n  }\n  shouldComponentUpdate(nextProps) {\n    return this.props.agent.avatarLink !== nextProps.agent.avatarLink ||\n           this.props.agent.name !== nextProps.agent.name ||\n           this.props.agent.ifDisableKickOff !== nextProps.agent.ifDisableKickOff ||\n           this.props.agent.ifDisableSetAway !== nextProps.agent.ifDisableSetAway;\n  }\n  render() {\n    return (\n      <div>\n        <div className={styles.avatar}>\n          <Avatar\n            avatarLink={this.avatarLink}\n          />\n          <span>{this.props.agent.name}</span>\n        </div>\n        <div\n          className={styles.toolbar}\n        >\n          <KickOff\n            onKickOff={() => this.props.onKickOff(this.props.agent)}\n            className={styles.commonbtn}\n            disabled={this.props.agent.ifDisableKickOff}\n          />\n          <Button\n            text=\"Set Away\"\n            type=\"default\"\n            disabled={this.props.agent.ifDisableSetAway}\n            onClick={() => this.props.onSetAway(this.props.agent)}\n            className={classnames(styles.commonbtn,\n                        this.props.agent.ifDisableSetAway && styles.disable)}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nChatHeader.propTypes = {\n  agent: PropTypes.shape({\n    avatarLink: PropTypes.string,\n    name: PropTypes.string,\n    ifDisableKickOff: PropTypes.bool,\n    ifDisableSetAway: PropTypes.bool,\n  }).isRequired,\n  onKickOff: PropTypes.func.isRequired,\n  onSetAway: PropTypes.func.isRequired,\n};\nChatHeader.examples = {\n  'Default Example': {\n    description: 'Agents Chat',\n    component:\n      <ChatHeader />\n        ,\n  },\n};\nexport default ChatHeader;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Agents/ChatHeader.jsx","import React from 'react';\nimport classnames from 'classnames';\nimport _ from 'lodash';\nimport styles from './agents.css';\nimport Icon from '../Icon/Icon';\nimport { icons } from '../../constants/enums';\nimport AgentList from './List';\n\nclass Department extends React.Component {\n  shouldComponentUpdate(nextProps) {\n    return nextProps.department.name !== this.props.department.name ||\n           nextProps.department.selected !== this.props.department.selected ||\n           nextProps.department.opened !== this.props.department.opened ||\n           !_.isEqual(this.props.department.agents, nextProps.department.agents);\n  }\n  render() {\n    return (\n      <div\n        className={classnames(styles.departmentsection,\n                  this.props.department.selected && styles.selectedDpt,\n                  this.props.department.opened && styles.opened)}\n      >\n        <div\n          className={styles.departmentitem}\n          onClick={(e) => {\n            e.stopPropagation();\n            this.props.onDepartmentClick(this.props.department);\n          }}\n        >\n          <div className={styles.icon}>\n            { this.props.department.agents.length > 0 &&\n              <Icon type={icons.arrowDown} className={styles.depSpread} />}\n          </div>\n          <div className={styles.description}>\n            <span>{this.props.department.name}</span>\n            <span className={styles.departmentNum}>{`(Online: ${this.props.department.onlineNum}, Away: ${this.props.department.awayNum})`}</span>\n          </div>\n        </div>\n        {\n          this.props.department.opened && (\n            <AgentList\n              agents={this.props.department.agents}\n              onItemClick={this.props.onItemClick}\n            />\n          )\n        }\n      </div>\n    );\n  }\n}\n\nDepartment.propTypes = {\n  department: React.PropTypes.shape({\n    name: React.PropTypes.string,\n    onlineNum: React.PropTypes.number,\n    awayNum: React.PropTypes.number,\n    selected: React.PropTypes.bool,\n    opened: React.PropTypes.bool,\n    agents: React.PropTypes.arrayOf(React.PropTypes.shape({\n      icon: React.PropTypes.shape({\n        type: React.PropTypes.string,\n        color: React.PropTypes.string,\n      }),\n      name: React.PropTypes.string,\n      unreadMessage: React.PropTypes.number,\n      selected: React.PropTypes.bool,\n    })),\n  }).isRequired,\n  onDepartmentClick: React.PropTypes.func.isRequired,\n  onItemClick: React.PropTypes.func.isRequired,\n};\nexport default Department;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Agents/Department.jsx","import _ from 'lodash';\nimport React from 'react';\nimport classnames from 'classnames';\nimport styles from './agents.css';\nimport Icon from '../Icon/Icon';\nimport { icons } from '../../constants/enums';\nimport PromptNumber from '../Icons/PromptNumber';\n\nclass Item extends React.Component {\n  shouldComponentUpdate(nextProps) {\n    return !_.isEqual(nextProps.agent, this.props.agent);\n  }\n  render() {\n    return (\n      <div\n        className={classnames(styles.agentitem, this.props.agent.selected && styles.selected)}\n        onClick={(e) => {\n          e.stopPropagation();\n          this.props.onItemClick(this.props.agent);\n        }}\n      >\n        <Icon\n          type={this.props.agent.icon.type}\n          color={this.props.agent.icon.color}\n          size={16}\n        />\n        <span className={styles.agentName}>\n          {this.props.agent.name}\n        </span>\n        <span className={styles.agentDescription}>\n          {this.props.agent.description}\n        </span>\n        <PromptNumber\n          number={this.props.agent.unreadMessage}\n          customClass={styles.unreadmessage}\n        />\n      </div>\n    );\n  }\n}\n\nItem.propTypes = {\n  agent: React.PropTypes.shape({\n    icon: React.PropTypes.shape({\n      type: React.PropTypes.string,\n      color: React.PropTypes.string,\n    }).isRequired,\n    name: React.PropTypes.string.isRequired,\n    description: React.PropTypes.string.isRequired,\n    unreadMessage: React.PropTypes.number.isRequired,\n    selected: React.PropTypes.bool.isRequired,\n  }),\n  onItemClick: React.PropTypes.func,\n};\nItem.examples = {\n  'Default Example': {\n    description: 'Agents Container',\n    component:\n      <div>\n        <Item\n          agent={{\n            icon: { type: icons.statusOnline, color: '#329fd9' },\n            name: 'Allon (1 chat(s))',\n            unreadMessage: 5,\n            selected: true,\n          }}\n        />\n        <Item\n          agent={{\n            icon: { type: icons.statusOnline, color: '#329fd9' },\n            name: 'Allon (1 chat(s))',\n            unreadMessage: 5,\n            selected: false,\n          }}\n        />\n      </div>\n        ,\n  },\n};\nexport default Item;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Agents/Item.jsx","import React from 'react';\nimport classnames from 'classnames';\nimport GrayButton from '../Button/Button';\nimport styles from './agents.css';\n\nimport ModelKickOff from '../Modal/KickOff/KickOff';\n\nclass KickOff extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      open: false,\n    };\n    this.openModal = this.openModal.bind(this);\n    this.closeModal = this.closeModal.bind(this);\n  }\n  closeModal() {\n    this.setState(\n      { open: false }\n    );\n  }\n  openModal() {\n    this.setState(\n      { open: true }\n    );\n  }\n  render() {\n    return (\n      <div className={this.props.className}>\n        <GrayButton\n          text=\"Kick Off\"\n          type=\"default\"\n          className={classnames(styles.btnAction, this.props.disabled && styles.disable)}\n          disabled={this.props.disabled}\n          onClick={() => this.openModal()}\n        />\n        {this.state.open && (\n          <ModelKickOff\n            onKickOff={this.props.onKickOff}\n            closeModal={this.closeModal}\n          />\n        )}\n      </div>\n    );\n  }\n}\nKickOff.propTypes = {\n  disabled: React.PropTypes.bool.isRequired,\n  className: React.PropTypes.string.isRequired,\n  onKickOff: React.PropTypes.func.isRequired,\n};\nexport default KickOff;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Agents/KickOff.jsx","import React, { PropTypes } from 'react';\nimport styles from './agents.css';\n\nconst NoAgents = props => (\n  <div className={styles.noDataSection}>\n    <div>\n      <h1>You are alone here :(</h1>\n      {'Need more hands? '}\n      <span\n        onClick={() => props.addMoreAgents(props.siteInfo)}\n      >\n        {'Add Agents Now.'}\n      </span>\n    </div>\n  </div>\n);\nNoAgents.propTypes = {\n  siteInfo: PropTypes.shape({}).isRequired,\n  addMoreAgents: PropTypes.func.isRequired,\n};\nexport default NoAgents;\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Agents/NoAgents.jsx","import React from 'react';\n// import classnames from 'classnames';\n\nimport Modal from '../Modal';\nimport modalStyle from '../Modal.css';\n\nclass KickOff extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleKickOff = this.handleKickOff.bind(this);\n  }\n  handleKickOff() {\n    this.props.onKickOff();\n    this.props.closeModal();\n  }\n  render() {\n    return (\n      <Modal\n        closeModal={this.props.closeModal}\n        title={'Comm100 Live Chat'}\n        actions={{\n          okProps: { text: 'Yes', eventClick: () => { this.handleKickOff(); } },\n          cancelProps: { text: 'No' },\n        }}\n      >\n        <span className={modalStyle.description}>\n          If you kick off this agent, his ongoing chats will be ended.<br />\n          Are you sure you want to continue?\n        </span>\n      </Modal>\n    );\n  }\n\n}\n\nKickOff.propTypes = {\n  onKickOff: React.PropTypes.func.isRequired,\n  closeModal: React.PropTypes.func.isRequired,\n};\n\nexport default KickOff;\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Modal/KickOff/KickOff.jsx","import { connect } from 'react-redux';\nimport _ from 'lodash';\nimport SendFile from '../../components/Icons/ChatAction/SendFile';\nimport * as selectors from '../../reducers/selectors';\nimport * as chatBusiness from '../Business/agentChat';\nimport { isImage } from '../../utils/seq';\nimport * as chatActions from '../../actions/agentChat';\nimport * as agentActions from '../../actions/agent';\nimport { formatAgentChatUploadUrl } from '../../utils/helper';\nimport { createGUID } from '../../utils/guid';\nimport { noSelectedForAgent } from '../../constants/enums';\n\nlet previousState = {};\nfunction getUploadUrl(uploadUrl, sessionId, siteId) {\n  return formatAgentChatUploadUrl(uploadUrl,\n                        sessionId,\n                        siteId,\n                        1,\n                        createGUID());\n}\nconst mapStateToProps = (state) => {\n  if (_.isNull(selectors.getSelectedIdForAgents(state)) ||\n      selectors.getSelectedIdForAgents(state) === noSelectedForAgent) {\n    return {\n      chatId: noSelectedForAgent,\n      ifDisplay: true,\n      disabled: true,\n      siteInfo: {},\n    };\n  }\n  const [isAgent, id] = chatBusiness.getAgentOrDepartmentId(state);\n  if (!chatBusiness.isActiveStatus(state, isAgent, id)) {\n    const newState = Object.assign({}, previousState);\n    newState.disabled = true;\n    return newState;\n  }\n  const uploadUrl = selectors.getFileUploadUrl(state);\n  const sessionId = selectors.getCurrentAgentSession(state);\n  const siteId = selectors.getSiteId(state);\n  const sendFileUploadUrl = getUploadUrl(uploadUrl, sessionId, siteId);\n\n  previousState = {\n    chatId: id,\n    ifDisplay: true,\n    disabled: !chatBusiness.ifChatIsAvalable(state, isAgent, id),\n    siteInfo: {\n      id,\n      isAgent,\n      sendFileUploadUrl,\n      sessionId,\n      siteId,\n      privateMessage: 1,\n      sendToIds: chatBusiness.getSendToIds(state, isAgent, id),\n      downloadUrl: selectors.getFileDownloadUrl(state),\n      maxFileSize: selectors.getAgentChatFileSize(state),\n    },\n  };\n  return previousState;\n};\n\nconst mapDispatchToProps = dispatch => ({\n  onSuccess(rsp, file, url, siteInfo) {\n    dispatch(chatActions.appendFile(chatBusiness.filterSendToIds(siteInfo.id,\n                                                                siteInfo.sendToIds,\n                                                                siteInfo.isAgent),\n                                    url, file.name, isImage(file.name)));\n    siteInfo.sendToIds.forEach((agentId) => {\n      dispatch(agentActions.sendFileToAgent(agentId, file.name, rsp.guid));\n    });\n  },\n  showErrorMessage(chatId, errorMsg) {\n    dispatch(chatActions.setErrorMessageForAgentChat(chatId, errorMsg));\n  },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SendFile);\n\n\n\n// WEBPACK FOOTER //\n// ./src/containers/AgentsTab/AgentChatAction.jsx","import { connect } from 'react-redux';\nimport Immutable from 'immutable';\nimport _ from 'lodash';\nimport ChatContent from '../../components/ChatSection/ChatContent/ChatContent';\nimport * as actions from '../../actions/agentChat';\nimport { mapToChatContentState } from '../Business/agentChat';\nimport * as selectors from '../../reducers/selectors';\nimport { noSelectedForAgent } from '../../constants/enums';\nimport * as fontSize from '../../constants/enums/fontSize';\n\nconst mapStateToProps = (state) => {\n  if (_.isNull(selectors.getSelectedIdForAgents(state)) ||\n    selectors.getSelectedIdForAgents(state) === noSelectedForAgent) {\n    return {\n      id: noSelectedForAgent,\n      selectedFontSize: fontSize.middle,\n      chatTo: '',\n      typingMessage: '',\n      scrollTop: -1,\n      messages: Immutable.List(),\n      textDirectionIfRTL: selectors.textDirectionIfRTL(state),\n      errorMessageForChat: '',\n    };\n  }\n  return mapToChatContentState(state);\n};\n\nconst mergeProps = (stateProps, dispatchProps) => {\n  const { dispatch } = dispatchProps;\n\n  const dispatchObject = {\n    onScroll(id, scrollTop) {\n      dispatch(actions.updateScrollTop(id, scrollTop));\n    },\n    hideErrorMessage() {\n      dispatch(actions.setErrorMessageForAgentChat(stateProps.id, ''));\n    },\n  };\n  return {\n    ...stateProps,\n    ...dispatchObject,\n  };\n};\n\nexport default connect(mapStateToProps, null, mergeProps)(ChatContent);\n\n\n\n// WEBPACK FOOTER //\n// ./src/containers/AgentsTab/AgentChatContent.jsx","import { connect } from 'react-redux';\nimport _ from 'lodash';\nimport ChatHeader from '../../components/Agents/ChatHeader';\nimport { mapToChatHeader } from '../Business/agentChat';\nimport { setAnotherAgentStatus, logout, initCurrentAgent } from '../../actions/agent';\nimport { agentStatus, noSelectedForAgent } from '../../constants/enums';\nimport { updateAgent } from '../../actions/agents';\nimport * as selectors from '../../reducers/selectors';\n\nconst mapStateToProps = (state) => {\n  if (_.isNull(selectors.getSelectedIdForAgents(state)) ||\n      selectors.getSelectedIdForAgents(state) === noSelectedForAgent) {\n    return {\n      agent: {\n        id: noSelectedForAgent,\n        ifCurrentAgent: false,\n        avatarLink: '',\n        name: '',\n        ifDisableKickOff: true,\n        ifDisableSetAway: true,\n      },\n    };\n  }\n  return mapToChatHeader(state);\n};\n\nconst mapDispatchToProps = dispatch => ({\n  // bug: 18832\n  onKickOff(agent) {\n    if (agent.ifCurrentAgent) {\n      dispatch(logout());\n      return;\n    }\n    dispatch(setAnotherAgentStatus(agent.id, agentStatus.offline));\n    dispatch(updateAgent(agent.id, true));\n  },\n  onSetAway(agent) {\n    dispatch(setAnotherAgentStatus(agent.id, agentStatus.away));\n    if (agent.ifCurrentAgent) {\n      dispatch(initCurrentAgent({ status: agentStatus.away }));\n    }\n  },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ChatHeader);\n\n\n\n// WEBPACK FOOTER //\n// ./src/containers/AgentsTab/AgentChatHeader.jsx","import { connect } from 'react-redux';\nimport Agents from '../../components/Agents/AgentsLeft';\nimport mapToProps, { updateCheckUnreadMsgFlag } from '../Business/agents';\nimport { updateAgent,\n  updateDepartment } from '../../actions/agents';\n\nconst mapStateToProps = state => mapToProps(state);\n\nconst mapDispatchToProps = dispatch => ({\n  onDepartmentClick(info) {\n    updateCheckUnreadMsgFlag(false);\n    dispatch(updateDepartment(info.id));\n  },\n  onItemClick(info) {\n    dispatch(updateAgent(info.id));\n  },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Agents);\n\n\n\n// WEBPACK FOOTER //\n// ./src/containers/AgentsTab/Agents.jsx","import { connect } from 'react-redux';\nimport NoAgents from '../../components/Agents/NoAgents';\nimport * as common from '../Business/common';\n\nconst mapStateToProps = (state) => {\n  const { isWeb,\n        loginUrl,\n        autoLoginUrl,\n        addAgentsUrl } = common.getAgentUrls(state);\n  return {\n    siteInfo: {\n      isWeb,\n      loginUrl,\n      autoLoginUrl,\n      addAgentsUrl,\n    },\n  };\n};\n\nconst mapDispatchToProps = () => ({\n  addMoreAgents(siteInfo) {\n    common.gotoAgentsList(siteInfo);\n  },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NoAgents);\n\n\n\n// WEBPACK FOOTER //\n// ./src/containers/AgentsTab/NoAgents.jsx","import React from 'react';\nimport LazilyLoad, { importLazy } from 'src/components/LazilyLoad/LazilyLoad';\nimport loadingComponent from 'src/components/Icons/LoadingComponent';\n\nexport default () => (\n  <LazilyLoad\n    modules={{ AgentChatTextEditor: () => importLazy(new Promise((resolve, reject) => {\n      require.ensure(['./AgentsTab/AgentChatTextEditor'], (require) => {\n        resolve(require('./AgentsTab/AgentChatTextEditor'));\n      }, 'editor').catch(reject);\n    })) }}\n    loading={loadingComponent}\n  >\n    {\n      ({ AgentChatTextEditor }) => (\n        <AgentChatTextEditor />\n      )\n    }\n  </LazilyLoad>\n);\n\n\n\n// WEBPACK FOOTER //\n// ./src/containers/SplitterAgentChatTextEditor.jsx","import React from 'react';\nimport classnames from 'classnames';\nimport CommonStyle from '../components/CommonResources/common.css';\nimport ResizeContainer from '../components/Resizer/ResizeContainer';\nimport Agents from './AgentsTab/Agents';\nimport AgentChatHeader from './AgentsTab/AgentChatHeader';\nimport AgentChatTextEditor from './SplitterAgentChatTextEditor';\nimport AgentChatContent from './AgentsTab/AgentChatContent';\nimport AgentChatAction from './AgentsTab/AgentChatAction';\nimport agentsTabStyle from '../components/Agents/agents.css';\nimport NoAgents from './AgentsTab/NoAgents';\n\nclass SplitterAgentChat extends React.Component {\n  shouldComponentUpdate(nextProps) {\n    return nextProps.agentNumber !== this.props.agentNumber ||\n           nextProps.selectedAgentChatId !== this.props.selectedAgentChatId ||\n           nextProps.agentsWidth !== this.props.agentsWidth;\n  }\n  render() {\n    const {\n      agentsWidth,\n      agentNumber,\n      onAgentsStopResize,\n    } = this.props;\n    return (\n      <div className={CommonStyle.layoutContent} id=\"agents\">\n        {\n        agentNumber > 1 ?\n        (<ResizeContainer\n          resizerPosition=\"left\"\n          width={agentsWidth}\n          left_minWidth={190}\n          left_maxWidth={350}\n          right_minWidth={360}\n          onStopResize={onAgentsStopResize}\n        >\n          <Agents />\n          <div>\n            <div className={classnames(agentsTabStyle.headerSection, CommonStyle.clearfix)}>\n              <AgentChatHeader />\n            </div>\n            <div className={agentsTabStyle.chatWindowContainer}>\n\n              <AgentChatContent />\n\n              <div className={agentsTabStyle.toolbarSection}>\n                <ul>\n                  <AgentChatAction />\n                </ul>\n              </div>\n              <div\n                style={{\n                  position: 'absolute',\n                  width: '100%',\n                  height: 175,\n                  bottom: 0,\n                  minHeight: 40,\n                }}\n              >\n                <AgentChatTextEditor />\n              </div>\n            </div>\n          </div>\n        </ResizeContainer>) :\n        (<NoAgents />)\n      }\n      </div>\n    );\n  }\n}\n\nSplitterAgentChat.propTypes = {\n  agentNumber: React.PropTypes.number.isRequired,\n  selectedAgentChatId: React.PropTypes.oneOfType([\n    React.PropTypes.number,\n    React.PropTypes.string,\n  ]),\n  agentsWidth: React.PropTypes.number.isRequired,\n  onAgentsStopResize: React.PropTypes.func.isRequired,\n};\n\n\nexport default SplitterAgentChat;\n\n\n\n// WEBPACK FOOTER //\n// ./src/containers/SplitterAgentChat.jsx","// removed by extract-text-webpack-plugin\nmodule.exports = {\"agentsSection\":\"agents__agentsSection--1KkTb\",\"agentitem\":\"agents__agentitem--SS3Ah\",\"selected\":\"agents__selected--sUXrP\",\"unreadmessage\":\"agents__unreadmessage--2cbvf\",\"description\":\"agents__description--37w0c\",\"departmentsection\":\"agents__departmentsection--UCbdl\",\"departmentitem\":\"agents__departmentitem--tAErL\",\"selectedDpt\":\"agents__selectedDpt--3IyOf\",\"agentName\":\"agents__agentName--2BEiY\",\"listsection\":\"agents__listsection--7IpN9\",\"opened\":\"agents__opened--3Kpp0\",\"depSpread\":\"agents__depSpread--ZQjQ7\",\"icon\":\"agents__icon--2EXnq\",\"departmentNum\":\"agents__departmentNum--22zw1\",\"agentDescription\":\"agents__agentDescription--aVF_w\",\"chatContainer\":\"agents__chatContainer--1PjMq\",\"headerSection\":\"agents__headerSection--1lCQD\",\"messagesSection\":\"agents__messagesSection--37nkw\",\"toolbarSection\":\"agents__toolbarSection--k6wTG\",\"inputSection\":\"agents__inputSection--3Hrwt\",\"avatar\":\"agents__avatar--ulse_\",\"toolbar\":\"agents__toolbar--3991m\",\"commonbtn\":\"agents__commonbtn--2Seh-\",\"disable\":\"agents__disable--22B9f\",\"noDataSection\":\"agents__noDataSection--gf-of\",\"chatWindowContainer\":\"agents__chatWindowContainer--2RFOV\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Agents/agents.css\n// module id = 890\n// module chunks = 2","// removed by extract-text-webpack-plugin\nmodule.exports = {\"chatContainer\":\"ChatContent__chatContainer--1oxtQ\",\"chatContentContainer\":\"ChatContent__chatContentContainer--3fAaw\",\"chatVideoContainer\":\"ChatContent__chatVideoContainer--2Q872\",\"chatVideoItem\":\"ChatContent__chatVideoItem--C1bJl\",\"chatContent\":\"ChatContent__chatContent--3lHVq\",\"directionRTL\":\"ChatContent__directionRTL--y-RND\",\"systemMeg\":\"ChatContent__systemMeg--1akET\",\"chatMeg\":\"ChatContent__chatMeg--1xqJM\",\"translationMsg\":\"ChatContent__translationMsg--34tcn\",\"attachment\":\"ChatContent__attachment--1ONEF\",\"chatContentInfo\":\"ChatContent__chatContentInfo--17_KL\",\"name\":\"ChatContent__name--2_SRW\",\"time\":\"ChatContent__time--3BqgY\",\"operator\":\"ChatContent__operator--13jwF\",\"visitor\":\"ChatContent__visitor--1vjfa\",\"secureForm\":\"ChatContent__secureForm--LAEtE\",\"typingIndicator\":\"ChatContent__typingIndicator--Njccd\",\"chatContentsmall\":\"ChatContent__chatContentsmall--2nRGa\",\"chatContentmiddle\":\"ChatContent__chatContentmiddle--1j4wB\",\"chatContentlarge\":\"ChatContent__chatContentlarge--u101R\",\"notify\":\"ChatContent__notify--3IFoV\",\"notifyG2M\":\"ChatContent__notifyG2M--2Kneq\",\"notifyName\":\"ChatContent__notifyName--2eGs0\",\"error\":\"ChatContent__error--31HZ8\",\"errorContent\":\"ChatContent__errorContent--1sK1Q\",\"action\":\"ChatContent__action--3JAej\",\"avatarContainer\":\"ChatContent__avatarContainer--1iP34\",\"visitorName\":\"ChatContent__visitorName--XjBhL\",\"notice\":\"ChatContent__notice--1NI9M\",\"incoming\":\"ChatContent__incoming--2VMSc\",\"accept\":\"ChatContent__accept--2nUzs\",\"refuse\":\"ChatContent__refuse--1fghu\",\"chattingInfo\":\"ChatContent__chattingInfo--3Z8YS\",\"videoContainer\":\"ChatContent__videoContainer--3rse-\",\"localVideo\":\"ChatContent__localVideo--3H6-Z\",\"remoteVideo\":\"ChatContent__remoteVideo--ZJRKg\",\"videoChatting\":\"ChatContent__videoChatting--3JKjR\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ChatSection/ChatContent/ChatContent.css\n// module id = 892\n// module chunks = 1 2","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAMAAAAOusbgAAAAPFBMVEW0tLSxsbGjoqKsrKy/v7+op6fS0tL4+Pj8/Pzz8/Po6Oi7urvY19fu7u7////ExMTLy8u3t7fc3Nzh4eFYEd3tAAACPElEQVR4XuzNRxEAIBAEQX57gYx/r7igeEwb6PIJAAAAYI16mqybPPbMV+0t1lyXZAVhIGyiyEWIoO//rufPqUptzc4gs0n4XqAr0B0DWFOgH5S8GRSbPf1COpV1d09vSJpVn4XeE7Kabg70kaJjs3ZTD39q6BbqE6q1Livb6jJBeLVveooXddhOzylNTncLNMAlJ1yIsdzmncYoUo72NIhQpjKNEmWEPQ0jssuVxkkSwom+QKCLHPQNu22WmAK2K82AkKftfb3Rd2TbMDEJTNsW41edCaCPszU1s84SBp0ZoM8Ck4Xtl3qW8Aqz4gSTGgjCpJaJkz4SFy5/JNBXnG7WIMDCpu6KuM6ZBDKb2rZpNpwzZhZcLc9sTEWYcmjzzi0CHH684HXKwTw6XGSINMTGBZtm+Uacct0UHYKYMCR6SmjoFjmg0ENOxEUSiE+ThLBYKrPuusgCa6Ee4WRdOcBdPT831hXFnZ4+cDnWla75Q9HlQPaVOIDtvas6+VW69tqwe3TQGfBrZ3fVpoKrV6/WmF20Kw4CVw+yZ7hqu9JM0S/YvuSN67V8uj5u6hDuQ0H2CtQn5KbzS0Ifvyv9ktAnirmsRhqjnOaybHC1HzD6BlcJrq7Bt5v+hN9lg6tr8CYgywYX6Be6Bt89CRKuQye4fXxuAsHVMfiZSIlYR4Or6TIOri6/t9HasbLaVicyoAi8jEs97jYyAV6DRCa82msnE+pLyReZkMHU1ExaO6Y2tLVDE9yLMBrxX+4fqbwdFs0D+1MAAAAASUVORK5CYII=\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Icons/images/visitor.png\n// module id = 897\n// module chunks = 1 2","import React from 'react';\nimport * as visitorIdentityType from '../../constants/enums/visitorType';\n\nconst Avatar = (props) => {\n  const identityType = props.identityType;\n  let avatarLink= require('./images/visitor.png'); // eslint-disable-line\n  let tooltip = 'Visitor';\n  if (props.isContactOrUserOpen) {\n    switch (identityType) {\n      case visitorIdentityType.visitorIdentityTypeUser: {\n        avatarLink= require('./images/user.png'); // eslint-disable-line\n        tooltip = 'User';\n        break;\n      }\n      case visitorIdentityType.visitorIdentityTypeContact: {\n        avatarLink= require('./images/contact.png'); // eslint-disable-line\n        tooltip = 'Contact';\n        break;\n      }\n      case visitorIdentityType.visitorIdentityTypeVisitor: {\n        avatarLink= require('./images/visitor.png'); // eslint-disable-line\n        tooltip = 'Visitor';\n        break;\n      }\n      default: {\n        avatarLink= require('./images/visitor.png'); // eslint-disable-line\n        tooltip = '';\n        break;\n      }\n    }\n  }\n  return (\n    <img\n      data-tip={tooltip} data-for=\"chatContainer\"\n      src={props.avatarLink\n      ? props.avatarLink :\n      avatarLink}\n      alt=\"\"\n    />\n  );\n};\n\nexport default Avatar;\n\nAvatar.propTypes = {\n  avatarLink: React.PropTypes.string,\n  identityType: React.PropTypes.number,\n  isContactOrUserOpen: React.PropTypes.bool,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Icons/Avatar.jsx","import Immutable from 'immutable';\nimport _ from 'lodash';\nimport * as fontSize from '../../constants/enums/fontSize';\nimport * as selector from '../../reducers/selectors';\nimport * as messageType from '../../constants/enums/messageType';\nimport { agentStatus, allAvailableId } from '../../constants/enums';\nimport * as permissionType from '../../constants/enums/liveChatPermission';\n\nconst previousState = {};\nfunction getMessages(state, chat) {\n  const currentAgent = selector.getCurrentAgent(state);\n  return chat.get('messages').map(msgs =>\n     msgs.map((msg, i) => {\n       const newMessage = Object.assign({}, msg, {\n         id: `${msg.agentId}_${i}`,\n         type: msg.agentId === currentAgent.id ? messageType.agent : messageType.visitor,\n         sender: selector.getAgentById(state, msg.agentId).name,\n       });\n       return newMessage;\n     })\n  );\n}\n\nfunction generateContentObject(state, obj, agentOrDpt, isAgent = true) {\n  if (_.isUndefined(agentOrDpt)) {\n    return previousState.content;\n  }\n  const key = isAgent ? agentOrDpt.id : -agentOrDpt.id;\n  previousState.content = Object.assign({}, obj);\n  if (_.isPlainObject(agentOrDpt)) {\n    previousState.content.id = key;\n    previousState.content.chatTo = agentOrDpt.name;\n    const chat = selector.getAgentChat(state, key);\n    if (chat) {\n      previousState.content.messages = getMessages(state, chat);\n      previousState.content.scrollTop = chat.get('scrollTop');\n      previousState.content.errorMessageForChat = chat.get('errorMessageForChat');\n    }\n  }\n  return previousState.content;\n}\n\nexport function mapToChatContentState(state) {\n  const contentState = {\n    id: -1,\n    selectedFontSize: fontSize.middle,\n    chatTo: '',\n    typingMessage: '',\n    scrollTop: -1,\n    messages: Immutable.List(),\n    textDirectionIfRTL: selector.textDirectionIfRTL(state),\n    errorMessageForChat: '',\n  };\n  const selectedInfo = selector.getSelectedIdForAgents(state).toString().split('_');\n  if (selectedInfo.length > 1) {\n    /* agentId */\n    const selectedAgent = selector.getAgentById(state, _.parseInt(selectedInfo[1]));\n    return generateContentObject(state, contentState, selectedAgent);\n  } else if (selectedInfo[0] !== '0') {\n    const selectedDpt = selector.getDepartmentById(state, Math.abs(selectedInfo[0]));\n    return generateContentObject(state, contentState, selectedDpt, false);\n  }\n  /* all Available */\n  return generateContentObject(state, contentState, {\n    id: allAvailableId,\n    name: 'All Available',\n  }, false);\n}\n\nfunction getAgentAvatarUrl(state, agentId) {\n  return `${selector.getAdminAgentAvatarUrl(state)}?siteId=${selector.getSiteId(state)}&operatorId=${agentId}`;\n}\n\nexport function mapToChatHeader(state) {\n  const strId = selector.getSelectedIdForAgents(state).toString();\n  const ids = strId.split('_');\n  const agentOrDepartment = (ids.length > 1 ?\n    selector.getAgentById(state, _.parseInt(ids[1])) :\n    selector.getDepartmentById(state, Math.abs(ids[0])));\n  if (!_.isUndefined(previousState.header) &&\n      _.isUndefined(agentOrDepartment) &&\n      (ids.length !== 1 || Math.abs(ids[0]) !== allAvailableId)) {\n    const newState = { agent: Object.assign({}, previousState.header.agent) };\n    newState.agent.ifDisableKickOff = true;\n    newState.agent.ifDisableSetAway = true;\n    return newState;\n  }\n  const intId = _.parseInt(ids.length > 1 ? ids[1] : ids[0]);\n  previousState.header = {\n    agent: {\n      id: intId,\n      ifCurrentAgent: intId === selector.getCurrentAgentId(state),\n      avatarLink: ids.length > 1 ? getAgentAvatarUrl(state, ids[1]) : '',\n      name: _.isUndefined(agentOrDepartment) ? 'All Available' : agentOrDepartment.name,\n      ifDisableKickOff: (\n        !selector.getPermission(state, permissionType.logOff) ||\n        ids.length === 1 ||\n        (ids.length > 1 && selector.getAgentById(state, intId).status === agentStatus.offline)),\n      ifDisableSetAway: (\n        !selector.getPermission(state, permissionType.setAway) ||\n        ids.length === 1 ||\n        (ids.length > 1 && selector.getAgentById(state, intId).status !== agentStatus.online)),\n    },\n  };\n  return previousState.header;\n}\n\n/* chat text editor */\nexport const getAgentOrDepartmentId = (state) => {\n  const selectedInfo = selector.getSelectedIdForAgents(state).toString().split('_');\n  if (selectedInfo.length > 1) {\n    return [true, _.parseInt(selectedInfo[1])];\n  }\n  return [false, _.parseInt(selectedInfo[0])];\n};\n\nexport const ifChatIsAvalable = (state, isAgent, id) => {\n  if (isAgent) {\n    if (!selector.getPermission(state, permissionType.chatWithOtherAgents)) return false;\n    const agent = selector.getAgentById(state, id);\n    if (agent && id !== selector.getCurrentAgentId(state)) {\n      return agent.status !== agentStatus.offline;\n    }\n    return false;\n  }\n  return true;\n};\n\n/* get sendToIds */\nexport const getSendToIds = (state, isAgent, id) => {\n  if (isAgent) return [id];\n  const currentAgentId = selector.getCurrentAgentId(state);\n  const ids = [];\n  if (id === allAvailableId) {\n    _.each(selector.getAgents(state), (agent) => {\n      if (currentAgentId !== agent.id && agent.status !== agentStatus.offline) {\n        ids.push(agent.id);\n      }\n    });\n    return ids;\n  }\n  const department = selector.getDepartmentById(state, id);\n  if (!department) return [];\n  _.each(department.agentIds, (agentId) => {\n    const temp = selector.getAgentById(state, agentId);\n    if (!temp) return;\n    if (currentAgentId !== temp.id && temp.status !== agentStatus.offline) {\n      ids.push(agentId);\n    }\n  });\n  return ids;\n};\n\nexport const filterSendToIds = (chatId, ids, isAgent) => {\n  if (!isAgent) {\n    return ids.concat(chatId);\n  }\n  return ids;\n};\n\nexport const isActiveStatus = (state, isAgent, id) => {\n  const currId = Math.abs(id);\n  const obj = (isAgent ?\n    selector.getAgentById(state, currId) :\n    selector.getDepartmentById(state, currId));\n  if (_.isUndefined(obj) && currId === allAvailableId) return true;\n  return !_.isUndefined(obj);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/containers/Business/agentChat.js","/**\n * Checks if `value` is `null`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `null`, else `false`.\n * @example\n *\n * _.isNull(null);\n * // => true\n *\n * _.isNull(void 0);\n * // => false\n */\nfunction isNull(value) {\n  return value === null;\n}\n\nmodule.exports = isNull;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/isNull.js\n// module id = 919\n// module chunks = 2 5","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = uid;\nvar now = +new Date();\nvar index = 0;\n\nfunction uid() {\n  return \"rc-upload-\" + now + \"-\" + ++index;\n}\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rc-upload/lib/uid.js\n// module id = 923\n// module chunks = 1 2","import * as types from '../constants/types/agentChat';\n\nexport const updateContent = (id, editorState) => ({\n  type: types.updateContent,\n  payload: editorState,\n  meta: id,\n});\nexport const appendOwnMessage = (appendIds, line) => ({\n  type: types.appendOwnMessage,\n  payload: line,\n  meta: appendIds,\n});\nexport const updateScrollTop = (id, scrollTop) => ({\n  type: types.updateScrollTop,\n  payload: scrollTop,\n  meta: id,\n});\nexport const appendFile = (appendIds, url, fileName, isImage) => ({\n  type: types.appendFile,\n  payload: { fileName, url, isImage },\n  meta: appendIds,\n});\nexport const setErrorMessageForAgentChat = (id, errorMsg) => ({\n  type: types.setErrorMessageForAgentChat,\n  payload: errorMsg,\n  meta: id,\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/actions/agentChat.js","import React from 'react';\nimport moment from 'moment';\nimport Button from 'src/components/Button/Button';\nimport classnames from 'classnames';\nimport Icon from '../../Icon/Icon';\nimport style from './ChatContent.css';\nimport { icons } from '../../../constants/enums';\nimport * as audioVideoChatStatus from '../../../constants/enums/visitorAudioVideoChatStatus';\nimport Avatar from '../../Icons/Avatar';\nimport { getP2PChat } from '../../../services/p2pChat';\n\nconst statusText = (status) => {\n  switch (status) {\n    case audioVideoChatStatus.visitorRequestAudioChat:\n      return 'Audio Chat';\n    case audioVideoChatStatus.agentRequestAudioChat:\n      return 'Audio Chat...';\n    case audioVideoChatStatus.visitorRequestVideoChat:\n      return 'Video Chat';\n    case audioVideoChatStatus.agentRequestVideoChat:\n      return 'Video Chat...';\n    case audioVideoChatStatus.audioChatting:\n      return 'Audio Chat';\n    default:\n      return '';\n  }\n};\n\nconst showAcceptButton = status =>\n  status === audioVideoChatStatus.visitorRequestAudioChat\n  || status === audioVideoChatStatus.visitorRequestVideoChat;\n\nconst showRefuseButton = status =>\n  status === audioVideoChatStatus.visitorRequestAudioChat\n  || status === audioVideoChatStatus.visitorRequestVideoChat\n  || status === audioVideoChatStatus.agentRequestAudioChat\n  || status === audioVideoChatStatus.agentRequestVideoChat\n  || status === audioVideoChatStatus.audioChatting\n  || status === audioVideoChatStatus.videoChatting;\n\nconst isVideoChatting = status => status === audioVideoChatStatus.videoChatting;\nconst isAudioChatting = status => status === audioVideoChatStatus.audioChatting;\nconst isChatting = status => status === audioVideoChatStatus.audioChatting\n  || status === audioVideoChatStatus.videoChatting;\nconst audioVideoIcon = (status) => {\n  if (status === audioVideoChatStatus.audioChatting\n    || status === audioVideoChatStatus.agentRequestAudioChat\n    || status === audioVideoChatStatus.visitorRequestAudioChat) {\n    return icons.requestAudioChat;\n  }\n  return icons.requestVideoChat;\n};\n\nconst diffTime = (a, b) => {\n  const a1 = a.getTime();\n  const b1 = b.getTime();\n  if (a1 < b1) {\n    return '';\n  }\n\n  const d = a1 - b1;\n  return moment.utc(d).format(d < 3600 * 1000 ? 'mm:ss' : 'HH:mm:ss');\n};\n\nclass AudioVideoChatContent extends React.Component {\n  constructor(props) {\n    super(props);\n    if (isChatting(props.audioVideoChatStatus)) {\n      this.state = { timespan: diffTime(new Date(), props.audioVideoChatStartTime) };\n    } else {\n      this.state = { timespan: '' };\n    }\n  }\n\n  componentWillMount() {\n    this.startClock();\n  }\n\n  componentDidMount() {\n    this.insertVideoObject(this.props);\n  }\n\n  componentDidUpdate() {\n    this.insertVideoObject(this.props);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.clock);\n  }\n\n  insertVideoObject(props) {\n    const p2pChat = getP2PChat();\n    if (p2pChat != null\n      && isVideoChatting(props.audioVideoChatStatus)\n      && this.videoContainer) {\n      const localVideo = p2pChat.getLocalVideo();\n      if (localVideo) {\n        localVideo.className = style.localVideo;\n        if (document.getElementById('localVideo') == null) {\n          localVideo.id = 'localVideo';\n          this.videoContainer.appendChild(localVideo);\n        }\n        localVideo.play();\n      }\n\n      const remoteVideo = p2pChat.getRemoteVideo();\n      if (remoteVideo) {\n        remoteVideo.className = style.remoteVideo;\n        if (document.getElementById('remoteVideo') == null) {\n          remoteVideo.id = 'remoteVideo';\n          this.videoContainer.appendChild(remoteVideo);\n        }\n        remoteVideo.play();\n      }\n    }\n  }\n\n  startClock() {\n    this.clock = setInterval(\n      () => this.setState({\n        timespan: diffTime(\n          new Date(),\n          this.props.audioVideoChatStartTime\n        ),\n      }),\n      1000\n    );\n  }\n\n  render() {\n    const props = this.props;\n    const videoChatting = isVideoChatting(props.audioVideoChatStatus);\n    const audioChatting = isAudioChatting(props.audioVideoChatStatus);\n    // console.log('AudioVideoChatContent:', props);\n    // console.log('videoChatting:', videoChatting);\n    // console.log('statusText', statusText(props.audioVideoChatStatus));\n    // console.log('icon:', audioVideoIcon(props.audioVideoChatStatus));\n    // console.log('showAcceptButton:', showAcceptButton(props.audioVideoChatStatus));\n    // console.log('showRefuseButton:', showRefuseButton(props.audioVideoChatStatus));\n    const timespan = this.state.timespan;\n    const incoming = showAcceptButton(props.audioVideoChatStatus);\n    // console.log('p2pChat:', p2pChat);\n    return (<div\n      className={\n        classnames(\n          style.chatVideoContainer, videoChatting && style.videoChatting\n        )\n      }\n    >\n      {\n        videoChatting &&\n        <div\n          className={style.videoContainer}\n          ref={(element) => { this.videoContainer = element; }}\n        />\n      }\n      <div className={style.chatVideoItem}>\n        {\n          videoChatting &&\n          <div className={style.chattingInfo}>\n            <div className={style.time}>{timespan.toString()}</div>\n          </div>\n        }\n        {\n          !videoChatting &&\n          <div className={style.avatarContainer}>\n            <Avatar\n              isContactOrUserOpen={props.isContactOrUserOpen}\n              avatarLink={props.avatarLink}\n              identityType={props.identityType}\n            />\n          </div>\n        }\n        {!videoChatting &&\n          <div className={style.visitorName}>{props.chatTo}</div>\n        }\n        {\n          !videoChatting &&\n          <div className={style.notice}>\n            <Icon type={audioVideoIcon(props.audioVideoChatStatus)} />\n            {`${statusText(props.audioVideoChatStatus)}`}\n            {audioChatting ? ` ${timespan}` : ''}\n          </div>\n        }\n        <div className={classnames(style.action, incoming ? style.incoming : null)}>\n          {\n            incoming &&\n            <Button className={style.accept} onClick={props.onAcceptClick} type=\"noborder\">\n              <Icon type={icons.acceptChat} />\n            </Button>\n          }\n          {\n            showRefuseButton(props.audioVideoChatStatus) &&\n            <Button\n              className={style.refuse}\n              type=\"noborder\"\n              onClick={props.onRefuseClick}\n            >\n              <Icon type={icons.refuseChat} />\n            </Button>\n          }\n        </div>\n      </div>\n    </div >);\n  }\n}\n\nexport default AudioVideoChatContent;\n\nAudioVideoChatContent.propTypes = {\n  avatarLink: React.PropTypes.string,\n  chatTo: React.PropTypes.string,\n  identityType: React.PropTypes.number,\n  isContactOrUserOpen: React.PropTypes.bool,\n  onAcceptClick: React.PropTypes.func,\n  onRefuseClick: React.PropTypes.func,\n  /* eslint-disable react/forbid-prop-types */\n  audioVideoChatStartTime: React.PropTypes.any,\n  audioVideoChatStatus:\n  React.PropTypes.oneOf(Object.keys(audioVideoChatStatus).map(k => audioVideoChatStatus[k])),\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ChatSection/ChatContent/AudioVideoChatContent.jsx","import React from 'react';\nimport _ from 'lodash';\nimport classnames from 'classnames';\nimport Immutable from 'immutable';\nimport * as fontSize from 'src/constants/enums/fontSize';\nimport Button from 'src/components/Button/Button';\nimport style from './ChatContent.css';\nimport Link from '../../Link/Link';\nimport ChatContentMsg from './ChatContentMsg';\nimport { icons } from '../../../constants/enums';\nimport Icon from '../../Icon/Icon';\nimport AudioVideoChatContent from './AudioVideoChatContent';\nimport * as audioVideoChatStatus from '../../../constants/enums/visitorAudioVideoChatStatus';\n\nimport ResizeContainer from '../../Resizer/ResizeContainer';\n\nconst getFontSizeClass = type => ({\n  [fontSize.small]: style.chatContentsmall,\n  [fontSize.middle]: style.chatContentmiddle,\n  [fontSize.large]: style.chatContentlarge,\n})[type];\n\nconst getVisitorForNotify = (messages) => {\n  if (!_.isArray(messages.last()) || messages.last().length === 0) return '';\n  return messages.last()[0].sender;\n};\nconst getMessageForNotify = (messages) => {\n  if (!_.isArray(messages.last()) || messages.last().length === 0) return '';\n  return messages.last()[messages.last().length - 1].message ||\n    messages.last()[messages.last().length - 1].fileName;\n};\n\nclass ChatContent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      // ifShowNotify: props.ifShowNotify,\n      ifShowGotoMeetingNotify: false,\n    };\n    this.update = this.update.bind(this);\n    this.selectChatMessage = this.selectChatMessage.bind(this);\n    this.closeGotoMeetingNotify = this.closeGotoMeetingNotify.bind(this);\n    this.scrollBottom = this.scrollBottom.bind(this);\n    this.getScrollHeight = this.getScrollHeight.bind(this);\n    this.canShowNotify = false;\n    this.scrollTop = props.scrollTop;\n    this.timer = null;\n    this.ifScrollBottom = false;\n    this.notifyVisitor = getVisitorForNotify(props.messages);\n    this.notifyMessage = getMessageForNotify(props.messages);\n  }\n  componentDidMount() {\n    this.parent.scrollTop = this.getScrollHeight();\n    this.parent.addEventListener('scroll', this.update, false);\n    document.body.addEventListener('keydown', this.selectChatMessage, false);\n    // document.onkeydown = (e) => {\n\n    // };\n  }\n  componentWillReceiveProps(nextProps) {\n    const propsMessage = nextProps.messages;\n    this.notifyVisitor = getVisitorForNotify(propsMessage);\n    this.notifyMessage = getMessageForNotify(propsMessage);\n    if (this.props.g2mStartUrl !== nextProps.g2mStartUrl && !this.state.ifShowGotoMeetingNotify) {\n      this.setState({\n        ifShowGotoMeetingNotify: true,\n      });\n    }\n    this.scrollTop = nextProps.scrollTop;\n  }\n  shouldComponentUpdate(nextProps, nextState) {\n    return nextProps.id !== this.props.id\n      || nextProps.selectedFontSize !== this.props.selectedFontSize\n      || nextProps.typingMessage !== this.props.typingMessage\n      || nextProps.textDirectionIfRTL !== this.props.textDirectionIfRTL\n      || nextProps.errorMessageForChat !== this.props.errorMessageForChat\n      || nextProps.g2mStartUrl !== this.props.g2mStartUrl\n      || nextProps.ifShowNotify !== this.props.ifShowNotify\n      || nextProps.audioVideoChatWidth !== this.props.audioVideoChatWidth\n      || nextProps.audioVideoChatStatus !== this.props.audioVideoChatStatus\n      || (\n        (nextProps.audioVideoChatStartTime && nextProps.audioVideoChatStartTime.getTime())\n        !== (this.props.audioVideoChatStartTime && this.props.audioVideoChatStartTime.getTime())\n      )\n      || nextState.ifShowGotoMeetingNotify !== this.state.ifShowGotoMeetingNotify\n      || !_.isEqual(this.props.messages.toJS(), nextProps.messages.toJS());\n  }\n\n  componentDidUpdate(prevProps) {\n    const propsMessage = this.props.messages;\n    if (propsMessage !== prevProps.messages ||\n      this.props.typingMessage !== prevProps.typingMessage) {\n      this.parent.scrollTop = this.getScrollHeight();\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.timer) {\n      clearTimeout(this.timer);\n      this.timer = null;\n    }\n    this.parent.removeEventListener('scroll', this.update);\n    document.body.removeEventListener('keydown', this.selectChatMessage);\n  }\n  getScrollHeight() {\n    return this.scrollTop === -1 ? this.parent.scrollHeight : this.scrollTop;\n  }\n  update(event) {\n    this.scrollTop = event.target.scrollTop;\n    const clientHeight = event.target.clientHeight;\n    const messageScrollHeight = event.target.scrollHeight;\n    this.canShowNotify = (this.scrollTop + clientHeight < messageScrollHeight - 20);\n    if (!this.canShowNotify && this.props.ifShowNotify) {\n      // this.setState({\n      //   ifShowNotify: false,\n      // });\n      this.props.updateIfShowNotify(false);\n    }\n    if (!this.canShowNotify) {\n      if (this.timer) {\n        clearTimeout(this.timer);\n        this.timer = null;\n      }\n      this.ifScrollBottom = true;\n      this.props.onScroll(this.props.id, -1);\n    } else {\n      this.ifScrollBottom = false;\n    }\n    if (this.props.onScroll && !this.ifScrollBottom) {\n      if (this.timer) {\n        clearTimeout(this.timer);\n        this.timer = null;\n      }\n      this.timer = setTimeout(() => {\n        this.props.onScroll(this.props.id, this.scrollTop);\n      }, 500);\n    }\n  }\n  selectChatMessage(e) {\n    if (e.ctrlKey &&\n      (e.keyCode === 65 || e.keyCode === 97) &&\n      (e.target === document.body || e.target === this.parent)) {\n      if (document.selection) {\n        const range = document.body.createTextRange();\n        range.moveToElementText(this.parent);\n        range.select();\n      } else if (window.getSelection) {\n        const windowSelection = window.getSelection();\n        if (windowSelection.rangeCount > 0) {\n          windowSelection.removeAllRanges();\n        }\n        const range = document.createRange();\n        range.selectNode(this.parent);\n        windowSelection.addRange(range);\n      }\n      e.preventDefault();\n      e.stopPropagation();\n    }\n  }\n\n  closeGotoMeetingNotify() {\n    this.setState({\n      ifShowGotoMeetingNotify: false,\n    });\n    this.props.clearG2mStartUrl();\n  }\n\n  scrollBottom() {\n    this.parent.scrollTop = this.container.getBoundingClientRect().height;\n    // this.setState({\n    //   ifShowNotify: false,\n    // });\n    this.ifScrollBottom = true;\n    this.props.onScroll(this.props.id, -1);\n  }\n\n  render() {\n    const props = this.props;\n    // let notifyVisitor = '';\n    // let notifyMessage = '';\n    // const propsLastMessage = props.messages.get(props.messages.size - 1);\n    // if (this.state.ifShowNotify && props.messages.size > 0 &&\n    //   propsLastMessage[0].type === messageType.visitor) {\n    //   // const propsLastMessage = props.messages.get(props.messages.size - 1);\n    //   notifyVisitor = propsLastMessage[0].sender;\n    //   notifyMessage = propsLastMessage[propsLastMessage.length - 1].message ||\n    //   propsLastMessage[propsLastMessage.length - 1].fileName;\n    // }\n    const chatContentContainer = (<div\n      className={style.chatContentContainer}\n    >\n      <div\n        className={\n          classnames(\n            style.chatContent,\n            getFontSizeClass(props.selectedFontSize),\n            props.textDirectionIfRTL ? style.directionRTL : '',\n            'contentMenu'\n          )\n        }\n        ref={(element) => { this.parent = element; }}\n      >\n        <div ref={(element) => { this.container = element; }}>\n          {\n            props.messages.map((message, i) => <ChatContentMsg\n              key={i}\n              messages={message}\n              getSecureFormContent={this.props.getSecureFormContent}\n              timezone={this.props.timezone}\n              timezoneOffset={this.props.timezoneOffset}\n            />)\n          }\n        </div>\n        {\n          props.typingMessage !== '' ?\n            <div className={style.typingIndicator}>\n              <span>{props.chatTo} is typing: </span>\n              {props.typingMessage}...\n              <Icon\n                type={icons.typing}\n                size={13}\n              />\n            </div>\n            :\n            null\n        }\n      </div>\n      {this.props.ifShowNotify && this.props.scrollTop !== -1 && (\n        <div className={style.notify} onClick={this.scrollBottom}>\n          <span className={style.notifyName}>{this.notifyVisitor}:</span> {this.notifyMessage}\n        </div>\n      )}\n      {\n        (props.g2mStartUrl && this.state.ifShowGotoMeetingNotify) ?\n          <div className={classnames(style.notify, style.notifyG2M)}>\n            You have created a new meeting.\n            <span className={style.action} onClick={this.closeGotoMeetingNotify}>\n              <Link\n                href={props.g2mStartUrl}\n                newWindow\n              >\n                Start Meeting Immediately\n              </Link>\n              {/** @todo not proper to use href=\"#\", remove it */}\n              <Button type=\"noborder\">Not Now</Button>\n            </span>\n          </div>\n          : ''\n      }\n      {\n        props.errorMessageForChat ?\n          <div className={style.error}>\n            <span className={style.errorContent}>{props.errorMessageForChat}</span>\n            {/** @todo not proper to use href=\"#\", remove it */}\n            <Button type=\"noborder\" onClick={props.hideErrorMessage}>Dismiss</Button>\n          </div>\n          :\n          ''\n      }\n    </div>);\n    return (\n      <div className={style.chatContainer}>\n        {\n          props.audioVideoChatStatus &&\n            props.audioVideoChatStatus !== audioVideoChatStatus.notStart ?\n            <ResizeContainer\n              resizerPosition=\"left\"\n              width={props.audioVideoChatWidth}\n              left_minWidth={110}\n              right_minWidth={110}\n              onStopResize={props.onAudioAndVideoStopResize}\n            >\n              <AudioVideoChatContent\n                audioVideoChatStatus={props.audioVideoChatStatus}\n                chatTo={props.chatTo}\n                avatarLink={props.visitorAvatar}\n                isContactOrUserOpen={props.isContactOrUserOpen}\n                identityType={props.identityType}\n                onAcceptClick={this.props.onAudioVideoChatAccept}\n                onRefuseClick={this.props.onAudioVideoChatRefuse}\n                p2pChat={props.p2pChat}\n                audioVideoChatStartTime={props.audioVideoChatStartTime}\n              />\n              {chatContentContainer}\n            </ResizeContainer>\n            :\n            <div>\n              {chatContentContainer}\n            </div>\n        }\n\n      </div>\n    );\n  }\n}\n\nexport default ChatContent;\n\nChatContent.propTypes = {\n  id: React.PropTypes.number.isRequired,\n  selectedFontSize: React.PropTypes.string.isRequired,\n  messages: React.PropTypes.instanceOf(Immutable.List).isRequired,\n  chatTo: React.PropTypes.string.isRequired,\n  typingMessage: React.PropTypes.string,\n  getSecureFormContent: React.PropTypes.func,\n  timezone: React.PropTypes.number,\n  timezoneOffset: React.PropTypes.number,\n  textDirectionIfRTL: React.PropTypes.bool,\n  g2mStartUrl: React.PropTypes.string,\n  errorMessageForChat: React.PropTypes.string,\n  clearG2mStartUrl: React.PropTypes.func,\n  scrollTop: React.PropTypes.number,\n  onScroll: React.PropTypes.func,\n  ifShowNotify: React.PropTypes.bool,\n  audioVideoChatWidth: React.PropTypes.number,\n  updateIfShowNotify: React.PropTypes.func,\n  audioVideoChatStatus:\n  React.PropTypes.oneOf(Object.keys(audioVideoChatStatus).map(k => audioVideoChatStatus[k])),\n  p2pChat: React.PropTypes.object,\n  visitorId: React.PropTypes.number,\n  onAudioVideoChatAccept: React.PropTypes.func,\n  onAudioVideoChatRefuse: React.PropTypes.func,\n  audioVideoChatStartTime: React.PropTypes.object,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ChatSection/ChatContent/ChatContent.jsx","import React from 'react';\nimport classnames from 'classnames';\nimport { dateToString } from 'src/utils/time';\nimport Link from 'src/components/Link/Link';\nimport * as messageType from '../../../constants/enums/messageType';\nimport * as str from '../../../utils/str';\nimport style from './ChatContent.css';\n\nimport Icon from '../../Icon/Icon';\nimport { secureFormStatus, icons } from '../../../constants/enums';\n\nconst text = (message) => {\n  if (message.translatedMessage && message.translatedMessage !== '') {\n    let translateMsg = '';\n    let orignalMsg = '';\n    translateMsg = str.handleLinks(message.translatedMessage, (content, i) => {\n      const link = content.indexOf('www.') === 0 ? `http://${content}` : content;\n      return <Link href={link} key={i} newWindow>{content}</Link>;\n    });\n    orignalMsg = str.handleLinks(message.message, (content, i) => {\n      const link = content.indexOf('www.') === 0 ? `http://${content}` : content;\n      return <Link href={link} key={i} newWindow>{content}</Link>;\n    });\n    return (\n      <p key={message.id}>\n        {translateMsg} <i>(Translation)</i><br />\n        <span className={style.translationMsg}>{orignalMsg}</span> <i>(Original)</i>\n      </p>\n\n    );\n    // buildedMessage = `${translateMsg} <i>(Translation)</i>\\r\\n<i>${orignalMsg} (Original)</i>`;\n  }\n  return (\n    <p key={message.id}>\n      { str.handleLinks(message.message, (content, i) => {\n        const link = content.indexOf('www.') === 0 ? `http://${content}` : content;\n        return <Link href={link} key={i} newWindow>{content}</Link>;\n      })}\n    </p>\n  );\n};\nconst image = message => (\n  message.url ? (\n    <div key={message.id}>\n      <Link key={message.id} href={message.url} newWindow>\n        <img src={message.url} alt={message.filename} style={{ maxWidth: 400, maxHeight: 400 }} />\n      </Link>\n    </div>\n  ) : null\n);\nconst file = message => (\n  <div key={message.id}>\n    <Link key={message.id} className={style.attachment} href={message.url} newWindow>\n      {message.fileName}\n    </Link>\n  </div>\n);\n\nconst getMessageComponent = (message) => {\n  if (message.message) return text(message);\n  if (message.url) {\n    if (message.isImage) return image(message);\n    return file(message);\n  }\n  return null;\n};\n\nclass ChatContentMsg extends React.Component {\n  componentDidMount() {\n    const firstMessageObj = this.props.messages[0];\n    if (firstMessageObj.type === messageType.secureForm &&\n      firstMessageObj.message.status === secureFormStatus.init) {\n      this.props.getSecureFormContent(firstMessageObj.message.token,\n        firstMessageObj.message.rsaKey);\n    }\n  }\n  shouldComponentUpdate(nextProps) {\n    return nextProps.messages !== this.props.messages;\n  }\n  render() {\n    const messages = this.props.messages;\n    const name = messages[0].sender;\n    const time = dateToString(\n      messages[0].time,\n      'HH:mm',\n      this.props.timezone,\n      this.props.timezoneOffset\n    );\n    const type = messages[0].type;\n    if (type === messageType.system) {\n      return <div className={classnames(style.systemMeg)}>{messages[0].message}</div>;\n    }\n    return (\n      <div\n        className={classnames(\n          style.chatContentInfo,\n          (type === messageType.agent) ? style.operator : style.visitor\n        )}\n      >\n        {\n          type === messageType.secureForm ?\n            <div className={style.secureForm}>\n              {\n                (messages[0].message.status === secureFormStatus.downloading ||\n                  messages[0].message.status === secureFormStatus.init) ?\n                    <Icon type={icons.loading} size=\"small\" /> :\n                    messages[0].message.content.map(item => (\n                      <div>\n                        {item.name}: {item.value}\n                      </div>\n                    ))\n              }\n            </div>\n            :\n            <div>\n              <div>\n                <span className={style.name}>{`${name}: `}</span>\n                <span className={style.time}>{time}</span>\n              </div>\n              <div className={style.chatMeg}>\n                {messages.map(message => getMessageComponent(message))}\n              </div>\n            </div>\n        }\n      </div>\n    );\n  }\n}\n\nexport default ChatContentMsg;\n\nChatContentMsg.propTypes = {\n  messages: React.PropTypes.oneOfType([\n    React.PropTypes.shape({}),\n    React.PropTypes.arrayOf(React.PropTypes.shape({})),\n  ]),\n  getSecureFormContent: React.PropTypes.func,\n  timezone: React.PropTypes.number,\n  timezoneOffset: React.PropTypes.number,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ChatSection/ChatContent/ChatContentMsg.jsx","import React from 'react';\nimport style from './FileUploadProgress.css';\nimport Button from '../Button/Button';\n\nconst FileUploadProgress = props => (\n  <div className={style.uploadProgressContainer}>\n    {\n      (props.fileUploadProgressNumber > 0 && props.fileUploadProgressNumber < 100) ?\n        <div className={style.uploadProgress}>\n          <span className={style.uploadFileName}>\n            {props.fileName}\n          </span>\n          <span className={style.uploadProgressPercent}>{props.fileUploadProgressNumber}%</span>\n          <button\n            className={style.cancelUpload}\n            onClick={() => props.handleAbortUpload(props.file)}\n          >\n          &times;\n          </button>\n        </div>\n        : ''\n    }\n  </div>\n);\n\nexport default FileUploadProgress;\n\nFileUploadProgress.propTypes = {\n  file: React.PropTypes.object,\n  fileName: React.PropTypes.string.isRequired,\n  fileUploadProgressNumber: React.PropTypes.number.isRequired,\n  handleAbortUpload: React.PropTypes.func.isRequired,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/FileUploadProgress/FileUploadProgress.jsx","import React, { Component } from 'react';\nimport classnames from 'classnames';\nimport Upload from 'rc-upload';\nimport * as _ from 'lodash';\nimport style from '../Icon.css';\nimport Icon from '../../Icon/Icon';\nimport { icons as enums } from '../../../constants/enums';\nimport { formatAgentChatDownloadUrl, shouldComponentUpdateGen } from '../../../utils/helper';\n\nimport FileUploadProgress from '../../FileUploadProgress/FileUploadProgress';\n\nconst shouldComponentUpdateHelper = shouldComponentUpdateGen(\n  'SendFile',\n  ['disabled'],\n  ['file', 'fileName', 'fileUploadProgressNumber', 'uploadedFileNumber', 'errorMessage']\n);\n\nclass SendFile extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      file: null,\n      fileName: '',\n      fileUploadProgressNumber: 0,\n      uploadedFileNumber: 0,\n      errorMessage: '',\n    };\n    this.upload = null;\n\n    this.showErrorMessage = props.showErrorMessage.bind(null, props.chatId);\n\n    this.uploadConfig = {\n      action: props.siteInfo.sendFileUploadUrl,\n      multiple: false,\n      disabled: props.disabled,\n      beforeUpload: this.beforeUpload,\n      onStart: props.onStart || _.noop,\n      onSuccess: this.onSuccess,\n      onProgress: this.onProgress,\n      onError: props.onError || _.noop,\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.uploadConfig.action = nextProps.siteInfo.sendFileUploadUrl;\n    this.uploadConfig.disabled = nextProps.disabled;\n    if (nextProps.chatId !== this.props.chatId) {\n      this.showErrorMessage = this.props.showErrorMessage.bind(null, nextProps.chatId);\n    }\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return shouldComponentUpdateHelper(this.props, nextProps, this.state, nextState);\n  }\n\n  beforeUpload = (file) => {\n    const siteInfo = this.props.siteInfo;\n    if (file.size <= siteInfo.maxFileSize * 1024 * 1024) {\n      /**\n       * @todo wrong implementation.\n       * this.state will not be remembered, when component re-create.\n       *\n       * example:\n       * if switch from one chat to another, and switch back, this.state.uploadedFileNumber\n       * will be re-set to 0, as `constructor` is called again.\n       */\n      if (this.state.uploadedFileNumber > siteInfo.maxFileNum) {\n        this.showErrorMessage(`Error sending file: The max number of files you can send/receive during this chat session is\n                          ${siteInfo.maxFileNum}.`);\n        return false;\n      }\n    } else {\n      this.showErrorMessage(`Error sending file: The max file size is ${siteInfo.maxFileSize} MB.`);\n      return false;\n    }\n    return this.props.beforeUpload ? this.props.beforeUpload(file) : true;\n  }\n\n  onProgress = (step, file) => {\n    if (this.props.onProgress) {\n      this.props.onProgress(step, file, this.upload);\n    }\n    this.setState({\n      file,\n      fileName: file.name,\n      fileUploadProgressNumber: step.percent === 100 ? 100 : parseFloat(step.percent.toFixed(1)),\n    });\n  }\n\n  onSuccess = (rsp, file) => {\n    if (rsp && (rsp === 'success' || rsp.isSuccess)) {\n      this.setState({\n        uploadedFileNumber: this.state.uploadedFileNumber + 1,\n      });\n      if (this.props.onSuccess) {\n        this.props.onSuccess(rsp,\n                            file,\n                            this.getDownloadUrl(rsp.guid, file.name),\n                            this.props.siteInfo);\n      }\n      return;\n    }\n    const errorMsg = rsp.errorMessage || rsp;\n    this.showErrorMessage(`Error sending file: ${errorMsg}`);\n    // this.props.onError(rsp.errorMessage);\n  }\n\n  getDownloadUrl = (guid, name) => {\n    if (!this.props.siteInfo) return '';\n    const { downloadUrl, sessionId, siteId, privateMessage } = this.props.siteInfo;\n    return formatAgentChatDownloadUrl(downloadUrl,\n                            sessionId,\n                            siteId,\n                            privateMessage,\n                            guid,\n                            name);\n  }\n\n\n\n  handleAbortUpload = (file) => {\n    if (this.upload) this.upload.abort(file);\n    this.setState({\n      fileUploadProgressNumber: 0,\n    });\n  }\n\n  render() {\n    this.uploadConfig.disabled = this.props.disabled;\n    if (!this.props.disabled) {\n      if (this.state.fileUploadProgressNumber !== 100 &&\n          this.state.fileUploadProgressNumber !== 0) {\n        this.uploadConfig.disabled  = true;\n      } else {\n        this.uploadConfig.disabled  = false;\n      }\n\n    }\n    return (\n      <div>\n        <FileUploadProgress\n          file={this.state.file}\n          fileName={this.state.fileName}\n          fileUploadProgressNumber={this.state.fileUploadProgressNumber}\n          handleAbortUpload={this.handleAbortUpload}\n        />\n        <span\n          className={classnames(style.fileupload, this.props.className)}\n          data-tip=\"Send a file from your local machine.\" data-for=\"chatContainer\"\n        >\n        <Upload\n          ref={(element) => { this.upload = element; }}\n          {...this.uploadConfig}\n        >\n          <Icon type={enums.sendFile} />\n        </Upload>\n        </span>\n      </div>\n    );\n  }\n}\n\nSendFile.propTypes = {\n  siteInfo: React.PropTypes.shape({\n    sendFileUploadUrl: React.PropTypes.string,\n    downloadUrl: React.PropTypes.string,\n    sessionId: React.PropTypes.string,\n    siteId: React.PropTypes.number,\n    privateMessage: React.PropTypes.number,\n    maxFileSize: React.PropTypes.number,\n    maxFileNum: React.PropTypes.number,\n  }).isRequired,\n  className: React.PropTypes.string,\n  disabled: React.PropTypes.bool.isRequired,\n  beforeUpload: React.PropTypes.func,\n  onStart: React.PropTypes.func,\n  onSuccess: React.PropTypes.func,\n  onProgress: React.PropTypes.func,\n  onError: React.PropTypes.func,\n  showErrorMessage: React.PropTypes.func,\n  chatId: React.PropTypes.number.isRequired,\n};\n\nexport default SendFile;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Icons/ChatAction/SendFile.jsx","export const visitorIdentityTypeNone = 0;\nexport const visitorIdentityTypeOperator = 1;\nexport const visitorIdentityTypeUser = 2;\nexport const visitorIdentityTypeContact = 3;\nexport const visitorIdentityTypeEmailAddress = 4;\nexport const visitorIdentityTypeCookie = 5;\nexport const visitorIdentityTypeVisitor = 6;\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants/enums/visitorType.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"uploadProgressContainer\":\"FileUploadProgress__uploadProgressContainer--2X8I6\",\"uploadProgress\":\"FileUploadProgress__uploadProgress--z1S5B\",\"uploadProgressPercent\":\"FileUploadProgress__uploadProgressPercent--2Kuai\",\"uploadProgressBarContainer\":\"FileUploadProgress__uploadProgressBarContainer--1y0Vz\",\"uploadProgressBar\":\"FileUploadProgress__uploadProgressBar--1Y9LY\",\"cancelUpload\":\"FileUploadProgress__cancelUpload--1YVmG\",\"uploadFileName\":\"FileUploadProgress__uploadFileName--3j-Sc\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/FileUploadProgress/FileUploadProgress.css\n// module id = 979\n// module chunks = 1 2"],"sourceRoot":""}