webpackJsonp([2],Array(835).concat([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),r=n.n(o),s=n(1),i=(n.n(s),n(375)),a=n.n(i),c=n(158),l=(n.n(c),n(765)),u=n(1578),d=n(1577),p=n(1576),f=n(1575),h=n(1585),g=n(1581),v=n(1715),m=n.n(v),y=n(1028),b=r()(u.a,{}),C=r()(d.a,{}),w=r()(p.a,{}),S=r()(f.a,{}),T=r()(h.a,{}),x=r()(y.a,{}),k=r()(g.a,{}),I=function(e){var t=e.selectedChatId,n=e.chatItemWidth,o=e.onChatItemStopResize,s=e.chatDetailWidth,i=e.onChatDetailStopResize;return r()("div",{className:c.default.layoutContent,id:"chats"},void 0,t?r()(l.default,{resizerPosition:"left",width:n,left_minWidth:240,left_maxWidth:350,right_minWidth:640,onStopResize:o},void 0,b,r()("div",{},void 0,C,r()("div",{className:c.default.chatwindowContainer},void 0,r()(l.default,{resizerPosition:"right",width:s,right_minWidth:265,right_maxWidth:500,left_minWidth:350,onStopResize:i},void 0,r()("div",{},void 0,w,S,r()("div",{style:{position:"absolute",width:"100%",height:175,bottom:0,minHeight:40}},void 0,T)),x)),r()(a.a,{id:"chatContainer",multiline:!0,effect:"solid",place:"bottom",class:m.a.tooltip}))):k)};t.default=I},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){function o(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function r(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=s.prototype):(null===e&&(e=new s(t)),e.length=t),e}function s(e,t,n){if(!(s.TYPED_ARRAY_SUPPORT||this instanceof s))return new s(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return i(this,e,t,n)}function i(e,t,n,o){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?p(e,t,n,o):"string"==typeof t?u(e,t,n):f(e,t)}function a(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function c(e,t,n,o){return a(t),t<=0?r(e,t):void 0!==n?"string"==typeof o?r(e,t).fill(n,o):r(e,t).fill(n):r(e,t)}function l(e,t){if(a(t),e=r(e,t<0?0:0|h(t)),!s.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function u(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!s.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var o=0|v(t,n);e=r(e,o);var i=e.write(t,n);return i!==o&&(e=e.slice(0,i)),e}function d(e,t){var n=t.length<0?0:0|h(t.length);e=r(e,n);for(var o=0;o<n;o+=1)e[o]=255&t[o];return e}function p(e,t,n,o){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(o||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===o?new Uint8Array(t):void 0===o?new Uint8Array(t,n):new Uint8Array(t,n,o),s.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=s.prototype):e=d(e,t),e}function f(e,t){if(s.isBuffer(t)){var n=0|h(t.length);return e=r(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||K(t.length)?r(e,0):d(e,t);if("Buffer"===t.type&&Z(t.data))return d(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function h(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function g(e){return+e!=e&&(e=0),s.alloc(+e)}function v(e,t){if(s.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var o=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Y(e).length;default:if(o)return G(e).length;t=(""+t).toLowerCase(),o=!0}}function m(e,t,n){var o=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return A(this,t,n);case"utf8":case"utf-8":return P(this,t,n);case"ascii":return R(this,t,n);case"latin1":case"binary":return M(this,t,n);case"base64":return E(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,t,n);default:if(o)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),o=!0}}function y(e,t,n){var o=e[t];e[t]=e[n],e[n]=o}function b(e,t,n,o,r){if(0===e.length)return-1;if("string"==typeof n?(o=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t&&(t=s.from(t,o)),s.isBuffer(t))return 0===t.length?-1:C(e,t,n,o,r);if("number"==typeof t)return t&=255,s.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):C(e,[t],n,o,r);throw new TypeError("val must be string, number or Buffer")}function C(e,t,n,o,r){function s(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}var i=1,a=e.length,c=t.length;if(void 0!==o&&("ucs2"===(o=String(o).toLowerCase())||"ucs-2"===o||"utf16le"===o||"utf-16le"===o)){if(e.length<2||t.length<2)return-1;i=2,a/=2,c/=2,n/=2}var l;if(r){var u=-1;for(l=n;l<a;l++)if(s(e,l)===s(t,u===-1?0:l-u)){if(u===-1&&(u=l),l-u+1===c)return u*i}else u!==-1&&(l-=l-u),u=-1}else for(n+c>a&&(n=a-c),l=n;l>=0;l--){for(var d=!0,p=0;p<c;p++)if(s(e,l+p)!==s(t,p)){d=!1;break}if(d)return l}return-1}function w(e,t,n,o){n=Number(n)||0;var r=e.length-n;o?(o=Number(o))>r&&(o=r):o=r;var s=t.length;if(s%2!=0)throw new TypeError("Invalid hex string");o>s/2&&(o=s/2);for(var i=0;i<o;++i){var a=parseInt(t.substr(2*i,2),16);if(isNaN(a))return i;e[n+i]=a}return i}function S(e,t,n,o){return J(G(t,e.length-n),e,n,o)}function T(e,t,n,o){return J(q(t),e,n,o)}function x(e,t,n,o){return T(e,t,n,o)}function k(e,t,n,o){return J(Y(t),e,n,o)}function I(e,t,n,o){return J(H(t,e.length-n),e,n,o)}function E(e,t,n){return 0===t&&n===e.length?X.fromByteArray(e):X.fromByteArray(e.slice(t,n))}function P(e,t,n){n=Math.min(e.length,n);for(var o=[],r=t;r<n;){var s=e[r],i=null,a=s>239?4:s>223?3:s>191?2:1;if(r+a<=n){var c,l,u,d;switch(a){case 1:s<128&&(i=s);break;case 2:c=e[r+1],128==(192&c)&&(d=(31&s)<<6|63&c)>127&&(i=d);break;case 3:c=e[r+1],l=e[r+2],128==(192&c)&&128==(192&l)&&(d=(15&s)<<12|(63&c)<<6|63&l)>2047&&(d<55296||d>57343)&&(i=d);break;case 4:c=e[r+1],l=e[r+2],u=e[r+3],128==(192&c)&&128==(192&l)&&128==(192&u)&&(d=(15&s)<<18|(63&c)<<12|(63&l)<<6|63&u)>65535&&d<1114112&&(i=d)}}null===i?(i=65533,a=1):i>65535&&(i-=65536,o.push(i>>>10&1023|55296),i=56320|1023&i),o.push(i),r+=a}return _(o)}function _(e){var t=e.length;if(t<=$)return String.fromCharCode.apply(String,e);for(var n="",o=0;o<t;)n+=String.fromCharCode.apply(String,e.slice(o,o+=$));return n}function R(e,t,n){var o="";n=Math.min(e.length,n);for(var r=t;r<n;++r)o+=String.fromCharCode(127&e[r]);return o}function M(e,t,n){var o="";n=Math.min(e.length,n);for(var r=t;r<n;++r)o+=String.fromCharCode(e[r]);return o}function A(e,t,n){var o=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>o)&&(n=o);for(var r="",s=t;s<n;++s)r+=W(e[s]);return r}function U(e,t,n){for(var o=e.slice(t,n),r="",s=0;s<o.length;s+=2)r+=String.fromCharCode(o[s]+256*o[s+1]);return r}function N(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,n,o,r,i){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<i)throw new RangeError('"value" argument is out of bounds');if(n+o>e.length)throw new RangeError("Index out of range")}function O(e,t,n,o){t<0&&(t=65535+t+1);for(var r=0,s=Math.min(e.length-n,2);r<s;++r)e[n+r]=(t&255<<8*(o?r:1-r))>>>8*(o?r:1-r)}function L(e,t,n,o){t<0&&(t=4294967295+t+1);for(var r=0,s=Math.min(e.length-n,4);r<s;++r)e[n+r]=t>>>8*(o?r:3-r)&255}function F(e,t,n,o,r,s){if(n+o>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function j(e,t,n,o,r){return r||F(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),Q.write(e,t,n,o,23,4),n+4}function B(e,t,n,o,r){return r||F(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),Q.write(e,t,n,o,52,8),n+8}function V(e){if(e=z(e).replace(ee,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function z(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function W(e){return e<16?"0"+e.toString(16):e.toString(16)}function G(e,t){t=t||1/0;for(var n,o=e.length,r=null,s=[],i=0;i<o;++i){if((n=e.charCodeAt(i))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(i+1===o){(t-=3)>-1&&s.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&s.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&s.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;s.push(n)}else if(n<2048){if((t-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function q(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function H(e,t){for(var n,o,r,s=[],i=0;i<e.length&&!((t-=2)<0);++i)n=e.charCodeAt(i),o=n>>8,r=n%256,s.push(r),s.push(o);return s}function Y(e){return X.toByteArray(V(e))}function J(e,t,n,o){for(var r=0;r<o&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}function K(e){return e!==e}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var X=n(1592),Q=n(1739),Z=n(1602);t.Buffer=s,t.SlowBuffer=g,t.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=o(),s.poolSize=8192,s._augment=function(e){return e.__proto__=s.prototype,e},s.from=function(e,t,n){return i(null,e,t,n)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})),s.alloc=function(e,t,n){return c(null,e,t,n)},s.allocUnsafe=function(e){return l(null,e)},s.allocUnsafeSlow=function(e){return l(null,e)},s.isBuffer=function(e){return!(null==e||!e._isBuffer)},s.compare=function(e,t){if(!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,o=t.length,r=0,i=Math.min(n,o);r<i;++r)if(e[r]!==t[r]){n=e[r],o=t[r];break}return n<o?-1:o<n?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!Z(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var o=s.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var i=e[n];if(!s.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(o,r),r+=i.length}return o},s.byteLength=v,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},s.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?P(this,0,e):m.apply(this,arguments)},s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},s.prototype.compare=function(e,t,n,o,r){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===o&&(o=0),void 0===r&&(r=this.length),t<0||n>e.length||o<0||r>this.length)throw new RangeError("out of range index");if(o>=r&&t>=n)return 0;if(o>=r)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,o>>>=0,r>>>=0,this===e)return 0;for(var i=r-o,a=n-t,c=Math.min(i,a),l=this.slice(o,r),u=e.slice(t,n),d=0;d<c;++d)if(l[d]!==u[d]){i=l[d],a=u[d];break}return i<a?-1:a<i?1:0},s.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1},s.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},s.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},s.prototype.write=function(e,t,n,o){if(void 0===t)o="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)o=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===o&&(o="utf8")):(o=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");o||(o="utf8");for(var s=!1;;)switch(o){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return S(this,e,t,n);case"ascii":return T(this,e,t,n);case"latin1":case"binary":return x(this,e,t,n);case"base64":return k(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,t,n);default:if(s)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),s=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var $=4096;s.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var o;if(s.TYPED_ARRAY_SUPPORT)o=this.subarray(e,t),o.__proto__=s.prototype;else{var r=t-e;o=new s(r,void 0);for(var i=0;i<r;++i)o[i]=this[i+e]}return o},s.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var o=this[e],r=1,s=0;++s<t&&(r*=256);)o+=this[e+s]*r;return o},s.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var o=this[e+--t],r=1;t>0&&(r*=256);)o+=this[e+--t]*r;return o},s.prototype.readUInt8=function(e,t){return t||N(e,1,this.length),this[e]},s.prototype.readUInt16LE=function(e,t){return t||N(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUInt16BE=function(e,t){return t||N(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUInt32LE=function(e,t){return t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUInt32BE=function(e,t){return t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var o=this[e],r=1,s=0;++s<t&&(r*=256);)o+=this[e+s]*r;return r*=128,o>=r&&(o-=Math.pow(2,8*t)),o},s.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var o=t,r=1,s=this[e+--o];o>0&&(r*=256);)s+=this[e+--o]*r;return r*=128,s>=r&&(s-=Math.pow(2,8*t)),s},s.prototype.readInt8=function(e,t){return t||N(e,1,this.length),128&this[e]?(255-this[e]+1)*-1:this[e]},s.prototype.readInt16LE=function(e,t){t||N(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(e,t){t||N(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(e,t){return t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return t||N(e,4,this.length),Q.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return t||N(e,4,this.length),Q.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return t||N(e,8,this.length),Q.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return t||N(e,8,this.length),Q.read(this,e,!1,52,8)},s.prototype.writeUIntLE=function(e,t,n,o){if(e=+e,t|=0,n|=0,!o){D(this,e,t,n,Math.pow(2,8*n)-1,0)}var r=1,s=0;for(this[t]=255&e;++s<n&&(r*=256);)this[t+s]=e/r&255;return t+n},s.prototype.writeUIntBE=function(e,t,n,o){if(e=+e,t|=0,n|=0,!o){D(this,e,t,n,Math.pow(2,8*n)-1,0)}var r=n-1,s=1;for(this[t+r]=255&e;--r>=0&&(s*=256);)this[t+r]=e/s&255;return t+n},s.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,1,255,0),s.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},s.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},s.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},s.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},s.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},s.prototype.writeIntLE=function(e,t,n,o){if(e=+e,t|=0,!o){var r=Math.pow(2,8*n-1);D(this,e,t,n,r-1,-r)}var s=0,i=1,a=0;for(this[t]=255&e;++s<n&&(i*=256);)e<0&&0===a&&0!==this[t+s-1]&&(a=1),this[t+s]=(e/i>>0)-a&255;return t+n},s.prototype.writeIntBE=function(e,t,n,o){if(e=+e,t|=0,!o){var r=Math.pow(2,8*n-1);D(this,e,t,n,r-1,-r)}var s=n-1,i=1,a=0;for(this[t+s]=255&e;--s>=0&&(i*=256);)e<0&&0===a&&0!==this[t+s+1]&&(a=1),this[t+s]=(e/i>>0)-a&255;return t+n},s.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,1,127,-128),s.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},s.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},s.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},s.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},s.prototype.writeFloatLE=function(e,t,n){return j(this,e,t,!0,n)},s.prototype.writeFloatBE=function(e,t,n){return j(this,e,t,!1,n)},s.prototype.writeDoubleLE=function(e,t,n){return B(this,e,t,!0,n)},s.prototype.writeDoubleBE=function(e,t,n){return B(this,e,t,!1,n)},s.prototype.copy=function(e,t,n,o){if(n||(n=0),o||0===o||(o=this.length),t>=e.length&&(t=e.length),t||(t=0),o>0&&o<n&&(o=n),o===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),e.length-t<o-n&&(o=e.length-t+n);var r,i=o-n;if(this===e&&n<t&&t<o)for(r=i-1;r>=0;--r)e[r+t]=this[r+n];else if(i<1e3||!s.TYPED_ARRAY_SUPPORT)for(r=0;r<i;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},s.prototype.fill=function(e,t,n,o){if("string"==typeof e){if("string"==typeof t?(o=t,t=0,n=this.length):"string"==typeof n&&(o=n,n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==o&&"string"!=typeof o)throw new TypeError("encoding must be a string");if("string"==typeof o&&!s.isEncoding(o))throw new TypeError("Unknown encoding: "+o)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var i;if("number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var a=s.isBuffer(e)?e:G(new s(e,o).toString()),c=a.length;for(i=0;i<n-t;++i)this[i+t]=a[i%c]}return this};var ee=/[^+\/0-9A-Za-z-_]/g}).call(t,n(240))},,,,,,,,,,,,function(e,t){e.exports={chatAction:"ChatAction__chatAction--2avGg",chatActionIcon:"ChatAction__chatActionIcon--WDUxk",iconActive:"ChatAction__iconActive--2eXsX",chatActionIconDisabled:"ChatAction__chatActionIconDisabled--3wdpU"}},,,,function(e,t,n){"use strict";var o=n(47),r=n.n(o),s=n(1),i=n.n(s),a=n(35),c=n.n(a),l=n(981),u=n.n(l),d=function(e){var t=e.input,n=e.rows,o=e.cols,s=e.isDisabled,a=e.placeholder,l=e.type,d=e.maxLength,p=e.className,f=e.meta;return i.a.createElement("textarea",r()({},t,{cols:o,rows:n,disabled:!!s&&"disabled",className:c()(p,u.a.multipleText,f.touched&&f.invalid&&u.a.error),type:l,placeholder:a,maxLength:d}))};t.a=d},,function(e,t){throw new Error("Module build failed: ModuleBuildError: Module build failed: Error: The system cannot find the path specified.\r\n\n    at notFoundError (C:\\Users\\roy\\comm100\\vm\\node_modules\\exec-buffer\\node_modules\\cross-spawn\\lib\\enoent.js:11:11)\n    at verifyENOENT (C:\\Users\\roy\\comm100\\vm\\node_modules\\exec-buffer\\node_modules\\cross-spawn\\lib\\enoent.js:46:16)\n    at ChildProcess.cp.emit (C:\\Users\\roy\\comm100\\vm\\node_modules\\exec-buffer\\node_modules\\cross-spawn\\lib\\enoent.js:33:19)\n    at Process.ChildProcess._handle.onexit (internal/child_process.js:215:12)\n    at runLoaders (C:\\Users\\roy\\comm100\\vm\\node_modules\\webpack\\lib\\NormalModule.js:176:19)\n    at C:\\Users\\roy\\comm100\\vm\\node_modules\\loader-runner\\lib\\LoaderRunner.js:364:11\n    at C:\\Users\\roy\\comm100\\vm\\node_modules\\loader-runner\\lib\\LoaderRunner.js:230:18\n    at context.callback (C:\\Users\\roy\\comm100\\vm\\node_modules\\loader-runner\\lib\\LoaderRunner.js:111:13)\n    at imagemin.buffer.then.catch.err (C:\\Users\\roy\\comm100\\vm\\node_modules\\image-webpack-loader\\index.js:58:9)")},,function(e,t,n){"use strict";var o=!0,r={disableLog:function(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(o=e,e?"adapter.js logging disabled":"adapter.js logging enabled")},log:function(){if("object"==typeof window){if(o)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}},extractVersion:function(e,t,n){var o=e.match(t);return o&&o.length>=n&&parseInt(o[n],10)},detectBrowser:function(){var e={};if(e.browser=null,e.version=null,"undefined"==typeof window||!window.navigator)return e.browser="Not a browser.",e;if(navigator.mozGetUserMedia)e.browser="firefox",e.version=this.extractVersion(navigator.userAgent,/Firefox\/(\d+)\./,1);else if(navigator.webkitGetUserMedia)if(window.webkitRTCPeerConnection)e.browser="chrome",e.version=this.extractVersion(navigator.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!navigator.userAgent.match(/Version\/(\d+).(\d+)/))return e.browser="Unsupported webkit-based browser with GUM support but no WebRTC support.",e;e.browser="safari",e.version=this.extractVersion(navigator.userAgent,/AppleWebKit\/(\d+)\./,1)}else if(navigator.mediaDevices&&navigator.userAgent.match(/Edge\/(\d+).(\d+)$/))e.browser="edge",e.version=this.extractVersion(navigator.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!navigator.mediaDevices||!navigator.userAgent.match(/AppleWebKit\/(\d+)\./))return e.browser="Not a supported browser.",e;e.browser="safari",e.version=this.extractVersion(navigator.userAgent,/AppleWebKit\/(\d+)\./,1)}return e},shimCreateObjectURL:function(){if("object"==typeof window&&window.HTMLMediaElement&&"srcObject"in window.HTMLMediaElement.prototype){var e=URL.createObjectURL.bind(URL),t=URL.revokeObjectURL.bind(URL),n=new Map,o=0;URL.createObjectURL=function(t){if("getTracks"in t){var r="polyblob:"+ ++o;return n.set(r,t),console.log("URL.createObjectURL(stream) is deprecated! Use elem.srcObject = stream instead!"),r}return e(t)},URL.revokeObjectURL=function(e){t(e),n.delete(e)};var r=Object.getOwnPropertyDescriptor(window.HTMLMediaElement.prototype,"src");Object.defineProperty(window.HTMLMediaElement.prototype,"src",{get:function(){return r.get.apply(this)},set:function(e){return this.srcObject=n.get(e)||null,r.set.apply(this,[e])}});var s=HTMLMediaElement.prototype.setAttribute;HTMLMediaElement.prototype.setAttribute=function(){return 2===arguments.length&&"src"===(""+arguments[0]).toLowerCase()&&(this.srcObject=n.get(arguments[1])||null),s.apply(this,arguments)}}}};e.exports={log:r.log,disableLog:r.disableLog,browserDetails:r.detectBrowser(),extractVersion:r.extractVersion,shimCreateObjectURL:r.shimCreateObjectURL,detectBrowser:r.detectBrowser.bind(r)}},,,,function(e,t){throw new Error("Module build failed: ModuleBuildError: Module build failed: Error: The system cannot find the path specified.\r\n\n    at notFoundError (C:\\Users\\roy\\comm100\\vm\\node_modules\\exec-buffer\\node_modules\\cross-spawn\\lib\\enoent.js:11:11)\n    at verifyENOENT (C:\\Users\\roy\\comm100\\vm\\node_modules\\exec-buffer\\node_modules\\cross-spawn\\lib\\enoent.js:46:16)\n    at ChildProcess.cp.emit (C:\\Users\\roy\\comm100\\vm\\node_modules\\exec-buffer\\node_modules\\cross-spawn\\lib\\enoent.js:33:19)\n    at Process.ChildProcess._handle.onexit (internal/child_process.js:215:12)\n    at runLoaders (C:\\Users\\roy\\comm100\\vm\\node_modules\\webpack\\lib\\NormalModule.js:176:19)\n    at C:\\Users\\roy\\comm100\\vm\\node_modules\\loader-runner\\lib\\LoaderRunner.js:364:11\n    at C:\\Users\\roy\\comm100\\vm\\node_modules\\loader-runner\\lib\\LoaderRunner.js:230:18\n    at context.callback (C:\\Users\\roy\\comm100\\vm\\node_modules\\loader-runner\\lib\\LoaderRunner.js:111:13)\n    at imagemin.buffer.then.catch.err (C:\\Users\\roy\\comm100\\vm\\node_modules\\image-webpack-loader\\index.js:58:9)")},,,,,function(e,t){throw new Error("Module build failed: Error: The system cannot find the path specified.\r\n\n    at notFoundError (C:\\Users\\roy\\comm100\\vm\\node_modules\\exec-buffer\\node_modules\\cross-spawn\\lib\\enoent.js:11:11)\n    at verifyENOENT (C:\\Users\\roy\\comm100\\vm\\node_modules\\exec-buffer\\node_modules\\cross-spawn\\lib\\enoent.js:46:16)\n    at ChildProcess.cp.emit (C:\\Users\\roy\\comm100\\vm\\node_modules\\exec-buffer\\node_modules\\cross-spawn\\lib\\enoent.js:33:19)\n    at Process.ChildProcess._handle.onexit (internal/child_process.js:215:12)")},,,,,,,,,,,function(e,t,n){"use strict";var o=n(3),r=n.n(o),s=n(1),i=(n.n(s),n(1026)),a=function(e){var t=e.identityType,o=n(961),s="Visitor";if(e.isContactOrUserOpen)switch(t){case i.a:o=n(1325),s="User";break;case i.b:o=n(1324),s="Contact";break;case i.c:o=n(961),s="Visitor";break;default:o=n(961),s=""}return r()("img",{"data-tip":s,"data-for":"chatContainer",src:e.avatarLink?e.avatarLink:o,alt:""})};t.a=a},function(e,t,n){"use strict";var o=n(4),r=n.n(o),s=n(31),i=n.n(s),a=n(172),c=n(382),l=n(89);n.d(t,"g",function(){return d}),n.d(t,"m",function(){return p}),n.d(t,"l",function(){return f}),n.d(t,"k",function(){return h}),n.d(t,"i",function(){return v}),n.d(t,"h",function(){return y}),n.d(t,"e",function(){return b}),n.d(t,"a",function(){return C}),n.d(t,"b",function(){return w}),n.d(t,"d",function(){return T}),n.d(t,"f",function(){return x}),n.d(t,"j",function(){return k}),n.d(t,"c",function(){return I});var u=function(e){if(e){var t=e.lastIndexOf("__c");if(t==-1||t!=e.length-3)return!0}return!1},d=function(e){var t=e.type,n=e.label;return u(e.systemName)&&t===c.a.reference?n.replace(" ID",""):n},p=function(e){if(!u(e.systemName)&&e.type===c.a.reference){if(null!=e.relatedObjects&&e.relatedObjects.length>0){var t=e.relatedObjects[0];if("Account"==t||"Contact"==t||"Queue"==t||"User"==t||"__c"==t.substr(t.length>3?t.length-3:0))return!0}return!1}return!0},f=function(e){return e?e.replace(/[^\d]/g,""):e},h=function(e){return e?e.replace(/[^\d\-\.]/g,""):e},g=/^(\w)+(\.\w+)*@(\w)+(\.\w+)+$/,v=function(e){return g.test(e)},m=/^-?\d+(\.\d*)?$/,y=function(e){return m.test(e)},b=function(e){if(!e)return"";var t=e.valueOf();t+=60*e.getTimezoneOffset()*1e3;var o=new Date(t);return n.i(l.e)(o,"yyyy-MM-ddThh:mm:00.000Z")},C=function(e){var t=parseInt(e.substr(0,4)),n=parseInt(e.substr(5,2)),o=parseInt(e.substr(8,2)),r=parseInt(e.substr(11,2)),s=parseInt(e.substr(14,2)),i=new Date(t,n-1,o,r,s,0,0),a=i.valueOf();return a-=6e4*i.getTimezoneOffset(),new Date(a)},w=function(e){var t=parseInt(e.substr(0,4)),n=parseInt(e.substr(5,2)),o=parseInt(e.substr(8,2)),r=new Date(t,n-1,o,0,0,0,0),s=r.valueOf();return s-=6e4*r.getTimezoneOffset(),new Date(s)},S=function(e,t,n){var o="";switch(t){case c.b:o=e.get("chatTimes");break;case c.c:o=e.get("city");break;case c.d:o=e.get("country");break;case c.e:o=e.get("currentPage");break;case c.f:o=e.get("searchEngineKeywords");break;case c.g:o=e.get("referrer");break;case c.h:o=e.get("searchEngine");break;case c.i:o=e.get("state");break;case c.j:o=e.get("visitorTimes");break;case c.k:o=e.get("latestEmail");break;case c.l:o=e.get("latestName");break;case c.m:o=e.get("prechatPhone");break;case c.n:o=e.get("prechatCompany");break;case c.o:o=e.get("ip");break;case c.p:o=e.get("language");break;case c.q:o=e.get("timezone");break;case c.r:o=e.get("landingPageUrl");break;case c.s:o=e.get("chatRequestingUrl");break;case c.t:o=e.get("prechatProductService");break;case c.u:o=e.get("state");break;case c.v:o=e.get("browser");break;case c.w:o=e.get("operatingSystem");break;case c.x:o=e.get("screenResolution");break;case c.y:o=e.get("flashVersion");break;case c.z:o=n;break;case c.A:o=b(e.get("chatBeginTime"));break;case c.B:o="";break;case c.C:o=""}if(t.indexOf(c.D)){var r=t.substr(c.D.length),s=i()(e.get("customVariables"),function(e){return e.name===r});s&&(o=s.value)}else if(t.indexOf(c.E)){var a=t.substr(c.E.length),l=i()(e.get("customFields"),function(e){return e.name===a});l&&(o=l.value)&&(o=o.replace(/⊙/g,";"))}return o},T=function(e,t,n){return e.filter(function(e){return e.comm100FieldName}).map(function(e){var o=S(t,e.comm100FieldName,n);return o?{name:e.sfFeildSystemName,value:o,displayValue:""}:null}).filter(function(e){return e})},x=function(e){return e.reduce(function(e,t){var n={};return t?(n[t.name]=t.value,r()(e,n)):e},{})},k=function(e,t){return x(e.map(function(e){var o=void 0;return t&&t.length>0&&(o=i()(t,function(t){return t.name===e.systemName})),e.type===c.a.bool?{name:e.systemName,value:!!o&&("boolean"==typeof o.value?o.value:"true"==o.value)}:e.type===c.a.dateTime?o&&o.value?{name:e.systemName,value:n.i(a.default)(C(o.value))}:{name:e.systemName,value:""}:e.type===c.a.date?o&&o.value?{name:e.systemName,value:n.i(a.default)(w(o.value))}:{name:e.systemName,value:""}:e.type===c.a.reference?{name:e.systemName,value:o?{id:o.value,value:o.displayValue}:{id:"",value:""}}:e.type===c.a.picklist&&e.required&&e.picklistValues.length>0?{name:e.systemName,value:o?o.value:e.picklistValues[0]}:{name:e.systemName,value:o?o.value:""}}))},I=function(e){if(e){var t=e.find(function(e){return"Id"===e.name});return t?t.value:""}return""}},function(e,t,n){"use strict";var o=n(3),r=n.n(o),s=n(1),i=(n.n(s),n(375)),a=n.n(i),c=n(771),l=n(1048),u=n.n(l),d=function(e){var t=e.effect,n=e.place,o=e.id;return r()(a.a,{effect:t,place:n,class:u.a.container,id:o})};d.rebuild=c.a(a.a.rebuild),d.show=a.a.show,d.hide=c.a(a.a.hide),t.a=d},,,,,,function(e,t){e.exports={chatHeader:"ChatHeader__chatHeader--2Px8C",visitorDetails:"ChatHeader__visitorDetails--2nE2E",avatar:"ChatHeader__avatar--3teOQ",details:"ChatHeader__details--98r8e",name:"ChatHeader__name--1dwu_",others:"ChatHeader__others--1ml66",action:"ChatHeader__action--ODKC9",btnAction:"ChatHeader__btnAction--3J-NO",btnAaction:"ChatHeader__btnAaction--1bGJL",tooltip:"ChatHeader__tooltip--2cHr7",marginRight10:"ChatHeader__marginRight10--1GaZY"}},function(e,t){e.exports={multipleText:"TextArea__multipleText--1J3OF",error:"TextArea__error--3le0n"}},,,,,,function(e,t,n){"use strict";function o(){return"rc-upload-"+r+"-"+ ++s}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=+new Date,s=0;e.exports=t.default},,,function(e,t,n){"use strict";var o=n(3),r=n.n(o),s=n(1),i=(n.n(s),n(100)),a=n(99),c=(n.n(a),function(e){return r()(i.a,{closeModal:e.closeModal,className:a.default.standbyNotice,title:"Notice",actions:{cancelProps:{text:"OK"}}},void 0,r()("div",{},void 0,e.text))});t.a=c},,function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"c",function(){return r}),n.d(t,"d",function(){return s}),n.d(t,"e",function(){return i}),n.d(t,"f",function(){return a}),n.d(t,"g",function(){return c}),n.d(t,"h",function(){return l}),n.d(t,"i",function(){return u}),n.d(t,"j",function(){return d}),n.d(t,"k",function(){return p}),n.d(t,"l",function(){return f}),n.d(t,"a",function(){return h}),n.d(t,"q",function(){return g}),n.d(t,"r",function(){return v}),n.d(t,"s",function(){return m}),n.d(t,"t",function(){return y}),n.d(t,"u",function(){return b}),n.d(t,"m",function(){return C}),n.d(t,"o",function(){return w}),n.d(t,"n",function(){return S}),n.d(t,"p",function(){return T});var o="Waiting for Chat",r="Chatting",s="Prechat",i="Manually Invited",a="Auto Invited",c="Offline Message",l="Refused by Agent",u="Refused by Visitor",d="Chat Ended",p="In Site",f="Out of Site",h="Transferring",g="Manually Invited",v="System Processing",m="Waiting for Chat (Source: Invitation)",y="Monitoring (Chat Ended)",b="Monitoring (Chatting)",C="Requesting Audio Chat",w="Requesting Video Chat",S="Audio Chatting",T="Video Chatting"},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var o=n(3),r=n.n(o),s=n(22),i=n.n(s),a=n(14),c=n.n(a),l=n(16),u=n.n(l),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(1),v=n.n(g),m=n(172),y=n(54),b=n(35),C=n.n(b),w=n(69),S=n(956),T=(n.n(S),n(2)),x=n(349),k=n(972),I=function(e){switch(e){case x.d:return"Audio Chat";case x.f:return"Audio Chat...";case x.e:return"Video Chat";case x.g:return"Video Chat...";case x.b:return"Audio Chat";default:return""}},E=function(e){return e===x.d||e===x.e},P=function(e){return e===x.d||e===x.e||e===x.f||e===x.g||e===x.b||e===x.c},_=function(e){return e===x.c},R=function(e){return e===x.b||e===x.c},M=function(e){return e===x.b||e===x.f||e===x.d?T.b.requestAudioChat:T.b.requestVideoChat},A=function(e,t){var n=e.getTime(),o=t.getTime();if(n<o)return"";var r=n-o;return m.default.utc(r).format(r<36e5?"mm:ss":"HH:mm:ss")},U=function(e){function t(e){c()(this,t);var n=p()(this,(t.__proto__||i()(t)).call(this,e));return R(e.audioVideoChatStatus)?n.state={timespan:A(new Date,e.audioVideoChatStartTime)}:n.state={timespan:""},n}return h()(t,e),u()(t,[{key:"componentWillMount",value:function(){R(this.props.audioVideoChatStatus)&&this.startClock()}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.audioVideoChatStatus,n=e.audioVideoChatStatus;t!==n&&(R(t)&&!R(n)&&clearInterval(this.clock),!R(t)&&R(n)&&this.startClock())}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.p2pChat;if(null!=t&&_(e.audioVideoChatStatus)&&this.videoContainer){var n=t.getLocalVideo();n&&(n.id="localVideo",n.className=S.default.localVideo,null==document.getElementById(n.id)&&this.videoContainer.appendChild(n));var o=t.getRemoteVideo();o&&(o.id="remoteVideo",o.className=S.default.remoteVideo,null==document.getElementById(o.id)&&this.videoContainer.appendChild(o))}}},{key:"componentWillUnmount",value:function(){clearInterval(this.clock),this.props.p2pChat&&(this.props.p2pChat.getLocalVideo().remove(),this.props.p2pChat.getRemoteVideo().remove())}},{key:"startClock",value:function(){var e=this;this.clock=setInterval(function(){return e.setState({timespan:A(new Date,e.props.audioVideoChatStartTime)})},1e3)}},{key:"render",value:function(){var e=this,t=this.props,n=_(t.audioVideoChatStatus),o=this.state.timespan;return r()("div",{className:C()(S.default.chatVideoContainer,n&&S.default.videoChatting)},void 0,r()("div",{className:S.default.chatVideoItem},void 0,n&&v.a.createElement("div",{className:S.default.videoContainer,ref:function(t){e.videoContainer=t}}),n&&r()("div",{className:S.default.chattingInfo},void 0,r()("div",{className:S.default.time},void 0,o.toString())),!n&&r()("div",{className:S.default.avatarContainer},void 0,r()(k.a,{isContactOrUserOpen:t.isContactOrUserOpen,avatarLink:t.avatarLink,identityType:t.identityType})),!n&&r()("div",{className:S.default.visitorName},void 0,t.chatTo),!n&&r()("div",{className:S.default.notice},void 0,r()(w.a,{type:M(t.audioVideoChatStatus)}),I(t.audioVideoChatStatus)+" "+o),r()("div",{className:S.default.action},void 0,E(t.audioVideoChatStatus)&&r()(y.a,{className:S.default.accept,onClick:t.onAcceptClick,type:"noborder"},void 0,r()(w.a,{type:T.b.acceptChat})),P(t.audioVideoChatStatus)&&r()(y.a,{className:S.default.refuse,type:"noborder",onClick:t.onRefuseClick},void 0,r()(w.a,{type:T.b.refuseChat})))))}}]),t}(v.a.Component);t.a=U},function(e,t,n){"use strict";var o=n(3),r=n.n(o),s=n(22),i=n.n(s),a=n(14),c=n.n(a),l=n(16),u=n.n(l),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(23),v=n.n(g),m=n(119),y=n.n(m),b=n(6),C=n.n(b),w=n(1),S=n.n(w),T=n(35),x=n.n(T),k=n(125),I=(n.n(k),n(379)),E=n(54),P=n(956),_=(n.n(P),n(171)),R=n(1018),M=n(2),A=n(69),U=n(1016),N=n(349),D=n(765),O=function(e){var t;return(t={},v()(t,I.b,P.default.chatContentsmall),v()(t,I.a,P.default.chatContentmiddle),v()(t,I.c,P.default.chatContentlarge),t)[e]},L=function(e){return C()(e.last())&&0!==e.last().length?e.last()[0].sender:""},F=function(e){return C()(e.last())&&0!==e.last().length?e.last()[e.last().length-1].message||e.last()[e.last().length-1].fileName:""},j=r()(E.a,{type:"noborder"},void 0,"Not Now"),B=function(e){function t(e){c()(this,t);var n=p()(this,(t.__proto__||i()(t)).call(this,e));return n.state={ifShowGotoMeetingNotify:!1},n.update=n.update.bind(n),n.selectChatMessage=n.selectChatMessage.bind(n),n.closeGotoMeetingNotify=n.closeGotoMeetingNotify.bind(n),n.scrollBottom=n.scrollBottom.bind(n),n.getScrollHeight=n.getScrollHeight.bind(n),n.canShowNotify=!1,n.scrollTop=e.scrollTop,n.timer=null,n.ifScrollBottom=!1,n.notifyVisitor=L(e.messages),n.notifyMessage=F(e.messages),n}return h()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.parent.scrollTop=this.getScrollHeight(),this.parent.addEventListener("scroll",this.update,!1),document.body.addEventListener("keydown",this.selectChatMessage,!1)}},{key:"componentWillReceiveProps",value:function(e){var t=e.messages;this.notifyVisitor=L(t),this.notifyMessage=F(t),this.props.g2mStartUrl===e.g2mStartUrl||this.state.ifShowGotoMeetingNotify||this.setState({ifShowGotoMeetingNotify:!0}),this.scrollTop=e.scrollTop}},{key:"shouldComponentUpdate",value:function(e,t){return e.id!==this.props.id||e.selectedFontSize!==this.props.selectedFontSize||e.typingMessage!==this.props.typingMessage||e.textDirectionIfRTL!==this.props.textDirectionIfRTL||e.errorMessageForChat!==this.props.errorMessageForChat||e.g2mStartUrl!==this.props.g2mStartUrl||e.ifShowNotify!==this.props.ifShowNotify||e.audioVideoChatWidth!==this.props.audioVideoChatWidth||e.audioVideoChatStatus!==this.props.audioVideoChatStatus||t.ifShowGotoMeetingNotify!==this.state.ifShowGotoMeetingNotify||!y()(this.props.messages.toJS(),e.messages.toJS())}},{key:"componentDidUpdate",value:function(e){this.props.messages===e.messages&&this.props.typingMessage===e.typingMessage||(this.parent.scrollTop=this.getScrollHeight())}},{key:"componentWillUnmount",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null),this.parent.removeEventListener("scroll",this.update),document.body.removeEventListener("keydown",this.selectChatMessage)}},{key:"getScrollHeight",value:function(){return this.scrollTop===-1?this.parent.scrollHeight:this.scrollTop}},{key:"update",value:function(e){var t=this;this.scrollTop=e.target.scrollTop;var n=e.target.clientHeight,o=e.target.scrollHeight;this.canShowNotify=this.scrollTop+n<o-20,!this.canShowNotify&&this.props.ifShowNotify&&this.props.updateIfShowNotify(!1),this.canShowNotify?this.ifScrollBottom=!1:(this.timer&&(clearTimeout(this.timer),this.timer=null),this.ifScrollBottom=!0,this.props.onScroll(this.props.id,-1)),this.props.onScroll&&!this.ifScrollBottom&&(this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout(function(){t.props.onScroll(t.props.id,t.scrollTop)},500))}},{key:"selectChatMessage",value:function(e){if(e.ctrlKey&&(65===e.keyCode||97===e.keyCode)&&(e.target===document.body||e.target===this.parent)){if(document.selection){var t=document.body.createTextRange();t.moveToElementText(this.parent),t.select()}else if(window.getSelection){var n=window.getSelection();n.rangeCount>0&&n.removeAllRanges();var o=document.createRange();o.selectNode(this.parent),n.addRange(o)}e.preventDefault(),e.stopPropagation()}}},{key:"closeGotoMeetingNotify",value:function(){this.setState({ifShowGotoMeetingNotify:!1}),this.props.clearG2mStartUrl()}},{key:"scrollBottom",value:function(){this.parent.scrollTop=this.container.getBoundingClientRect().height,this.ifScrollBottom=!0,this.props.onScroll(this.props.id,-1)}},{key:"render",value:function(){var e=this,t=this.props,n=r()("div",{className:P.default.chatContentContainer},void 0,S.a.createElement("div",{className:x()(P.default.chatContent,O(t.selectedFontSize),t.textDirectionIfRTL?P.default.directionRTL:"","contentMenu"),ref:function(t){e.parent=t}},S.a.createElement("div",{ref:function(t){e.container=t}},t.messages.map(function(t,n){return r()(R.a,{messages:t,getSecureFormContent:e.props.getSecureFormContent,timezone:e.props.timezone,timezoneOffset:e.props.timezoneOffset},n)})),""!==t.typingMessage?r()("div",{className:P.default.typingIndicator},void 0,r()("span",{},void 0,t.chatTo," is typing: "),t.typingMessage,"...",r()(A.a,{type:M.b.typing,size:13})):null),this.props.ifShowNotify&&this.props.scrollTop!==-1&&r()("div",{className:P.default.notify,onClick:this.scrollBottom},void 0,r()("span",{className:P.default.notifyName},void 0,this.notifyVisitor,":")," ",this.notifyMessage),t.g2mStartUrl&&this.state.ifShowGotoMeetingNotify?r()("div",{className:x()(P.default.notify,P.default.notifyG2M)},void 0,"You have created a new meeting.",r()("span",{className:P.default.action,onClick:this.closeGotoMeetingNotify},void 0,r()(_.a,{href:t.g2mStartUrl,newWindow:!0},void 0,"Start Meeting Immediately"),j)):"",t.errorMessageForChat?r()("div",{className:P.default.error},void 0,r()("span",{className:P.default.errorContent},void 0,t.errorMessageForChat),r()(E.a,{type:"noborder",onClick:t.hideErrorMessage},void 0,"Dismiss")):"");return r()("div",{className:P.default.chatContainer},void 0,t.audioVideoChatStatus&&t.audioVideoChatStatus!==N.a?r()(D.default,{resizerPosition:"left",width:t.audioVideoChatWidth,left_minWidth:110,right_minWidth:110,onStopResize:t.onAudioAndVideoStopResize},void 0,r()(U.a,{audioVideoChatStatus:t.audioVideoChatStatus,chatTo:t.chatTo,avatarLink:t.visitorAvatar,isContactOrUserOpen:t.isContactOrUserOpen,identityType:t.identityType,onAcceptClick:this.props.onAudioVideoChatAccept,onRefuseClick:this.props.onAudioVideoChatRefuse,p2pChat:t.p2pChat,audioVideoChatStartTime:t.audioVideoChatStartTime}),n):r()("div",{},void 0,n))}}]),t}(S.a.Component);t.a=B},function(e,t,n){"use strict";var o=n(22),r=n.n(o),s=n(14),i=n.n(s),a=n(16),c=n.n(a),l=n(21),u=n.n(l),d=n(20),p=n.n(d),f=n(3),h=n.n(f),g=n(1),v=n.n(g),m=n(35),y=n.n(m),b=n(89),C=n(171),w=n(243),S=n(159),T=n(956),x=(n.n(T),n(69)),k=n(2),I=h()("i",{},void 0,"(Translation)"),E=h()("br",{}),P=h()("i",{},void 0,"(Original)"),_=function(e){if(e.translatedMessage&&""!==e.translatedMessage){var t="",n="";return t=S.e(e.translatedMessage,function(e,t){var n=0===e.indexOf("www.")?"http://"+e:e;return h()(C.a,{href:n,newWindow:!0},t,e)}),n=S.e(e.message,function(e,t){var n=0===e.indexOf("www.")?"http://"+e:e;return h()(C.a,{href:n,newWindow:!0},t,e)}),h()("p",{},e.id,t," ",I,E,h()("span",{className:T.default.translationMsg},void 0,n)," ",P)}return h()("p",{},e.id,S.e(e.message,function(e,t){var n=0===e.indexOf("www.")?"http://"+e:e;return h()(C.a,{href:n,newWindow:!0},t,e)}))},R=function(e){return e.url?h()("div",{},e.id,h()(C.a,{href:e.url,newWindow:!0},e.id,h()("img",{src:e.url,alt:e.filename,style:{maxWidth:400,maxHeight:400}}))):null},M=function(e){return h()("div",{},e.id,h()(C.a,{className:T.default.attachment,href:e.url,newWindow:!0},e.id,e.fileName))},A=function(e){return e.message?_(e):e.url?e.isImage?R(e):M(e):null},U=function(e){function t(){return i()(this,t),u()(this,(t.__proto__||r()(t)).apply(this,arguments))}return p()(t,e),c()(t,[{key:"componentDidMount",value:function(){var e=this.props.messages[0];e.type===w.d&&e.message.status===k.n.init&&this.props.getSecureFormContent(e.message.token,e.message.rsaKey)}},{key:"shouldComponentUpdate",value:function(e){return e.messages!==this.props.messages}},{key:"render",value:function(){var e=this.props.messages,t=e[0].sender,o=n.i(b.f)(e[0].time,"HH:mm",this.props.timezone,this.props.timezoneOffset),r=e[0].type;return r===w.b?h()("div",{className:y()(T.default.systemMeg)},void 0,e[0].message):h()("div",{className:y()(T.default.chatContentInfo,r===w.c?T.default.operator:T.default.visitor)},void 0,r===w.d?h()("div",{className:T.default.secureForm},void 0,e[0].message.status===k.n.downloading||e[0].message.status===k.n.init?h()(x.a,{type:k.b.loading,size:"small"}):e[0].message.content.map(function(e){return h()("div",{},void 0,e.name,": ",e.value)})):h()("div",{},void 0,h()("div",{},void 0,h()("span",{className:T.default.name},void 0,t+": "),h()("span",{className:T.default.time},void 0,o)),h()("div",{className:T.default.chatMeg},void 0,e.map(function(e){return A(e)}))))}}]),t}(v.a.Component);t.a=U},function(e,t,n){"use strict";var o=n(3),r=n.n(o),s=n(1),i=(n.n(s),n(1043)),a=n.n(i),c=(n(54),function(e){return r()("div",{className:a.a.uploadProgressContainer},void 0,e.fileUploadProgressNumber>0&&e.fileUploadProgressNumber<100?r()("div",{className:a.a.uploadProgress},void 0,r()("span",{className:a.a.uploadFileName},void 0,e.fileName),r()("span",{className:a.a.uploadProgressPercent},void 0,e.fileUploadProgressNumber,"%"),r()("button",{className:a.a.cancelUpload,onClick:function(){return e.handleAbortUpload(e.file)}},void 0,"×")):"")});t.a=c},function(e,t,n){"use strict";var o=n(3),r=n.n(o),s=n(1),i=(n.n(s),n(35)),a=n.n(i),c=n(377),l=n(221),u=(n.n(l),function(e){var t="-"!==e.name?e.name:"Unknown",n="",o=e.name.toLowerCase();return n=o.indexOf("chrome")!==-1?"chrome":o.indexOf("ie")!==-1?"ie":o.indexOf("edge")!==-1?"edge":o.indexOf("firefox")!==-1?"firefox":o.indexOf("safari")!==-1?"safari":o.indexOf("opera")!==-1?"opera":"default",r()("span",{"data-tip":t,"data-for":"chatContainer"},void 0,r()(c.a,{className:a()(l.default["browser-"+n],l.default.iconOffsetDown)}))});t.a=u},function(e,t,n){"use strict";var o=n(47),r=n.n(o),s=n(3),i=n.n(s),a=n(22),c=n.n(a),l=n(14),u=n.n(l),d=n(16),p=n.n(d),f=n(21),h=n.n(f),g=n(20),v=n.n(g),m=n(1310),y=n.n(m),b=n(1),C=n.n(b),w=n(35),S=n.n(w),T=n(1316),x=n.n(T),k=n(221),I=(n.n(k),n(69)),E=n(2),P=n(17),_=n(1019),R=n.i(P.e)("SendFile",["disabled"],["file","fileName","fileUploadProgressNumber","uploadedFileNumber","errorMessage"]),M=function(e){function t(e){u()(this,t);var o=h()(this,(t.__proto__||c()(t)).call(this,e));return o.beforeUpload=function(e){var t=o.props.siteInfo;return e.size<=1024*t.maxFileSize*1024?o.state.uploadedFileNumber>t.maxFileNum?(o.showErrorMessage("Error sending file: The max number of files you can send/receive during this chat session is\n                          "+t.maxFileNum+"."),!1):!o.props.beforeUpload||o.props.beforeUpload(e):(o.showErrorMessage("Error sending file: The max file size is "+t.maxFileSize+" MB."),!1)},o.onProgress=function(e,t){o.props.onProgress&&o.props.onProgress(e,t,o.upload),o.setState({file:t,fileName:t.name,fileUploadProgressNumber:100===e.percent?100:parseFloat(e.percent.toFixed(1))})},o.onSuccess=function(e,t){if(e&&("success"===e||e.isSuccess))return o.setState({uploadedFileNumber:o.state.uploadedFileNumber+1}),void(o.props.onSuccess&&o.props.onSuccess(e,t,o.getDownloadUrl(e.guid,t.name),o.props.siteInfo));var n=e.errorMessage||e;o.showErrorMessage("Error sending file: "+n)},o.getDownloadUrl=function(e,t){if(!o.props.siteInfo)return"";var r=o.props.siteInfo,s=r.downloadUrl,i=r.sessionId,a=r.siteId,c=r.privateMessage;return n.i(P.m)(s,i,a,c,e,t)},o.handleAbortUpload=function(e){o.upload&&o.upload.abort(e),o.setState({fileUploadProgressNumber:0})},o.state={file:null,fileName:"",fileUploadProgressNumber:0,uploadedFileNumber:0,errorMessage:""},o.upload=null,o.showErrorMessage=e.showErrorMessage.bind(null,e.chatId),o.uploadConfig={action:e.siteInfo.sendFileUploadUrl,multiple:!1,disabled:e.disabled,beforeUpload:o.beforeUpload,onStart:e.onStart||y.a,onSuccess:o.onSuccess,onProgress:o.onProgress,onError:e.onError||y.a},o}return v()(t,e),p()(t,[{key:"componentWillReceiveProps",value:function(e){this.uploadConfig.action=e.siteInfo.sendFileUploadUrl,this.uploadConfig.disabled=e.disabled,e.chatId!==this.props.chatId&&(this.showErrorMessage=this.props.showErrorMessage.bind(null,e.chatId))}},{key:"shouldComponentUpdate",value:function(e,t){return R(this.props,e,this.state,t)}},{key:"render",value:function(){var e=this;return this.uploadConfig.disabled=this.props.disabled,this.props.disabled||(100!==this.state.fileUploadProgressNumber&&0!==this.state.fileUploadProgressNumber?this.uploadConfig.disabled=!0:this.uploadConfig.disabled=!1),i()("div",{},void 0,i()(_.a,{file:this.state.file,fileName:this.state.fileName,fileUploadProgressNumber:this.state.fileUploadProgressNumber,handleAbortUpload:this.handleAbortUpload}),i()("span",{className:S()(k.default.fileupload,this.props.className),"data-tip":"Send a file from your local machine.","data-for":"chatContainer"},void 0,C.a.createElement(x.a,r()({ref:function(t){e.upload=t}},this.uploadConfig),i()(I.a,{type:E.b.sendFile}))))}}]),t}(b.Component);t.a=M},function(e,t,n){"use strict";var o=n(3),r=n.n(o),s=n(1),i=(n.n(s),n(35)),a=n.n(i),c=n(221),l=(n.n(c),n(377)),u=function(e){var t=e.city+", "+e.state+", "+e.countryName;if(!e.countryCode)return null;var o=e.countryCode.toLowerCase(),s=n(1327)("./"+o+".svg");return r()("span",{"data-tip":t,"data-for":e["data-for"]||"chatContainer"},void 0,r()(l.a,{className:a()(c.default.iconSmaller,c.default.iconOffsetDown),style:{backgroundImage:"url("+s+")"}}))};t.a=u},function(e,t,n){"use strict";var o=n(3),r=n.n(o),s=n(1),i=(n.n(s),n(35)),a=n.n(i),c=n(377),l=n(221),u=(n.n(l),function(e){var t="-"!==e.name?e.name:"Unknown",n="",o=e.name.toLowerCase();return o.indexOf("windows")!==-1?(n="windows",o.indexOf("windows 10")===-1&&o.indexOf("windows 8")===-1||(n="windows8")):n=o.indexOf("mac")!==-1?"mac":o.indexOf("android")!==-1?"android":o.indexOf("ios")!==-1?"ios":o.indexOf("linux")!==-1?"linux":"default",r()("span",{"data-tip":t,"data-for":"chatContainer"},void 0,r()(c.a,{className:a()(l.default["os-"+n],l.default.iconOffsetDown)}))});t.a=u},,function(e,t,n){"use strict";var o=n(3),r=n.n(o),s=n(22),i=n.n(s),a=n(14),c=n.n(a),l=n(16),u=n.n(l),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(1),v=n.n(g),m=n(100),y=n(948),b=n(758),C=n(17),w=n.i(C.e)("ModalBanChat",["visitorId","realVisitorId","visitorIP","ifOpen"],["banType","comment"]),S=r()("div",{},void 0,"Comment:"),T=function(e){function t(e){c()(this,t);var n=p()(this,(t.__proto__||i()(t)).call(this,e));return n.state={banType:"0",comment:""},n.handleRadioChange=n.handleRadioChange.bind(n),n.handleTextAreaChange=n.handleTextAreaChange.bind(n),n.handleBanChat=n.handleBanChat.bind(n),n}return h()(t,e),u()(t,[{key:"shouldComponentUpdate",value:function(e,t){return w(this.props,e,this.state,t)}},{key:"handleRadioChange",value:function(e){this.setState({banType:e.target.value})}},{key:"handleTextAreaChange",value:function(e){this.setState({comment:e.target.value})}},{key:"handleBanChat",value:function(){var e={banType:this.state.banType,ip:this.props.visitorIP,comment:this.state.comment};this.props.onBanChat(this.props.visitorId,e),this.props.closeModal()}},{key:"render",value:function(){var e=this.props.realVisitorId,t=e>0?" (Visitor Id: "+e+")":"";return r()(m.a,{closeModal:this.props.closeModal,title:"Ban Visitor",actions:{okProps:{text:"OK",eventClick:this.handleBanChat},cancelProps:{text:"Cancel"}}},void 0,r()(b.a,{name:"banvisitor",radioOption:[{text:"Ban visitor from this Visitor Id."+t,value:"0",checked:"0"===this.state.banType},{text:"Ban visitor from this IP. (IP: "+this.props.visitorIP+")",value:"1",checked:"1"===this.state.banType}],handleChange:this.handleRadioChange}),S,r()(y.a,{meta:{},input:{onChange:this.handleTextAreaChange},name:"bancomment",cols:"40",rows:"5"}))}}]),t}(v.a.Component);t.a=T},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return s});var o=2,r=3,s=6},,function(e,t,n){"use strict";var o=n(91),r=n.n(o),s=n(3),i=n.n(s),a=n(1),c=(n.n(a),n(381)),l=n(384),u=n(352);t.a=function(){return i()(c.a,{modules:{VisitorDetailsTab:function(){return n.i(c.b)(new r.a(function(e,t){n.e(6).then(function(t){e(n(993))}.bind(null,n)).catch(n.oe).catch(t)}))}},loading:l.a,retry:u.a},void 0,function(e){var t=e.VisitorDetailsTab;return i()(t,{})})}},,,,,,,,,,,,,,,function(e,t){e.exports={uploadProgressContainer:"FileUploadProgress__uploadProgressContainer--2X8I6",uploadProgress:"FileUploadProgress__uploadProgress--z1S5B",uploadProgressPercent:"FileUploadProgress__uploadProgressPercent--2Kuai",uploadProgressBarContainer:"FileUploadProgress__uploadProgressBarContainer--1y0Vz",uploadProgressBar:"FileUploadProgress__uploadProgressBar--1Y9LY",cancelUpload:"FileUploadProgress__cancelUpload--1YVmG",uploadFileName:"FileUploadProgress__uploadFileName--3j-Sc"}},,function(e,t){e.exports={promptWindow:"Prompt__promptWindow--1pSIE",close:"Prompt__close--1armJ",action:"Prompt__action--8U9t9",dropdown:"Prompt__dropdown--dWvdQ"}},,,function(e,t){e.exports={container:"Tooltip__container--202Gq"}},,,,,function(e,t){e.exports="agent-console/./resources/flags/ad.2w4fR.svg"},function(e,t){e.exports="agent-console/./resources/flags/ae.QKKnW.svg"},function(e,t){e.exports="agent-console/./resources/flags/af.34HyY.svg"},function(e,t){e.exports="agent-console/./resources/flags/ag.3oxDo.svg"},function(e,t){e.exports="agent-console/./resources/flags/ai.1ePWR.svg"},function(e,t){e.exports="agent-console/./resources/flags/al.1vueq.svg"},function(e,t){e.exports="agent-console/./resources/flags/am.47rmP.svg"},function(e,t){e.exports="agent-console/./resources/flags/ao.3jr2Q.svg"},function(e,t){e.exports="agent-console/./resources/flags/aq.3EaFW.svg"},function(e,t){e.exports="agent-console/./resources/flags/ar.2ETX6.svg"},function(e,t){e.exports="agent-console/./resources/flags/as.1p0xc.svg"},function(e,t){e.exports="agent-console/./resources/flags/at.2q7_9.svg"},function(e,t){e.exports="agent-console/./resources/flags/au.3DiLj.svg"},function(e,t){e.exports="agent-console/./resources/flags/aw.4BBWc.svg"},function(e,t){e.exports="agent-console/./resources/flags/ax.36jxg.svg"},function(e,t){e.exports="agent-console/./resources/flags/az.1qUdn.svg"},function(e,t){e.exports="agent-console/./resources/flags/ba.25bIN.svg"},function(e,t){e.exports="agent-console/./resources/flags/bb.BcX82.svg"},function(e,t){e.exports="agent-console/./resources/flags/bd.2fEO9.svg"},function(e,t){e.exports="agent-console/./resources/flags/be.26Thv.svg"},function(e,t){e.exports="agent-console/./resources/flags/bf.2lL_M.svg"},function(e,t){e.exports="agent-console/./resources/flags/bg.3FL0Z.svg"},function(e,t){e.exports="agent-console/./resources/flags/bh.2P2db.svg"},function(e,t){e.exports="agent-console/./resources/flags/bi.xNOIF.svg"},function(e,t){e.exports="agent-console/./resources/flags/bj.2RzLF.svg"},function(e,t){e.exports="agent-console/./resources/flags/bl.AXPio.svg"},function(e,t){e.exports="agent-console/./resources/flags/bm.9mtgH.svg"},function(e,t){e.exports="agent-console/./resources/flags/bn.3SkJy.svg"},function(e,t){e.exports="agent-console/./resources/flags/bo.3Pn4G.svg"},function(e,t){e.exports="agent-console/./resources/flags/bq.2b5iS.svg"},function(e,t){e.exports="agent-console/./resources/flags/br.31kAh.svg"},function(e,t){e.exports="agent-console/./resources/flags/bs.3x6BN.svg"},function(e,t){e.exports="agent-console/./resources/flags/bt.BqUXg.svg"},function(e,t){e.exports="agent-console/./resources/flags/bv.1omMS.svg"},function(e,t){e.exports="agent-console/./resources/flags/bw.fXfB3.svg"},function(e,t){e.exports="agent-console/./resources/flags/by.fkEtY.svg"},function(e,t){e.exports="agent-console/./resources/flags/bz.3zcxn.svg"},function(e,t){e.exports="agent-console/./resources/flags/ca.3yloD.svg"},function(e,t){e.exports="agent-console/./resources/flags/cc.1BE1c.svg"},function(e,t){e.exports="agent-console/./resources/flags/cd.1aL94.svg"},function(e,t){e.exports="agent-console/./resources/flags/cf.1KZPZ.svg"},function(e,t){e.exports="agent-console/./resources/flags/cg.5-Xxi.svg"},function(e,t){e.exports="agent-console/./resources/flags/ch.WYetg.svg"},function(e,t){e.exports="agent-console/./resources/flags/ci.1IYx6.svg"},function(e,t){e.exports="agent-console/./resources/flags/ck.3tyQv.svg"},function(e,t){e.exports="agent-console/./resources/flags/cl.2NI88.svg"},function(e,t){e.exports="agent-console/./resources/flags/cm.9MohG.svg"},function(e,t){e.exports="agent-console/./resources/flags/cn.1N1to.svg"},function(e,t){e.exports="agent-console/./resources/flags/co.1RsuP.svg"},function(e,t){e.exports="agent-console/./resources/flags/cr.3Yju6.svg"},function(e,t){e.exports="agent-console/./resources/flags/cu.3p081.svg"},function(e,t){e.exports="agent-console/./resources/flags/cv.1ygJ9.svg"},function(e,t){e.exports="agent-console/./resources/flags/cw.1RthL.svg"},function(e,t){e.exports="agent-console/./resources/flags/cx.38aoS.svg"},function(e,t){e.exports="agent-console/./resources/flags/cy.uMX3m.svg"},function(e,t){e.exports="agent-console/./resources/flags/cz.eJUf5.svg"},function(e,t){e.exports="agent-console/./resources/flags/de.2Ts3w.svg"},function(e,t){e.exports="agent-console/./resources/flags/dj.1fpHg.svg"},function(e,t){e.exports="agent-console/./resources/flags/dk.3juVM.svg"},function(e,t){e.exports="agent-console/./resources/flags/dm.1rpAy.svg"},function(e,t){e.exports="agent-console/./resources/flags/do.1DAN7.svg"},function(e,t){e.exports="agent-console/./resources/flags/dz.1vHVr.svg"},function(e,t){e.exports="agent-console/./resources/flags/ec.hwbbX.svg"},function(e,t){e.exports="agent-console/./resources/flags/ee.KILMu.svg"},function(e,t){e.exports="agent-console/./resources/flags/eg.3U_QX.svg"},function(e,t){e.exports="agent-console/./resources/flags/eh.2skcW.svg"},function(e,t){e.exports="agent-console/./resources/flags/er.3T2BO.svg"},function(e,t){e.exports="agent-console/./resources/flags/es.1iqTD.svg"},function(e,t){e.exports="agent-console/./resources/flags/et.17Ajh.svg"},function(e,t){e.exports="agent-console/./resources/flags/eu.3bw_3.svg"},function(e,t){e.exports="agent-console/./resources/flags/fi.3ztSq.svg"},function(e,t){e.exports="agent-console/./resources/flags/fj.1cU11.svg"},function(e,t){e.exports="agent-console/./resources/flags/fk.2QJ47.svg"},function(e,t){e.exports="agent-console/./resources/flags/fm.1CfPN.svg"},function(e,t){e.exports="agent-console/./resources/flags/fo.3iKwE.svg"},function(e,t){e.exports="agent-console/./resources/flags/fr.2piL-.svg"},function(e,t){e.exports="agent-console/./resources/flags/ga.3NQKi.svg"},function(e,t){e.exports="agent-console/./resources/flags/gb-eng.3CFDF.svg"},function(e,t){e.exports="agent-console/./resources/flags/gb-nir.36y8P.svg"},function(e,t){e.exports="agent-console/./resources/flags/gb-sct.1ByLH.svg"},function(e,t){e.exports="agent-console/./resources/flags/gb-wls._syZw.svg"},function(e,t){e.exports="agent-console/./resources/flags/gb.14AVo.svg"},function(e,t){e.exports="agent-console/./resources/flags/gd.1Stf-.svg"},function(e,t){e.exports="agent-console/./resources/flags/ge.2zNqV.svg"},function(e,t){e.exports="agent-console/./resources/flags/gf.qc_td.svg"},function(e,t){e.exports="agent-console/./resources/flags/gg.31NRj.svg"},function(e,t){e.exports="agent-console/./resources/flags/gh.1Tgnf.svg"},function(e,t){e.exports="agent-console/./resources/flags/gi.1nA7a.svg"},function(e,t){e.exports="agent-console/./resources/flags/gl.hATVw.svg"},function(e,t){e.exports="agent-console/./resources/flags/gm.xpnyt.svg"},function(e,t){e.exports="agent-console/./resources/flags/gn.1aCvk.svg"},function(e,t){e.exports="agent-console/./resources/flags/gp.2piL-.svg"},function(e,t){e.exports="agent-console/./resources/flags/gq.1oDwE.svg"},function(e,t){e.exports="agent-console/./resources/flags/gr.4ZgKs.svg"},function(e,t){e.exports="agent-console/./resources/flags/gs.2543W.svg"},function(e,t){e.exports="agent-console/./resources/flags/gt.35oze.svg"},function(e,t){e.exports="agent-console/./resources/flags/gu.2dYTQ.svg"},function(e,t){e.exports="agent-console/./resources/flags/gw.1LVc9.svg"},function(e,t){e.exports="agent-console/./resources/flags/gy.2vj9x.svg"},function(e,t){e.exports="agent-console/./resources/flags/hk.2v-pS.svg"},function(e,t){e.exports="agent-console/./resources/flags/hm.2wnFl.svg"},function(e,t){e.exports="agent-console/./resources/flags/hn.2ttXd.svg"},function(e,t){e.exports="agent-console/./resources/flags/hr.2lFUr.svg"},function(e,t){e.exports="agent-console/./resources/flags/ht.3E_g7.svg"},function(e,t){e.exports="agent-console/./resources/flags/hu.3JCUx.svg"},function(e,t){e.exports="agent-console/./resources/flags/id.ZZ8zx.svg"},function(e,t){e.exports="agent-console/./resources/flags/ie.3jKk2.svg"},function(e,t){e.exports="agent-console/./resources/flags/il.2IR-H.svg"},function(e,t){e.exports="agent-console/./resources/flags/im.2T3ee.svg"},function(e,t){e.exports="agent-console/./resources/flags/in.zCN5C.svg"},function(e,t){e.exports="agent-console/./resources/flags/io.3Hueg.svg"},function(e,t){e.exports="agent-console/./resources/flags/iq.2-x9U.svg"},function(e,t){e.exports="agent-console/./resources/flags/ir.1FkmY.svg"},function(e,t){e.exports="agent-console/./resources/flags/is.2-htH.svg"},function(e,t){e.exports="agent-console/./resources/flags/it.1pZzK.svg"},function(e,t){e.exports="agent-console/./resources/flags/je.1BsCZ.svg"},function(e,t){e.exports="agent-console/./resources/flags/jm.2Ls7t.svg"},function(e,t){e.exports="agent-console/./resources/flags/jo.1f_fj.svg"},function(e,t){e.exports="agent-console/./resources/flags/jp.UXaTU.svg"},function(e,t){e.exports="agent-console/./resources/flags/ke.hvJXJ.svg"},function(e,t){e.exports="agent-console/./resources/flags/kg.2mryN.svg"},function(e,t){e.exports="agent-console/./resources/flags/kh.2fKfl.svg"},function(e,t){e.exports="agent-console/./resources/flags/ki.rop2G.svg"},function(e,t){e.exports="agent-console/./resources/flags/km.DTOdx.svg"},function(e,t){e.exports="agent-console/./resources/flags/kn.EftCL.svg"},function(e,t){e.exports="agent-console/./resources/flags/kp.4J00M.svg"},function(e,t){e.exports="agent-console/./resources/flags/kr.pR_NP.svg"},function(e,t){e.exports="agent-console/./resources/flags/kw.2obiU.svg"},function(e,t){e.exports="agent-console/./resources/flags/ky.z-Miu.svg"},function(e,t){e.exports="agent-console/./resources/flags/kz.DQkxo.svg"},function(e,t){e.exports="agent-console/./resources/flags/la.2eB4J.svg"},function(e,t){e.exports="agent-console/./resources/flags/lb.30pnU.svg"},function(e,t){e.exports="agent-console/./resources/flags/lc.EKPVR.svg"},function(e,t){e.exports="agent-console/./resources/flags/li.2WpEC.svg"},function(e,t){e.exports="agent-console/./resources/flags/lk.k1C0H.svg"},function(e,t){e.exports="agent-console/./resources/flags/lr.2Uw0P.svg"},function(e,t){e.exports="agent-console/./resources/flags/ls.VBEQt.svg"},function(e,t){e.exports="agent-console/./resources/flags/lt.-y825.svg"},function(e,t){e.exports="agent-console/./resources/flags/lu.3uxLI.svg"},function(e,t){e.exports="agent-console/./resources/flags/lv.ZvSWw.svg"},function(e,t){e.exports="agent-console/./resources/flags/ly.3sE_g.svg"},function(e,t){e.exports="agent-console/./resources/flags/ma.1EL7B.svg"},function(e,t){e.exports="agent-console/./resources/flags/mc.2WhRw.svg"},function(e,t){e.exports="agent-console/./resources/flags/md.vsh0e.svg"},function(e,t){e.exports="agent-console/./resources/flags/me.1qPvt.svg"},function(e,t){e.exports="agent-console/./resources/flags/mf.2piL-.svg"},function(e,t){e.exports="agent-console/./resources/flags/mg.3xRR5.svg"},function(e,t){e.exports="agent-console/./resources/flags/mh.2wUrT.svg"},function(e,t){e.exports="agent-console/./resources/flags/mk.2BczB.svg"},function(e,t){e.exports="agent-console/./resources/flags/ml.1kv7-.svg"},function(e,t){e.exports="agent-console/./resources/flags/mm.2ffBN.svg"},function(e,t){e.exports="agent-console/./resources/flags/mn.lruf-.svg"},function(e,t){e.exports="agent-console/./resources/flags/mo.3sSWi.svg"},function(e,t){e.exports="agent-console/./resources/flags/mp.1O98X.svg"},function(e,t){e.exports="agent-console/./resources/flags/mq.1j0c-.svg"},function(e,t){e.exports="agent-console/./resources/flags/mr.2nSlc.svg"},function(e,t){e.exports="agent-console/./resources/flags/ms.2S4dH.svg"},function(e,t){e.exports="agent-console/./resources/flags/mt.3YVu7.svg"},function(e,t){e.exports="agent-console/./resources/flags/mu.2xe4w.svg"},function(e,t){e.exports="agent-console/./resources/flags/mv.1pAcK.svg"},function(e,t){e.exports="agent-console/./resources/flags/mw.2u2G-.svg"},function(e,t){e.exports="agent-console/./resources/flags/mx.3HHm5.svg"},function(e,t){e.exports="agent-console/./resources/flags/my.2ROqC.svg"},function(e,t){e.exports="agent-console/./resources/flags/mz.1madv.svg"},function(e,t){e.exports="agent-console/./resources/flags/na.3b9ka.svg"},function(e,t){e.exports="agent-console/./resources/flags/nc.2SMtj.svg"},function(e,t){e.exports="agent-console/./resources/flags/ne.2AJeB.svg"},function(e,t){e.exports="agent-console/./resources/flags/nf.3jVrH.svg"},function(e,t){e.exports="agent-console/./resources/flags/ng.1m-Ff.svg"},function(e,t){e.exports="agent-console/./resources/flags/ni.3edd4.svg"},function(e,t){e.exports="agent-console/./resources/flags/nl.2bwMS.svg"},function(e,t){e.exports="agent-console/./resources/flags/no.1IabM.svg"},function(e,t){e.exports="agent-console/./resources/flags/np.IB5s7.svg"},function(e,t){e.exports="agent-console/./resources/flags/nr.3s4iU.svg"},function(e,t){e.exports="agent-console/./resources/flags/nu.2WiGe.svg"},function(e,t){e.exports="agent-console/./resources/flags/nz.gV5t6.svg"},function(e,t){e.exports="agent-console/./resources/flags/om.2IQ-j.svg"},function(e,t){e.exports="agent-console/./resources/flags/pa.22K2M.svg"},function(e,t){e.exports="agent-console/./resources/flags/pe.1_GS_.svg"},function(e,t){e.exports="agent-console/./resources/flags/pf.3tk8E.svg"},function(e,t){e.exports="agent-console/./resources/flags/pg.3w7D2.svg"},function(e,t){e.exports="agent-console/./resources/flags/ph.1K-EN.svg"},function(e,t){e.exports="agent-console/./resources/flags/pk.7QViU.svg"},function(e,t){e.exports="agent-console/./resources/flags/pl.2a9yb.svg"},function(e,t){e.exports="agent-console/./resources/flags/pm.2SMtj.svg"},function(e,t){e.exports="agent-console/./resources/flags/pn.3mRNc.svg"},function(e,t){e.exports="agent-console/./resources/flags/pr.TkG0b.svg"},function(e,t){e.exports="agent-console/./resources/flags/ps.BcoId.svg"},function(e,t){e.exports="agent-console/./resources/flags/pt.3XLbQ.svg"},function(e,t){e.exports="agent-console/./resources/flags/pw.3J0Gx.svg"},function(e,t){e.exports="agent-console/./resources/flags/py.2SA6U.svg"},function(e,t){e.exports="agent-console/./resources/flags/qa.3CXHK.svg"},function(e,t){e.exports="agent-console/./resources/flags/re.2SMtj.svg"},function(e,t){e.exports="agent-console/./resources/flags/ro.1xgq6.svg"},function(e,t){e.exports="agent-console/./resources/flags/rs.28IQy.svg"},function(e,t){e.exports="agent-console/./resources/flags/ru.3RAq4.svg"},function(e,t){e.exports="agent-console/./resources/flags/rw.34cXU.svg"},function(e,t){e.exports="agent-console/./resources/flags/sa.2bh1V.svg"},function(e,t){e.exports="agent-console/./resources/flags/sb.2zDCO.svg"},function(e,t){e.exports="agent-console/./resources/flags/sc.1AnTz.svg"},function(e,t){e.exports="agent-console/./resources/flags/sd.c8kmJ.svg"},function(e,t){e.exports="agent-console/./resources/flags/se.31NU3.svg"},function(e,t){e.exports="agent-console/./resources/flags/sg.8o5QE.svg"},function(e,t){e.exports="agent-console/./resources/flags/sh.1nwc1.svg"},function(e,t){e.exports="agent-console/./resources/flags/si.s4x5x.svg"},function(e,t){e.exports="agent-console/./resources/flags/sj.2HjXs.svg"},function(e,t){e.exports="agent-console/./resources/flags/sk.1xk77.svg"},function(e,t){e.exports="agent-console/./resources/flags/sl.DGVaX.svg"},function(e,t){e.exports="agent-console/./resources/flags/sm.2jefN.svg"},function(e,t){e.exports="agent-console/./resources/flags/sn.1N8aE.svg"},function(e,t){e.exports="agent-console/./resources/flags/so.2wReU.svg"},function(e,t){e.exports="agent-console/./resources/flags/sr.tPEMt.svg"},function(e,t){e.exports="agent-console/./resources/flags/ss.3Geds.svg"},function(e,t){e.exports="agent-console/./resources/flags/st.1gBcE.svg"},function(e,t){e.exports="agent-console/./resources/flags/sv.3MFAg.svg"},function(e,t){e.exports="agent-console/./resources/flags/sx.1QgmA.svg"},function(e,t){e.exports="agent-console/./resources/flags/sy.EZ4pb.svg"},function(e,t){e.exports="agent-console/./resources/flags/sz.3eOag.svg"},function(e,t){e.exports="agent-console/./resources/flags/tc.2Q-RA.svg"},function(e,t){e.exports="agent-console/./resources/flags/td.XwVK8.svg"},function(e,t){e.exports="agent-console/./resources/flags/tf.3xaTz.svg"},function(e,t){e.exports="agent-console/./resources/flags/tg.Jykqh.svg"},function(e,t){e.exports="agent-console/./resources/flags/th.3ETCo.svg"},function(e,t){e.exports="agent-console/./resources/flags/tj.3zkP-.svg"},function(e,t){e.exports="agent-console/./resources/flags/tk.1YQsC.svg"},function(e,t){e.exports="agent-console/./resources/flags/tl.1GOaM.svg"},function(e,t){e.exports="agent-console/./resources/flags/tm.2Ekpc.svg"},function(e,t){e.exports="agent-console/./resources/flags/tn.3KaBy.svg"},function(e,t){e.exports="agent-console/./resources/flags/to.WnJJp.svg"},function(e,t){e.exports="agent-console/./resources/flags/tr.2NjR_.svg"},function(e,t){e.exports="agent-console/./resources/flags/tt.TUf9C.svg"},function(e,t){e.exports="agent-console/./resources/flags/tv.36m3F.svg"},function(e,t){e.exports="agent-console/./resources/flags/tw.2wleo.svg"},function(e,t){e.exports="agent-console/./resources/flags/tz.V_aqs.svg"},function(e,t){e.exports="agent-console/./resources/flags/ua.2llWW.svg"},function(e,t){e.exports="agent-console/./resources/flags/ug.3XVhp.svg"},function(e,t){e.exports="agent-console/./resources/flags/um.1Qc3K.svg"},function(e,t){e.exports="agent-console/./resources/flags/un.2zA6C.svg"},function(e,t){e.exports="agent-console/./resources/flags/us.1Qc3K.svg"},function(e,t){e.exports="agent-console/./resources/flags/uy.1Y1mC.svg"},function(e,t){e.exports="agent-console/./resources/flags/uz.2nIPH.svg"},function(e,t){e.exports="agent-console/./resources/flags/va.H-TnN.svg"},function(e,t){e.exports="agent-console/./resources/flags/vc.cEOJq.svg"},function(e,t){e.exports="agent-console/./resources/flags/ve.1-rAI.svg"},function(e,t){e.exports="agent-console/./resources/flags/vg.27WC7.svg"},function(e,t){e.exports="agent-console/./resources/flags/vi.j0S1B.svg"},function(e,t){e.exports="agent-console/./resources/flags/vn.2F_Zc.svg"},function(e,t){e.exports="agent-console/./resources/flags/vu.3UgNZ.svg"},function(e,t){e.exports="agent-console/./resources/flags/wf.3Mk2v.svg"},function(e,t){e.exports="agent-console/./resources/flags/ws.3o3sr.svg"},function(e,t){e.exports="agent-console/./resources/flags/ye.2ilYd.svg"},function(e,t){e.exports="agent-console/./resources/flags/yt.2SMtj.svg"},function(e,t){e.exports="agent-console/./resources/flags/za.3BjEA.svg"},function(e,t){e.exports="agent-console/./resources/flags/zm.lNiy4.svg"},function(e,t){e.exports="agent-console/./resources/flags/zw.2-n04.svg"},function(e,t){e.exports="agent-console/./resources/flags/zz.1ITA-.svg"},,function(e,t){function n(){}e.exports=n},,,function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(47),s=o(r),i=n(23),a=o(i),c=n(1),l=o(c),u=n(35),d=o(u),p=n(1317),f=o(p),h=n(987),g=o(h),v=l.default.createClass({displayName:"AjaxUploader",propTypes:{component:c.PropTypes.string,style:c.PropTypes.object,prefixCls:c.PropTypes.string,className:c.PropTypes.string,multiple:c.PropTypes.bool,disabled:c.PropTypes.bool,accept:c.PropTypes.string,children:c.PropTypes.any,onStart:c.PropTypes.func,data:c.PropTypes.oneOfType([c.PropTypes.object,c.PropTypes.func]),headers:c.PropTypes.object,beforeUpload:c.PropTypes.func,customRequest:c.PropTypes.func,onProgress:c.PropTypes.func,withCredentials:c.PropTypes.bool},getInitialState:function(){return this.reqs={},{uid:(0,g.default)()}},componentWillUnmount:function(){this.abort()},onChange:function(e){var t=e.target.files;this.uploadFiles(t),this.reset()},onClick:function(){var e=this.refs.file;e&&e.click()},onKeyDown:function(e){"Enter"===e.key&&this.onClick()},onFileDrop:function(e){if("dragover"===e.type)return void e.preventDefault();var t=e.dataTransfer.files;this.uploadFiles(t),e.preventDefault()},uploadFiles:function(e){for(var t=Array.prototype.slice.call(e),n=t.length,o=0;o<n;o++){var r=t[o];r.uid=(0,g.default)(),this.upload(r,t)}},upload:function(e,t){var n=this,o=this.props;if(!o.beforeUpload)return setTimeout(function(){return n.post(e)},0);var r=o.beforeUpload(e,t);r&&r.then?r.then(function(t){var o=Object.prototype.toString.call(t);"[object File]"===o||"[object Blob]"===o?n.post(t):n.post(e)}).catch(function(e){console&&console.log(e)}):r!==!1&&setTimeout(function(){return n.post(e)},0)},post:function(e){var t=this;if(this.isMounted()){var n=this.props,o=n.data,r=n.onStart,s=n.onProgress;"function"==typeof o&&(o=o(e));var i=e.uid,a=n.customRequest||f.default;this.reqs[i]=a({action:n.action,filename:n.name,file:e,data:o,headers:n.headers,withCredentials:n.withCredentials,onProgress:s?function(t){s(t,e)}:null,onSuccess:function(o){delete t.reqs[i],n.onSuccess(o,e)},onError:function(o,r){delete t.reqs[i],n.onError(o,r,e)}}),r(e)}},reset:function(){this.setState({uid:(0,g.default)()})},abort:function(e){var t=this.reqs;if(e){var n=e;e&&e.uid&&(n=e.uid),t[n]&&(t[n].abort(),delete t[n])}else Object.keys(t).forEach(function(e){t[e]&&t[e].abort(),delete t[e]})},render:function(){var e,t=this.props,n=t.component,o=t.prefixCls,r=t.className,i=t.disabled,c=t.style,u=t.multiple,p=t.accept,f=t.children,h=(0,d.default)((e={},(0,a.default)(e,o,!0),(0,a.default)(e,o+"-disabled",i),(0,a.default)(e,r,r),e)),g=i?{}:{onClick:this.onClick,onKeyDown:this.onKeyDown,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,tabIndex:"0"};return l.default.createElement(n,(0,s.default)({},g,{className:h,role:"button",style:c}),l.default.createElement("input",{type:"file",ref:"file",key:this.state.uid,style:{display:"none"},accept:p,multiple:u,onChange:this.onChange}),f)}});t.default=v,e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(23),s=o(r),i=n(47),a=o(i),c=n(1),l=o(c),u=n(88),d=o(u),p=n(35),f=o(p),h=n(987),g=o(h),v=n(1326),m=o(v),y={position:"absolute",top:0,opacity:0,filter:"alpha(opacity=0)",left:0,zIndex:9999},b=l.default.createClass({displayName:"IframeUploader",propTypes:{component:c.PropTypes.string,style:c.PropTypes.object,disabled:c.PropTypes.bool,prefixCls:c.PropTypes.string,className:c.PropTypes.string,accept:c.PropTypes.string,onStart:c.PropTypes.func,multiple:c.PropTypes.bool,children:c.PropTypes.any,data:c.PropTypes.oneOfType([c.PropTypes.object,c.PropTypes.func]),action:c.PropTypes.string,name:c.PropTypes.string},getInitialState:function(){return this.file={},{uploading:!1}},componentDidMount:function(){this.updateIframeWH(),this.initIframe()},componentDidUpdate:function(){this.updateIframeWH()},onLoad:function(){if(this.state.uploading){var e=this.props,t=this.file,n=void 0;try{var o=this.getIframeDocument(),r=o.getElementsByTagName("script")[0];r&&r.parentNode===o.body&&o.body.removeChild(r),n=o.body.innerHTML,e.onSuccess(n,t)}catch(o){(0,m.default)(!1,"cross domain error for Upload. Maybe server should return document.domain script. see Note from https://github.com/react-component/upload"),n="cross-domain",e.onError(o,null,t)}this.endUpload()}},onChange:function(){var e=this,t=this.getFormInputNode(),n=this.file={uid:(0,g.default)(),name:t.value};this.startUpload();var o=this.props;if(!o.beforeUpload)return this.post(n);var r=o.beforeUpload(n);r&&r.then?r.then(function(){e.post(n)},function(){e.endUpload()}):r!==!1?this.post(n):this.endUpload()},getIframeNode:function(){return this.refs.iframe},getIframeDocument:function(){return this.getIframeNode().contentDocument},getFormNode:function(){return this.getIframeDocument().getElementById("form")},getFormInputNode:function(){return this.getIframeDocument().getElementById("input")},getFormDataNode:function(){return this.getIframeDocument().getElementById("data")},getFileForMultiple:function(e){return this.props.multiple?[e]:e},getIframeHTML:function(e){var t="",n="";if(e){t='<script>document.domain="'+e+'";</script>',n='<input name="_documentDomain" value="'+e+'" />'}return'\n    <!DOCTYPE html>\n    <html>\n    <head>\n    <meta http-equiv="X-UA-Compatible" content="IE=edge" />\n    <style>\n    body,html {padding:0;margin:0;border:0;overflow:hidden;}\n    </style>\n    '+t+'\n    </head>\n    <body>\n    <form method="post"\n    encType="multipart/form-data"\n    action="'+this.props.action+'" id="form"\n    style="display:block;height:9999px;position:relative;overflow:hidden;">\n    <input id="input" type="file"\n     name="'+this.props.name+'"\n     style="position:absolute;top:0;right:0;height:9999px;font-size:9999px;cursor:pointer;"/>\n    '+n+'\n    <span id="data"></span>\n    </form>\n    </body>\n    </html>\n    '},initIframeSrc:function(){this.domain&&(this.getIframeNode().src="javascript:void((function(){\n        var d = document;\n        d.open();\n        d.domain='"+this.domain+"';\n        d.write('');\n        d.close();\n      })())")},initIframe:function(){var e=this.getIframeNode(),t=e.contentWindow,n=void 0;this.domain=this.domain||"",this.initIframeSrc();try{n=t.document}catch(o){this.domain=document.domain,this.initIframeSrc(),t=e.contentWindow,n=t.document}n.open("text/html","replace"),n.write(this.getIframeHTML(this.domain)),n.close(),this.getFormInputNode().onchange=this.onChange},endUpload:function(){this.state.uploading&&(this.file={},this.state.uploading=!1,this.setState({uploading:!1}),this.initIframe())},startUpload:function(){this.state.uploading||(this.state.uploading=!0,this.setState({uploading:!0}))},updateIframeWH:function(){var e=d.default.findDOMNode(this),t=this.getIframeNode();t.style.height=e.offsetHeight+"px",t.style.width=e.offsetWidth+"px"},abort:function(e){if(e){var t=e;e&&e.uid&&(t=e.uid),t===this.file.uid&&this.endUpload()}else this.endUpload()},post:function(e){var t=this.getFormNode(),n=this.getFormDataNode(),o=this.props.data,r=this.props.onStart;"function"==typeof o&&(o=o(e));var s=[];for(var i in o)o.hasOwnProperty(i)&&s.push('<input name="'+i+'" value="'+o[i]+'"/>');n.innerHTML=s.join(""),t.submit(),n.innerHTML="",r(e)},render:function(){var e,t=this.props,n=t.component,o=t.disabled,r=t.className,i=t.prefixCls,c=t.children,u=t.style,d=(0,a.default)({},y,{display:this.state.uploading||o?"none":""}),p=(0,f.default)((e={},(0,s.default)(e,i,!0),(0,s.default)(e,i+"-disabled",o),(0,s.default)(e,r,r),e));return l.default.createElement(n,{className:p,style:(0,a.default)({position:"relative",zIndex:0},u)},l.default.createElement("iframe",{ref:"iframe",onLoad:this.onLoad,style:d}),c)}});t.default=b,e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(){}Object.defineProperty(t,"__esModule",{value:!0});var s=n(47),i=o(s),a=n(1),c=o(a),l=n(1313),u=o(l),d=n(1314),p=o(d),f=c.default.createClass({displayName:"Upload",propTypes:{component:a.PropTypes.string,style:a.PropTypes.object,prefixCls:a.PropTypes.string,action:a.PropTypes.string,name:a.PropTypes.string,multipart:a.PropTypes.bool,onError:a.PropTypes.func,onSuccess:a.PropTypes.func,onProgress:a.PropTypes.func,onStart:a.PropTypes.func,data:a.PropTypes.oneOfType([a.PropTypes.object,a.PropTypes.func]),headers:a.PropTypes.object,accept:a.PropTypes.string,multiple:a.PropTypes.bool,disabled:a.PropTypes.bool,beforeUpload:a.PropTypes.func,customRequest:a.PropTypes.func,onReady:a.PropTypes.func,withCredentials:a.PropTypes.bool,supportServerRender:a.PropTypes.bool},getDefaultProps:function(){return{component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onReady:r,onStart:r,onError:r,onSuccess:r,supportServerRender:!1,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1}},getInitialState:function(){return{Component:null}},componentDidMount:function(){this.props.supportServerRender&&this.setState({Component:this.getComponent()},this.props.onReady)},getComponent:function(){return"undefined"!=typeof FormData?u.default:p.default},abort:function(e){this.refs.inner.abort(e)},render:function(){if(this.props.supportServerRender){var e=this.state.Component;return e?c.default.createElement(e,(0,i.default)({},this.props,{ref:"inner"})):null}var t=this.getComponent();return c.default.createElement(t,(0,i.default)({},this.props,{ref:"inner"}))}});t.default=f,e.exports=t.default},function(e,t,n){"use strict";e.exports=n(1315)},function(e,t,n){"use strict";function o(e,t){var n="cannot post "+e.action+" "+t.status+"'",o=new Error(n);return o.status=t.status,o.method="post",o.url=e.action,o}function r(e){var t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch(e){return t}}function s(e){var t=new XMLHttpRequest;e.onProgress&&t.upload&&(t.upload.onprogress=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),e.onProgress(t)});var n=new FormData;e.data&&Object.keys(e.data).map(function(t){n.append(t,e.data[t])}),n.append(e.filename,e.file),t.onerror=function(t){e.onError(t)},t.onload=function(){if(t.status<200||t.status>=300)return e.onError(o(e,t),r(t));e.onSuccess(r(t))},t.open("post",e.action,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);var s=e.headers||{};null!==s["X-Requested-With"]&&t.setRequestHeader("X-Requested-With","XMLHttpRequest");for(var i in s)s.hasOwnProperty(i)&&null!==s[i]&&t.setRequestHeader(i,s[i]);return t.send(n),{abort:function(){t.abort()}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=s,e.exports=t.default},,,,,,,function(e,t){throw new Error("Module build failed: Error: The system cannot find the path specified.\r\n\n    at notFoundError (C:\\Users\\roy\\comm100\\vm\\node_modules\\exec-buffer\\node_modules\\cross-spawn\\lib\\enoent.js:11:11)\n    at verifyENOENT (C:\\Users\\roy\\comm100\\vm\\node_modules\\exec-buffer\\node_modules\\cross-spawn\\lib\\enoent.js:46:16)\n    at ChildProcess.cp.emit (C:\\Users\\roy\\comm100\\vm\\node_modules\\exec-buffer\\node_modules\\cross-spawn\\lib\\enoent.js:33:19)\n    at Process.ChildProcess._handle.onexit (internal/child_process.js:215:12)")},function(e,t){throw new Error("Module build failed: Error: The system cannot find the path specified.\r\n\n    at notFoundError (C:\\Users\\roy\\comm100\\vm\\node_modules\\exec-buffer\\node_modules\\cross-spawn\\lib\\enoent.js:11:11)\n    at verifyENOENT (C:\\Users\\roy\\comm100\\vm\\node_modules\\exec-buffer\\node_modules\\cross-spawn\\lib\\enoent.js:46:16)\n    at ChildProcess.cp.emit (C:\\Users\\roy\\comm100\\vm\\node_modules\\exec-buffer\\node_modules\\cross-spawn\\lib\\enoent.js:33:19)\n    at Process.ChildProcess._handle.onexit (internal/child_process.js:215:12)")},function(e,t,n){"use strict";var o=function(){};e.exports=o},function(e,t,n){function o(e){return n(r(e))}function r(e){var t=s[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var s={"./ad.svg":1053,"./ae.svg":1054,"./af.svg":1055,"./ag.svg":1056,"./ai.svg":1057,"./al.svg":1058,"./am.svg":1059,"./ao.svg":1060,"./aq.svg":1061,"./ar.svg":1062,"./as.svg":1063,"./at.svg":1064,"./au.svg":1065,"./aw.svg":1066,"./ax.svg":1067,"./az.svg":1068,"./ba.svg":1069,"./bb.svg":1070,"./bd.svg":1071,"./be.svg":1072,"./bf.svg":1073,"./bg.svg":1074,"./bh.svg":1075,"./bi.svg":1076,"./bj.svg":1077,"./bl.svg":1078,"./bm.svg":1079,"./bn.svg":1080,"./bo.svg":1081,"./bq.svg":1082,"./br.svg":1083,"./bs.svg":1084,"./bt.svg":1085,"./bv.svg":1086,"./bw.svg":1087,"./by.svg":1088,"./bz.svg":1089,"./ca.svg":1090,"./cc.svg":1091,"./cd.svg":1092,"./cf.svg":1093,"./cg.svg":1094,"./ch.svg":1095,"./ci.svg":1096,"./ck.svg":1097,"./cl.svg":1098,"./cm.svg":1099,"./cn.svg":1100,"./co.svg":1101,"./cr.svg":1102,"./cu.svg":1103,"./cv.svg":1104,"./cw.svg":1105,"./cx.svg":1106,"./cy.svg":1107,"./cz.svg":1108,"./de.svg":1109,"./dj.svg":1110,"./dk.svg":1111,"./dm.svg":1112,"./do.svg":1113,"./dz.svg":1114,"./ec.svg":1115,"./ee.svg":1116,"./eg.svg":1117,"./eh.svg":1118,"./er.svg":1119,"./es.svg":1120,"./et.svg":1121,"./eu.svg":1122,"./fi.svg":1123,"./fj.svg":1124,"./fk.svg":1125,"./fm.svg":1126,"./fo.svg":1127,"./fr.svg":1128,"./ga.svg":1129,"./gb-eng.svg":1130,"./gb-nir.svg":1131,"./gb-sct.svg":1132,"./gb-wls.svg":1133,"./gb.svg":1134,"./gd.svg":1135,"./ge.svg":1136,"./gf.svg":1137,"./gg.svg":1138,"./gh.svg":1139,"./gi.svg":1140,"./gl.svg":1141,"./gm.svg":1142,"./gn.svg":1143,"./gp.svg":1144,"./gq.svg":1145,"./gr.svg":1146,"./gs.svg":1147,"./gt.svg":1148,"./gu.svg":1149,"./gw.svg":1150,"./gy.svg":1151,"./hk.svg":1152,"./hm.svg":1153,"./hn.svg":1154,"./hr.svg":1155,"./ht.svg":1156,"./hu.svg":1157,"./id.svg":1158,"./ie.svg":1159,"./il.svg":1160,"./im.svg":1161,"./in.svg":1162,"./io.svg":1163,"./iq.svg":1164,"./ir.svg":1165,"./is.svg":1166,"./it.svg":1167,"./je.svg":1168,"./jm.svg":1169,"./jo.svg":1170,"./jp.svg":1171,"./ke.svg":1172,"./kg.svg":1173,"./kh.svg":1174,"./ki.svg":1175,"./km.svg":1176,"./kn.svg":1177,"./kp.svg":1178,"./kr.svg":1179,"./kw.svg":1180,"./ky.svg":1181,"./kz.svg":1182,"./la.svg":1183,"./lb.svg":1184,"./lc.svg":1185,"./li.svg":1186,"./lk.svg":1187,"./lr.svg":1188,"./ls.svg":1189,"./lt.svg":1190,"./lu.svg":1191,"./lv.svg":1192,"./ly.svg":1193,"./ma.svg":1194,"./mc.svg":1195,"./md.svg":1196,"./me.svg":1197,"./mf.svg":1198,"./mg.svg":1199,"./mh.svg":1200,"./mk.svg":1201,"./ml.svg":1202,"./mm.svg":1203,"./mn.svg":1204,"./mo.svg":1205,"./mp.svg":1206,"./mq.svg":1207,"./mr.svg":1208,"./ms.svg":1209,"./mt.svg":1210,"./mu.svg":1211,"./mv.svg":1212,"./mw.svg":1213,"./mx.svg":1214,"./my.svg":1215,"./mz.svg":1216,"./na.svg":1217,"./nc.svg":1218,"./ne.svg":1219,"./nf.svg":1220,"./ng.svg":1221,"./ni.svg":1222,"./nl.svg":1223,"./no.svg":1224,"./np.svg":1225,"./nr.svg":1226,"./nu.svg":1227,"./nz.svg":1228,"./om.svg":1229,"./pa.svg":1230,"./pe.svg":1231,"./pf.svg":1232,"./pg.svg":1233,"./ph.svg":1234,"./pk.svg":1235,"./pl.svg":1236,"./pm.svg":1237,"./pn.svg":1238,"./pr.svg":1239,"./ps.svg":1240,"./pt.svg":1241,"./pw.svg":1242,"./py.svg":1243,"./qa.svg":1244,"./re.svg":1245,"./ro.svg":1246,"./rs.svg":1247,"./ru.svg":1248,"./rw.svg":1249,"./sa.svg":1250,"./sb.svg":1251,"./sc.svg":1252,"./sd.svg":1253,"./se.svg":1254,"./sg.svg":1255,"./sh.svg":1256,"./si.svg":1257,"./sj.svg":1258,"./sk.svg":1259,"./sl.svg":1260,"./sm.svg":1261,"./sn.svg":1262,"./so.svg":1263,"./sr.svg":1264,"./ss.svg":1265,"./st.svg":1266,"./sv.svg":1267,"./sx.svg":1268,"./sy.svg":1269,"./sz.svg":1270,"./tc.svg":1271,"./td.svg":1272,"./tf.svg":1273,"./tg.svg":1274,"./th.svg":1275,"./tj.svg":1276,"./tk.svg":1277,"./tl.svg":1278,"./tm.svg":1279,"./tn.svg":1280,"./to.svg":1281,"./tr.svg":1282,"./tt.svg":1283,"./tv.svg":1284,"./tw.svg":1285,"./tz.svg":1286,"./ua.svg":1287,"./ug.svg":1288,"./um.svg":1289,"./un.svg":1290,"./us.svg":1291,"./uy.svg":1292,"./uz.svg":1293,"./va.svg":1294,"./vc.svg":1295,"./ve.svg":1296,"./vg.svg":1297,"./vi.svg":1298,"./vn.svg":1299,"./vu.svg":1300,"./wf.svg":1301,"./ws.svg":1302,"./ye.svg":1303,"./yt.svg":1304,"./za.svg":1305,"./zm.svg":1306,"./zw.svg":1307,"./zz.svg":1308};o.keys=function(){return Object.keys(s)},o.resolve=r,e.exports=o,o.id=1327},,,,,,,,,function(e,t,n){"use strict";var o=n(3),r=n.n(o),s=n(1),i=(n.n(s),n(950)),a=(n.n(i),n(1455)),c=function(e){return r()("div",{className:i.default.showChatViaList},void 0,e.chats.map(function(t){return r()(a.a,{chatItem:t,enableRefuseChat:e.enableRefuseChat,ifEnableSegmentation:e.ifEnableSegmentation,isShowUnreposiveTime:e.isShowUnreposiveTime,isShowDepartment:e.isShowDepartment,onClickPin:e.onClickPin,onItemClick:e.onItemClick,onAcceptChat:e.onAcceptChat,onRefusedChat:e.onRefusedChat,onWrapUp:e.onWrapUp,onDeleteItem:e.onDeleteItem},t.chatId)}))};t.a=c},,,,,,,function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return r});var o=1,r=2},,function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"d",function(){return r}),n.d(t,"b",function(){return s}),n.d(t,"a",function(){return i});var o=1,r=2,s=3,i=4},,,function(e,t,n){"use strict";function o(e){function t(){null==a&&(a=[C],p&&p(a))}function n(){clearInterval(l),m=!1,a=null,v=0}function o(){n(),p=null,u=null,d=null}function r(){m&&d&&d()}function s(e){f.send(c()(e))}function i(){try{o(),f.onerror=null,f.close()}catch(e){console.error(e)}}var a,l,u,d,p,f,h=e.url,g=e.chat,v=0,m=!1,y=h.indexOf("localhost")===-1?"wss://":"ws://";f=new WebSocket(y+h+"?chatId="+g);var b=0;f.onopen=function(){console.log("open"),l=setInterval(function(){b++,f.send("ping"),b>=3&&clearInterval(l)},2e4)},f.onmessage=function(e){var n=JSON.parse(e.data);null!=n.count?(console.log(n),0===v&&n.count>1&&(t(),console.log("send start"),s({start:1})),(v=n.count)<2&&(m=!1)):n.start?(t(),console.log("receive start"),m=!0,r()):n.s?(200!==n.s&&console.error(n),null==a&&(a=n.d?n.d.iceServers||[]:[],console.log("get ice servers:",a),a.push(C),p&&p(a))):u&&u(n)},f.onclose=function(){o()};var C={urls:"stun:stun.l.google.com:19302"};this.send=s,this.close=i,this.onRemoteStart=function(e){d=e,r()},this.onMessage=function(e){u=e},this.onGetIceServers=function(e){p=e,a&&e&&e(a)}}function r(e){function t(e,t){console.log(t);var o=e.peerConn,r=e.signalingChannel;t.offer&&(console.log("receive offer:",t.offer),console.log("pc.signalingState:",o.signalingState),o.setRemoteDescription(new RTCSessionDescription(t.offer)).then(function(){return o.createAnswer()}).then(function(e){return o.setLocalDescription(e)}).then(function(){return r.send({answer:o.localDescription}),i.a.resolve()}).catch(function(t){console.error(t),n(e)})),t.answer&&(console.log("receive answer:",t.answer),console.log("pc.signalingState:",o.signalingState),o.setRemoteDescription(new RTCSessionDescription(t.answer)).then(function(){return console.log("set answer success"),i.a.resolve()}).catch(function(t){console.log(t),n(e)})),t.candidate&&(console.log("receive candidate:",t.candidate),console.log("pc.iceGatheringState",o.iceGatheringState),o.addIceCandidate(new RTCIceCandidate(t.candidate)).catch(function(){n(e)})),t.stop&&(console.log("receive stop"),this.stop()),t.restart&&(console.log("receive restart"),n(e,!0))}function n(e,t){k++,console.log("restart:",k),t||e.signalingChannel.send({restart:1}),k<=5?(u(e),d()):(u(e),c(),f("error","P2PChat Error: restart more than 5 times"))}function r(e){var t=e.peerConn,o=e.signalingChannel;console.log("sendOffer"),t.createOffer().then(function(e){return console.log("create offer:",e),t.setLocalDescription(e)}).then(function(){return console.log("send offer:",t.localDescription),o.send({offer:t.localDescription}),i.a.resolve()}).catch(function(t){console.error(t),n(e)})}function s(e){return navigator.mediaDevices.getUserMedia({audio:!0,video:!!e&&{facingMode:"user"}}).then(function(e){return c(),console.log("add local stream"),v=e,b.autoplay=!0,b.muted=!0,b.srcObject=v,i.a.resolve()})}function a(){return conn.peerConn?(conn.peerConn.getStats().then(console.log),conn.peerConn.getStats()):i.a.resolve()}function c(){v&&h(v),v=null,b.srcObject=null}function l(){m&&h(m),m=null,C.srcObject=null}function u(e){if(e&&(e.peerConn||e.signalingChannel)){l();try{var t=e.peerConn;t&&(t.onicecandidate=null,t.oniceconnectionstatechange=null,t.ontrack=null,t.close())}catch(e){console.error(e)}try{e.signalingChannel.close()}catch(e){console.error(e)}e.peerConn=null,e.signalingChannel=null}}function d(e){console.log("start"),x=null==e?x:e,T&&u(T);var s={},i=new o({chat:y,url:w});s.signalingChannel=i,i.onGetIceServers(function(e){var o=new RTCPeerConnection({iceServers:e,iceTransportPolicy:x?"relay":"all"});s.peerConn=o,o.onicecandidate=function(e){null!=e.candidate&&i.send({candidate:e.candidate})},o.oniceconnectionstatechange=function(e){console.log(o.iceConnectionState),"closed"===o.iceConnectionState?u(s):"failed"===o.iceConnectionState&&n(s)},v&&o.addStream(v),o.onaddstream=function(e){console.log("add remote stream"),m=e.stream,C.autoplay=!0,C.srcObject=m},i.onMessage(t.bind(null,s)),i.onRemoteStart(function(){if(m)return k=0,void n(s);r(s)})}),T=s}function p(e){S.indexOf(e)===-1&&S.push(e)}function f(e,t){S.forEach(function(n){n(e,t)})}function h(e){e.getTracks().forEach(function(e){e.stop()})}function g(){k=0,c(),u(T)}var v,m,y=e.chat,b=e.localVideo,C=e.remoteVideo,w=e.url,S=[],T=null,x=!1,k=0;this.requirePermission=s,this.getPeerConnectionStats=a,this.start=d,this.onevent=p,this.stop=g,this.getLocalVideo=function(){return b},this.getRemoteVideo=function(){return C}}var s=n(91),i=n.n(s),a=n(133),c=n.n(a),l=n(1872);n.n(l);t.a=r},function(e,t,n){"use strict";(function(e){var o=n(4),r=n.n(o),s=n(133),i=n.n(s),a=n(91),c=n.n(a),l=n(1766),u=n.n(l),d=n(242),p=n.n(d),f=n(617);n.d(t,"a",function(){return h}),n.d(t,"b",function(){return g});var h=function(e,t,o){return new c.a(function(e){n.e(7).then(function(t){e(n(1395))}.bind(null,n)).catch(n.oe)}).then(function(s){return new c.a(function(a,c){var l=new s({b:512},null,{environment:"browser",encryptionScheme:"pkcs1"}),u=n.i(f.a)(),d=e+"/formbuilder.ashx",h=i()(r()({},o,{accessToken:u,publicKey:l.exportKey("pkcs8-public-pem"),formName:t.name,jsonFormFields:i()(t.fields)}));p.a.post(d,h).then(function(e){e.data.success?a({token:u,rsaKey:l}):c(e.error_message)}).catch(function(e){c(e)})})})},g=function(t,n,o){return new c.a(function(r,s){var a=t+"/formconsumer.ashx",c=i()(n);p.a.post(a,c).then(function(t){var n=t.data,i=n.error_code,a=n.error_message,c=n.formContent;if(0===i){var l=u()(c,88).map(function(e){return e.join("")}),d=e.concat(l.map(function(e){return o.decrypt(e)})),p=new e(d).toString("utf8"),f=new e(p,"base64").toString();r(JSON.parse(f).fields)}else s(a)}).catch(function(e){s(e)})})}}).call(t,n(932).Buffer)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var o=n(3),r=n.n(o),s=n(22),i=n.n(s),a=n(14),c=n.n(a),l=n(16),u=n.n(l),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(136),v=n.n(g),m=n(119),y=n.n(m),b=n(1),C=n.n(b),w=n(35),S=n.n(w),T=n(974),x=n(950),k=(n.n(x),n(1469)),I=n(2),E=n(69),P=n(1458),_=n(1459),R=n(1460),M=n(385),A=function(e){function t(){return c()(this,t),p()(this,(t.__proto__||i()(t)).apply(this,arguments))}return h()(t,e),u()(t,[{key:"componentDidMount",value:function(){T.a.rebuild()}},{key:"shouldComponentUpdate",value:function(e){return!y()(this.props,e)}},{key:"componentDidUpdate",value:function(){T.a.rebuild()}},{key:"render",value:function(){var e=this,t=this.props.chatItem;return r()("div",{className:S()(x.default.chatitemcontainer,(t.isShowAcceptAndRefuse||t.audioVideoStatus===M.a||t.audioVideoStatus===M.c)&&x.default.acceptStyle,t.isSelected&&x.default.selected,!t.isShowAcceptAndRefuse&&!t.isShowWrapUp&&(this.props.isShowDepartment&&v()(t.visitor.department)||!this.props.isShowDepartment&&v()(t.visitor.agentName))&&x.default.nobutton),onClick:function(){return e.props.onItemClick(t)}},void 0,r()("div",{className:x.default.captureitem},void 0,r()(E.a,{type:I.b.pin,size:14,"data-tip":t.isPinned?"Unpin":"Pin","data-for":"chatlist",className:S()(x.default.pinnStyle,t.isPinned?x.default.pinned:x.default.nopinned),onClick:function(){e.props.onClickPin(t)}})),r()("div",{className:x.default.statusitem},void 0,r()(k.a,{statusCode:t.currentStatus,audioVideoStatus:t.audioVideoStatus,dataFor:"chatlist"})),r()("div",{className:x.default.detailitem},void 0,r()(P.a,{chatItem:t,enableRefuseChat:this.props.enableRefuseChat,isShowDepartment:this.props.isShowDepartment,onAcceptChat:this.props.onAcceptChat,onRefusedChat:this.props.onRefusedChat,onWrapUp:this.props.onWrapUp})),r()("div",{className:x.default.infoitem},void 0,r()(_.a,{chatItem:t,isShowUnreposiveTime:this.props.isShowUnreposiveTime,onDeleteItem:this.props.onDeleteItem})),r()("div",{className:x.default.segmentitem},void 0,r()(R.a,{chatItem:t,ifEnableSegmentation:this.props.ifEnableSegmentation,dataFor:"chatlist"})))}}]),t}(C.a.Component);t.a=A},function(e,t,n){"use strict";var o=n(3),r=n.n(o),s=n(22),i=n.n(s),a=n(14),c=n.n(a),l=n(16),u=n.n(l),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(119),v=n.n(g),m=n(1),y=n.n(m),b=n(35),C=n.n(b),w=n(950),S=(n.n(w),n(69)),T=n(2),x=function(e){function t(){return c()(this,t),p()(this,(t.__proto__||i()(t)).apply(this,arguments))}return h()(t,e),u()(t,[{key:"shouldComponentUpdate",value:function(e){return!v()(this.props,e)}},{key:"render",value:function(){var e=this;return r()("div",{className:w.default.chatItemConfig},void 0,r()("ul",{className:w.default.chatconfigpanel},void 0,this.props.ifDepartmentEnabled&&r()("li",{onClick:function(t){t.stopPropagation(),e.props.onClickConfig(T.k.showDepartment)}},void 0,r()(S.a,{type:T.b.success,className:C()(w.default.configitem,this.props.isShowDepartment&&w.default.selectedicon)}),"Show department"),r()("li",{onClick:function(t){t.stopPropagation(),e.props.onClickConfig(T.k.showUnreposiveTime)}},void 0,r()(S.a,{type:T.b.success,className:C()(w.default.configitem,this.props.isShowUnreposiveTime&&w.default.selectedicon)}),"Show agent unresponsive time"),r()("li",{onClick:function(t){t.stopPropagation(),e.props.onClickConfig(T.k.showByStatus)}},void 0,r()(S.a,{type:T.b.success,className:C()(w.default.configitem,this.props.isShowChatItemsViaStatus&&w.default.selectedicon)}),"Group chat by status")))}}]),t}(y.a.Component);t.a=x},function(e,t,n){"use strict";var o=n(3),r=n.n(o),s=n(1),i=(n.n(s),n(375)),a=n.n(i),c=n(158),l=(n.n(c),n(950)),u=(n.n(l),n(1456)),d=n(1462),p=n(1336),f=n(2),h=n(69),g=function(e){return r()("div",{className:l.default.itemContainer},void 0,e.isShowChatItemsViaStatus?r()(d.a,{groupItems:e.groupItems,enableRefuseChat:e.enableRefuseChat,ifEnableSegmentation:e.ifEnableSegmentation,isShowUnreposiveTime:e.isShowUnreposiveTime,isShowDepartment:e.isShowDepartment,onClickPin:e.onClickPin,onItemClick:e.onItemClick,onAcceptChat:e.onAcceptChat,onRefusedChat:e.onRefusedChat,onWrapUp:e.onWrapUp,onDeleteItem:e.onDeleteItem,onClickArrow:e.onClickArrow}):r()(p.a,{chats:e.chats,enableRefuseChat:e.enableRefuseChat,ifEnableSegmentation:e.ifEnableSegmentation,isShowUnreposiveTime:e.isShowUnreposiveTime,isShowDepartment:e.isShowDepartment,onClickPin:e.onClickPin,onItemClick:e.onItemClick,onAcceptChat:e.onAcceptChat,onRefusedChat:e.onRefusedChat,onWrapUp:e.onWrapUp,onDeleteItem:e.onDeleteItem}),r()("div",{className:l.default.configPanel},void 0,r()("div",{},void 0,r()(h.a,{type:f.b.chatListSetting,size:14,tabIndex:0,className:l.default.configicon},void 0,r()(u.a,{isShowChatItemsViaStatus:e.isShowChatItemsViaStatus,isShowUnreposiveTime:e.isShowUnreposiveTime,ifDepartmentEnabled:e.ifDepartmentEnabled,isShowDepartment:e.isShowDepartment,onClickConfig:e.onClickConfig})))),r()(a.a,{id:"chatlist",effect:"solid",place:"bottom",class:c.default.tooltipInfoNoCapitalize}))};t.a=g},function(e,t,n){"use strict";var o=n(3),r=n.n(o),s=n(22),i=n.n(s),a=n(14),c=n.n(a),l=n(16),u=n.n(l),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(119),v=n.n(g),m=n(1),y=n.n(m),b=n(950),C=(n.n(b),n(54)),w=function(e){function t(){return c()(this,t),p()(this,(t.__proto__||i()(t)).apply(this,arguments))}return h()(t,e),u()(t,[{key:"shouldComponentUpdate",value:function(e){return!v()(this.props,e)}},{key:"render",value:function(){var e=this;return r()("div",{className:b.default.chatItemDetail},void 0,r()("div",{className:b.default.visitorName},void 0,this.props.chatItem.visitor.name),!this.props.isShowDepartment&&this.props.chatItem.visitor.agentName&&r()("div",{className:b.default.visitorDepartment},void 0,"(",this.props.chatItem.visitor.agentName,")"),this.props.isShowDepartment&&this.props.chatItem.visitor.department&&r()("div",{className:b.default.visitorDepartment},void 0,"(",this.props.chatItem.visitor.department,")"),this.props.chatItem.isShowAcceptAndRefuse&&r()("div",{className:b.default.actioncontainer},void 0,r()(C.a,{type:"primary",text:"Accept",onClick:function(t){t.stopPropagation(),e.props.onAcceptChat(e.props.chatItem)},size:"small",className:b.default.acceptBtn}),this.props.enableRefuseChat&&r()(C.a,{text:"Refuse",onClick:function(t){t.stopPropagation(),e.props.onRefusedChat(e.props.chatItem)},className:b.default.refuseBtn})),this.props.chatItem.isShowWrapUp&&r()(C.a,{type:"primary",text:"Wrap up",onClick:function(t){t.stopPropagation(),e.props.onWrapUp(e.props.chatItem)},size:"small",className:b.default.wrapupbtn}))}}]),t}(y.a.Component);t.a=w},function(e,t,n){"use strict";var o=n(3),r=n.n(o),s=n(22),i=n.n(s),a=n(14),c=n.n(a),l=n(16),u=n.n(l),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(119),v=n.n(g),m=n(1),y=n.n(m),b=n(950),C=(n.n(b),n(818)),w=n(69),S=n(2),T=n(89),x=function(e,t){return e===S.d.waitingForChat||e===S.d.transferring||e===S.d.invitedAndWaitingForChat||!(e!==S.d.chatting||!t)},k=function(e){function t(e){c()(this,t);var n=p()(this,(t.__proto__||i()(t)).call(this,e));return n.timer=null,n.unresponseBeginTime=e.chatItem.unresponseBeginTime,n.updateUnresponsiveTime=n.updateUnresponsiveTime.bind(n),n}return h()(t,e),u()(t,[{key:"componentDidMount",value:function(){x(this.props.chatItem.currentStatus,this.props.isShowUnreposiveTime)&&this.updateUnresponsiveTime()}},{key:"componentWillReceiveProps",value:function(e){e.chatItem.unresponseBeginTime!==this.props.chatItem.unresponseBeginTime&&(null===e.chatItem.unresponseBeginTime?(clearTimeout(this.timer),this.timer=null,this.unresponseBeginTime=0,this.timestamp.textContent=""):(this.unresponseBeginTime=e.chatItem.unresponseBeginTime,x(e.chatItem.currentStatus,e.isShowUnreposiveTime)&&this.updateUnresponsiveTime()))}},{key:"shouldComponentUpdate",value:function(e,t){return!v()(this.state,t)||!v()(this.props,e)}},{key:"componentDidUpdate",value:function(e){var t=x(this.props.chatItem.currentStatus,this.props.isShowUnreposiveTime),n=x(e.chatItem.currentStatus,e.isShowUnreposiveTime);!n&&t?this.updateUnresponsiveTime():n&&!t&&this.timer&&(clearTimeout(this.timer),this.timer=null,this.timestamp.textContent="")}},{key:"componentWillUnmount",value:function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)}},{key:"updateUnresponsiveTime",value:function(){var e=this;if(!this.unresponseBeginTime)return void(this.timer&&(clearTimeout(this.timer),this.timer=null));var t=Date.now()-this.unresponseBeginTime;this.timestamp.textContent=t<1e3?"":n.i(T.j)(t),this.timer=setTimeout(function(){if(!e.timestamp)return void(e.timer=null);e.updateUnresponsiveTime()},1e3)}},{key:"render",value:function(){var e=this;return r()("div",{className:b.default.chatItemPrompt},void 0,this.props.chatItem.messageNumber>0&&r()(C.a,{customClass:b.default.promptNumber,number:this.props.chatItem.messageNumber}),y.a.createElement("span",{className:b.default.idleStyle,ref:function(t){e.timestamp=t}}),this.props.chatItem.isShowDeleteIcon&&r()(w.a,{type:S.b.close,size:10,className:b.default.deleteIcon,onClick:function(t){t.stopPropagation(),e.props.onDeleteItem(e.props.chatItem)}}))}}]),t}(m.Component);t.a=k},function(e,t,n){"use strict";var o=n(3),r=n.n(o),s=n(22),i=n.n(s),a=n(14),c=n.n(a),l=n(16),u=n.n(l),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(119),v=n.n(g),m=n(1),y=n.n(m),b=n(950),C=(n.n(b),function(e){function t(){return c()(this,t),p()(this,(t.__proto__||i()(t)).apply(this,arguments))}return h()(t,e),u()(t,[{key:"shouldComponentUpdate",value:function(e){return!v()(this.props,e)}},{key:"render",value:function(){var e=this,t=10;return this.props.chatItem.segments.length<=2&&(t=15),r()("div",{className:b.default.chatItemSegment},void 0,this.props.ifEnableSegmentation&&this.props.chatItem.segments.map(function(n,o){return r()("i",{"data-tip":n.name,"data-for":e.props.dataFor,"data-place":"right",style:{backgroundColor:n.color,height:t}},"segment_"+o)}))}}]),t}(y.a.Component));t.a=C},function(e,t,n){"use strict";var o=n(3),r=n.n(o),s=n(1),i=(n.n(s),n(950)),a=(n.n(i),r()("h1",{},void 0,"You have no chats now.")),c=function(e){return r()("div",{className:i.default.noChatSection},void 0,r()("div",{},void 0,a,r()("span",{onClick:e.goToVisitors},void 0,"Go to Visitor list")," to invite a visitor to chat"))};t.a=c},function(e,t,n){"use strict";var o=n(3),r=n.n(o),s=n(22),i=n.n(s),a=n(14),c=n.n(a),l=n(16),u=n.n(l),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(119),v=n.n(g),m=n(1),y=n.n(m),b=n(35),C=n.n(b),w=n(950),S=(n.n(w),n(1336)),T=n(69),x=n(2),k=function(e){function t(e){c()(this,t);var n=p()(this,(t.__proto__||i()(t)).call(this,e));return n.timer=null,n.clickArrow=n.clickArrow.bind(n),n}return h()(t,e),u()(t,[{key:"shouldComponentUpdate",value:function(e){return!v()(this.props,e)}},{key:"clickArrow",value:function(e){this.props.onClickArrow(e)}},{key:"render",value:function(){var e=this;return r()("div",{className:w.default.showChatViaGroup},void 0,this.props.groupItems.filter(function(e){return e.chats.length>0}).map(function(t){return r()("div",{className:w.default.groupSection},t.id,r()("div",{className:C()(w.default.groupNameWraper,t.opened&&w.default.opened),onClick:function(){return e.clickArrow(t.id)}},void 0,r()(T.a,{type:x.b.arrowDown,className:w.default.groupSpread}),r()("span",{},void 0,t.description+"("+t.chats.length+")")),t.opened&&r()(S.a,{chats:t.chats,enableRefuseChat:e.props.enableRefuseChat,ifEnableSegmentation:e.props.ifEnableSegmentation,isShowUnreposiveTime:e.props.isShowUnreposiveTime,isShowDepartment:e.props.isShowDepartment,onClickPin:e.props.onClickPin,onItemClick:e.props.onItemClick,onAcceptChat:e.props.onAcceptChat,onRefusedChat:e.props.onRefusedChat,onWrapUp:e.props.onWrapUp,onDeleteItem:e.props.onDeleteItem}))}))}}]),t}(y.a.Component);t.a=k},function(e,t,n){"use strict";var o=n(3),r=n.n(o),s=n(22),i=n.n(s),a=n(14),c=n.n(a),l=n(16),u=n.n(l),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(1),v=n.n(g),m=n(54),y=n(980),b=n.n(y),C=n(1025),w=function(e){function t(){c()(this,t);var e=p()(this,(t.__proto__||i()(t)).call(this));return e.state={open:!1},e.openModal=e.openModal.bind(e),e.closeModal=e.closeModal.bind(e),e}return h()(t,e),u()(t,[{key:"closeModal",value:function(){this.setState({open:!1})}},{key:"openModal",value:function(){this.setState({open:!0})}},{key:"render",value:function(){return r()("div",{},void 0,r()(m.a,{text:"Ban",className:b.a.btnAction,onClick:this.openModal,disabled:this.props.disabled}),this.state.open&&r()(C.a,{openModal:this.openModal,closeModal:this.closeModal,onBanChat:this.props.onBanChat,realVisitorId:this.props.realVisitorId,visitorId:this.props.visitorId,visitorIP:this.props.visitorIP}))}}]),t}(v.a.Component);t.a=w},function(e,t,n){"use strict";var o=n(3),r=n.n(o),s=n(22),i=n.n(s),a=n(14),c=n.n(a),l=n(16),u=n.n(l),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(1),v=n.n(g),m=n(158),y=(n.n(m),n(944)),b=n.n(y),C=n(1477),w=n(1482),S=n(1021),T=n(1481),x=n(1475),k=n(1483),I=n(1478),E=n(1479),P=n(1480),_=n(1476),R=n(1484),M=n(17),A=n.i(M.e)("ChatAction",["selectedFontSize","visitorId","chatId","ticketId","chatActionDisplay","chatActionEnable","transcriptInfo","responseErrorMessage","sendEmailSuccessMessage","autoTranslateInfo","pciForm","transfer","joinMeIntegrationServer"]),U={position:"relative"},N=function(e){function t(){return c()(this,t),p()(this,(t.__proto__||i()(t)).apply(this,arguments))}return h()(t,e),u()(t,[{key:"shouldComponentUpdate",value:function(e){return A(this.props,e)}},{key:"render",value:function(){var e=this.props;return r()("div",{},void 0,r()("div",{className:b.a.chatAction},void 0,r()("ul",{className:m.default.clearfix},void 0,r()("li",{},void 0,r()(C.a,{selectedFontSize:e.selectedFontSize,onFontSelect:e.onFontSelect})),e.chatActionDisplay.transfer&&r()("li",{},void 0,r()(w.a,{ifEnable:e.chatActionEnable.transfer,visitorId:e.visitorId,transfer:e.transfer,onTransferChat:e.onTransferChat,onTransferIconClick:e.onTransferIconClick})),r()("li",{},void 0,r()(S.a,{disabled:!e.chatActionEnable.sendFile,siteInfo:e.siteInfo,chatId:e.chatId,beforeUpload:e.beforeUpload,onStart:e.onSendFileStart,onSuccess:e.onSendFileSuccess,onProgress:e.onSendFileProgress,onError:e.onSendFileError,showErrorMessage:e.showErrorMessage})),e.chatActionDisplay.sendTranscript&&r()("li",{},void 0,r()(T.a,{ifEnable:e.chatActionEnable.sendTranscript,visitorId:e.visitorId,chatId:e.chatId,handleSendTranscript:e.handleSendTranscript,transcriptInfo:e.transcriptInfo,initialSendTranscriptForm:e.initialSendTranscriptForm,responseErrorMessage:e.responseErrorMessage,sendEmailSuccessMessage:e.sendEmailSuccessMessage,showResponseErrorMessage:e.showResponseErrorMessage,hideResponseErrorMessage:e.hideResponseErrorMessage,hideSendEmailSuccessMessage:e.hideSendEmailSuccessMessage})),e.chatActionDisplay.attachTicket&&r()("li",{},void 0,r()(x.a,{ifEnable:e.chatActionEnable.attachTicket,siteId:e.siteId,visitorId:e.visitorId,ticketId:e.ticketId,handleAttachTicket:e.handleAttachTicket,gotoAttachTicket:e.gotoAttachTicket,ifUseMainServer:e.ifUseMainServer,responseErrorMessage:e.responseErrorMessage,hideResponseErrorMessage:e.hideResponseErrorMessage})),e.chatActionDisplay.autoTranslate&&r()("li",{style:U},void 0,r()(k.a,{ifEnable:e.chatActionEnable.autoTranslate,visitorId:e.visitorId,chatId:e.chatId,autoTranslateInfo:e.autoTranslateInfo,onToggleAutoTranslate:e.onToggleAutoTranslate,onUpdateIfPopTranslation:e.onUpdateIfPopTranslation})),e.chatActionDisplay.gotoMeeting&&r()("li",{style:U},void 0,r()(I.a,{ifEnable:e.chatActionEnable.gotoMeeting,visitorId:e.visitorId,onRequestGotoMeeting:e.onRequestGotoMeeting})),e.chatActionDisplay.joinMe&&r()("li",{},void 0,r()(E.a,{ifEnable:e.chatActionEnable.joinMe,joinMeIntegrationServer:e.joinMeIntegrationServer,siteId:e.siteId,visitorId:e.visitorId,currentAgentId:e.currentAgentId,agentSession:e.agentSession})),e.chatActionDisplay.pciForm&&r()("li",{style:U},void 0,r()(P.a,{ifDisplay:e.chatActionDisplay.pciForm,ifEnable:e.chatActionEnable.pciForm,visitorId:e.visitorId,chatId:e.chatId,pciForm:e.pciForm,onRequestPCIForm:e.onRequestPCIForm})),e.chatActionDisplay.audioChat&&r()("li",{},void 0,r()(_.a,{ifEnable:e.chatActionEnable.audioChat,chatId:e.chatId,onClick:e.onRequestAudioChat})),e.chatActionDisplay.videoChat&&r()("li",{},void 0,r()(R.a,{ifEnable:e.chatActionEnable.videoChat,chatId:e.chatId,onClick:e.onRequestVideoChat})))))}}]),t}(v.a.Component);t.a=N},function(e,t,n){"use strict";var o=n(3),r=n.n(o),s=n(22),i=n.n(s),a=n(14),c=n.n(a),l=n(16),u=n.n(l),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(119),v=n.n(g),m=n(1),y=n.n(m),b=n(35),C=n.n(b),w=n(158),S=(n.n(w),n(980)),T=n.n(S),x=n(972),k=n(1022),I=n(1023),E=n(1020),P=n(1485),_=n(1468),R=n(1463),M=n(1467),A=n(1466),U=n(1345),N=function(e){function t(){return c()(this,t),p()(this,(t.__proto__||i()(t)).apply(this,arguments))}return h()(t,e),u()(t,[{key:"shouldComponentUpdate",value:function(e){return!v()(this.props,e)}},{key:"render",value:function(){return r()("div",{className:C()(T.a.chatHeader,w.default.clearfix)},void 0,r()("div",{className:C()(T.a.visitorDetails,w.default.clearfix)},void 0,r()("div",{className:T.a.avatar},void 0,r()(x.a,{isContactOrUserOpen:this.props.isContactOrUserOpen,avatarLink:this.props.visitorInfo.avatar,identityType:this.props.visitorInfo.identityType})),r()("div",{className:T.a.details},void 0,r()("div",{className:T.a.name},void 0,this.props.visitorInfo.latestName),r()("div",{className:C()(T.a.others,w.default.clearfix)},void 0,r()(k.a,{countryName:this.props.visitorInfo.country,city:this.props.visitorInfo.city,state:this.props.visitorInfo.state,countryCode:this.props.visitorInfo.countryCode}),r()(I.a,{name:this.props.visitorInfo.operatingSystem}),r()(E.a,{name:this.props.visitorInfo.browser}),""!==this.props.saleforceURL&&r()(P.a,{type:U.a,socialUrl:this.props.saleforceURL}),""!==this.props.visitorInfo.zendeskUrl&&r()(P.a,{type:U.b,socialUrl:this.props.visitorInfo.zendeskUrl}),this.props.visitorInfo.socialType>0&&r()(P.a,{type:this.props.visitorInfo.socialType,socialUrl:this.props.visitorInfo.socialUrl})))),r()("div",{className:T.a.action},void 0,this.props.chatHeaderToolBarDisplay.displayPromote&&r()(_.a,{onPromote:this.props.onPromote,visitorId:this.props.visitorInfo.id,preChatEmail:this.props.visitorInfo.prechatEmail,disabled:this.props.disabledPromote,ifUseMainServer:this.props.ifUseMainServer}),this.props.chatHeaderToolBarDisplay.displayBan&&r()(R.a,{onBanChat:this.props.onBanChat,realVisitorId:this.props.visitorInfo.realVisitorId,visitorId:this.props.visitorInfo.id,visitorIP:this.props.visitorInfo.ip,disabled:this.props.disabledBan}),this.props.chatHeaderToolBarDisplay.displayLeave&&r()(M.a,{visitorId:this.props.visitorInfo.id,onLeaveChat:this.props.onLeaveChat}),this.props.chatHeaderToolBarDisplay.displayCloseChat&&r()(A.a,{chatId:this.props.chatId,visitorId:this.props.visitorInfo.id,status:this.props.visitorInfo.status,onCloseChat:this.props.onCloseChat})))}}]),t}(y.a.Component);t.a=N},function(e,t,n){"use strict";var o=n(3),r=n.n(o),s=n(1),i=(n.n(s),n(54)),a=n(980),c=n.n(a),l=function(e){return r()("div",{},void 0,r()(i.a,{text:"Close Chat Window",className:c.a.btnAction,onClick:function(){return e.onCloseChat(e.chatId,e.status,e.visitorId)}}))};t.a=l},function(e,t,n){"use strict";var o=n(3),r=n.n(o),s=n(22),i=n.n(s),a=n(14),c=n.n(a),l=n(16),u=n.n(l),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(1),v=n.n(g),m=n(54),y=n(980),b=n.n(y),C=n(1491),w=function(e){function t(){c()(this,t);var e=p()(this,(t.__proto__||i()(t)).call(this));return e.state={open:!1},e.onLeaveChat=e.onLeaveChat.bind(e),e.openModal=e.openModal.bind(e),e.closeModal=e.closeModal.bind(e),e}return h()(t,e),u()(t,[{key:"onLeaveChat",value:function(){this.props.onLeaveChat(this.props.visitorId),this.closeModal()}},{key:"closeModal",value:function(){this.setState({open:!1})}},{key:"openModal",value:function(){this.setState({open:!0})}},{key:"render",value:function(){return r()("div",{},void 0,r()(m.a,{text:"Leave Chat",className:b.a.btnAction,onClick:this.openModal}),this.state.open&&r()(C.a,{openModal:this.openModal,closeModal:this.closeModal,onLeaveChat:this.onLeaveChat}))}}]),t}(v.a.Component);t.a=w},function(e,t,n){"use strict";var o=n(3),r=n.n(o),s=n(22),i=n.n(s),a=n(14),c=n.n(a),l=n(16),u=n.n(l),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(1),v=n.n(g),m=n(35),y=n.n(m),b=n(171),C=n(54),w=n(980),S=n.n(w),T=n(158),x=(n.n(T),n(1343)),k=n(990),I=function(e){function t(){c()(this,t);var e=p()(this,(t.__proto__||i()(t)).call(this));return e.state={isOpen:!1,isOpenModalStandbyNotice:!1},e.handleClick=e.handleClick.bind(e),e.toggle=e.toggle.bind(e),e.onPromote=e.onPromote.bind(e),e.popUpStandbyWindow=e.popUpStandbyWindow.bind(e),e.closeStandbyWindow=e.closeStandbyWindow.bind(e),e}return h()(t,e),u()(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClick,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick,!1)}},{key:"onPromote",value:function(e){this.setState({isOpen:!1}),this.props.ifUseMainServer?this.props.onPromote(this.props.visitorId,e):this.popUpStandbyWindow()}},{key:"popUpStandbyWindow",value:function(){this.setState({isOpenModalStandbyNotice:!0})}},{key:"closeStandbyWindow",value:function(){this.setState({isOpenModalStandbyNotice:!1})}},{key:"handleClick",value:function(e){var t=this.container;t&&!t.contains(e.target)&&this.state.isOpen&&this.setState({isOpen:!1})}},{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){var e=this;return v.a.createElement("div",{ref:function(t){e.container=t}},r()(C.a,{text:"Promote",className:S.a.btnAction,onClick:this.toggle,disabled:this.props.disabled}),r()("ul",{className:y()(T.default.popupList,this.state.isOpen&&T.default.open)},void 0,r()("li",{},void 0,r()(b.a,{onClick:function(){return e.onPromote(x.b)}},void 0,"Promote to Contact")),""!==this.props.preChatEmail?r()("li",{},void 0,r()(b.a,{onClick:function(){return e.onPromote(x.a)}},void 0,"Promote to User")):""),this.state.isOpenModalStandbyNotice&&r()(k.a,{ifOpen:this.state.isOpenModalStandbyNotice,closeModal:this.closeStandbyWindow,text:"Live Chat is running on the secondary server. We're sorry but you're\n          unable to perform this action now. Please try again after Live Chat goes back\n          to the primary server."}))}}]),t}(v.a.Component);t.a=I},function(e,t,n){"use strict";function o(e){switch(e){case S.a:return{type:b.b.audioChatRequesting,title:w.m};case S.c:return{type:b.b.videoChatRequesting,title:w.o};case S.b:return{type:b.b.audioChatRequesting,title:w.n};case S.d:return{type:b.b.videoChatRequesting,title:w.p};default:return{type:b.b.chatting,title:w.c}}}function r(e,t){switch(e){case b.d.waitingForChat:return{type:b.b.waitting,title:w.b};case b.d.chatting:return o(t);case b.d.preChat:return{type:b.b.prechat,title:w.d};case b.d.invited:return{type:b.b.invited,title:w.e};case b.d.autoInvited:return{type:b.b.invited,title:w.f};case b.d.offlineMessage:return{type:b.b.offline,title:w.g};case b.d.refusedByAgent:return{type:b.b.refused,title:w.h};case b.d.refusedByVisitor:return{type:b.b.refused,title:w.i};case b.d.chatEnded:return{type:b.b.chatEnd,title:w.j};case b.d.inSite:return{type:b.b.insite,title:w.k};case b.d.outOfSite:return{type:b.b.outOfSite,title:w.l};case b.d.transferring:return{type:b.b.transferring,title:w.a};case b.d.manuallyInvitedAndWatingVisitor:return{type:b.b.inviteWaiting,title:w.q};case b.d.invitedAndWaitingForChat:return{type:b.b.waitingInvite,title:w.s};case b.d.monitorChatEnded:return{type:b.b.monitorEnded,title:w.t};case b.d.monitorChatting:return{type:b.b.monitorChatting,title:w.u};default:return{type:"",color:"",title:""}}}var s=n(3),i=n.n(s),a=n(22),c=n.n(a),l=n(14),u=n.n(l),d=n(16),p=n.n(d),f=n(21),h=n.n(f),g=n(20),v=n.n(g),m=n(1),y=n.n(m),b=n(2),C=n(69),w=n(992),S=n(385),T=function(e){function t(){return u()(this,t),h()(this,(t.__proto__||c()(t)).apply(this,arguments))}return v()(t,e),p()(t,[{key:"shouldComponentUpdate",value:function(e){return e.statusCode!==this.props.statusCode||e.audioVideoStatus!==this.props.audioVideoStatus}},{key:"render",value:function(){var e=r(this.props.statusCode,this.props.audioVideoStatus),t=e.type,n=e.title;return i()(C.a,{type:t,size:this.props.size,"data-tip":n,"data-for":this.props.dataFor})}}]),t}(y.a.Component);T.defaultProps={size:18},t.a=T},,,,,,function(e,t,n){"use strict";var o=n(3),r=n.n(o),s=n(22),i=n.n(s),a=n(14),c=n.n(a),l=n(16),u=n.n(l),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(1),v=n.n(g),m=n(35),y=n.n(m),b=n(54),C=n(944),w=n.n(C),S=n(69),T=n(2),x=n(1490),k=n(990),I="chatContainer",E="Attach this chat to a ticket.",P=function(e){function t(){c()(this,t);var e=p()(this,(t.__proto__||i()(t)).call(this));return e.state={open:!1,dataFor:I,dataTip:E,isOpenModalStandbyNotice:!1},e.openModal=e.openModal.bind(e),e.closeModal=e.closeModal.bind(e),e.closeStandbyWindow=e.closeStandbyWindow.bind(e),e}return h()(t,e),u()(t,[{key:"closeModal",value:function(){this.setState({open:!1,dataFor:I,dataTip:E})}},{key:"closeStandbyWindow",value:function(){this.setState({isOpenModalStandbyNotice:!1,dataFor:I,dataTip:E})}},{key:"openModal",value:function(){this.props.ifUseMainServer?this.setState({open:!0,dataFor:"",dataTip:""}):this.setState({isOpenModalStandbyNotice:!0,dataFor:"",dataTip:""})}},{key:"render",value:function(){return r()("div",{},void 0,r()(b.a,{type:"noborder",className:y()(w.a.chatActionIcon,!this.props.ifEnable&&w.a.chatActionIconDisabled),onClick:this.props.ifEnable?this.openModal:void 0,"data-tip":this.state.dataTip,"data-for":this.state.dataFor},void 0,r()(S.a,{type:T.b.attachticket})),this.state.open&&r()(x.a,{closeModal:this.closeModal,siteId:this.props.siteId,visitorId:this.props.visitorId,ticketId:this.props.ticketId,handleAttachTicket:this.props.handleAttachTicket,gotoAttachTicket:this.props.gotoAttachTicket,responseErrorMessage:this.props.responseErrorMessage,hideResponseErrorMessage:this.props.hideResponseErrorMessage}),this.state.isOpenModalStandbyNotice&&r()(k.a,{closeModal:this.closeStandbyWindow,text:"Live Chat is running on the secondary server. We're sorry but you're\n                unable to perform this action now. Please try again after Live Chat\n                goes back to the primary server."}))}}]),t}(v.a.Component);t.a=P},function(e,t,n){"use strict";var o=n(3),r=n.n(o),s=n(1),i=(n.n(s),n(35)),a=n.n(i),c=n(54),l=n(944),u=n.n(l),d=n(69),p=n(2),f=function(e){return r()("div",{},void 0,r()(c.a,{type:"noborder",className:a()(u.a.chatActionIcon,!e.ifEnable&&u.a.chatActionIconDisabled),onClick:e.ifEnable?e.onClick:void 0,"data-tip":"Audio Chat","data-for":"chatContainer"},void 0,r()(d.a,{type:p.b.audioChat})))};t.a=f},function(e,t,n){"use strict";var o=n(3),r=n.n(o),s=n(22),i=n.n(s),a=n(14),c=n.n(a),l=n(16),u=n.n(l),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(1),v=n.n(g),m=n(35),y=n.n(m),b=n(171),C=n(379),w=n(54),S=n(221),T=(n.n(S),n(944)),x=n.n(T),k=n(69),I=n(2),E=function(e){function t(e){c()(this,t);var n=p()(this,(t.__proto__||i()(t)).call(this,e));return n.state={isOpen:!1},n.toggle=n.toggle.bind(n),n.selectSmall=n.onSelect.bind(n,C.b),n.selectMiddle=n.onSelect.bind(n,C.a),n.selectLarge=n.onSelect.bind(n,C.c),n.handleClick=n.handleClick.bind(n),n}return h()(t,e),u()(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClick,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick,!1)}},{key:"onSelect",value:function(e){this.setState({isOpen:!1}),this.props.onFontSelect(e)}},{key:"handleClick",value:function(e){var t=this.container;this.state.isOpen&&t&&!t.contains(e.target)&&this.setState({isOpen:!1})}},{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){var e=this,t=this.state.isOpen,n=this.props.selectedFontSize,o=n===C.b,s=n===C.a,i=n===C.c;return v.a.createElement("div",{ref:function(t){e.container=t}},r()(w.a,{type:"noborder",className:y()(x.a.chatActionIcon,t&&x.a.iconActive),onClick:this.toggle,"data-tip":"Adjust font size of chat messages.","data-for":"chatContainer"},void 0,r()(k.a,{type:I.b.font})),r()("div",{className:y()(S.default.cover,t&&S.default.coverOpen),onClick:this.toggle}),r()("ul",{className:y()(S.default.fontList,t&&S.default.fontOpen)},void 0,r()("li",{className:o&&S.default.fontActive},void 0,r()(b.a,{onClick:this.selectSmall},void 0,"Small")),r()("li",{className:s&&S.default.fontActive},void 0,r()(b.a,{onClick:this.selectMiddle},void 0,"Middle")),r()("li",{className:i&&S.default.fontActive},void 0,r()(b.a,{onClick:this.selectLarge},void 0,"Large"))))}}]),t}(v.a.Component);t.a=E},function(e,t,n){"use strict";var o=n(3),r=n.n(o),s=n(22),i=n.n(s),a=n(14),c=n.n(a),l=n(16),u=n.n(l),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(1),v=n.n(g),m=n(35),y=n.n(m),b=n(54),C=n(944),w=n.n(C),S=n(69),T=n(2),x=n(1511),k=function(e){function t(){c()(this,t);var e=p()(this,(t.__proto__||i()(t)).call(this));return e.state={isOpenGotoMeeting:!1},e.toggleOpenPrompt=e.toggleOpenPrompt.bind(e),e.closeOpenPrompt=e.closeOpenPrompt.bind(e),e.handleClick=e.handleClick.bind(e),e}return h()(t,e),u()(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClick,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick,!1)}},{key:"handleClick",value:function(e){var t=this.container;t&&!t.contains(e.target)&&this.state.isOpenGotoMeeting&&this.setState({isOpenGotoMeeting:!1})}},{key:"toggleOpenPrompt",value:function(){this.setState({isOpenGotoMeeting:!this.state.isOpenGotoMeeting})}},{key:"closeOpenPrompt",value:function(){this.setState({isOpenGotoMeeting:!1})}},{key:"render",value:function(){var e=this;return v.a.createElement("div",{ref:function(t){e.container=t}},r()(b.a,{type:"noborder",className:y()(w.a.chatActionIcon,!this.props.ifEnable&&w.a.chatActionIconDisabled,this.state.isOpen&&w.a.iconActive),onClick:this.props.ifEnable?this.toggleOpenPrompt:function(){},"data-tip":"Start screen sharing session with your visitors through GoToMeeting.","data-for":"chatContainer"},void 0,r()(S.a,{type:T.b.gotomeeting})),this.state.isOpenGotoMeeting&&r()(x.a,{closePrompt:this.closeOpenPrompt,visitorId:this.props.visitorId,onRequestGotoMeeting:this.props.onRequestGotoMeeting}))}}]),t}(v.a.Component);t.a=k},function(e,t,n){"use strict";var o=n(3),r=n.n(o),s=n(1),i=(n.n(s),n(35)),a=n.n(i),c=n(171),l=n(944),u=n.n(l),d=n(69),p=n(2),f=function(e){var t=e.joinMeIntegrationServer,n=e.siteId,o=e.visitorId,s=e.currentAgentId,i=e.agentSession,l=t+"/auth.aspx?siteId="+n+"&visitorId="+o+"&operatorId="+s+"&token="+i;return r()("div",{},void 0,r()(c.a,{type:"noborder",className:a()(u.a.chatActionIcon,!e.ifEnable&&u.a.chatActionIconDisabled),href:e.ifEnable?l:"",newWindow:!0,"data-tip":"Start screen sharing session with your visitors through Join.Me.","data-for":"chatContainer"},void 0,r()(d.a,{type:p.b.joinMe})))};t.a=f},function(e,t,n){"use strict";var o=n(3),r=n.n(o),s=n(22),i=n.n(s),a=n(14),c=n.n(a),l=n(16),u=n.n(l),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(1),v=n.n(g),m=n(35),y=n.n(m),b=n(54),C=n(944),w=n.n(C),S=n(69),T=n(2),x=n(1512),k=function(e){function t(){c()(this,t);var e=p()(this,(t.__proto__||i()(t)).call(this));return e.state={isOpenSecureForm:!1},e.toggleOpenPrompt=e.toggleOpenPrompt.bind(e),e.closeOpenPrompt=e.closeOpenPrompt.bind(e),e.handleClick=e.handleClick.bind(e),e}return h()(t,e),u()(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClick,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick,!1)}},{key:"handleClick",value:function(e){var t=this.container;t&&!t.contains(e.target)&&this.state.isOpenSecureForm&&this.setState({isOpenSecureForm:!1})}},{key:"toggleOpenPrompt",value:function(){this.setState({isOpenSecureForm:!this.state.isOpenSecureForm})}},{key:"closeOpenPrompt",value:function(){this.setState({isOpenSecureForm:!1})}},{key:"render",value:function(){var e=this;return v.a.createElement("div",{ref:function(t){e.container=t}},r()(b.a,{type:"noborder",className:y()(w.a.chatActionIcon,!this.props.ifEnable&&w.a.chatActionIconDisabled,this.state.isOpenSecureForm&&w.a.iconActive),onClick:this.props.ifEnable?this.toggleOpenPrompt:void 0,"data-tip":"Request a PCI form from your visitor.","data-for":"chatContainer"},void 0,r()(S.a,{type:T.b.secureForm})),this.state.isOpenSecureForm&&r()(x.a,{closePrompt:this.closeOpenPrompt,visitorId:this.props.visitorId,chatId:this.props.chatId,pciForm:this.props.pciForm,onRequestPCIForm:this.props.onRequestPCIForm}))}}]),t}(v.a.Component);t.a=k},function(e,t,n){"use strict";var o=n(3),r=n.n(o),s=n(22),i=n.n(s),a=n(14),c=n.n(a),l=n(16),u=n.n(l),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(1),v=n.n(g),m=n(35),y=n.n(m),b=n(54),C=n(944),w=n.n(C),S=n(69),T=n(2),x=n(1498),k=function(e){function t(){c()(this,t);var e=p()(this,(t.__proto__||i()(t)).call(this));return e.state={open:!1},e.openModal=e.openModal.bind(e),e.closeModal=e.closeModal.bind(e),e}return h()(t,e),u()(t,[{key:"closeModal",value:function(){this.setState({open:!1})}},{key:"openModal",value:function(){var e=this.props;e.initialSendTranscriptForm(e.visitorId,e.chatId,e.transcriptInfo),this.setState({open:!0})}},{key:"render",value:function(){return r()("div",{},void 0,r()(b.a,{type:"noborder",className:y()(w.a.chatActionIcon,!this.props.ifEnable&&w.a.chatActionIconDisabled),onClick:this.props.ifEnable?this.openModal:void 0,"data-tip":"Send transcript to a specified email account.","data-for":"chatContainer"},void 0,r()(S.a,{type:T.b.sendEmail})),this.state.open&&r()(x.a,{closeModal:this.closeModal,handleSendTranscript:this.props.handleSendTranscript,transcriptInfo:this.props.transcriptInfo,responseErrorMessage:this.props.responseErrorMessage,sendEmailSuccessMessage:this.props.sendEmailSuccessMessage,showResponseErrorMessage:this.props.showResponseErrorMessage,hideResponseErrorMessage:this.props.hideResponseErrorMessage,hideSendEmailSuccessMessage:this.props.hideSendEmailSuccessMessage}))}}]),t}(v.a.Component);t.a=k},function(e,t,n){"use strict";var o=n(3),r=n.n(o),s=n(22),i=n.n(s),a=n(14),c=n.n(a),l=n(16),u=n.n(l),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(1),v=n.n(g),m=n(35),y=n.n(m),b=n(54),C=n(944),w=n.n(C),S=n(69),T=n(2),x=n(1492),k=function(e){function t(e){c()(this,t);var n=p()(this,(t.__proto__||i()(t)).call(this,e));return n.state={open:!1},n.openModal=n.toggleModal.bind(n,!0),n.closeModal=n.toggleModal.bind(n,!1),n}return h()(t,e),u()(t,[{key:"toggleModal",value:function(e){this.setState({open:e}),e&&this.props.onTransferIconClick&&this.props.onTransferIconClick()}},{key:"render",value:function(){return r()("div",{},void 0,r()(b.a,{type:"noborder",onClick:this.props.ifEnable?this.openModal:void 0,className:y()(w.a.chatActionIcon,!this.props.ifEnable&&w.a.chatActionIconDisabled),"data-tip":"Transfer the chat to another agent or department.","data-for":"chatContainer"},void 0,r()(S.a,{type:T.b.transfer})),this.state.open&&r()(x.a,{closeModal:this.closeModal,visitorId:this.props.visitorId,ifDepartmentEnabled:this.props.transfer.ifDepartmentEnabled,onlineDepartments:this.props.transfer.onlineDepartments,onlineDepartmentOptions:this.props.transfer.onlineDepartmentComponent,allAvailableAgents:this.props.transfer.allAvailableAgents,onTransferChat:this.props.onTransferChat}))}}]),t}(v.a.Component);t.a=k},function(e,t,n){"use strict";var o=n(3),r=n.n(o),s=n(22),i=n.n(s),a=n(14),c=n.n(a),l=n(16),u=n.n(l),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(1),v=n.n(g),m=n(35),y=n.n(m),b=n(54),C=n(221),w=(n.n(C),n(944)),S=n.n(w),T=n(69),x=n(2),k=n(1510),I=function(e){function t(e){c()(this,t);var n=p()(this,(t.__proto__||i()(t)).call(this,e));return n.state={isOpen:e.autoTranslateInfo.ifOpenAutoTranslation},n.togglePrompt=n.togglePrompt.bind(n),n.closePrompt=n.closePrompt.bind(n),n}return h()(t,e),u()(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({isOpen:e.autoTranslateInfo.ifOpenAutoTranslation})}},{key:"togglePrompt",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"closePrompt",value:function(){this.setState({isOpen:!1}),this.props.autoTranslateInfo.ifAutoPopTranslation||this.props.onUpdateIfPopTranslation(this.props.chatId)}},{key:"render",value:function(){var e=this;return v.a.createElement("div",{ref:function(t){e.container=t}},r()(b.a,{type:"noborder",className:y()(S.a.chatActionIcon,!this.props.ifEnable&&S.a.chatActionIconDisabled,this.state.isOpen&&S.a.iconActive),onClick:this.props.ifEnable?this.togglePrompt:void 0,"data-tip":"Automatically translate chat messages to a target language in real time.","data-for":"chatContainer"},void 0,r()(T.a,{type:x.b.translate})),this.state.isOpen&&r()(k.a,{closePrompt:this.closePrompt,visitorId:this.props.visitorId,detectedVisitorLanguage:this.props.autoTranslateInfo.detectedVisitorLanguage,onToggleAutoTranslate:this.props.onToggleAutoTranslate}))}}]),t}(v.a.Component);t.a=I},function(e,t,n){"use strict";var o=n(3),r=n.n(o),s=n(1),i=(n.n(s),n(35)),a=n.n(i),c=n(54),l=n(944),u=n.n(l),d=n(69),p=n(2),f=function(e){return r()("div",{},void 0,r()(c.a,{type:"noborder",className:a()(u.a.chatActionIcon,!e.ifEnable&&u.a.chatActionIconDisabled),onClick:e.ifEnable?e.onClick:void 0,"data-tip":"Video Chat","data-for":"chatContainer"},void 0,r()(d.a,{type:p.b.videoChat})))};t.a=f},function(e,t,n){"use strict";var o=n(3),r=n.n(o),s=n(22),i=n.n(s),a=n(14),c=n.n(a),l=n(16),u=n.n(l),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(1),v=n.n(g),m=n(35),y=n.n(m),b=n(375),C=n.n(b),w=n(1345),S=n(377),T=n(221),x=(n.n(T),n(171)),k=function(e){function t(){return c()(this,t),p()(this,(t.__proto__||i()(t)).apply(this,arguments))}return h()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){return C.a.rebuild()},0)}},{key:"shouldComponentUpdate",value:function(e){return e.type!==this.props.type&&e.socialUrl!==this.props.socialUrl}},{key:"componentDidUpdate",value:function(){this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){return C.a.rebuild()},0)}},{key:"componentWillUnmount",value:function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)}},{key:"render",value:function(){var e="",t="";switch(this.props.type){case w.c:t="facebook",e="Facebook";break;case w.d:t="googlePlus",e="GooglePlus";break;case w.b:t="zendesk",e="Zendesk";break;case w.a:t="salesforce",e="Salesforce"}return r()("span",{"data-tip":e,"data-for":"chatContainer"},void 0,r()(x.a,{newWindow:!0,href:this.props.socialUrl},void 0,r()(S.a,{className:y()(T.default["social-"+t],T.default.iconOffsetDown)})))}}]),t}(v.a.Component);t.a=k},,,,,function(e,t,n){"use strict";var o=n(3),r=n.n(o),s=n(22),i=n.n(s),a=n(14),c=n.n(a),l=n(16),u=n.n(l),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(1),v=n.n(g),m=n(100),y=n(99),b=(n.n(y),n(758)),C=(n(54),n(618)),w=n.n(C),S=n(755),T=n(171),x=function(e){function t(e){c()(this,t);var n=p()(this,(t.__proto__||i()(t)).call(this,e));return n.state={attachType:"0",ifAttachNewTicket:!0,ifAttachTicketButtonEnabled:!0,ticketId:""},n.handleChange=n.handleChange.bind(n),n.changeTicketId=n.changeTicketId.bind(n),n.handleAttachTicket=n.handleAttachTicket.bind(n),n.hideResponseErrorMessage=n.hideResponseErrorMessage.bind(n),n}return h()(t,e),u()(t,[{key:"componentWillReceiveProps",value:function(e){e.responseErrorMessage&&(void 0!==this.timeoutId&&clearTimeout(this.timeoutId),this.timeoutId=setTimeout(this.hideResponseErrorMessage,4e3))}},{key:"handleChange",value:function(e){switch(e.target.value){case"0":this.setState({attachType:"0",ifAttachNewTicket:!0,ifAttachTicketButtonEnabled:!0});break;case"1":this.setState({attachType:"1",ifAttachNewTicket:!1,ifAttachTicketButtonEnabled:!1})}}},{key:"changeTicketId",value:function(e){this.setState({ifAttachTicketButtonEnabled:e.target.value,ticketId:e.target.value})}},{key:"handleAttachTicket",value:function(e){this.props.handleAttachTicket(this.props.visitorId,e),this.setState({ifAttachTicketButtonEnabled:!1})}},{key:"hideResponseErrorMessage",value:function(){this.props.hideResponseErrorMessage()}},{key:"render",value:function(){var e=this,t=r()(S.a,{meta:{},input:{onChange:this.changeTicketId,value:this.state.ticketId},className:w.a.attachTicket,isDisabled:this.state.ifAttachNewTicket}),n="";return n=this.state.ifAttachNewTicket?0:this.state.ticketId,r()(m.a,{closeModal:this.props.closeModal,title:"Attach to Ticket",actions:this.props.ticketId?{cancelProps:{text:"Close"}}:{okProps:{text:"OK",disabled:!this.state.ifAttachTicketButtonEnabled,eventClick:function(){e.handleAttachTicket(n)}},cancelProps:{text:"Cancel"}}},void 0,r()("div",{className:y.default.modalAttachtTicket},void 0,this.props.ticketId?r()("div",{},void 0,r()("p",{},void 0,"You have attached a ticket with id: ",this.props.ticketId),r()(T.a,{href:"#",onClick:this.props.gotoAttachTicket},void 0,">> Go to the ticket")):r()("div",{},void 0,r()(b.a,{name:"attachTicket",radioOption:[{text:"A new ticket.",value:"0",checked:"0"===this.state.attachType},{text:"An existing ticket Id: S"+this.props.siteId+"-T",value:"1",checked:"1"===this.state.attachType,component:t}],handleChange:this.handleChange})),this.props.responseErrorMessage?r()("div",{className:y.default.errorContainer},void 0,r()("span",{className:y.default.message},void 0,this.props.responseErrorMessage)):""))}}]),t}(v.a.Component);t.a=x},function(e,t,n){"use strict";var o=n(3),r=n.n(o),s=n(1),i=(n.n(s),n(100)),a=r()("div",{},void 0,"Are you sure you want to leave this chat?"),c=function(e){return r()(i.a,{closeModal:e.closeModal,title:"Comm100 Live Chat",actions:{okProps:{text:"Yes",eventClick:e.onLeaveChat},cancelProps:{text:"No"}}},void 0,a)};t.a=c},function(e,t,n){"use strict";var o=n(3),r=n.n(o),s=n(22),i=n.n(s),a=n(14),c=n.n(a),l=n(16),u=n.n(l),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(1),v=n.n(g),m=n(100),y=n(99),b=(n.n(y),n(758)),C=(n(54),n(1494)),w=n(1493),S=n(376),T=function(e){function t(e){c()(this,t);var n=p()(this,(t.__proto__||i()(t)).call(this,e));return n.state={transferTo:e.ifDepartmentEnabled?"0":"1",departmentId:0,selectedDepartmentIndex:-1,agentId:0,selectedAgentIndex:-1,enableCloseChat:!1},n.handleChangeTransferTo=n.handleChangeTransferTo.bind(n),n.handleSelectDepartment=n.handleSelectDepartment.bind(n),n.handleSelectAgent=n.handleSelectAgent.bind(n),n.switchCloseChatFlag=n.switchCloseChatFlag.bind(n),n}return h()(t,e),u()(t,[{key:"handleChangeTransferTo",value:function(e){this.setState({transferTo:e.target.value})}},{key:"handleSelectDepartment",value:function(e,t){this.setState({departmentId:e,selectedDepartmentIndex:t})}},{key:"handleSelectAgent",value:function(e,t){this.setState({agentId:e,selectedAgentIndex:t})}},{key:"switchCloseChatFlag",value:function(e){this.setState({enableCloseChat:e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.closeModal,o=t.ifDepartmentEnabled,s=t.onlineDepartments,i=t.onlineDepartmentOptions,a=t.allAvailableAgents;return r()(m.a,{closeModal:n,className:y.default.modalTransfer,title:o?"Transfer the Chat to":"Choose an Agent to Transfer",actions:{okProps:{text:"Transfer",eventClick:function(){e.props.closeModal(),e.props.onTransferChat(e.state.transferTo,e.props.visitorId,e.state.departmentId,e.state.agentId,e.state.enableCloseChat)}},cancelProps:{text:"Cancel"}}},void 0,o?r()(b.a,{name:"transfer",radioOption:[{text:"Department",value:"0",checked:"0"===this.state.transferTo},{text:"Agent",value:"1",checked:"1"===this.state.transferTo}],className:y.default.transferChoose,handleChange:this.handleChangeTransferTo}):"","0"===this.state.transferTo?r()(C.a,{onlineDepartments:s,handleSelectDepartment:this.handleSelectDepartment,selectedDepartmentIndex:this.state.selectedDepartmentIndex}):r()(w.a,{ifDepartmentEnabled:o,allAvailableAgents:a,onlineDepartments:s,onlineDepartmentOptions:i,handleSelectAgent:this.handleSelectAgent,selectedAgentIndex:this.state.selectedAgentIndex}),r()(S.a,{input:{value:this.state.enableCloseChat,onChange:this.switchCloseChatFlag},text:"Leave chat after transfer",className:y.default.leavechataftertransfer}))}}]),t}(v.a.Component);t.a=T},function(e,t,n){"use strict";var o=n(3),r=n.n(o),s=n(22),i=n.n(s),a=n(14),c=n.n(a),l=n(16),u=n.n(l),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(119),v=n.n(g),m=n(1),y=n.n(m),b=n(99),C=(n.n(b),n(69)),w=n(754),S=n(2),T=n(54),x=r()("p",{},void 0,"There are no other agents available. You cannot transfer the ongoing chat to another agent."),k=function(e){function t(e){c()(this,t);var n=p()(this,(t.__proto__||i()(t)).call(this,e));return n.state={selectedDepartmentValue:-1,allAvailableAgentsByDepartmentId:e.allAvailableAgents},n.handleChangeDepartment=n.handleChangeDepartment.bind(n),n.getAvailableAgentsByDepartmentId=n.getAvailableAgentsByDepartmentId.bind(n),n}return h()(t,e),u()(t,[{key:"componentWillReceiveProps",value:function(e){v()(e.allAvailableAgents,this.props.allAvailableAgents)||this.setState({allAvailableAgentsByDepartmentId:this.getAvailableAgentsByDepartmentId(this.state.selectedDepartmentValue,e.allAvailableAgents)})}},{key:"getAvailableAgentsByDepartmentId",value:function(e,t){var n=this.props,o=[];if(e!==-1){var r=n.onlineDepartments.filter(function(t){return t.id===e});r.length>0&&r[0].agentIds.forEach(function(e){var n=t.filter(function(t){return t.id===e&&(t.status===S.a.online||t.status===S.a.away||t.status>=100)});n.length>0&&o.push(n[0])})}else o=t;return o}},{key:"handleChangeDepartment",value:function(e){this.setState({selectedDepartmentValue:e,allAvailableAgentsByDepartmentId:this.getAvailableAgentsByDepartmentId(e,this.props.allAvailableAgents)})}},{key:"render",value:function(){var e=this;return this.props.allAvailableAgents.length?r()("div",{className:b.default.agentContainer},void 0,this.props.ifDepartmentEnabled&&r()("div",{className:b.default.selectDepartment},void 0,r()(w.a,{input:{value:this.state.selectedDepartmentValue,onChange:this.handleChangeDepartment},options:this.props.onlineDepartmentOptions,width:350,dropdownClassName:b.default.dropdown})),r()("ul",{className:b.default.availableList},void 0,this.state.allAvailableAgentsByDepartmentId.map(function(t,n){return r()("li",{},n,r()(T.a,{type:"noborder",className:e.props.selectedAgentIndex===n?b.default.active:"",onClick:function(){return e.props.handleSelectAgent(t.id,n)}},void 0,t.status===S.a.online?r()(C.a,{type:S.b.statusOnline,size:16,color:"#329fd9"}):r()(C.a,{type:S.b.statusAway,size:16,color:"#fe8e14"}),r()("div",{className:b.default.transferName},void 0,t.name)))}))):x}}]),t}(y.a.Component);t.a=k},function(e,t,n){"use strict";var o=n(3),r=n.n(o),s=n(22),i=n.n(s),a=n(14),c=n.n(a),l=n(16),u=n.n(l),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(1),v=n.n(g),m=n(99),y=(n.n(m),n(69)),b=n(2),C=n(54),w=r()("p",{},void 0,"No department is available at the moment."),S=function(e){function t(){return c()(this,t),p()(this,(t.__proto__||i()(t)).apply(this,arguments))}return h()(t,e),u()(t,[{key:"render",value:function(){var e=this;return this.props.onlineDepartments.length?r()("div",{className:m.default.agentContainer},void 0,r()("ul",{className:m.default.availableList},void 0,this.props.onlineDepartments.map(function(t,n){return r()("li",{},n,r()(C.a,{type:"noborder",className:e.props.selectedDepartmentIndex===n?m.default.active:"",onClick:function(){return e.props.handleSelectDepartment(t.id,n)}},void 0,r()(y.a,{type:b.b.statusOnline,size:16,color:"#329fd9"}),r()("div",{className:m.default.transferName},void 0,t.name)))}))):w}}]),t}(v.a.Component);t.a=S},,,,function(e,t,n){"use strict";var o=n(91),r=n.n(o),s=n(3),i=n.n(s),a=n(22),c=n.n(a),l=n(14),u=n.n(l),d=n(16),p=n.n(d),f=n(21),h=n.n(f),g=n(20),v=n.n(g),m=n(401),y=n.n(m),b=n(119),C=n.n(b),w=n(1),S=n.n(w),T=n(381),x=n(384),k=n(100),I=n(99),E=(n.n(I),n(755)),P=i()("span",{},void 0,"To:"),_=i()("span",{},void 0,"Subject:"),R=i()("span",{},void 0,"Body:"),M=i()("span",{},void 0,"Attachment:"),A=function(e){function t(e){u()(this,t);var n=h()(this,(t.__proto__||c()(t)).call(this,e));return n.state={to:e.transcriptInfo.to,subject:e.transcriptInfo.subject,body:e.transcriptInfo.body.content,isSending:!1},n.hideResponseErrorMessage=n.hideResponseErrorMessage.bind(n),n.hideSendEmailSuccessMessage=n.hideSendEmailSuccessMessage.bind(n),n.onToChange=n.onToChange.bind(n),n.onSubjectChange=n.onSubjectChange.bind(n),n.onBodyChange=n.onBodyChange.bind(n),n.onSubmit=n.onSubmit.bind(n),n}return v()(t,e),p()(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;e.responseErrorMessage&&(this.setState({isSending:!1}),void 0!==this.timeoutId&&clearTimeout(this.timeoutId),this.timeoutId=setTimeout(this.hideResponseErrorMessage,5e3)),e.sendEmailSuccessMessage&&(void 0!==this.successTimeoutId&&clearTimeout(this.successTimeoutId),this.successTimeoutId=setTimeout(function(){t.hideSendEmailSuccessMessage(),t.setState({isSending:!1})},5e3)),C()(this.props.transcriptInfo.body.content,e.transcriptInfo.body.content)||this.setState({body:e.transcriptInfo.body.content})}},{key:"onToChange",value:function(e){this.setState({to:e.target.value})}},{key:"onSubjectChange",value:function(e){this.setState({subject:e.target.value})}},{key:"onBodyChange",value:function(e){this.setState({body:e})}},{key:"onSubmit",value:function(){if(!this.state.to)return void this.props.showResponseErrorMessage("Email to is required");if(this.state.to.indexOf("@")<0)return void this.props.showResponseErrorMessage("Email to is invalid");this.setState({isSending:!0});var e=y()(this.state.body,new RegExp("<p>","g"),"<tr><td>"),t=y()(e,new RegExp("</p>","g"),"</td></tr>"),n=y()(t,new RegExp("<td><strong>","g"),'<td style="color:#329fd9"><strong>'),o={to:this.state.to,subject:this.state.subject,body:'<table cellspacing="0" cellpadding="0"><tr><td>'+n+"</td></tr></table>",attachment:this.props.transcriptInfo.body.attachments};this.props.handleSendTranscript(this.props.transcriptInfo.chatId,o)}},{key:"hideResponseErrorMessage",value:function(){this.props.hideResponseErrorMessage()}},{key:"hideSendEmailSuccessMessage",value:function(){this.props.hideSendEmailSuccessMessage()}},{key:"render",value:function(){var e=this;return i()(k.a,{closeModal:this.props.closeModal,className:I.default.modalSendTranscript,title:"Send Transcript",actions:{okProps:{text:"OK",disabled:this.state.isSending,eventClick:this.onSubmit},cancelProps:{text:"Cancel"}}},void 0,i()("div",{className:I.default.formTranscriptLine},void 0,P,i()(E.a,{className:I.default.input,type:"text",meta:{},input:{value:this.state.to,onChange:this.onToChange}})),i()("div",{className:I.default.formTranscriptLine},void 0,_,i()(E.a,{className:I.default.input,type:"text",meta:{},input:{value:this.state.subject,onChange:this.onSubjectChange}})),i()("div",{className:I.default.formTranscriptLine},void 0,R,i()(T.a,{modules:{SendTranscriptBody:function(){return n.i(T.b)(new r.a(function(e,t){n.e(1).then(function(t){e(n(1339))}.bind(null,n)).catch(n.oe).catch(t)}))}},loading:x.a},void 0,function(t){var n=t.SendTranscriptBody;return i()(n,{transcriptBodyAdditionInfo:e.props.transcriptInfo,input:{value:e.state.body,onChange:function(t){e.onBodyChange(t)}}})})),i()("div",{className:I.default.formTranscriptLine},void 0,M,i()("div",{className:I.default.attachmentsContainer},void 0,this.props.transcriptInfo.body.attachments)),this.props.responseErrorMessage?i()("div",{className:I.default.errorContainer},void 0,i()("span",{className:I.default.message},void 0,this.props.responseErrorMessage)):"",this.props.sendEmailSuccessMessage?i()("div",{className:I.default.successContainer},void 0,i()("span",{className:I.default.message},void 0,this.props.sendEmailSuccessMessage)):"")}}]),t}(S.a.Component);t.a=A},,,,,,,,,,,,function(e,t,n){"use strict";var o=n(3),r=n.n(o),s=n(22),i=n.n(s),a=n(14),c=n.n(a),l=n(16),u=n.n(l),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(1),v=n.n(g),m=n(35),y=n.n(m),b=n(1045),C=n.n(b),w=n(1709),S=n.n(w),T=n(54),x=n(754),k=n(15),I=n(69),E=n(2),P=[{text:"Afrikaans",value:"1"},{text:"Albanian",value:"2"},{text:"Arabic",value:"3"},{text:"Armenian",value:"4"},{text:"Azerbaijani",value:"5"},{text:"Basque",value:"6"},{text:"Belarusian",value:"7"},{text:"Bengali",value:"8"},{text:"Bosnian",value:"9"},{text:"Bulgarian",value:"10"},{text:"Catalan",value:"11"},{text:"Cebuano",value:"12"},{text:"Chichewa",value:"13"},{text:"Chinese Simplified",value:"14"},{text:"Chinese Traditional",value:"15"},{text:"Croatian",value:"16"},{text:"Czech",value:"17"},{text:"Danish",value:"18"},{text:"Dutch",value:"19"},{text:"English",value:"20"},{text:"Esperanto",value:"21"},{text:"Estonian",value:"22"},{text:"Filipino",value:"23"},{text:"Finnish",value:"24"},{text:"French",value:"25"},{text:"Galician",value:"26"},{text:"Georgian",value:"27"},{text:"German",value:"28"},{text:"Greek",value:"29"},{text:"Gujarati",value:"30"},{text:"Haitian Creole",value:"31"},{text:"Hausa",value:"32"},{text:"Hebrew",value:"33"},{text:"Hindi",value:"34"},{text:"Hmong",value:"35"},{text:"Hungarian",value:"36"},{text:"Icelandic",value:"37"},{text:"Igbo",value:"38"},{text:"Indonesian",value:"39"},{text:"Irish",value:"40"},{text:"Italian",value:"41"},{text:"Japanese",value:"42"},{text:"Javanese",value:"43"},{text:"Kannada",value:"44"},{text:"Kazakh",value:"45"},{text:"Khmer",value:"46"},{text:"Korean",value:"47"},{text:"Lao",value:"48"},{text:"Latin",value:"49"},{text:"Latvian",value:"50"},{text:"Lithuanian",value:"51"},{text:"Macedonian",value:"52"},{text:"Malagasy",value:"53"},{text:"Malay",value:"54"},{text:"Malayalam",value:"55"},{text:"Maltese",value:"56"},{text:"Maori",value:"57"},{text:"Marathi",value:"58"},{text:"Mongolian",value:"59"},{text:"Myanmar Burmese",value:"60"},{text:"Nepali",value:"61"},{text:"Norwegian",value:"62"},{text:"Persian",value:"63"},{text:"Polish",value:"64"},{text:"Portuguese",value:"65"},{text:"Punjabi",value:"66"},{text:"Romanian",value:"67"},{text:"Russian",value:"68"},{text:"Serbian",value:"69"},{text:"Sesotho",value:"70"},{text:"Sinhala",value:"71"},{text:"Slovak",value:"72"},{text:"Slovenian",value:"73"},{text:"Somali",value:"74"},{text:"Spanish",value:"75"},{text:"Sundanese",value:"76"},{text:"Swahili",value:"77"},{text:"Swedish",value:"78"},{text:"Tajik",value:"79"},{text:"Tamil",value:"80"},{text:"Telugu",value:"81"},{text:"Thai",value:"82"},{text:"Turkish",value:"83"},{text:"Ukrainian",value:"84"},{text:"Urdu",value:"85"},{text:"Uzbek",value:"86"},{text:"Vietnamese",value:"87"},{text:"Welsh",value:"88"},{text:"Yiddish",value:"89"},{text:"Yoruba",value:"90"},{text:"Zulu",value:"91"}],_=r()("h3",{},void 0,"Auto Translation"),R=r()("span",{},void 0,"Detected visitor language: "),M=function(e){function t(e){c()(this,t);var n=p()(this,(t.__proto__||i()(t)).call(this,e));return n.state={selectedLanguageValue:"0"===e.detectedVisitorLanguage?"20":e.detectedVisitorLanguage},n.handleChangeLanguage=n.handleChangeLanguage.bind(n),n.handleTurnOnAutoTranslate=n.handleTurnOnAutoTranslate.bind(n),n.handleTurnOffAutoTranslate=n.handleTurnOffAutoTranslate.bind(n),n}return h()(t,e),u()(t,[{key:"handleChangeLanguage",value:function(e){this.setState({selectedLanguageValue:e})}},{key:"handleTurnOnAutoTranslate",value:function(){this.props.closePrompt(),this.props.onToggleAutoTranslate(k._74,this.props.visitorId,this.state.selectedLanguageValue)}},{key:"handleTurnOffAutoTranslate",value:function(){this.props.closePrompt(),this.props.onToggleAutoTranslate(k._75,this.props.visitorId,this.state.selectedLanguageValue)}},{key:"render",value:function(){return r()("div",{className:y()(C.a.promptWindow,S.a.autoTranslate)},void 0,r()("button",{className:C.a.close,onClick:this.props.closePrompt},void 0,r()(I.a,{type:E.b.close,size:10})),_,R,r()(x.a,{options:P,width:170,input:{value:this.state.selectedLanguageValue,onChange:this.handleChangeLanguage},dropdownClassName:C.a.dropdown,customizeStyle:{top:10,marginLeft:5}}),r()("div",{className:C.a.action},void 0,r()(T.a,{type:"primary",text:"Turn On",onClick:this.handleTurnOnAutoTranslate}),r()(T.a,{type:"default",text:"Turn Off",onClick:this.handleTurnOffAutoTranslate})))}}]),t}(v.a.Component);t.a=M},function(e,t,n){"use strict";var o=n(3),r=n.n(o),s=n(1),i=(n.n(s),n(1045)),a=n.n(i),c=n(54),l=n(69),u=n(2),d=r()("p",{},void 0,"Would you like to request a screen sharing session with the visitor?"),p=function(e){return r()("div",{className:a.a.promptWindow},void 0,r()("button",{className:a.a.close,onClick:e.closePrompt},void 0,r()(l.a,{type:u.b.close,size:10})),d,r()("div",{className:a.a.action},void 0,r()(c.a,{type:"primary",text:"Yes",onClick:function(){e.onRequestGotoMeeting(e.visitorId),e.closePrompt()}}),r()(c.a,{type:"default",text:"No",onClick:e.closePrompt})))};t.a=p},function(e,t,n){"use strict";var o=n(3),r=n.n(o),s=n(22),i=n.n(s),a=n(14),c=n.n(a),l=n(16),u=n.n(l),d=n(21),p=n.n(d),f=n(20),h=n.n(f),g=n(31),v=n.n(g),m=n(1),y=n.n(m),b=n(1045),C=n.n(b),w=n(54),S=n(758),T=n(69),x=n(2),k=r()("h3",{},void 0,"Request PCI Form"),I=r()("p",{},void 0,"You have no PCI Forms."),E=function(e){function t(e){c()(this,t);var n=p()(this,(t.__proto__||i()(t)).call(this,e));return n.state={pciFormId:e.pciForm.pciFormList.length?e.pciForm.pciFormList[0].id.toString():"0"},n.handleChange=n.handleChange.bind(n),n}return h()(t,e),u()(t,[{key:"handleChange",value:function(e){this.setState({pciFormId:e.target.value})}},{key:"render",value:function(){var e=this,t=[];this.props.pciForm.pciFormList.length&&this.props.pciForm.pciFormList.forEach(function(e){t.push({value:e.id.toString(),text:e.name})});var n=v()(this.props.pciForm.pciFormList,function(t){return t.id===parseInt(e.state.pciFormId,10)});return r()("div",{className:C.a.promptWindow},void 0,r()("button",{className:C.a.close,onClick:this.props.closePrompt},void 0,r()(T.a,{type:x.b.close,size:10})),k,t.length?r()(S.a,{name:"pciforms",radioOption:t,selectedVal:this.state.pciFormId.toString(),handleChange:this.handleChange}):I,r()("div",{className:C.a.action},void 0,r()(w.a,{type:"primary",text:"OK",onClick:n?function(){e.props.onRequestPCIForm(e.props.pciForm.secureFormServer,n,e.props.pciForm.secureFormConfig,e.props.visitorId,e.props.chatId,n.name),e.props.closePrompt()}:this.props.closePrompt}),r()(w.a,{type:"default",text:"Cancel",onClick:this.props.closePrompt})))}}]),t}(y.a.Component);t.a=E},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return r});var o=2,r=3},,,,,,,,function(e,t,n){"use strict";function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];return!!h()(e[t])||e[t]}function r(e,t){var n=e.get("status");return n===y.d.waitingForChat?e.get("autoInvitationId")>0?y.d.invitedAndWaitingForChat:y.d.waitingForChat:n===y.d.transferring?y.d.transferring:n===y.d.chatting?g.g(e,t)?y.d.monitorChatting:y.d.chatting:n===y.d.chatEnded?g.g(e,t)?y.d.monitorChatEnded:y.d.chatEnded:g.d(e,t)?y.d.manuallyInvitedAndWatingVisitor:g.w(e,t)?y.d.refusedByVisitor:y.d.chatEnded}function s(e,t,n){if(!n)return y.q.noGroup;var o=e.get("status");return o===y.d.chatting||o===y.d.transferring&&g.e(e,t)?y.q.onGoing:o===y.d.waitingForChat||o===y.d.transferring?y.q.inComing:!g.e(e,t)||o!==y.d.manuallyInvitedAndWatingVisitor&&o!==y.d.refusedByVisitor?y.q.chatEnded:y.q.invited}function i(e,t,n,o){if(!o)return null;var r=null,s=n;switch(e.get("status")){case y.d.waitingForChat:r=e.get("chatRequestTime");break;case y.d.transferring:r=e.get("transferTime");break;default:s=0,r=t.get("lastRepliedTime")}return r instanceof Date?r.getTime()+1e3*s:null}function a(e,t,n,o,s,a,c,l){var u=e.get("status"),d=t.get("id"),f=g.x(e,s,a),h=g.u(e),v=h&&g.g(e,s),m=h&&g.e(e,s),b=g.y(e)||u===y.d.chatEnded&&g.g(e,s)||g.h(e,s)&&!(h&&g.e(e,s))&&!v&&u!==y.d.transferring,C=e.get("departmentId"),w=p()(a,function(e){return C===e.id}),S=m||v||u===y.d.chatEnded;return{status:u,waitingChatOrChatBegins:e.get("waitingChatOrChatBegins"),visitorId:e.get("id"),chatId:d,visitor:{name:e.get("latestName"),agentName:g.z(e,s,o),department:w?w.name:null},segments:T(c,e.get("segmentIds")),isPinned:t.get("isPinned"),isShowWrapUp:!f&&t.get("ifShowWrapupButton")&&!t.get("wrapupSubmitted")&&d!==n,isShowAcceptAndRefuse:f,isShowDeleteIcon:b,unresponseBeginTime:i(e,t,l,f||m),currentStatus:r(e,s),messageNumber:S?t.get("unreadMessages"):0,isSelected:d===n,audioVideoStatus:e.get("audioVideoChatStatus")}}function c(e){return{chats:[],groupItems:[{id:"ongoingChats",description:"Ongoing Chats",opened:o(e,"ongoingChats"),chats:[]},{id:"incomingChats",description:"Incoming Chats",opened:o(e,"incomingChats"),chats:[]},{id:"manuallyInvited",description:"Manually Invited",opened:o(e,"manuallyInvited"),chats:[]},{id:"endedChats",description:"Ended Chats",opened:o(e,"endedChats"),chats:[]}],ifDepartmentEnabled:!0,isShowChatItemsViaStatus:!1,isShowUnreposiveTime:!0,isShowDepartment:!0,ifEnableSegmentation:!0,enableRefuseChat:!0}}function l(e,t,n,o,r,i,l,u,d,p,f,h){var g=c(h);return g.ifDepartmentEnabled=o.ifDepartmentEnabled,g.isShowChatItemsViaStatus=r.ifGroupChats,g.isShowUnreposiveTime=r.ifShowUnresponseTime,g.isShowDepartment=r.ifShowDepartment,g.ifEnableSegmentation=o.ifEnableSegmentation,g.enableRefuseChat=i,e.reduce(function(e,o,r){var i=o.get("isUnfinishedWrapup")?t.get("v"+o.get("visitorId")+"c"+r):t.get(o.get("visitorId"));if(!i)return e;var c=s(i,u,e.isShowChatItemsViaStatus),h=a(i,o,n,d,u,p,f,l);switch(c){case y.q.onGoing:e.groupItems[0].chats.splice(0,0,h);break;case y.q.inComing:e.groupItems[1].chats.push(h);break;case y.q.invited:e.groupItems[2].chats.splice(0,0,h);break;case y.q.chatEnded:e.groupItems[3].chats.splice(0,0,h);break;default:e.chats.splice(0,0,h)}return e},g)}function u(e){var t=b._37(e),n=b._106(e),o=b._28(e,C.d),r=b._12(e)||0,s=b.u(e),i=b.U(e),a=b._40(e),c=b._33(e),l=b.B(e),u=b._35(e);return x(i,b.m(e),a,t,n,o,r,s,c,l,u,w.a.get(S.f,null,{}))}var d=n(31),p=n.n(d),f=n(57),h=n.n(f),g=n(92),v=n(244),m=n.n(v),y=n(2),b=n(5),C=n(350),w=n(26),S=n(38);t.a=u;var T=function(e,t){return Array.isArray(t)?e.filter(function(e){return t.indexOf(e.id)>=0}).map(function(e){return{name:e.name,color:"#"+e.color.toString(16)}}):[]},x=m()(1)(l)},,function(e,t,n){"use strict";function o(e){var t=b.q(e);if(!t.get("ifVisitorSupportWebrtc"))return!1;if(t.get("audioVideoStatus")!==_.a)return!1;var n=function(e){var t=e.get("audioVideoStatus");return t===_.f||t===_.g||t===_.b||t===_.c};return 0===b.U(e).filter(n).size}var r=n(47),s=n.n(r),i=n(256),a=n.n(i),c=n(55),l=n.n(c),u=n(70),d=(n.n(u),n(244)),p=n.n(d),f=n(1464),h=n(92),g=n(89),v=n(243),m=n(72),y=n(350),b=n(5),C=n(759),w=n(37),S=n(71),T=n(348),x=n(15),k=n(1349),I=n(380),E=n(1348),P=n(246),_=n(349),R=p()(1)(function(e,t,o,r,s,i){var a="",c="",u="<tr><td></td></tr>",d="",p="",f="";return r&&(o.forEach(function(e){l()(e,function(e){e.type===v.b&&(a+=e.message+"<br/>"),e.type!==v.c&&e.type!==v.a||!e.message||(a+="["+n.i(g.i)(e.time)+"] "+e.sender+": "+e.message+"<br/>")})}),l()(r.customVariables,function(e){p+=e.name+": "+e.value+"<br/>"}),l()(r.preChatFields,function(e){f+=e.name+": "+e.value+"<br/>"}),c="<tr><td>Id: "+t+"</td></tr><tr><td>Name: "+r.name+"</td></tr><tr><td>Email: "+r.email+"</td></tr><tr><td>Department: "+(i?r.department:"")+"</td></tr><tr><td>Agent: "+r.agentNames+"</td></tr><tr><td>Chat Start Time: "+n.i(g.e)(r.chatStartTime,s)+"</td></tr><tr><td>End Time: "+n.i(g.e)(r.chatEndTime,s)+"</td></tr><tr><td>Product/Service: "+r.service+"</td></tr><tr><td>Phone: "+r.phone+"</td></tr><tr><td>Company: "+r.company+"</td></tr><tr><td>Source: "+r.source+"</td></tr><tr><td>Auto Invitation: "+r.autoInvitation+"</td></tr><tr><td>Request Page: "+r.requestingPageUrl+"</td></tr><tr><td>Custom Variables: <br/>"+p.substr(0,p.length-5)+"</td></tr><tr><td>Custom Fields: <br/>"+f+"<br/></td></tr>",u='<tr><td style="color:#329fd9;font-family: SourceSans Pro Bold,Arial;"><strong>Chat Info</strong></td></tr><tr><td>'+a+"</td></tr>"+c,d=r.attachments.join(", ")),{content:'<table cellspacing="0" cellpadding="0">'+u+"</table>",attachments:d}}),M=p()(1)(function(e,t){return'<table cellspacing="0" cellpadding="0"><tr><td style="color:#329fd9"><b>Visitor Info</b></td></tr><tr><td>Visitor Id: '+e.get("id")+"</td></tr><tr><td>Latest Name: "+e.get("latestName")+"</td></tr><tr><td>Latest Email: "+e.get("latestEmail")+"</td></tr><tr><td>First Visit Time: "+n.i(g.e)(e.get("firstVisitTime"),t)+"</td></tr><tr><td>Chat Times: "+e.get("chatTimes")+"</td></tr><tr><td>Visit Times: "+e.get("visitorTimes")+"<br/></td></tr></table>"}),A=p()(1)(function(e,t){return e?'<table cellspacing="0" cellpadding="0"><tr><td style="color:#329fd9"><b>Navigation</b></td></tr><tr><td>Start Time: '+n.i(g.e)(e.sessionStartTime,t)+"</td></tr><tr><td>Referrer: "+e.referrerUrl+"</td></tr><tr><td>Search Engine: "+e.searchEngine+"</td></tr><tr><td>Keywords: "+e.keywords+"<br/></td></tr></table>":""}),U=p()(1)(function(e){return e?'<table cellspacing="0" cellpadding="0"><tr><td style="color:#329fd9"><b>GEO Info</b></td></tr><tr><td>IP: '+e.ip+"</p></td></tr><tr><td>Country/Region: "+e.country+"</p></td></tr><tr><td>State/Province: "+e.state+"</p></td></tr><tr><td>City: "+e.city+"<br/></p></td></tr></table>":""}),N=p()(1)(function(e){return e?'<table cellspacing="0" cellpadding="0"><tr><td style="color:#329fd9"><b>Client Info</b></td></tr><tr><td>Operating System: '+e.operatingSystem+"</td></tr><tr><td>Browser: "+e.browser+"</td></tr><tr><td>Flash Version: "+e.flashVersion+"</td></tr><tr><td>Screen Resolution: "+e.screenResolution+"</td></tr><tr><td>Language: "+e.language+"</td></tr><tr><td>Time Zone: "+e.timeZone+"<br/></td></tr></table>":""}),D=p()(1)(function(e){return e?'<table cellspacing="0" cellpadding="0"><tr><td style="color:#329fd9"><b>Rating</b></td></tr><tr><td>Rating: '+e.rating+"</td></tr><tr><td>Rating Comment: "+e.ratingComment+"<br/></td></tr></table>":""}),O=p()(1)(function(e){return e?'<table cellspacing="0" cellpadding="0"><tr><td style="color:#329fd9"><b>Agent Comment</b></td></tr><tr><td>'+e.agentComment+"</td></tr></table>":""}),L=[],F=function(e){var t=b._40(e),n=b.r(e,t),o=b.B(e).map(function(t){var o=t.id,r=t.name,s=b._82(e,o,n);return{text:r+" (Online: "+s.onlineAgentNumber+",\n                          Away: "+s.awayAgentNumber+")",value:o}}),r=b._83(e,n).length,s=b._84(e,n).length,i=[{text:"All Available (Online: "+r+", Away: "+s+")",value:-1}],a=i.concat(o);if(a.length!==L.length)L=a;else for(var c=0;c<a.length;c+=1)if(a[c].text!==L[c].text||a[c].id!==L[c].id){L=a;break}return L},j=p()(1)(function(e,t,n,o,r){return{transfer:e.ifEnableTeamWork&&t,sendFile:e.ifCanUseAdvancedChatFunc,sendTranscript:e.ifCanEmailTranscript,attachTicket:e.ifTicketOpen,autoTranslate:e.ifEnableChatTranslation&&e.ifEnableChatIntegration&&n,gotoMeeting:e.ifEnableScreenSharing&&e.ifEnableGotoMeeting&&o,joinMe:e.ifEnableJoinMeScreenSharing,pciForm:e.ifEnablePCIForm,audioChat:h.p&&r.ifEnableAudioChat,videoChat:h.p&&r.ifEnableVideoChat}}),B=p()(1)(function(e,t,n,o){var r=h.k(e,t),s=e.get("status"),i=s===m.d,a=r&&!i;return{transfer:a,sendFile:a,sendTranscript:s===m.e,attachTicket:h.t(e,t),autoTranslate:a,gotoMeeting:a,joinMe:a&&n,pciForm:r,audioChat:a&&o,videoChat:a&&o}}),V=p()(1)(function(e,t,n,o,r,s,i,a,c){return{chatId:t,transcriptVisitorInfo:M(e,a),transcriptNavigation:A(s,a),transcriptGEOInfo:U(s),transcriptClientInfo:N(s),transcriptRating:D(i),transcriptAgentComment:O(i),to:o+" <"+r+">",subject:"Chat_"+t,body:R(e,t,n,i,a,c)}}),z=p()(1)(function(e,t,n,o){return{detectedVisitorLanguage:e,ifAutoPopTranslation:t,ifOpenAutoTranslation:!t&&!n&&"0"!==e&&e!==o}}),W=p()(1)(function(e,t,n){return{secureFormServer:e,secureFormConfig:t,pciFormList:n}}),G=p()(1)(function(e,t,n,o){return{ifDepartmentEnabled:e,onlineDepartments:t,onlineDepartmentComponent:n,allAvailableAgents:o}}),q=function(e){var t=b._40(e);if(!t)return{};var r=b.F(e),s=b.r(e,t),i=s.get("id"),c=b.v(e),l=b.u(e),u=b._85(e,i),d=b._86(e,s),p=b._78(e),f=b._14(e),h=b._75(e),g=b._68(e),v=b.q(e),m=b._87(e),C=b.A(e,s.get("codePlanId")),w=b._88(e),S=b._10(e,i,t),T=b._26(e),x=b._37(e),k=b._28(e,y.k),E=a()(S,"chatInfo"),_=a()(S,"sessionInfo"),R=F(e),M=w?b._89(e).replace("https://","").replace("http://",""):b._90(e).replace("https://","").replace("http://",""),A=b._91(e,t),U=b._92(e,t),N={siteId:r,visitorId:i,authToken:h,authProvider:M,themeColor:C?C.themeColor:""},D=b._93(e,t).toString(),O=b._94(e).toString(),L=b._73(e),q=L+"?sessionId="+h+"&visitorId="+i+"&siteId="+r,H=I.f(e,s.get("ticketId").split("-T")[1]),Y=H.isWeb,J=H.attachTicketUrl,K=H.loginUrl,X=H.autoLoginUrl,Q=b._95(e),Z=b._96(e),$=V(s,t,v.get("messages"),p,f,_,E,T,c);return{responseErrorMessage:Q,sendEmailSuccessMessage:Z,chatActionDisplay:j(x,k,b._97(e),b._98(e),b.A(e,s.get("codePlanId"))),chatActionEnable:B(s,l,b._99(e),o(e)),siteId:r,agentSession:h,ifUseMainServer:w,selectedFontSize:b._81(e),siteInfo:{visitorId:i,uploadUrl:b._73(e),downloadUrl:b._74(e),sessionId:b._75(e),siteId:r,privateMessage:1,maxFileSize:b._79(e),maxFileNum:b._80(e),sendFileUploadUrl:q},visitorId:i,chatId:t,ticketId:s.get("ticketId"),joinMeIntegrationServer:g,currentAgentId:l,transfer:G(c,u,R,d),transcriptInfo:$,pciForm:W(m,N,b._100(e)),autoTranslateInfo:z(D,A,U,O),gotoAttachTicket:function(){I.g({isWeb:Y,attachTicketUrl:J,loginUrl:K,autoLoginUrl:X})},chatGuid:s.get("chatGuid"),webrtcSignalingServiceUrl:n.i(P.o)(e)}},H=function(e,t){var o=t.dispatch,r={onFontSelect:function(e){o(w.q(e)),o(T.f())},handleAttachTicket:function(e,t){o(0===t?T.M(e):T.N(e,t))},onRequestGotoMeeting:function(e){o(T.O(e))},onTransferIconClick:function(){o(T.C())},onTransferChat:function(e,t,n,r,s){"0"===e&&n>0?o(S.y(t,n,s)):"1"===e&&r>0&&o(S.z(t,r,s))},onToggleAutoTranslate:function(e,t,n){e===x._74&&o(S.A(t,n))},handleSendTranscript:function(e,t){console.log(t),o(T.P(e,t))},showResponseErrorMessage:function(e){o(w.r(e))},hideResponseErrorMessage:function(){o(w.r(""))},hideSendEmailSuccessMessage:function(){o(w.s(""))},onUpdateIfPopTranslation:function(e){o(C.b(e))},initialSendTranscriptForm:function(e,t,n){o(T.l(e,t)),o(C.c({to:n.to,subject:n.subject,body:n.body.content}))},onRequestPCIForm:function(e,t,r,s,i,a){n.i(k.a)(e,t,r).then(function(e){var t=e.token,n=e.rsaKey;o(T.Q(s,a,t)),o(C.d(i,t,n))}).catch(function(e){o(C.a(i,"Request PCI Form failed: "+e.message))})},showErrorMessage:function(e,t){o(C.a(e,t))},onRequestAudioChat:function(){var t=new E.a({url:e.webrtcSignalingServiceUrl,localVideo:document.createElement("VIDEO"),remoteVideo:document.createElement("VIDEO"),chat:e.chatGuid});t.requirePermission(!1).then(function(){o(C.e(e.chatId,t)),o(T.R(e.visitorId))})},onRequestVideoChat:function(){var t=new E.a({url:e.webrtcSignalingServiceUrl,localVideo:document.createElement("VIDEO"),remoteVideo:document.createElement("VIDEO"),chat:e.chatGuid});t.requirePermission(!0).then(function(){o(C.e(e.chatId,t)),o(T.S(e.visitorId))})}};return s()({},e,r)};t.a=n.i(u.connect)(q,null,H)(f.a)},function(e,t,n){"use strict";function o(e,t,n){if(!n)return!1;var o=l.N(e);if(!o)return!1;var r={chatActiveAgents:n.get("chatActiveAgents")};if(!l._101(r,o.id))return!1;var s=t.get("id");if(l.U(e).some(function(e){if(e.get("id")===s)return!1;var t=e.get("audioVideoStatus"),n=e.get("audioVideoChatAgentName");return!(t!==h.b&&t!==h.c||n&&n!==o.name)}))return!1;var i=t.get("audioVideoChatAgentName");return!i||i===o.name}var r=n(47),s=n.n(r),i=n(70),a=(n.n(i),n(244)),c=(n.n(a),n(351)),l=n(5),u=n(1017),d=n(759),p=n(1349),f=n(92),h=n(349),g=n(348),v=n(1348),m=n(246),y=function(e){return!!e.config.settings.siteInfo&&(e.config.settings.siteInfo.ifContactOpened&&e.config.settings.siteInfo.ifUserOpened)},b=function(e,t){var r=(t.dispatch,l._40(e));if(!r)return{};var s=l._39(e,r);if(!s)return{};var i=s.get("g2mStartUrl"),a=s.get("visitorId"),c=l.r(e,r),u=c.get("chatGuid"),d=l._87(e),p=l.F(e),g=l._75(e),v=l._24(e),b=l._25(e),C=l._71(e),w=l._102(e,s&&s.get("id")),S=s.get("ifShowNotify"),T=s.get("audioVideoChatWidth"),x=s.get("audioVideoChatStartTime"),k=o(e,s,c)?s.get("audioVideoStatus"):h.a,I=s.get("p2pChat");return n.i(f.b)(c,l.u(e))||(i=null),{id:s.get("id"),g2mStartUrl:i,siteId:p,visitorId:a,chatGuid:u,agentSession:g,selectedFontSize:l._81(e),messages:l._103(e,l._40(e)),typingMessage:s.get("typingMessage"),isContactOrUserOpen:y(e),chatTo:c.get("latestName"),visitorAvatar:c.get("avatar"),identityType:c.get("identityType"),secureFormServer:d,timezone:v,timezoneOffset:b,textDirectionIfRTL:C,errorMessageForChat:w,scrollTop:s.get("scrollTop"),ifShowNotify:S,audioVideoChatWidth:T,p2pChat:I,audioVideoChatStatus:k,webrtcSignalingServiceUrl:n.i(m.o)(e),audioVideoChatStartTime:x}},C=function(e,t){var o=t.dispatch,r={getSecureFormContent:function(t,r){var s={siteId:e.siteId,visitorId:e.visitorId,accessToken:t,authToken:e.agentSession};n.i(p.b)(e.secureFormServer,s,r).then(function(n){o(d.f(e.id,t,n))}).catch(function(e){c.a(e,"ChatContent",67,0)})},onScroll:function(e,t){o(d.g(e,t))},hideErrorMessage:function(){o(d.a(e.id,""))},clearG2mStartUrl:function(){o(d.h(e.id))},updateIfShowNotify:function(t){o(d.i(e.id,t))},onAudioAndVideoStopResize:function(t){o(d.j(e.id,t))},onAudioVideoChatAccept:function(){var t=e.audioVideoChatStatus,n=e.visitorId;if(t===h.d||t===h.e){var r=new v.a({url:e.webrtcSignalingServiceUrl,localVideo:document.createElement("VIDEO"),remoteVideo:document.createElement("VIDEO"),chat:e.chatGuid});r.requirePermission(t===h.e).then(function(){o(d.e(e.id,r)),o(t===h.d?g.W(n):g.X(n))})}},onAudioVideoChatRefuse:function(){var t=e.audioVideoChatStatus,n=e.visitorId;console.log("onAudioVideoChatRefuse:",t),t===h.d?o(g.Y(n)):t===h.e?o(g.Z(n)):t===h.f?o(g._0(n)):t===h.g?o(g._1(n)):t===h.b?o(g._2(n)):t===h.c&&o(g._3(n))}};return s()({},e,r)};t.a=n.i(i.connect)(b,null,C)(u.a)},function(e,t,n){"use strict";var o=n(70),r=(n.n(o),n(1343)),s=n(1565),i=n(350),a=n(92),c=n(71),l=n(1465),u=n(5),d=n(759),p=n(72),f=n(37),h=n(973),g=function(e){var t=u.q(e),n=u.r(e,t&&t.get("id")),o=u._37(e),r=u._28(e,i.e);return!!(n.get("identityType")!==s.a&&n.get("identityType")!==s.b&&o.ifContactOpened&&o.ifUserOpened&&r)},v=function(e){var t=u._37(e),n=u._28(e,i.f);return!(!t.ifCanBan||!n)},m=function(e){var t=u.q(e);if(!t)return!1;var n=u.r(e,t.get("id")),o=u.u(e),r=a.c(n,o),s=u._54(n.get("status"))&&a.e(n,o);return!(!r&&!s)},y=function(e){var t=u.q(e);if(!t)return!1;var n=u.r(e,t.get("id")),o=u.u(e),r=n.get("status"),s=a.u(n)&&a.c(n,o),i=u._104(r)||a.v(n,o)&&!(a.u(n)&&a.e(n,o)),c=r===p.b,l=r===p.e&&a.g(n,o);return i&&!s&&!c||l||r===p.d},b=function(e,t){var o=e.config.salesforce.integrationConfig;if(!o)return"";var r=o.instanceUrl;return r?null!=t.get("salesforceContactFields")&&t.get("salesforceContactFields").length?"https://"+r.replace("https://","").replace("http://","")+"/"+n.i(h.c)(t.get("salesforceContactFields")):null!=t.get("salesforceAccountFields")&&t.get("salesforceAccountFields").length?"https://"+r.replace("https://","").replace("http://","")+"/"+n.i(h.c)(t.get("salesforceAccountFields")):null!=t.get("salesforceLeadFields")&&t.get("salesforceLeadFields").length?"https://"+r.replace("https://","").replace("http://","")+"/"+n.i(h.c)(t.get("salesforceLeadFields")):"":""},C=function(e){return!!e.config.settings.siteInfo&&(e.config.settings.siteInfo.ifContactOpened&&e.config.settings.siteInfo.ifUserOpened)},w=function(e){var t=u._40(e);if(!t)return{};var n=u._39(e,t),o=u.r(e,n&&n.get("id")),r=b(e,o),s=n.get("id")!==o.get("chatId"),i=u._105(e,o.get("id"));return{isContactOrUserOpen:C(e),chatId:u._40(e),visitorInfo:o?{avatar:o.get("avatar"),identityType:o.get("identityType"),latestName:o.get("latestName"),country:o.get("country"),city:o.get("city"),state:o.get("state"),countryCode:o.get("countryCode"),operatingSystem:o.get("operatingSystem"),browser:o.get("browser"),zendeskUrl:o.get("zendeskUrl"),socialType:o.get("socialType"),socialUrl:o.get("socialUrl"),id:o.get("id"),prechatEmail:o.get("prechatEmail"),realVisitorId:o.get("realVisitorId"),ip:o.get("ip"),status:o.get("status")}:{},saleforceURL:r,disabledPromote:s||!i,disabledBan:s||!i,chatHeaderToolBarDisplay:{displayPromote:g(e),displayBan:v(e),displayLeave:m(e),displayCloseChat:y(e)},ifUseMainServer:u._88(e)}},S=function(e){return{onPromote:function(t,n){switch(n){case r.a:e(c.B(t));break;case r.b:e(c.C(t))}},onBanChat:function(t,n){e(c.D(t,n))},onLeaveChat:function(t){e(c.E(t))},onCloseChat:function(t,n,o){e(n===p.d?f.t(!0,"ManuallyInvited","Are you sure you want to cancel the invitation?",{visitorId:o}):d.k(t))}}};t.a=n.i(o.connect)(w,S)(l.a)},function(e,t,n){"use strict";var o=n(70),r=(n.n(o),n(1457)),s=n(388),i=n(71),a=n(1573),c=n(2),l=n(383),u=n(630),d=n(121),p=n(759),f=n(37),h=n(68),g=function(e){return n.i(a.a)(e)},v=function(e){return{onClickConfig:function(t){t===c.k.showUnreposiveTime?e(s.d(t,d.f)):t===c.k.showDepartment?e(s.d(t,d.g)):t===c.k.showByStatus&&e(s.d(t,d.h)),e(n.i(i.g)())},onClickPin:function(t){e(s.e(t.chatId))},onItemClick:function(t){e(s.a(t.chatId)),e(l.l()),e(u.n()),h.b("salesforceFormState"),h.b("prechatFormState"),h.b("customFields_FormState")},onAcceptChat:function(t){e(t.currentStatus===c.d.transferring?n.i(i.F)(t.visitorId):n.i(i.G)(t.visitorId)),e(s.a(t.chatId))},onRefusedChat:function(t){e(t.currentStatus===c.d.transferring?n.i(i.H)(t.visitorId):n.i(i.I)(t.visitorId)),e(p.k(t.chatId))},onWrapUp:function(t){e(s.a(t.chatId)),e(s.f(t.visitorId))},onDeleteItem:function(t){e(t.status===c.d.manuallyInvitedAndWatingVisitor?n.i(f.t)(!0,"ManuallyInvited","Are you sure you want to cancel the invitation?",{visitorId:t.visitorId}):p.k(t.chatId))},onClickArrow:function(t){e(n.i(f.u)(t))}}};t.a=n.i(o.connect)(g,v)(r.a)},,,function(e,t,n){"use strict";var o=n(70),r=(n.n(o),n(1461)),s=n(37),i=function(e){return{goToVisitors:function(){e(n.i(s.p)())}}};t.a=n.i(o.connect)(void 0,i)(r.a)},,,,function(e,t,n){"use strict";var o=n(91),r=n.n(o),s=n(3),i=n.n(s),a=n(1),c=(n.n(a),n(381)),l=n(384),u=n(352);t.a=function(){return i()(c.a,{modules:{ChatTextEditor:function(){return n.i(c.b)(new r.a(function(e,t){n.e(1).then(function(t){e(n(1347))}.bind(null,n)).catch(n.oe).catch(t)}))}},loading:l.a,retry:u.a},void 0,function(e){var t=e.ChatTextEditor;return i()(t,{})})}},,,,,,,function(e,t,n){"use strict";function o(e){var t,n,o,r,s,i,a=e.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");s="="===e[a-2]?2:"="===e[a-1]?1:0,i=new l(3*a/4-s),o=s>0?a-4:a;var u=0;for(t=0,n=0;t<o;t+=4,n+=3)r=c[e.charCodeAt(t)]<<18|c[e.charCodeAt(t+1)]<<12|c[e.charCodeAt(t+2)]<<6|c[e.charCodeAt(t+3)],i[u++]=r>>16&255,i[u++]=r>>8&255,i[u++]=255&r;return 2===s?(r=c[e.charCodeAt(t)]<<2|c[e.charCodeAt(t+1)]>>4,i[u++]=255&r):1===s&&(r=c[e.charCodeAt(t)]<<10|c[e.charCodeAt(t+1)]<<4|c[e.charCodeAt(t+2)]>>2,i[u++]=r>>8&255,i[u++]=255&r),i}function r(e){return a[e>>18&63]+a[e>>12&63]+a[e>>6&63]+a[63&e]}function s(e,t,n){for(var o,s=[],i=t;i<n;i+=3)o=(e[i]<<16)+(e[i+1]<<8)+e[i+2],s.push(r(o));return s.join("")}function i(e){for(var t,n=e.length,o=n%3,r="",i=[],c=0,l=n-o;c<l;c+=16383)i.push(s(e,c,c+16383>l?l:c+16383));return 1===o?(t=e[n-1],r+=a[t>>2],r+=a[t<<4&63],r+="=="):2===o&&(t=(e[n-2]<<8)+e[n-1],r+=a[t>>10],r+=a[t>>4&63],r+=a[t<<2&63],r+="="),i.push(r),i.join("")}t.toByteArray=o,t.fromByteArray=i;var a=[],c=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array;!function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,n=e.length;t<n;++t)a[t]=e[t],c[e.charCodeAt(t)]=t;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63}()},,,,,,,,,,function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports={autoTranslate:"AutoTranslate__autoTranslate--2MLy-",overlay:"AutoTranslate__overlay--39FoE"}},,,,,,function(e,t){e.exports={tooltip:"Default__tooltip--1H-e9"}},,,,,,,,,,,,,,,,,,,,,,,,function(e,t){t.read=function(e,t,n,o,r){var s,i,a=8*r-o-1,c=(1<<a)-1,l=c>>1,u=-7,d=n?r-1:0,p=n?-1:1,f=e[t+d];for(d+=p,s=f&(1<<-u)-1,f>>=-u,u+=a;u>0;s=256*s+e[t+d],d+=p,u-=8);for(i=s&(1<<-u)-1,s>>=-u,u+=o;u>0;i=256*i+e[t+d],d+=p,u-=8);if(0===s)s=1-l;else{if(s===c)return i?NaN:1/0*(f?-1:1);i+=Math.pow(2,o),s-=l}return(f?-1:1)*i*Math.pow(2,s-o)},t.write=function(e,t,n,o,r,s){var i,a,c,l=8*s-r-1,u=(1<<l)-1,d=u>>1,p=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=o?0:s-1,h=o?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,i=u):(i=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-i))<1&&(i--,c*=2),t+=i+d>=1?p/c:p*Math.pow(2,1-d),t*c>=2&&(i++,c/=2),i+d>=u?(a=0,i=u):i+d>=1?(a=(t*c-1)*Math.pow(2,r),i+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,r),i=0));r>=8;e[n+f]=255&a,f+=h,a/=256,r-=8);for(i=i<<r|a,l+=r;l>0;e[n+f]=255&i,f+=h,i/=256,l-=8);e[n+f-h]|=128*g}},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){function o(e,t,n){t=(n?s(e,t,n):void 0===t)?1:c(i(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var l=0,u=0,d=Array(a(o/t));l<o;)d[u++]=r(e,l,l+=t);return d}var r=n(247),s=n(248),i=n(39),a=Math.ceil,c=Math.max;e.exports=o},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var o={};o.generateIdentifier=function(){return Math.random().toString(36).substr(2,10)},o.localCName=o.generateIdentifier(),o.splitLines=function(e){return e.trim().split("\n").map(function(e){return e.trim()})},o.splitSections=function(e){return e.split("\nm=").map(function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"})},o.matchPrefix=function(e,t){return o.splitLines(e).filter(function(e){return 0===e.indexOf(t)})},o.parseCandidate=function(e){var t;t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" ");for(var n={foundation:t[0],component:t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],port:parseInt(t[5],10),type:t[7]},o=8;o<t.length;o+=2)switch(t[o]){case"raddr":n.relatedAddress=t[o+1];break;case"rport":n.relatedPort=parseInt(t[o+1],10);break;case"tcptype":n.tcpType=t[o+1]}return n},o.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),"candidate:"+t.join(" ")},o.parseRtpMap=function(e){var t=e.substr(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.numChannels=3===t.length?parseInt(t[2],10):1,n},o.writeRtpMap=function(e){var t=e.payloadType;return void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType),"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==e.numChannels?"/"+e.numChannels:"")+"\r\n"},o.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),uri:t[1]}},o.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+" "+e.uri+"\r\n"},o.parseFmtp=function(e){for(var t,n={},o=e.substr(e.indexOf(" ")+1).split(";"),r=0;r<o.length;r++)t=o[r].trim().split("="),n[t[0].trim()]=t[1];return n},o.writeFmtp=function(e){var t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var o=[];Object.keys(e.parameters).forEach(function(t){o.push(t+"="+e.parameters[t])}),t+="a=fmtp:"+n+" "+o.join(";")+"\r\n"}return t},o.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},o.writeRtcpFb=function(e){var t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach(function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"}),t},o.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},o=e.indexOf(":",t);return o>-1?(n.attribute=e.substr(t+1,o-t-1),n.value=e.substr(o+1)):n.attribute=e.substr(t+1),n},o.getDtlsParameters=function(e,t){var n=o.splitLines(e);n=n.concat(o.splitLines(t));var r=n.filter(function(e){return 0===e.indexOf("a=fingerprint:")})[0].substr(14);return{role:"auto",fingerprints:[{algorithm:r.split(" ")[0].toLowerCase(),value:r.split(" ")[1]}]}},o.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach(function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"}),n},o.getIceParameters=function(e,t){var n=o.splitLines(e);return n=n.concat(o.splitLines(t)),{usernameFragment:n.filter(function(e){return 0===e.indexOf("a=ice-ufrag:")})[0].substr(12),password:n.filter(function(e){return 0===e.indexOf("a=ice-pwd:")})[0].substr(10)}},o.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},o.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=o.splitLines(e),r=n[0].split(" "),s=3;s<r.length;s++){var i=r[s],a=o.matchPrefix(e,"a=rtpmap:"+i+" ")[0];if(a){var c=o.parseRtpMap(a),l=o.matchPrefix(e,"a=fmtp:"+i+" ");switch(c.parameters=l.length?o.parseFmtp(l[0]):{},c.rtcpFeedback=o.matchPrefix(e,"a=rtcp-fb:"+i+" ").map(o.parseRtcpFb),t.codecs.push(c),c.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(c.name.toUpperCase())}}}return o.matchPrefix(e,"a=extmap:").forEach(function(e){t.headerExtensions.push(o.parseExtmap(e))}),t},o.writeRtpDescription=function(e,t){var n="";n+="m="+e+" ",n+=t.codecs.length>0?"9":"0",n+=" UDP/TLS/RTP/SAVPF ",n+=t.codecs.map(function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType}).join(" ")+"\r\n",n+="c=IN IP4 0.0.0.0\r\n",n+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach(function(e){n+=o.writeRtpMap(e),n+=o.writeFmtp(e),n+=o.writeRtcpFb(e)});var r=0;return t.codecs.forEach(function(e){e.maxptime>r&&(r=e.maxptime)}),r>0&&(n+="a=maxptime:"+r+"\r\n"),n+="a=rtcp-mux\r\n",t.headerExtensions.forEach(function(e){n+=o.writeExtmap(e)}),n},o.parseRtpEncodingParameters=function(e){var t,n=[],r=o.parseRtpParameters(e),s=r.fecMechanisms.indexOf("RED")!==-1,i=r.fecMechanisms.indexOf("ULPFEC")!==-1,a=o.matchPrefix(e,"a=ssrc:").map(function(e){return o.parseSsrcMedia(e)}).filter(function(e){return"cname"===e.attribute}),c=a.length>0&&a[0].ssrc,l=o.matchPrefix(e,"a=ssrc-group:FID").map(function(e){var t=e.split(" ");return t.shift(),t.map(function(e){return parseInt(e,10)})});l.length>0&&l[0].length>1&&l[0][0]===c&&(t=l[0][1]),r.codecs.forEach(function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var o={ssrc:c,codecPayloadType:parseInt(e.parameters.apt,10),rtx:{ssrc:t}};n.push(o),s&&(o=JSON.parse(JSON.stringify(o)),o.fec={ssrc:t,mechanism:i?"red+ulpfec":"red"},n.push(o))}}),0===n.length&&c&&n.push({ssrc:c});var u=o.matchPrefix(e,"b=");return u.length&&(0===u[0].indexOf("b=TIAS:")?u=parseInt(u[0].substr(7),10):0===u[0].indexOf("b=AS:")&&(u=parseInt(u[0].substr(5),10)),n.forEach(function(e){e.maxBitrate=u})),n},o.parseRtcpParameters=function(e){var t={},n=o.matchPrefix(e,"a=ssrc:").map(function(e){return o.parseSsrcMedia(e)}).filter(function(e){return"cname"===e.attribute})[0];n&&(t.cname=n.value,t.ssrc=n.ssrc);var r=o.matchPrefix(e,"a=rtcp-rsize");t.reducedSize=r.length>0,t.compound=0===r.length;var s=o.matchPrefix(e,"a=rtcp-mux");return t.mux=s.length>0,t},o.parseMsid=function(e){var t,n=o.matchPrefix(e,"a=msid:");if(1===n.length)return t=n[0].substr(7).split(" "),{stream:t[0],track:t[1]};var r=o.matchPrefix(e,"a=ssrc:").map(function(e){return o.parseSsrcMedia(e)}).filter(function(e){return"msid"===e.attribute});return r.length>0?(t=r[0].value.split(" "),{stream:t[0],track:t[1]}):void 0},o.writeSessionBoilerplate=function(){return"v=0\r\no=thisisadapterortc 8169639915646943137 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},o.writeMediaSection=function(e,t,n,r){var s=o.writeRtpDescription(e.kind,t);if(s+=o.writeIceParameters(e.iceGatherer.getLocalParameters()),s+=o.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":"active"),s+="a=mid:"+e.mid+"\r\n",s+=e.rtpSender&&e.rtpReceiver?"a=sendrecv\r\n":e.rtpSender?"a=sendonly\r\n":e.rtpReceiver?"a=recvonly\r\n":"a=inactive\r\n",e.rtpSender){var i="msid:"+r.id+" "+e.rtpSender.track.id+"\r\n";s+="a="+i,s+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+i,e.sendEncodingParameters[0].rtx&&(s+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+i,s+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return s+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+o.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(s+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+o.localCName+"\r\n"),s},o.getDirection=function(e,t){for(var n=o.splitLines(e),r=0;r<n.length;r++)switch(n[r]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[r].substr(2)}return t?o.getDirection(t):"sendrecv"},o.getKind=function(e){return o.splitLines(e)[0].split(" ")[0].substr(2)},o.isRejected=function(e){return"0"===e.split(" ",2)[1]},e.exports=o},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";!function(){var t=n(952),o=t.log,r=t.browserDetails;e.exports.browserDetails=r,e.exports.extractVersion=t.extractVersion,e.exports.disableLog=t.disableLog;var s=n(1873)||null,i=n(1875)||null,a=n(1877)||null,c=n(1879)||null;switch(r.browser){case"chrome":if(!s||!s.shimPeerConnection)return void o("Chrome shim is not included in this adapter release.");o("adapter.js shimming chrome."),e.exports.browserShim=s,s.shimGetUserMedia(),s.shimMediaStream(),t.shimCreateObjectURL(),s.shimSourceObject(),s.shimPeerConnection(),s.shimOnTrack(),s.shimGetSendersWithDtmf();break;case"firefox":if(!a||!a.shimPeerConnection)return void o("Firefox shim is not included in this adapter release.");o("adapter.js shimming firefox."),e.exports.browserShim=a,a.shimGetUserMedia(),t.shimCreateObjectURL(),a.shimSourceObject(),a.shimPeerConnection(),a.shimOnTrack();break;case"edge":if(!i||!i.shimPeerConnection)return void o("MS edge shim is not included in this adapter release.");o("adapter.js shimming edge."),e.exports.browserShim=i,i.shimGetUserMedia(),t.shimCreateObjectURL(),i.shimPeerConnection();break;case"safari":if(!c)return void o("Safari shim is not included in this adapter release.");o("adapter.js shimming safari."),e.exports.browserShim=c,c.shimGetUserMedia();break;default:o("Unsupported browser!")}}()},function(e,t,n){"use strict";var o=n(952).log,r=n(952).browserDetails,s={shimMediaStream:function(){window.MediaStream=window.MediaStream||window.webkitMediaStream},shimOnTrack:function(){"object"!=typeof window||!window.RTCPeerConnection||"ontrack"in window.RTCPeerConnection.prototype||Object.defineProperty(window.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){var t=this;this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly)),this.addEventListener("track",this._ontrack=e),this.addEventListener("addstream",this._ontrackpoly=function(e){e.stream.addEventListener("addtrack",function(n){var o=new Event("track");o.track=n.track,o.receiver={track:n.track},o.streams=[e.stream],t.dispatchEvent(o)}),e.stream.getTracks().forEach(function(t){var n=new Event("track");n.track=t,n.receiver={track:t},n.streams=[e.stream],this.dispatchEvent(n)}.bind(this))}.bind(this))}})},shimGetSendersWithDtmf:function(){if("object"==typeof window&&window.RTCPeerConnection&&!("getSenders"in RTCPeerConnection.prototype)&&"createDTMFSender"in RTCPeerConnection.prototype){RTCPeerConnection.prototype.getSenders=function(){return this._senders};var e=RTCPeerConnection.prototype.addStream,t=RTCPeerConnection.prototype.removeStream;RTCPeerConnection.prototype.addStream=function(t){var n=this;n._senders=n._senders||[],e.apply(n,[t]),t.getTracks().forEach(function(e){n._senders.push({track:e,get dtmf(){return void 0===this._dtmf&&("audio"===e.kind?this._dtmf=n.createDTMFSender(e):this._dtmf=null),this._dtmf}})})},RTCPeerConnection.prototype.removeStream=function(e){var n=this;n._senders=n._senders||[],t.apply(n,[e]),e.getTracks().forEach(function(e){var t=n._senders.find(function(t){return t.track===e});t&&n._senders.splice(n._senders.indexOf(t),1)})}}},shimSourceObject:function(){"object"==typeof window&&(!window.HTMLMediaElement||"srcObject"in window.HTMLMediaElement.prototype||Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return this._srcObject},set:function(e){var t=this;if(this._srcObject=e,this.src&&URL.revokeObjectURL(this.src),!e)return void(this.src="");this.src=URL.createObjectURL(e),e.addEventListener("addtrack",function(){t.src&&URL.revokeObjectURL(t.src),t.src=URL.createObjectURL(e)}),e.addEventListener("removetrack",function(){t.src&&URL.revokeObjectURL(t.src),t.src=URL.createObjectURL(e)})}}))},shimPeerConnection:function(){window.RTCPeerConnection||(window.RTCPeerConnection=function(e,t){return o("PeerConnection"),e&&e.iceTransportPolicy&&(e.iceTransports=e.iceTransportPolicy),new webkitRTCPeerConnection(e,t)},window.RTCPeerConnection.prototype=webkitRTCPeerConnection.prototype,webkitRTCPeerConnection.generateCertificate&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return webkitRTCPeerConnection.generateCertificate}}));var e=RTCPeerConnection.prototype.getStats;RTCPeerConnection.prototype.getStats=function(t,n,o){var r=this,s=arguments;if(arguments.length>0&&"function"==typeof t)return e.apply(this,arguments);if(0===e.length&&(0===arguments.length||"function"!=typeof arguments[0]))return e.apply(this,[]);var i=function(e){var t={};return e.result().forEach(function(e){var n={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach(function(t){n[t]=e.stat(t)}),t[n.id]=n}),t},a=function(e){return new Map(Object.keys(e).map(function(t){return[t,e[t]]}))};if(arguments.length>=2){var c=function(e){s[1](a(i(e)))};return e.apply(this,[c,arguments[0]])}return new Promise(function(t,n){e.apply(r,[function(e){t(a(i(e)))},n])}).then(n,o)},r.version<51&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(e){var t=RTCPeerConnection.prototype[e];RTCPeerConnection.prototype[e]=function(){var e=arguments,n=this,o=new Promise(function(o,r){t.apply(n,[e[0],o,r])});return e.length<2?o:o.then(function(){e[1].apply(null,[])},function(t){e.length>=3&&e[2].apply(null,[t])})}}),r.version<52&&["createOffer","createAnswer"].forEach(function(e){var t=RTCPeerConnection.prototype[e];RTCPeerConnection.prototype[e]=function(){var e=this;if(arguments.length<1||1===arguments.length&&"object"==typeof arguments[0]){var n=1===arguments.length?arguments[0]:void 0;return new Promise(function(o,r){t.apply(e,[o,r,n])})}return t.apply(this,arguments)}}),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(e){var t=RTCPeerConnection.prototype[e];RTCPeerConnection.prototype[e]=function(){return arguments[0]=new("addIceCandidate"===e?RTCIceCandidate:RTCSessionDescription)(arguments[0]),t.apply(this,arguments)}});var t=RTCPeerConnection.prototype.addIceCandidate;RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?t.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}};e.exports={shimMediaStream:s.shimMediaStream,shimOnTrack:s.shimOnTrack,shimGetSendersWithDtmf:s.shimGetSendersWithDtmf,shimSourceObject:s.shimSourceObject,shimPeerConnection:s.shimPeerConnection,shimGetUserMedia:n(1874)}},function(e,t,n){"use strict";var o=n(952).log,r=n(952).browserDetails;e.exports=function(){var e=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach(function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var o="object"==typeof e[n]?e[n]:{ideal:e[n]};void 0!==o.exact&&"number"==typeof o.exact&&(o.min=o.max=o.exact);var r=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==o.ideal){t.optional=t.optional||[];var s={};"number"==typeof o.ideal?(s[r("min",n)]=o.ideal,t.optional.push(s),s={},s[r("max",n)]=o.ideal,t.optional.push(s)):(s[r("",n)]=o.ideal,t.optional.push(s))}void 0!==o.exact&&"number"!=typeof o.exact?(t.mandatory=t.mandatory||{},t.mandatory[r("",n)]=o.exact):["min","max"].forEach(function(e){void 0!==o[e]&&(t.mandatory=t.mandatory||{},t.mandatory[r(e,n)]=o[e])})}}),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},t=function(t,n){if(t=JSON.parse(JSON.stringify(t)),t&&t.audio&&(t.audio=e(t.audio)),t&&"object"==typeof t.video){var s=t.video.facingMode;s=s&&("object"==typeof s?s:{ideal:s});var i=r.version<59;if(s&&("user"===s.exact||"environment"===s.exact||"user"===s.ideal||"environment"===s.ideal)&&(!navigator.mediaDevices.getSupportedConstraints||!navigator.mediaDevices.getSupportedConstraints().facingMode||i)&&(delete t.video.facingMode,"environment"===s.exact||"environment"===s.ideal))return navigator.mediaDevices.enumerateDevices().then(function(r){r=r.filter(function(e){return"videoinput"===e.kind});var i=r.find(function(e){return e.label.toLowerCase().indexOf("back")!==-1})||r.length&&r[r.length-1];return i&&(t.video.deviceId=s.exact?{exact:i.deviceId}:{ideal:i.deviceId}),t.video=e(t.video),o("chrome: "+JSON.stringify(t)),n(t)});t.video=e(t.video)}return o("chrome: "+JSON.stringify(t)),n(t)},n=function(e){return{name:{PermissionDeniedError:"NotAllowedError",ConstraintNotSatisfiedError:"OverconstrainedError"}[e.name]||e.name,message:e.message,constraint:e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}},s=function(e,o,r){t(e,function(e){navigator.webkitGetUserMedia(e,o,function(e){r(n(e))})})};navigator.getUserMedia=s;var i=function(e){return new Promise(function(t,n){navigator.getUserMedia(e,t,n)})};if(navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:i,enumerateDevices:function(){return new Promise(function(e){var t={audio:"audioinput",video:"videoinput"};return MediaStreamTrack.getSources(function(n){e(n.map(function(e){return{label:e.label,kind:t[e.kind],deviceId:e.id,groupId:""}}))})})},getSupportedConstraints:function(){return{deviceId:!0,echoCancellation:!0,facingMode:!0,frameRate:!0,height:!0,width:!0}}}),navigator.mediaDevices.getUserMedia){var a=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(e){return t(e,function(e){return a(e).then(function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach(function(e){e.stop()}),new DOMException("","NotFoundError");return t},function(e){return Promise.reject(n(e))})})}}else navigator.mediaDevices.getUserMedia=function(e){return i(e)};void 0===navigator.mediaDevices.addEventListener&&(navigator.mediaDevices.addEventListener=function(){o("Dummy mediaDevices.addEventListener called.")}),void 0===navigator.mediaDevices.removeEventListener&&(navigator.mediaDevices.removeEventListener=function(){o("Dummy mediaDevices.removeEventListener called.")})}},function(e,t,n){"use strict";function o(e){var t=e.filter(function(e){return"audio"===e.kind}),n=e.filter(function(e){return"video"===e.kind});for(e=[];t.length||n.length;)t.length&&e.push(t.shift()),n.length&&e.push(n.shift());return e}function r(e){var t=!1;return e=JSON.parse(JSON.stringify(e)),e.filter(function(e){if(e&&(e.urls||e.url)){var n=e.urls||e.url,o="string"==typeof n;return o&&(n=[n]),n=n.filter(function(e){return 0!==e.indexOf("turn:")||e.indexOf("transport=udp")===-1||e.indexOf("turn:[")!==-1||t?0===e.indexOf("stun:")&&i.version>=14393:(t=!0,!0)}),delete e.url,e.urls=o?n[0]:n,!!n.length}return!1})}var s=n(1847),i=n(952).browserDetails,a={shimPeerConnection:function(){if(window.RTCIceGatherer&&(window.RTCIceCandidate||(window.RTCIceCandidate=function(e){return e}),window.RTCSessionDescription||(window.RTCSessionDescription=function(e){return e}),i.version<15025)){var e=Object.getOwnPropertyDescriptor(MediaStreamTrack.prototype,"enabled");Object.defineProperty(MediaStreamTrack.prototype,"enabled",{set:function(t){e.set.call(this,t);var n=new Event("enabled");n.enabled=t,this.dispatchEvent(n)}})}window.RTCPeerConnection=function(e){var t=this,n=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(e){t[e]=n[e].bind(n)}),this.onicecandidate=null,this.onaddstream=null,this.ontrack=null,this.onremovestream=null,this.onsignalingstatechange=null,this.oniceconnectionstatechange=null,this.onicegatheringstatechange=null,this.onnegotiationneeded=null,this.ondatachannel=null,this.localStreams=[],this.remoteStreams=[],this.getLocalStreams=function(){return t.localStreams},this.getRemoteStreams=function(){return t.remoteStreams},this.localDescription=new RTCSessionDescription({type:"",sdp:""}),this.remoteDescription=new RTCSessionDescription({type:"",sdp:""}),this.signalingState="stable",this.iceConnectionState="new",this.iceGatheringState="new",this.iceOptions={gatherPolicy:"all",iceServers:[]},e&&e.iceTransportPolicy)switch(e.iceTransportPolicy){case"all":case"relay":this.iceOptions.gatherPolicy=e.iceTransportPolicy}this.usingBundle=e&&"max-bundle"===e.bundlePolicy,e&&e.iceServers&&(this.iceOptions.iceServers=r(e.iceServers)),this._config=e,this.transceivers=[],this._localIceCandidatesBuffer=[]},window.RTCPeerConnection.prototype._emitGatheringStateChange=function(){var e=new Event("icegatheringstatechange");this.dispatchEvent(e),null!==this.onicegatheringstatechange&&this.onicegatheringstatechange(e)},window.RTCPeerConnection.prototype._emitBufferedCandidates=function(){var e=this,t=s.splitSections(e.localDescription.sdp);this._localIceCandidatesBuffer.forEach(function(n){if(n.candidate&&0!==Object.keys(n.candidate).length)t[n.candidate.sdpMLineIndex+1]+="a="+n.candidate.candidate+"\r\n";else for(var o=1;o<t.length;o++)t[o].indexOf("\r\na=end-of-candidates\r\n")===-1&&(t[o]+="a=end-of-candidates\r\n");if(e.localDescription.sdp=t.join(""),e.dispatchEvent(n),null!==e.onicecandidate&&e.onicecandidate(n),!n.candidate&&"complete"!==e.iceGatheringState){e.transceivers.every(function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state})&&"complete"!==e.iceGatheringStateChange&&(e.iceGatheringState="complete",e._emitGatheringStateChange())}}),this._localIceCandidatesBuffer=[]},window.RTCPeerConnection.prototype.getConfiguration=function(){return this._config},window.RTCPeerConnection.prototype.addStream=function(e){if(i.version>=15025)this.localStreams.push(e);else{var t=e.clone();e.getTracks().forEach(function(e,n){var o=t.getTracks()[n];e.addEventListener("enabled",function(e){o.enabled=e.enabled})}),this.localStreams.push(t)}this._maybeFireNegotiationNeeded()},window.RTCPeerConnection.prototype.removeStream=function(e){var t=this.localStreams.indexOf(e);t>-1&&(this.localStreams.splice(t,1),this._maybeFireNegotiationNeeded())},window.RTCPeerConnection.prototype.getSenders=function(){return this.transceivers.filter(function(e){return!!e.rtpSender}).map(function(e){return e.rtpSender})},window.RTCPeerConnection.prototype.getReceivers=function(){return this.transceivers.filter(function(e){return!!e.rtpReceiver}).map(function(e){return e.rtpReceiver})},window.RTCPeerConnection.prototype._getCommonCapabilities=function(e,t){var n={codecs:[],headerExtensions:[],fecMechanisms:[]},o=function(e,t){e=parseInt(e,10);for(var n=0;n<t.length;n++)if(t[n].payloadType===e||t[n].preferredPayloadType===e)return t[n]},r=function(e,t,n,r){var s=o(e.parameters.apt,n),i=o(t.parameters.apt,r);return s&&i&&s.name.toLowerCase()===i.name.toLowerCase()};return e.codecs.forEach(function(o){for(var s=0;s<t.codecs.length;s++){var i=t.codecs[s];if(o.name.toLowerCase()===i.name.toLowerCase()&&o.clockRate===i.clockRate){if("rtx"===o.name.toLowerCase()&&o.parameters&&i.parameters.apt&&!r(o,i,e.codecs,t.codecs))continue;i=JSON.parse(JSON.stringify(i)),i.numChannels=Math.min(o.numChannels,i.numChannels),n.codecs.push(i),i.rtcpFeedback=i.rtcpFeedback.filter(function(e){for(var t=0;t<o.rtcpFeedback.length;t++)if(o.rtcpFeedback[t].type===e.type&&o.rtcpFeedback[t].parameter===e.parameter)return!0;return!1});break}}}),e.headerExtensions.forEach(function(e){for(var o=0;o<t.headerExtensions.length;o++){var r=t.headerExtensions[o];if(e.uri===r.uri){n.headerExtensions.push(r);break}}}),n},window.RTCPeerConnection.prototype._createIceAndDtlsTransports=function(e,t){var n=this,o=new RTCIceGatherer(n.iceOptions),r=new RTCIceTransport(o);o.onlocalcandidate=function(i){var a=new Event("icecandidate");a.candidate={sdpMid:e,sdpMLineIndex:t};var c=i.candidate,l=!c||0===Object.keys(c).length;l?void 0===o.state&&(o.state="completed"):(c.component="RTCP"===r.component?2:1,a.candidate.candidate=s.writeCandidate(c));var u=s.splitSections(n.localDescription.sdp);u[a.candidate.sdpMLineIndex+1]+=l?"a=end-of-candidates\r\n":"a="+a.candidate.candidate+"\r\n",n.localDescription.sdp=u.join("");var d=n._pendingOffer?n._pendingOffer:n.transceivers,p=d.every(function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state});switch(n.iceGatheringState){case"new":l||n._localIceCandidatesBuffer.push(a),l&&p&&n._localIceCandidatesBuffer.push(new Event("icecandidate"));break;case"gathering":n._emitBufferedCandidates(),l||(n.dispatchEvent(a),null!==n.onicecandidate&&n.onicecandidate(a)),p&&(n.dispatchEvent(new Event("icecandidate")),null!==n.onicecandidate&&n.onicecandidate(new Event("icecandidate")),n.iceGatheringState="complete",n._emitGatheringStateChange());break;case"complete":}},r.onicestatechange=function(){n._updateConnectionState()};var i=new RTCDtlsTransport(r);return i.ondtlsstatechange=function(){n._updateConnectionState()},i.onerror=function(){i.state="failed",n._updateConnectionState()},{iceGatherer:o,iceTransport:r,dtlsTransport:i}},window.RTCPeerConnection.prototype._transceive=function(e,t,n){var o=this._getCommonCapabilities(e.localCapabilities,e.remoteCapabilities);t&&e.rtpSender&&(o.encodings=e.sendEncodingParameters,o.rtcp={cname:s.localCName},e.recvEncodingParameters.length&&(o.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(o)),n&&e.rtpReceiver&&("video"===e.kind&&e.recvEncodingParameters&&i.version<15019&&e.recvEncodingParameters.forEach(function(e){delete e.rtx}),o.encodings=e.recvEncodingParameters,o.rtcp={cname:e.cname},e.sendEncodingParameters.length&&(o.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(o))},window.RTCPeerConnection.prototype.setLocalDescription=function(e){var t,n,o=this;if("offer"===e.type)this._pendingOffer&&(t=s.splitSections(e.sdp),n=t.shift(),t.forEach(function(e,t){var n=s.parseRtpParameters(e);o._pendingOffer[t].localCapabilities=n}),this.transceivers=this._pendingOffer,delete this._pendingOffer);else if("answer"===e.type){t=s.splitSections(o.remoteDescription.sdp),n=t.shift();var r=s.matchPrefix(n,"a=ice-lite").length>0;t.forEach(function(e,t){var i=o.transceivers[t],a=i.iceGatherer,c=i.iceTransport,l=i.dtlsTransport,u=i.localCapabilities,d=i.remoteCapabilities;if("0"!==e.split("\n",1)[0].split(" ",2)[1]&&!i.isDatachannel){var p=s.getIceParameters(e,n),f=s.getDtlsParameters(e,n);r&&(f.role="server"),o.usingBundle&&0!==t||(c.start(a,p,r?"controlling":"controlled"),l.start(f));var h=o._getCommonCapabilities(u,d);o._transceive(i,h.codecs.length>0,!1)}})}switch(this.localDescription={type:e.type,sdp:e.sdp},e.type){case"offer":this._updateSignalingState("have-local-offer");break;case"answer":this._updateSignalingState("stable");break;default:throw new TypeError('unsupported type "'+e.type+'"')}var i=arguments.length>1&&"function"==typeof arguments[1];if(i){var a=arguments[1];window.setTimeout(function(){a(),"new"===o.iceGatheringState&&(o.iceGatheringState="gathering",o._emitGatheringStateChange()),o._emitBufferedCandidates()},0)}var c=Promise.resolve();return c.then(function(){i||("new"===o.iceGatheringState&&(o.iceGatheringState="gathering",o._emitGatheringStateChange()),window.setTimeout(o._emitBufferedCandidates.bind(o),500))}),c},window.RTCPeerConnection.prototype.setRemoteDescription=function(e){var t=this,n=new MediaStream,o=[],r=s.splitSections(e.sdp),a=r.shift(),c=s.matchPrefix(a,"a=ice-lite").length>0;switch(this.usingBundle=s.matchPrefix(a,"a=group:BUNDLE ").length>0,r.forEach(function(r,l){var u=s.splitLines(r),d=u[0].substr(2).split(" "),p=d[0],f="0"===d[1],h=s.getDirection(r,a),g=s.matchPrefix(r,"a=mid:");if(g=g.length?g[0].substr(6):s.generateIdentifier(),"application"===p&&"DTLS/SCTP"===d[2])return void(t.transceivers[l]={mid:g,isDatachannel:!0});var v,m,y,b,C,w,S,T,x,k,I,E,P=s.parseRtpParameters(r);f||(I=s.getIceParameters(r,a),E=s.getDtlsParameters(r,a),E.role="client"),T=s.parseRtpEncodingParameters(r);var _,R=s.matchPrefix(r,"a=ssrc:").map(function(e){return s.parseSsrcMedia(e)}).filter(function(e){return"cname"===e.attribute})[0];R&&(_=R.value);var M=s.matchPrefix(r,"a=end-of-candidates",a).length>0,A=s.matchPrefix(r,"a=candidate:").map(function(e){return s.parseCandidate(e)}).filter(function(e){return"1"===e.component});if("offer"!==e.type||f)"answer"!==e.type||f||(v=t.transceivers[l],m=v.iceGatherer,y=v.iceTransport,b=v.dtlsTransport,C=v.rtpSender,w=v.rtpReceiver,S=v.sendEncodingParameters,x=v.localCapabilities,t.transceivers[l].recvEncodingParameters=T,t.transceivers[l].remoteCapabilities=P,t.transceivers[l].cname=_,(c||M)&&A.length&&y.setRemoteCandidates(A),t.usingBundle&&0!==l||(y.start(m,I,"controlling"),b.start(E)),t._transceive(v,"sendrecv"===h||"recvonly"===h,"sendrecv"===h||"sendonly"===h),!w||"sendrecv"!==h&&"sendonly"!==h?delete v.rtpReceiver:(k=w.track,o.push([k,w]),n.addTrack(k)));else{var U=t.usingBundle&&l>0?{iceGatherer:t.transceivers[0].iceGatherer,iceTransport:t.transceivers[0].iceTransport,dtlsTransport:t.transceivers[0].dtlsTransport}:t._createIceAndDtlsTransports(g,l);if(!M||t.usingBundle&&0!==l||U.iceTransport.setRemoteCandidates(A),x=RTCRtpReceiver.getCapabilities(p),i.version<15019&&(x.codecs=x.codecs.filter(function(e){return"rtx"!==e.name})),S=[{ssrc:1001*(2*l+2)}],"sendrecv"!==h&&"sendonly"!==h||(w=new RTCRtpReceiver(U.dtlsTransport,p),k=w.track,o.push([k,w]),n.addTrack(k)),t.localStreams.length>0&&t.localStreams[0].getTracks().length>=l){var N;"audio"===p?N=t.localStreams[0].getAudioTracks()[0]:"video"===p&&(N=t.localStreams[0].getVideoTracks()[0]),N&&(i.version>=15019&&"video"===p&&(S[0].rtx={ssrc:1001*(2*l+2)+1}),C=new RTCRtpSender(N,U.dtlsTransport))}t.transceivers[l]={iceGatherer:U.iceGatherer,iceTransport:U.iceTransport,dtlsTransport:U.dtlsTransport,localCapabilities:x,remoteCapabilities:P,rtpSender:C,rtpReceiver:w,kind:p,mid:g,cname:_,sendEncodingParameters:S,recvEncodingParameters:T},t._transceive(t.transceivers[l],!1,"sendrecv"===h||"sendonly"===h)}}),this.remoteDescription={type:e.type,sdp:e.sdp},e.type){case"offer":this._updateSignalingState("have-remote-offer");break;case"answer":this._updateSignalingState("stable");break;default:throw new TypeError('unsupported type "'+e.type+'"')}return n.getTracks().length&&(t.remoteStreams.push(n),window.setTimeout(function(){var e=new Event("addstream");e.stream=n,t.dispatchEvent(e),null!==t.onaddstream&&window.setTimeout(function(){t.onaddstream(e)},0),o.forEach(function(e){var o=e[0],r=e[1],s=new Event("track");s.track=o,s.receiver=r,s.streams=[n],t.dispatchEvent(s),null!==t.ontrack&&window.setTimeout(function(){t.ontrack(s)},0)})},0)),arguments.length>1&&"function"==typeof arguments[1]&&window.setTimeout(arguments[1],0),Promise.resolve()},window.RTCPeerConnection.prototype.close=function(){this.transceivers.forEach(function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()}),this._updateSignalingState("closed")},window.RTCPeerConnection.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this.dispatchEvent(t),null!==this.onsignalingstatechange&&this.onsignalingstatechange(t)},window.RTCPeerConnection.prototype._maybeFireNegotiationNeeded=function(){var e=new Event("negotiationneeded");this.dispatchEvent(e),null!==this.onnegotiationneeded&&this.onnegotiationneeded(e)},window.RTCPeerConnection.prototype._updateConnectionState=function(){var e,t=this,n={new:0,closed:0,connecting:0,checking:0,connected:0,completed:0,failed:0};if(this.transceivers.forEach(function(e){n[e.iceTransport.state]++,n[e.dtlsTransport.state]++}),n.connected+=n.completed,e="new",n.failed>0?e="failed":n.connecting>0||n.checking>0?e="connecting":n.disconnected>0?e="disconnected":n.new>0?e="new":(n.connected>0||n.completed>0)&&(e="connected"),e!==t.iceConnectionState){t.iceConnectionState=e;var o=new Event("iceconnectionstatechange");this.dispatchEvent(o),null!==this.oniceconnectionstatechange&&this.oniceconnectionstatechange(o)}},window.RTCPeerConnection.prototype.createOffer=function(){var e=this;if(this._pendingOffer)throw new Error("createOffer called while there is a pending offer.");var t;1===arguments.length&&"function"!=typeof arguments[0]?t=arguments[0]:3===arguments.length&&(t=arguments[2]);var n=[],r=0,a=0;if(this.localStreams.length&&(r=this.localStreams[0].getAudioTracks().length,a=this.localStreams[0].getVideoTracks().length),t){if(t.mandatory||t.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==t.offerToReceiveAudio&&(r=t.offerToReceiveAudio),void 0!==t.offerToReceiveVideo&&(a=t.offerToReceiveVideo)}for(this.localStreams.length&&this.localStreams[0].getTracks().forEach(function(e){n.push({kind:e.kind,track:e,wantReceive:"audio"===e.kind?r>0:a>0}),"audio"===e.kind?r--:"video"===e.kind&&a--});r>0||a>0;)r>0&&(n.push({kind:"audio",wantReceive:!0}),r--),a>0&&(n.push({kind:"video",wantReceive:!0}),a--);n=o(n);var c=s.writeSessionBoilerplate(),l=[];n.forEach(function(t,n){var o=t.track,r=t.kind,a=s.generateIdentifier(),c=e.usingBundle&&n>0?{iceGatherer:l[0].iceGatherer,iceTransport:l[0].iceTransport,dtlsTransport:l[0].dtlsTransport}:e._createIceAndDtlsTransports(a,n),u=RTCRtpSender.getCapabilities(r);i.version<15019&&(u.codecs=u.codecs.filter(function(e){return"rtx"!==e.name})),u.codecs.forEach(function(e){"H264"===e.name&&void 0===e.parameters["level-asymmetry-allowed"]&&(e.parameters["level-asymmetry-allowed"]="1")});var d,p,f=[{ssrc:1001*(2*n+1)}];o&&(i.version>=15019&&"video"===r&&(f[0].rtx={ssrc:1001*(2*n+1)+1}),d=new RTCRtpSender(o,c.dtlsTransport)),t.wantReceive&&(p=new RTCRtpReceiver(c.dtlsTransport,r)),l[n]={iceGatherer:c.iceGatherer,iceTransport:c.iceTransport,dtlsTransport:c.dtlsTransport,localCapabilities:u,remoteCapabilities:null,rtpSender:d,rtpReceiver:p,kind:r,mid:a,sendEncodingParameters:f,recvEncodingParameters:null}}),this.usingBundle&&(c+="a=group:BUNDLE "+l.map(function(e){return e.mid}).join(" ")+"\r\n"),n.forEach(function(t,n){var o=l[n];c+=s.writeMediaSection(o,o.localCapabilities,"offer",e.localStreams[0])}),this._pendingOffer=l;var u=new RTCSessionDescription({type:"offer",sdp:c});return arguments.length&&"function"==typeof arguments[0]&&window.setTimeout(arguments[0],0,u),Promise.resolve(u)},window.RTCPeerConnection.prototype.createAnswer=function(){var e=this,t=s.writeSessionBoilerplate();this.usingBundle&&(t+="a=group:BUNDLE "+this.transceivers.map(function(e){return e.mid}).join(" ")+"\r\n"),this.transceivers.forEach(function(n){if(n.isDatachannel)return void(t+="m=application 0 DTLS/SCTP 5000\r\nc=IN IP4 0.0.0.0\r\na=mid:"+n.mid+"\r\n");var o=e._getCommonCapabilities(n.localCapabilities,n.remoteCapabilities);t+=s.writeMediaSection(n,o,"answer",e.localStreams[0])});var n=new RTCSessionDescription({type:"answer",sdp:t});return arguments.length&&"function"==typeof arguments[0]&&window.setTimeout(arguments[0],0,n),Promise.resolve(n)},window.RTCPeerConnection.prototype.addIceCandidate=function(e){if(e){var t=e.sdpMLineIndex;if(e.sdpMid)for(var n=0;n<this.transceivers.length;n++)if(this.transceivers[n].mid===e.sdpMid){t=n;break}var o=this.transceivers[t];if(o){var r=Object.keys(e.candidate).length>0?s.parseCandidate(e.candidate):{};if("tcp"===r.protocol&&(0===r.port||9===r.port))return Promise.resolve();if("1"!==r.component)return Promise.resolve();o.iceTransport.addRemoteCandidate(r);var i=s.splitSections(this.remoteDescription.sdp);i[t+1]+=(r.type?e.candidate.trim():"a=end-of-candidates")+"\r\n",this.remoteDescription.sdp=i.join("")}}else for(var a=0;a<this.transceivers.length;a++)if(this.transceivers[a].iceTransport.addRemoteCandidate({}),this.usingBundle)return Promise.resolve();return arguments.length>1&&"function"==typeof arguments[1]&&window.setTimeout(arguments[1],0),Promise.resolve()},window.RTCPeerConnection.prototype.getStats=function(){var e=[];this.transceivers.forEach(function(t){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(n){t[n]&&e.push(t[n].getStats())})});var t=arguments.length>1&&"function"==typeof arguments[1]&&arguments[1],n=function(e){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};return new Promise(function(o){var r=new Map;Promise.all(e).then(function(e){e.forEach(function(e){Object.keys(e).forEach(function(t){e[t].type=n(e[t]),r.set(t,e[t])})}),t&&window.setTimeout(t,0,r),o(r)})})}}};e.exports={shimPeerConnection:a.shimPeerConnection,shimGetUserMedia:n(1876)}},function(e,t,n){"use strict";e.exports=function(){var e=function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString:function(){return this.name}}},t=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(n){return t(n).catch(function(t){return Promise.reject(e(t))})}}},function(e,t,n){"use strict";var o=n(952).browserDetails,r={shimOnTrack:function(){"object"!=typeof window||!window.RTCPeerConnection||"ontrack"in window.RTCPeerConnection.prototype||Object.defineProperty(window.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly)),this.addEventListener("track",this._ontrack=e),this.addEventListener("addstream",this._ontrackpoly=function(e){e.stream.getTracks().forEach(function(t){var n=new Event("track");n.track=t,n.receiver={track:t},n.streams=[e.stream],this.dispatchEvent(n)}.bind(this))}.bind(this))}})},shimSourceObject:function(){"object"==typeof window&&(!window.HTMLMediaElement||"srcObject"in window.HTMLMediaElement.prototype||Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.mozSrcObject},set:function(e){this.mozSrcObject=e}}))},shimPeerConnection:function(){if("object"==typeof window&&(window.RTCPeerConnection||window.mozRTCPeerConnection)){window.RTCPeerConnection||(window.RTCPeerConnection=function(e,t){if(o.version<38&&e&&e.iceServers){for(var n=[],r=0;r<e.iceServers.length;r++){var s=e.iceServers[r];if(s.hasOwnProperty("urls"))for(var i=0;i<s.urls.length;i++){var a={url:s.urls[i]};0===s.urls[i].indexOf("turn")&&(a.username=s.username,a.credential=s.credential),n.push(a)}else n.push(e.iceServers[r])}e.iceServers=n}return new mozRTCPeerConnection(e,t)},window.RTCPeerConnection.prototype=mozRTCPeerConnection.prototype,mozRTCPeerConnection.generateCertificate&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return mozRTCPeerConnection.generateCertificate}}),window.RTCSessionDescription=mozRTCSessionDescription,window.RTCIceCandidate=mozRTCIceCandidate),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(e){var t=RTCPeerConnection.prototype[e];RTCPeerConnection.prototype[e]=function(){return arguments[0]=new("addIceCandidate"===e?RTCIceCandidate:RTCSessionDescription)(arguments[0]),t.apply(this,arguments)}});var e=RTCPeerConnection.prototype.addIceCandidate;RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?e.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())};var t=function(e){var t=new Map;return Object.keys(e).forEach(function(n){t.set(n,e[n]),t[n]=e[n]}),t},n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=RTCPeerConnection.prototype.getStats;RTCPeerConnection.prototype.getStats=function(e,s,i){return r.apply(this,[e||null]).then(function(e){if(o.version<48&&(e=t(e)),o.version<53&&!s)try{e.forEach(function(e){e.type=n[e.type]||e.type})}catch(t){if("TypeError"!==t.name)throw t;e.forEach(function(t,o){e.set(o,Object.assign({},t,{type:n[t.type]||t.type}))})}return e}).then(s,i)}}}};e.exports={shimOnTrack:r.shimOnTrack,shimSourceObject:r.shimSourceObject,shimPeerConnection:r.shimPeerConnection,shimGetUserMedia:n(1878)}},function(e,t,n){"use strict";var o=n(952).log,r=n(952).browserDetails;e.exports=function(){var e=function(e){return{name:{SecurityError:"NotAllowedError",PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:{"The operation is insecure.":"The request is not allowed by the user agent or the platform in the current context."}[e.message]||e.message,constraint:e.constraint,toString:function(){return this.name+(this.message&&": ")+this.message}}},t=function(t,n,s){var i=function(e){if("object"!=typeof e||e.require)return e;var t=[];return Object.keys(e).forEach(function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var o=e[n]="object"==typeof e[n]?e[n]:{ideal:e[n]};if(void 0===o.min&&void 0===o.max&&void 0===o.exact||t.push(n),void 0!==o.exact&&("number"==typeof o.exact?o.min=o.max=o.exact:e[n]=o.exact,delete o.exact),void 0!==o.ideal){e.advanced=e.advanced||[];var r={};"number"==typeof o.ideal?r[n]={min:o.ideal,max:o.ideal}:r[n]=o.ideal,e.advanced.push(r),delete o.ideal,Object.keys(o).length||delete e[n]}}}),t.length&&(e.require=t),e};return t=JSON.parse(JSON.stringify(t)),r.version<38&&(o("spec: "+JSON.stringify(t)),t.audio&&(t.audio=i(t.audio)),t.video&&(t.video=i(t.video)),o("ff37: "+JSON.stringify(t))),navigator.mozGetUserMedia(t,n,function(t){s(e(t))})},n=function(e){return new Promise(function(n,o){t(e,n,o)})};if(navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:n,addEventListener:function(){},removeEventListener:function(){}}),navigator.mediaDevices.enumerateDevices=navigator.mediaDevices.enumerateDevices||function(){return new Promise(function(e){e([{kind:"audioinput",deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",label:"",groupId:""}])})},r.version<41){var s=navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);navigator.mediaDevices.enumerateDevices=function(){return s().then(void 0,function(e){if("NotFoundError"===e.name)return[];throw e})}}if(r.version<49){var i=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(t){return i(t).then(function(e){if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach(function(e){e.stop()}),new DOMException("The object can not be found here.","NotFoundError");return e},function(t){return Promise.reject(e(t))})}}navigator.getUserMedia=function(e,n,o){if(r.version<44)return t(e,n,o);console.warn("navigator.getUserMedia has been replaced by navigator.mediaDevices.getUserMedia"),navigator.mediaDevices.getUserMedia(e).then(n,o)}}},function(e,t,n){"use strict";var o={shimGetUserMedia:function(){navigator.getUserMedia||(navigator.webkitGetUserMedia?navigator.getUserMedia=navigator.webkitGetUserMedia.bind(navigator):navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&(navigator.getUserMedia=function(e,t,n){navigator.mediaDevices.getUserMedia(e).then(t,n)}.bind(navigator)))}};e.exports={shimGetUserMedia:o.shimGetUserMedia}}]));
//# sourceMappingURL=chat.c4f8f.js.map